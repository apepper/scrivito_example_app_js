/*! For license information please see scrivito_ui.js.LICENSE.txt */
!function(){var e={12292:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},86537:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},81219:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},62787:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},41253:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},20208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(83384);r.__exportStar(n(12292),t),r.__exportStar(n(86537),t),r.__exportStar(n(81219),t),r.__exportStar(n(62787),t),r.__exportStar(n(41253),t)},83384:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return c},__metadata:function(){return l},__awaiter:function(){return u},__generator:function(){return d},__createBinding:function(){return f},__exportStar:function(){return p},__values:function(){return h},__read:function(){return m},__spread:function(){return v},__spreadArrays:function(){return g},__await:function(){return _},__asyncGenerator:function(){return b},__asyncDelegator:function(){return y},__asyncValues:function(){return w},__makeTemplateObject:function(){return k},__importStar:function(){return E},__importDefault:function(){return C},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return x}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function x(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},47903:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},17523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(27579),i=n(25362),o=n(29164),a=n(55665),s=n(20208),c=n(5390),l=function(){function e(e){(0,a.supportsWebCrypto)((0,c.locateWindow)())?this.hash=new i.Sha256(e):(0,s.isMsWindow)((0,c.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=l},27579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(58960),i=n(47903),o=n(36905),a=n(5390),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",c(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(c(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function c(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},76066:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(94166).__exportStar)(n(17523),t);var r=n(27579);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(25362);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},58960:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},25362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(14747),i=n(47903),o=n(5390),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},94166:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return c},__metadata:function(){return l},__awaiter:function(){return u},__generator:function(){return d},__createBinding:function(){return f},__exportStar:function(){return p},__values:function(){return h},__read:function(){return m},__spread:function(){return v},__spreadArrays:function(){return g},__await:function(){return _},__asyncGenerator:function(){return b},__asyncDelegator:function(){return y},__asyncValues:function(){return w},__makeTemplateObject:function(){return k},__importStar:function(){return E},__importDefault:function(){return C},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return x}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function x(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},34663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(54594),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=0;d<r.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,h=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(p+this.temp[d-7]|0)+(h+this.temp[d-16]|0)}var m=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&l)|0)+(u+(r.KEY[d]+this.temp[d]|0)|0)|0,v=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;u=l,l=c,c=s,s=a+m|0,a=o,o=i,i=n,n=m+v|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=c,t[6]+=l,t[7]+=u},e}();t.RawSha256=i},54594:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},29164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(73570).__exportStar)(n(19935),t)},19935:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(73570),i=n(54594),o=n(34663),a=n(14747),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},73570:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return c},__metadata:function(){return l},__awaiter:function(){return u},__generator:function(){return d},__createBinding:function(){return f},__exportStar:function(){return p},__values:function(){return h},__read:function(){return m},__spread:function(){return v},__spreadArrays:function(){return g},__await:function(){return _},__asyncGenerator:function(){return b},__asyncDelegator:function(){return y},__asyncValues:function(){return w},__makeTemplateObject:function(){return k},__importStar:function(){return E},__importDefault:function(){return C},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return x}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function x(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},55665:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(55790).__exportStar(n(96483),t)},96483:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(55790),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},55790:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return c},__metadata:function(){return l},__awaiter:function(){return u},__generator:function(){return d},__createBinding:function(){return f},__exportStar:function(){return p},__values:function(){return h},__read:function(){return m},__spread:function(){return v},__spreadArrays:function(){return g},__await:function(){return _},__asyncGenerator:function(){return b},__asyncDelegator:function(){return y},__asyncValues:function(){return w},__makeTemplateObject:function(){return k},__importStar:function(){return E},__importDefault:function(){return C},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return x}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function x(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},45955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(36905),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},14747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(45955);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(83958);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(5346);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}})},83958:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5346:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},5390:function(e,t,n){"use strict";n.r(t),n.d(t,{locateWindow:function(){return i}});var r={};function i(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}},36905:function(e,t,n){"use strict";n.r(t),n.d(t,{fromUtf8:function(){return r},toUtf8:function(){return i}});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},3262:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};var t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},n="<unknown>";function r(e){return e.split("\n").reduce((function(e,t){var r=function(e){var t=i.exec(e);if(!t)return null;var r=t[2]&&0===t[2].indexOf("native"),a=t[2]&&0===t[2].indexOf("eval"),s=o.exec(t[2]);return a&&null!=s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3]),{file:r?null:t[2],methodName:t[1]||n,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}(t)||function(e){var t=a.exec(e);return t?{file:t[2],methodName:t[1]||n,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}(t)||function(e){var t=s.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,i=c.exec(t[3]);return r&&null!=i&&(t[3]=i[1],t[4]=i[2],t[5]=null),{file:t[3],methodName:t[1]||n,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}(t)||function(e){var t=u.exec(e);return t?{file:t[2],methodName:t[1]||n,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}(t)||function(e){var t=l.exec(e);return t?{file:t[3],methodName:t[1]||n,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}(t);return r&&e.push(r),e}),[])}var i=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/\((\S*)(?::(\d+))(?::(\d+))\)/;var a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;var s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;var l=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;var u=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function d(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function f(e,t){var n=d(e,t);return e.context&&t.context&&(n.context=d(e.context,t.context)),n}function p(e,t,n){void 0===n&&(n=void 0);for(var r=0,i=t.length;r<i;r++)t[r](n,e);return!0}function h(e){if("object"!=typeof e||null===e)return{};var t={};for(var n in e)t[n]=e[n];return t}function m(e,t){void 0===t&&(t=8);var n=[];return function e(r,i){if(void 0===i&&(i=0),i>=t)return"[DEPTH]";if(!function(e){return!/function|symbol/.test(typeof e)&&null!==e&&("object"!=typeof e||void 0!==e.hasOwnProperty)}(r))return Object.prototype.toString.call(r);if(function(e){if(!e||"object"!=typeof e)return!1;for(var t=0;t<n.length;t++)if(n[t]===e)return!0;return n.push(e),!1}(r))return"[RECURSION]";if(Array.isArray(r))return r.map((function(t){return e(t,i+1)}));if("object"==typeof r){var o={};for(var a in r){var s=r[a];Object.prototype.hasOwnProperty.call(r,a)&&null!=a&&null!=s&&(o[a]=e(s,i+1))}return o}return r}(e)}function v(e){var t;if(e)if("[object Error]"===Object.prototype.toString.call(e)){var n=e;t=d(e,{name:n.name,message:n.message,stack:n.stack})}else t="object"==typeof e?h(e):{message:String(e)};else t={};return t}function g(e,t,n){if(e&&t&&n&&t in e){for(var r=e[t];r&&r.__hb_original;)r=r.__hb_original;try{e[t]=n(r),e[t].__hb_original=r}catch(e){}}}function _(e,t){if(y("Object",e)){y("Array",t)||(t=[]);var n=[];return function e(r){var i,o;if(y("Object",r)||y("Array",r)){if(-1!==n.indexOf(r))return"[CIRCULAR DATA STRUCTURE]";n.push(r)}if(y("Object",r)){for(i in o={},r)b(i,t)?o[i]="[FILTERED]":o[i]=e(r[i]);return o}return y("Array",r)?r.map((function(t){return e(t)})):y("Function",r)?"[FUNC]":r}(e)}}function b(e,t){for(var n=0;n<t.length;n++)if(-1!==e.toLowerCase().indexOf(t[n].toLowerCase()))return!0;return!1}function y(e,t){var n=Object.prototype.toString.call(t).slice(8,-1);return null!=t&&n===e}function w(e,t){if(!t)return e;if("string"!=typeof e)return e;var n=e.split(/\?/,2)[1];if(!n)return e;var r=e;return n.split(/[&]\s?/).forEach((function(e){var n=e.split("=",2),i=n[0],o=n[1];b(i,t)&&(r=r.replace(i+"="+o,i+"=[FILTERED]"))})),r}var k={name:"honeybadger-js",url:"https://github.com/honeybadger-io/honeybadger-js",version:"3.2.4"},E=/,/,C=/[^\w]/g,S=/\S/,x=function(){function e(e){var n,r;void 0===e&&(e={}),this.__pluginsExecuted=!1,this.__context={},this.__breadcrumbs=[],this.__beforeNotifyHandlers=[],this.__afterNotifyHandlers=[],this.config=t({apiKey:null,endpoint:"https://api.honeybadger.io",environment:null,hostname:null,projectRoot:null,component:null,action:null,revision:null,reportData:null,breadcrumbsEnabled:!0,maxBreadcrumbs:40,maxObjectDepth:8,logger:console,developmentEnvironments:["dev","development","test"],disabled:!1,debug:!1,tags:null,enableUncaught:!0,enableUnhandledRejection:!0,afterUncaught:function(){return!0},filters:["creditcard","password"],__plugins:[]},e),this.logger=(n=this,r=function(e){return function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];("debug"!==e||n.config.debug)&&(r.unshift("[Honeybadger]"),(t=n.config.logger)[e].apply(t,r))}},{log:r("log"),info:r("info"),debug:r("debug"),warn:r("warn"),error:r("error")})}return e.prototype.factory=function(e){throw new Error("Must implement __factory in subclass")},e.prototype.getVersion=function(){return k.version},e.prototype.configure=function(e){var t=this;for(var n in void 0===e&&(e={}),e)this.config[n]=e[n];return this.__pluginsExecuted||(this.__pluginsExecuted=!0,this.config.__plugins.forEach((function(e){return e.load(t)}))),this},e.prototype.beforeNotify=function(e){return this.__beforeNotifyHandlers.push(e),this},e.prototype.afterNotify=function(e){return this.__afterNotifyHandlers.push(e),this},e.prototype.setContext=function(e){return"object"==typeof e&&(this.__context=d(this.__context,e)),this},e.prototype.resetContext=function(e){return this.logger.warn("Deprecation warning: `Honeybadger.resetContext()` has been deprecated; please use `Honeybadger.clear()` instead."),this.__context="object"==typeof e&&null!==e?d({},e):{},this},e.prototype.clear=function(){return this.__context={},this.__breadcrumbs=[],this},e.prototype.notify=function(e,t,n){if(void 0===t&&(t=void 0),void 0===n&&(n=void 0),!this.config.apiKey)return this.logger.warn("Unable to send error report: no API key has been configured"),!1;if(this.config.disabled)return this.logger.warn("Deprecation warning: instead of `disabled: true`, use `reportData: false` to explicitly disable Honeybadger reporting. (Dropping notice: honeybadger.js is disabled)"),!1;if(!this.__reportData())return this.logger.debug("Dropping notice: honeybadger.js is in development mode"),!1;if(e=v(e),t&&"object"!=typeof t&&(t={name:String(t)}),t&&(e=f(e,t)),"object"==typeof n&&null!==n&&(e=f(e,n)),function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(e))return!1;var i=this.__constructTags(e.tags),o=this.__constructTags(this.__context.tags),a=this.__constructTags(this.config.tags),s=i.concat(o).concat(a),c=s.filter((function(e,t){return s.indexOf(e)===t})),l=0;return"string"==typeof(e=d(e,{name:e.name||"Error",context:d(this.__context,e.context),projectRoot:e.projectRoot||this.config.projectRoot,environment:e.environment||this.config.environment,component:e.component||this.config.component,action:e.action||this.config.action,revision:e.revision||this.config.revision,tags:c})).stack&&e.stack.trim()||(e.stack=function(){try{throw new Error("")}catch(e){if(e.stack)return e.stack}for(var e=10,t=[],n=arguments.callee;n&&t.length<e;){/function(?:\s+([\w$]+))+\s*\(/.test(n.toString())?t.push(RegExp.$1||"<anonymous>"):t.push("<anonymous>");try{n=n.caller}catch(e){break}}return t.join("\n")}(),l=2),e.backtrace=function(e,t){void 0===t&&(t=0);try{var n=r(e).map((function(e){return{file:e.file,method:e.methodName,number:e.lineNumber,column:e.column}}));return n.splice(0,t),n}catch(e){return[]}}(e.stack,l),!!function(e,t){for(var n=0,r=t.length;n<r;n++)if(!1===(0,t[n])(e))return!1;return!0}(e,this.__beforeNotifyHandlers)&&(this.addBreadcrumb("Honeybadger Notice",{category:"notice",metadata:{message:e.message,name:e.name,stack:e.stack}}),e.__breadcrumbs=this.config.breadcrumbsEnabled?this.__breadcrumbs.slice():[],this.__send(e))},e.prototype.addBreadcrumb=function(e,t){if(this.config.breadcrumbsEnabled){var n=h((t=t||{}).metadata),r=t.category||"custom",i=(new Date).toISOString();this.__breadcrumbs.push({category:r,message:e,metadata:n,timestamp:i});var o=this.config.maxBreadcrumbs;return this.__breadcrumbs.length>o&&(this.__breadcrumbs=this.__breadcrumbs.slice(this.__breadcrumbs.length-o)),this}},e.prototype.__reportData=function(){return null!==this.config.reportData?this.config.reportData:!(this.config.environment&&this.config.developmentEnvironments.includes(this.config.environment))},e.prototype.__send=function(e){throw new Error("Must implement send in subclass")},e.prototype.__buildPayload=function(e){var n=_(e.headers,this.config.filters)||{},r=_(t(t({},e.cgiData),function(e,t){void 0===t&&(t="");var n={};return Object.keys(e).forEach((function(r){var i=t+r.replace(/\W/g,"_").toUpperCase();n[i]=e[r]})),n}(n,"HTTP_")),this.config.filters);return{notifier:k,breadcrumbs:{enabled:!!this.config.breadcrumbsEnabled,trail:e.__breadcrumbs||[]},error:{class:e.name,message:e.message,backtrace:e.backtrace,fingerprint:e.fingerprint,tags:e.tags},request:{url:w(e.url,this.config.filters),component:e.component,action:e.action,context:e.context,cgi_data:r,params:_(e.params,this.config.filters)||{},session:_(e.session,this.config.filters)||{}},server:{project_root:e.projectRoot,environment_name:e.environment,revision:e.revision,hostname:this.config.hostname,time:(new Date).toUTCString()},details:e.details||{}}},e.prototype.__constructTags=function(e){return e?e.toString().split(E).map((function(e){return e.replace(C,"")})).filter((function(e){return S.test(e)})):[]},e}();function O(e){if(!e||!e.tagName)return"";var t=e.tagName.toLowerCase();if("html"===t)return"";e.id&&(t+="#"+e.id);var n=e.getAttribute("class");n&&n.split(/\s+/).forEach((function(e){t+="."+e})),["alt","name","title","type"].forEach((function(n){var r=e.getAttribute(n);r&&(t+="["+n+'="'+r+'"]')}));var r=function(e){try{var t=e.parentNode.childNodes,n=[];return Array.prototype.forEach.call(t,(function(t){t.tagName&&t.tagName===e.tagName&&n.push(t)})),n}catch(e){return[]}}(e);return r.length>1&&(t+=":nth-child("+(Array.prototype.indexOf.call(r,e)+1)+")"),t}function T(e){var t=O(e);if(e.parentNode&&e.parentNode.tagName){var n=T(e.parentNode);if(n.length>0)return n+" > "+t}return t}function j(e){return-1!==e.toString().indexOf("native")}function D(e){var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/)||{};return{protocol:t[2],host:t[4],pathname:t[5]}}function N(e){var t=D(e),n=D(document.URL);return t.host&&t.protocol?t.protocol===n.protocol&&t.host===n.host?t.pathname:t.protocol+"://"+t.host+t.pathname:t.pathname}var P,A=function(){var e=!0;if(window.atob||(e=!1),window.ErrorEvent)try{0===new window.ErrorEvent("").colno&&(e=!1)}catch(e){}return e}(),I=0;function M(){I+=1,clearTimeout(P),P=setTimeout((function(){I=0}))}var L,R=function(n){function r(e){void 0===e&&(e={});var r=n.call(this,t({async:!0,maxErrors:null,projectRoot:window.location.protocol+"//"+window.location.host},e))||this;return r.__errorsSent=0,r.__lastWrapErr=void 0,r.__beforeNotifyHandlers=[function(e){return r.__exceedsMaxErrors()?(r.logger.debug("Dropping notice: max errors exceeded",e),!1):(e.url||(e.url=document.URL),!0)}],r}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(r,n),r.prototype.configure=function(e){return void 0===e&&(e={}),n.prototype.configure.call(this,e)},r.prototype.resetMaxErrors=function(){return this.__errorsSent=0},r.prototype.factory=function(e){return new r(e)},r.prototype.__buildPayload=function(e){var t,r,i,o={HTTP_USER_AGENT:void 0,HTTP_REFERER:void 0,HTTP_COOKIE:void 0};o.HTTP_USER_AGENT=navigator.userAgent,document.referrer.match(/\S/)&&(o.HTTP_REFERER=document.referrer),(t="string"==typeof e.cookies?(r=e.cookies,i={},r.split(/[;,]\s?/).forEach((function(e){var t=e.split("=",2),n=t[0],r=t[1];i[n]=r})),i):e.cookies)&&(o.HTTP_COOKIE=function(e){if("object"==typeof e){var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join(";")}}(_(t,this.config.filters)));var a=n.prototype.__buildPayload.call(this,e);return a.request.cgi_data=d(o,a.request.cgi_data),a},r.prototype.__send=function(e){var t=this;this.__incrementErrorsCount();var n,r,i=this.__buildPayload(e),o=Array.prototype.slice.call(this.__afterNotifyHandlers);e.afterNotify&&o.unshift(e.afterNotify);try{var a=new XMLHttpRequest;a.open("POST",(n=this.config,r="/v1/notices/js",n.endpoint.trim().replace(/\/$/,"")+"/"+r.trim().replace(/(^\/|\/$)/g,"")),this.config.async),a.setRequestHeader("X-API-Key",this.config.apiKey),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Accept","text/json, application/json"),a.send(JSON.stringify(m(i,this.config.maxObjectDepth))),a.onload=function(){if(201!==a.status)return p(e,o,new Error("Bad HTTP response: "+a.status)),void t.logger.debug("Unable to send error report: "+a.status+": "+a.statusText,a,e);p(d(e,{id:JSON.parse(a.response).id}),o),t.logger.debug("Error report sent",e)}}catch(t){p(e,o,t),this.logger.error("Unable to send error report: error while initializing request",t,e)}return!0},r.prototype.__wrap=function(e,t){void 0===t&&(t={});var n,r=e;t||(t={});try{if("function"!=typeof r)return r;if(n=r,"function"==typeof Object.isExtensible&&!Object.isExtensible(n))return r;if(!r.___hb){var i=this;r.___hb=function(){var e=i.config.enableUncaught;if(!t.catch&&!A&&e)return r.apply(this,arguments);try{return r.apply(this,arguments)}catch(e){if(i.__lastWrapErr===e)throw e;throw i.__lastWrapErr=e,M(),i.addBreadcrumb(t.component?t.component+": "+e.name:e.name,{category:"error",metadata:{message:e.message,name:e.name,stack:e.stack}}),i.notify(e),e}}}return r.___hb.___hb=r.___hb,r.___hb}catch(e){return r}},r.prototype.__incrementErrorsCount=function(){return this.__errorsSent++},r.prototype.__exceedsMaxErrors=function(){return this.config.maxErrors&&this.__errorsSent>=this.config.maxErrors},r}(x);return new R({__plugins:[(void 0===L&&(L=window),{load:function(e){g(L,"onerror",(function(t){var n=function(t,n,r,i,o){if(e.logger.debug("window.onerror callback invoked",arguments),I>0)return e.logger.debug("Ignoring window.onerror (error likely reported earlier)",arguments),void(I-=1);if(e.config.enableUncaught)if(0===r&&/Script error\.?/.test(t))e.logger.info("Ignoring cross-domain script error: enable CORS to track these types of errors",arguments);else{var a=v(o);a.name||(a.name="window.onerror"),a.message||(a.message=t),a.stack||(a.stack=[a.message,"\n    at ? (",n||"unknown",":",r||0,":",i||0,")"].join("")),e.addBreadcrumb("window.onerror"!==a.name&&a.name?"window.onerror: "+a.name:"window.onerror",{category:"error",metadata:{name:a.name,message:a.message,stack:a.stack}}),e.notify(a)}};return function(e,r,i,o,a){return n(e,r,i,o,a),"function"==typeof t&&t.apply(window,arguments)}}))}}),function(e){return void 0===e&&(e=window),{load:function(t){t.config.enableUnhandledRejection&&g(e,"onunhandledrejection",(function(e){function n(e){var n;if(t.logger.debug("window.onunhandledrejection callback invoked",arguments),t.config.enableUnhandledRejection){var r=e.reason;if(r instanceof Error){var i="unknown",o=0,a=r.message+"\n    at ? ("+i+":"+o+")",s=r.stack||a,c={name:r.name,message:"UnhandledPromiseRejectionWarning: "+r,stack:s};return t.addBreadcrumb("window.onunhandledrejection: "+c.name,{category:"error",metadata:c}),void t.notify(c)}var l="string"==typeof r?r:null!==(n=JSON.stringify(r))&&void 0!==n?n:"Unspecified reason";t.notify({name:"window.onunhandledrejection",message:"UnhandledPromiseRejectionWarning: "+l})}}return function(t){n(t),"function"==typeof e&&e.apply(this,arguments)}}))}}}(),function(e){return void 0===e&&(e=window),{load:function(t){!function(){function n(e){return function(n){return function(r,i){if("function"==typeof r){var o=Array.prototype.slice.call(arguments,2);return r=t.__wrap(r,e),n((function(){r.apply(void 0,o)}),i)}return n(r,i)}}}g(e,"setTimeout",n({component:"setTimeout"})),g(e,"setInterval",n({component:"setInterval"}))}()}}}(),function(e){return void 0===e&&(e=window),{load:function(t){["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach((function(n){var r=e[n]&&e[n].prototype;r&&Object.prototype.hasOwnProperty.call(r,"addEventListener")&&(g(r,"addEventListener",(function(e){var r={component:n+".prototype.addEventListener"};return function(n,i,o,a){try{i&&null!=i.handleEvent&&(i.handleEvent=t.__wrap(i.handleEvent,r))}catch(e){t.logger.error(e)}return e.call(this,n,t.__wrap(i,r),o,a)}})),g(r,"removeEventListener",(function(e){return function(n,r,i,o){return e.call(this,n,r,i,o),e.call(this,n,t.__wrap(r),i,o)}})))}))}}}(),function(e){return void 0===e&&(e=window),{load:function(t){function n(e){return!0===t.config.breadcrumbsEnabled||(e?!0===t.config.breadcrumbsEnabled[e]:!1!==t.config.breadcrumbsEnabled)}!function(){function r(e){return Array.isArray(e)?e.map((function(e){try{return String(e)}catch(e){return"[unknown]"}})).join(" "):""}n("console")&&["debug","info","warn","error","log"].forEach((function(n){g(e.console,n,(function(i){return function(){var o=Array.prototype.slice.call(arguments),a=r(o),s={category:"log",metadata:{level:n,arguments:m(o,3)}};t.addBreadcrumb(a,s),"function"==typeof i&&Function.prototype.apply.call(i,e.console,arguments)}}))}))}(),n("dom")&&e.addEventListener("click",(function(e){var n,r,i;try{n=O(e.target),r=T(e.target),i=function(e){var t,n,r=e.textContent||e.innerText||"";return r||"submit"!==e.type&&"button"!==e.type||(r=e.value),t=r.trim(),n=300,t.length>n&&(t=t.substr(0,n)+"..."),t}(e.target)}catch(e){n="UI Click",r="[unknown]",i="[unknown]"}0!==n.length&&t.addBreadcrumb(n,{category:"ui.click",metadata:{selector:r,text:i,event:e}})}),!0),n("network")&&(g(XMLHttpRequest.prototype,"open",(function(e){return function(){var t=this,n=arguments[1],r="string"==typeof arguments[0]?arguments[0].toUpperCase():arguments[0],i=r+" "+N(n);this.__hb_xhr={type:"xhr",method:r,url:n,message:i},"function"==typeof e&&e.apply(t,arguments)}})),g(XMLHttpRequest.prototype,"send",(function(e){return function(){var n=this;function r(){if(4===n.readyState){var e=void 0;n.__hb_xhr&&(n.__hb_xhr.status_code=n.status,e=n.__hb_xhr.message,delete n.__hb_xhr.message),t.addBreadcrumb(e||"XMLHttpRequest",{category:"request",metadata:n.__hb_xhr})}}"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?g(n,"onreadystatechange",(function(e){return function(){r(),"function"==typeof e&&e.apply(this,arguments)}})):n.onreadystatechange=r,"function"==typeof e&&e.apply(n,arguments)}}))),n("network")&&function(){if(!window.fetch)return!1;if(j(window.fetch))return!0;try{var e=document.createElement("iframe");e.style.display="none",document.head.appendChild(e);var t=e.contentWindow.fetch&&j(e.contentWindow.fetch);return document.head.removeChild(e),t}catch(e){console&&console.warn&&console.warn("failed to detect native fetch via iframe: "+e)}return!1}()&&g(e,"fetch",(function(n){return function(){var r,i=arguments[0],o="GET";"string"==typeof i?r=i:"Request"in e&&i instanceof Request?(r=i.url,i.method&&(o=i.method)):r=String(i),arguments[1]&&arguments[1].method&&(o=arguments[1].method),"string"==typeof o&&(o=o.toUpperCase());var a=o+" "+N(r),s={type:"fetch",method:o,url:r};return n.apply(this,arguments).then((function(e){return s.status_code=e.status,t.addBreadcrumb(a,{category:"request",metadata:s}),e})).catch((function(e){throw t.addBreadcrumb("fetch error",{category:"error",metadata:s}),e}))}})),function(){if(n("navigation")){var r=e.location.href;g(e,"onpopstate",(function(t){return function(){if(i(r,e.location.href),t)return t.apply(this,arguments)}})),g(e.history,"pushState",o),g(e.history,"replaceState",o)}function i(e,n){r=n,t.addBreadcrumb("Page changed",{category:"navigation",metadata:{from:e,to:n}})}function o(e){return function(){var t=arguments.length>2?arguments[2]:void 0;return t&&i(r,String(t)),e.apply(this,arguments)}}}()}}}()]})}()},21498:function(e){var t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,n){return"number"!=typeof n||t[e]?n:n+"px"}},70943:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},60042:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},21626:function(e,t,n){"use strict";var r=n(62525),i={};function o(e,t,n,r,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}var a="mixins";e.exports=function(e,t,n){var s=[],c={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},l={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},u={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)f(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(o(!(n in u),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return o("DEFINE_MANY_MERGED"===(l.hasOwnProperty(n)?l[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=h(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function d(e,t){var n=c.hasOwnProperty(t)?c[t]:null;b.hasOwnProperty(t)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function f(e,n){if(n){o("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(a)&&u.mixins(e,n.mixins),n)if(n.hasOwnProperty(s)&&s!==a){var l=n[s],f=r.hasOwnProperty(s);if(d(f,s),u.hasOwnProperty(s))u[s](e,l);else{var p=c.hasOwnProperty(s);if("function"!=typeof l||p||f||!1===n.autobind)if(f){var v=c[s];o(p&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,s),"DEFINE_MANY_MERGED"===v?r[s]=h(r[s],l):"DEFINE_MANY"===v&&(r[s]=m(r[s],l))}else r[s]=l;else i.push(s,l),r[s]=l}}}}function p(e,t){for(var n in o(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(o(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return p(i,n),p(i,r),i}}function m(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function v(e,t){return t.bind(e)}var g={componentDidMount:function(){this.__isMounted=!0}},_={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},y=function(){};return r(y.prototype,e.prototype,b),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=v(e,i)}}(this),this.props=e,this.context=r,this.refs=i,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new y,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(f.bind(null,t)),f(t,g),f(t,e),f(t,_),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),o(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),c)t.prototype[r]||(t.prototype[r]=null);return t}}},52898:function(e,t,n){"use strict";var r=n(27378),i=n(21626);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},29677:function(e){var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}},e.exports=n},43248:function(e,t,n){"use strict";var r=n(93476),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"html {\n  height: 100%;\n}\n\nbody {\n  height: 100%;\n  color: #555;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n}\n\n* {\n  line-height: 128.6%;\n}\n\na[href] {\n  color: #426698; /* $scrivito_blue */\n}\n",""]),t.Z=i},93476:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},49290:function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}n.d(t,{Z:function(){return r}})},18778:function(e,t){"use strict";function n(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function r(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}var i={p:r,P:function(e,t){var i,o=e.match(/(P+)(p+)?/),a=o[1],s=o[2];if(!s)return n(e,t);switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",n(a,t)).replace("{{time}}",r(s,t))}};t.Z=i},76415:function(e,t,n){"use strict";function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,{Z:function(){return r}})},80817:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(32825),i=n(65807),o=n(42204),a=n(85902);function s(e){(0,a.Z)(1,arguments);var t=(0,o.Z)(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=(0,i.Z)(n);return r}var c=6048e5;function l(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=(0,i.Z)(t).getTime()-s(t).getTime();return Math.round(n/c)+1}},42204:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(32825),i=n(65807),o=n(85902);function a(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var s=(0,i.Z)(a),c=new Date(0);c.setUTCFullYear(n,0,4),c.setUTCHours(0,0,0,0);var l=(0,i.Z)(c);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}},29189:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(32825),i=n(24803),o=n(99907),a=n(51630),s=n(85902);function c(e,t){(0,s.Z)(1,arguments);var n=t||{},r=n.locale,c=r&&r.options&&r.options.firstWeekContainsDate,l=null==c?1:(0,o.Z)(c),u=null==n.firstWeekContainsDate?l:(0,o.Z)(n.firstWeekContainsDate),d=(0,a.Z)(e,t),f=new Date(0);f.setUTCFullYear(d,0,u),f.setUTCHours(0,0,0,0);var p=(0,i.Z)(f,t);return p}var l=6048e5;function u(e,t){(0,s.Z)(1,arguments);var n=(0,r.default)(e),o=(0,i.Z)(n,t).getTime()-c(n,t).getTime();return Math.round(o/l)+1}},51630:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(99907),i=n(32825),o=n(24803),a=n(85902);function s(e,t){(0,a.Z)(1,arguments);var n=(0,i.default)(e,t),s=n.getUTCFullYear(),c=t||{},l=c.locale,u=l&&l.options&&l.options.firstWeekContainsDate,d=null==u?1:(0,r.Z)(u),f=null==c.firstWeekContainsDate?d:(0,r.Z)(c.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(s+1,0,f),p.setUTCHours(0,0,0,0);var h=(0,o.Z)(p,t),m=new Date(0);m.setUTCFullYear(s,0,f),m.setUTCHours(0,0,0,0);var v=(0,o.Z)(m,t);return n.getTime()>=h.getTime()?s+1:n.getTime()>=v.getTime()?s:s-1}},80840:function(e,t,n){"use strict";n.d(t,{Iu:function(){return o},Do:function(){return a},qp:function(){return s}});var r=["D","DD"],i=["YY","YYYY"];function o(e){return-1!==r.indexOf(e)}function a(e){return-1!==i.indexOf(e)}function s(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}},85902:function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return r}})},65807:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=1,n=(0,r.default)(e),o=n.getUTCDay(),a=(o<t?7:0)+o-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}},24803:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(99907),i=n(32825),o=n(85902);function a(e,t){(0,o.Z)(1,arguments);var n=t||{},a=n.locale,s=a&&a.options&&a.options.weekStartsOn,c=null==s?0:(0,r.Z)(s),l=null==n.weekStartsOn?c:(0,r.Z)(n.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,i.default)(e),d=u.getUTCDay(),f=(d<l?7:0)+d-l;return u.setUTCDate(u.getUTCDate()-f),u.setUTCHours(0,0,0,0),u}},99907:function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:function(){return r}})},64083:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(32825),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,i.default)(e),a=(0,r.Z)(t);return isNaN(a)?new Date(NaN):a?(n.setDate(n.getDate()+a),n):n}},4036:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(99907),i=n(68578),o=n(85902),a=36e5;function s(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,i.Z)(e,n*a)}},68578:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(99907),i=n(32825),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,i.default)(e).getTime(),a=(0,r.Z)(t);return new Date(n+a)}},42601:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(68578),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,i.Z)(e,6e4*n)}},87926:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(32825),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,i.default)(e),a=(0,r.Z)(t);if(isNaN(a))return new Date(NaN);if(!a)return n;var s=n.getDate(),c=new Date(n.getTime());c.setMonth(n.getMonth()+a+1,0);var l=c.getDate();return s>=l?c:(n.setFullYear(c.getFullYear(),c.getMonth(),s),n)}},25193:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(64083),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t),a=7*n;return(0,i.default)(e,a)}},29362:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(87926),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,i.default)(e,12*n)}},36731:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(76415),i=n(23544),o=n(85902),a=864e5;function s(e,t){(0,o.Z)(2,arguments);var n=(0,i.default)(e),s=(0,i.default)(t),c=n.getTime()-(0,r.Z)(n),l=s.getTime()-(0,r.Z)(s);return Math.round((c-l)/a)}},7095:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t),a=n.getFullYear()-o.getFullYear(),s=n.getMonth()-o.getMonth();return 12*a+s}},40917:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(54571),i=n(76415),o=n(85902),a=6048e5;function s(e,t,n){(0,o.Z)(2,arguments);var s=(0,r.default)(e,n),c=(0,r.default)(t,n),l=s.getTime()-(0,i.Z)(s),u=c.getTime()-(0,i.Z)(c);return Math.round((l-u)/a)}},90956:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getFullYear()-o.getFullYear()}},25480:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e);return t.setHours(23,59,59,999),t}},18309:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},35754:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(32825),i=n(99907),o=n(85902);function a(e,t){(0,o.Z)(1,arguments);var n=t||{},a=n.locale,s=a&&a.options&&a.options.weekStartsOn,c=null==s?0:(0,i.Z)(s),l=null==n.weekStartsOn?c:(0,i.Z)(n.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,r.default)(e),d=u.getDay(),f=6+(d<l?-7:0)-(d-l);return u.setDate(u.getDate()+f),u.setHours(23,59,59,999),u}},43793:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var r=n(44720),i=n(91907),o=n(72034),a=n(32825);function s(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var c=function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return s("yy"===t?r%100:r,t.length)},l=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):s(n+1,2)},u=function(e,t){return s(e.getUTCDate(),t.length)},d=function(e,t){return s(e.getUTCHours()%12||12,t.length)},f=function(e,t){return s(e.getUTCHours(),t.length)},p=function(e,t){return s(e.getUTCMinutes(),t.length)},h=function(e,t){return s(e.getUTCSeconds(),t.length)},m=function(e,t){var n=t.length,r=e.getUTCMilliseconds();return s(Math.floor(r*Math.pow(10,n-3)),t.length)},v=n(85902),g=864e5,_=n(80817),b=n(42204),y=n(29189),w=n(51630),k={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return c(e,t)},Y:function(e,t,n,r){var i=(0,w.Z)(e,r),o=i>0?i:1-i;return"YY"===t?s(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):s(o,t.length)},R:function(e,t){return s((0,b.Z)(e),t.length)},u:function(e,t){return s(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return s(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return s(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return l(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return s(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=(0,y.Z)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):s(i,t.length)},I:function(e,t,n){var r=(0,_.Z)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):s(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):u(e,t)},D:function(e,t,n){var r=function(e){(0,v.Z)(1,arguments);var t=(0,a.default)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/g)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):s(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return s(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return s(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return s(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return d(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):f(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):s(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):s(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):p(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):h(e,t)},S:function(e,t){return m(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return C(i);case"XXXX":case"XX":return S(i);default:return S(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return C(i);case"xxxx":case"xx":return S(i);default:return S(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+E(i,":");default:return"GMT"+S(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+E(i,":");default:return"GMT"+S(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return s(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return s((r._originalDate||e).getTime(),t.length)}};function E(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+s(o,2)}function C(e,t){return e%60==0?(e>0?"-":"+")+s(Math.abs(e)/60,2):S(e,t)}function S(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+s(Math.floor(i/60),2)+n+s(i%60,2)}var x=k,O=n(18778),T=n(76415),j=n(80840),D=n(99907),N=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,P=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,A=/^'([^]*?)'?$/,I=/''/g,M=/[a-zA-Z]/;function L(e,t,n){(0,v.Z)(2,arguments);var s=String(t),c=n||{},l=c.locale||i.Z,u=l.options&&l.options.firstWeekContainsDate,d=null==u?1:(0,D.Z)(u),f=null==c.firstWeekContainsDate?d:(0,D.Z)(c.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=l.options&&l.options.weekStartsOn,h=null==p?0:(0,D.Z)(p),m=null==c.weekStartsOn?h:(0,D.Z)(c.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!l.localize)throw new RangeError("locale must contain localize property");if(!l.formatLong)throw new RangeError("locale must contain formatLong property");var g=(0,a.default)(e);if(!(0,r.default)(g))throw new RangeError("Invalid time value");var _=(0,T.Z)(g),b=(0,o.Z)(g,_),y={firstWeekContainsDate:f,weekStartsOn:m,locale:l,_originalDate:g},w=s.match(P).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,O.Z[t])(e,l.formatLong,y):e})).join("").match(N).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return R(n);var i=x[r];if(i)return!c.useAdditionalWeekYearTokens&&(0,j.Do)(n)&&(0,j.qp)(n,t,e),!c.useAdditionalDayOfYearTokens&&(0,j.Iu)(n)&&(0,j.qp)(n,t,e),i(b,n,l.localize,y);if(r.match(M))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return w}function R(e){return e.match(A)[1].replace(I,"'")}},26264:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e),n=t.getDate();return n}},17752:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e),n=t.getDay();return n}},93855:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e),n=t.getHours();return n}},94606:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(32825),i=n(54571),o=n(85902);function a(e){return(0,o.Z)(1,arguments),(0,i.default)(e,{weekStartsOn:1})}function s(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=t.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var s=a(i),c=new Date(0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);var l=a(c);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function c(e){(0,o.Z)(1,arguments);var t=s(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=a(n);return r}var l=6048e5;function u(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=a(t).getTime()-c(t).getTime();return Math.round(n/l)+1}},93411:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMinutes();return n}},37811:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMonth();return n}},12327:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e),n=Math.floor(t.getMonth()/3)+1;return n}},39839:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e),n=t.getSeconds();return n}},87786:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e),n=t.getTime();return n}},60701:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e),n=t.getFullYear();return n}},26992:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getTime()>o.getTime()}},94762:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getTime()<o.getTime()}},53730:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(85902);function i(e){return(0,r.Z)(1,arguments),e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}},39937:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getTime()===o.getTime()}},97874:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(23544),i=n(85902);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getTime()===o.getTime()}},35060:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}},68606:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(30619),i=n(85902);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getTime()===o.getTime()}},84396:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getFullYear()===o.getFullYear()}},44720:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(53730),i=n(32825),o=n(85902);function a(e){if((0,o.Z)(1,arguments),!(0,r.default)(e)&&"number"!=typeof e)return!1;var t=(0,i.default)(e);return!isNaN(Number(t))}},95519:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.default)(e).getTime(),o=(0,r.default)(t.start).getTime(),a=(0,r.default)(t.end).getTime();if(!(o<=a))throw new RangeError("Invalid interval");return n>=o&&n<=a}},38781:function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}n.d(t,{Z:function(){return r}})},96419:function(e,t,n){"use strict";function r(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=i.width?String(i.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,c=i.width?String(i.width):e.defaultWidth;r=e.values[c]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}n.d(t,{Z:function(){return r}})},7625:function(e,t,n){"use strict";function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var c,l=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?o(u,(function(e){return e.test(l)})):i(u,(function(e){return e.test(l)}));c=e.valueCallback?e.valueCallback(d):d,c=n.valueCallback?n.valueCallback(c):c;var f=t.slice(l.length);return{value:c,rest:f}}}function i(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function o(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}n.d(t,{Z:function(){return r}})},65562:function(e,t,n){"use strict";function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var s=t.slice(i.length);return{value:a,rest:s}}}n.d(t,{Z:function(){return r}})},91907:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i=n(38781),o={date:(0,i.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,i.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,i.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},a={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},s=n(96419),c={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,s.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,s.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,s.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,s.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,s.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},l=n(7625),u={code:"en-US",formatDistance:function(e,t,n){var i,o=r[e];return i="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i},formatLong:o,formatRelative:function(e,t,n,r){return a[e]},localize:c,match:{ordinalNumber:(0,n(65562).Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,l.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,l.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,l.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,l.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,l.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},26868:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){var t,n;if((0,i.Z)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,r.default)(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)})),n||new Date(NaN)}},22386:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){var t,n;if((0,i.Z)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,r.default)(e);(void 0===n||n>t||isNaN(t.getDate()))&&(n=t)})),n||new Date(NaN)}},93202:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ae}});var r=n(91907),i=n(72034),o=n(32825),a=n(49290),s=n(18778),c=n(76415),l=n(80840),u=n(99907),d=n(51630),f=n(85902);function p(e,t,n){(0,f.Z)(2,arguments);var r=n||{},i=r.locale,a=i&&i.options&&i.options.weekStartsOn,s=null==a?0:(0,u.Z)(a),c=null==r.weekStartsOn?s:(0,u.Z)(r.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,o.default)(e),d=(0,u.Z)(t),p=l.getUTCDay(),h=d%7,m=(h+7)%7,v=(m<c?7:0)+d-p;return l.setUTCDate(l.getUTCDate()+v),l}var h=n(80817),m=n(29189),v=n(65807),g=n(24803),_=/^(1[0-2]|0?\d)/,b=/^(3[0-1]|[0-2]?\d)/,y=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,w=/^(5[0-3]|[0-4]?\d)/,k=/^(2[0-3]|[0-1]?\d)/,E=/^(2[0-4]|[0-1]?\d)/,C=/^(1[0-1]|0?\d)/,S=/^(1[0-2]|0?\d)/,x=/^[0-5]?\d/,O=/^[0-5]?\d/,T=/^\d/,j=/^\d{1,2}/,D=/^\d{1,3}/,N=/^\d{1,4}/,P=/^-?\d+/,A=/^-?\d/,I=/^-?\d{1,2}/,M=/^-?\d{1,3}/,L=/^-?\d{1,4}/,R=/^([+-])(\d{2})(\d{2})?|Z/,F=/^([+-])(\d{2})(\d{2})|Z/,B=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,z=/^([+-])(\d{2}):(\d{2})|Z/,W=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function U(e,t,n){var r=t.match(e);if(!r)return null;var i=parseInt(r[0],10);return{value:n?n(i):i,rest:t.slice(r[0].length)}}function H(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function Z(e,t){return U(P,e,t)}function q(e,t,n){switch(e){case 1:return U(T,t,n);case 2:return U(j,t,n);case 3:return U(D,t,n);case 4:return U(N,t,n);default:return U(new RegExp("^\\d{1,"+e+"}"),t,n)}}function V(e,t,n){switch(e){case 1:return U(A,t,n);case 2:return U(I,t,n);case 3:return U(M,t,n);case 4:return U(L,t,n);default:return U(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function K(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function $(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var o=i+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}var G=[31,28,31,30,31,30,31,31,30,31,30,31],Y=[31,29,31,30,31,30,31,31,30,31,30,31];function Q(e){return e%400==0||e%4==0&&e%100!=0}var X={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,r){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return q(4,e,i);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return q(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=e.getUTCFullYear();if(n.isTwoDigitYear){var o=$(n.year,i);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return q(4,e,i);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return q(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=(0,d.Z)(e,r);if(n.isTwoDigitYear){var o=$(n.year,i);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,g.Z)(e,r)}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,g.Z)(e,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,n,r){return V("R"===t?4:t.length,e)},set:function(e,t,n,r){var i=new Date(0);return i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0),(0,v.Z)(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,n,r){return V("u"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return q(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return q(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"M":return U(_,e,i);case"MM":return q(2,e,i);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"L":return U(_,e,i);case"LL":return q(2,e,i);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return U(w,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return(0,g.Z)(function(e,t,n){(0,f.Z)(2,arguments);var r=(0,o.default)(e),i=(0,u.Z)(t),a=(0,m.Z)(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*a),r}(e,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return U(w,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return(0,v.Z)(function(e,t){(0,f.Z)(2,arguments);var n=(0,o.default)(e),r=(0,u.Z)(t),i=(0,h.Z)(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"d":return U(b,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return q(t.length,e)}},validate:function(e,t,n){var r=Q(e.getUTCFullYear()),i=e.getUTCMonth();return r?t>=1&&t<=Y[i]:t>=1&&t<=G[i]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"D":case"DD":return U(y,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return q(t.length,e)}},validate:function(e,t,n){return Q(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=p(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return q(t.length,e,i);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=p(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return q(t.length,e,i);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=p(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,n,r){var i=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return q(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});default:return n.day(e,{width:"wide",context:"formatting",valueCallback:i})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,r){return e=function(e,t){(0,f.Z)(2,arguments);var n=(0,u.Z)(t);n%7==0&&(n-=7);var r=1,i=(0,o.default)(e),a=i.getUTCDay(),s=((n%7+7)%7<r?7:0)+n-a;return i.setUTCDate(i.getUTCDate()+s),i}(e,n,r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(K(n),0,0,0),e},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(K(n),0,0,0),e},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(K(n),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return U(S,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var i=e.getUTCHours()>=12;return i&&n<12?e.setUTCHours(n+12,0,0,0):i||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return U(k,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return U(C,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return U(E,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){var i=n<=24?n%24:n;return e.setUTCHours(i,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return U(x,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return U(O,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,n,r){return q(t.length,e,(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,n,r){switch(t){case"X":return H(R,e);case"XX":return H(F,e);case"XXXX":return H(B,e);case"XXXXX":return H(W,e);default:return H(z,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,n,r){switch(t){case"x":return H(R,e);case"xx":return H(F,e);case"xxxx":return H(B,e);case"xxxxx":return H(W,e);default:return H(z,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,n,r){return Z(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,n,r){return Z(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},J=X,ee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,te=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ne=/^'([^]*?)'?$/,re=/''/g,ie=/\S/,oe=/[a-zA-Z]/;function ae(e,t,n,d){(0,f.Z)(3,arguments);var p=String(e),h=String(t),m=d||{},v=m.locale||r.Z;if(!v.match)throw new RangeError("locale must contain match property");var g=v.options&&v.options.firstWeekContainsDate,_=null==g?1:(0,u.Z)(g),b=null==m.firstWeekContainsDate?_:(0,u.Z)(m.firstWeekContainsDate);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=v.options&&v.options.weekStartsOn,w=null==y?0:(0,u.Z)(y),k=null==m.weekStartsOn?w:(0,u.Z)(m.weekStartsOn);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===h)return""===p?(0,o.default)(n):new Date(NaN);var E,C={firstWeekContainsDate:b,weekStartsOn:k,locale:v},S=[{priority:10,subPriority:-1,set:se,index:0}],x=h.match(te).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,s.Z[t])(e,v.formatLong,C):e})).join("").match(ee),O=[];for(E=0;E<x.length;E++){var T=x[E];!m.useAdditionalWeekYearTokens&&(0,l.Do)(T)&&(0,l.qp)(T,h,e),!m.useAdditionalDayOfYearTokens&&(0,l.Iu)(T)&&(0,l.qp)(T,h,e);var j=T[0],D=J[j];if(D){var N=D.incompatibleTokens;if(Array.isArray(N)){for(var P=void 0,A=0;A<O.length;A++){var I=O[A].token;if(-1!==N.indexOf(I)||I===j){P=O[A];break}}if(P)throw new RangeError("The format string mustn't contain `".concat(P.fullToken,"` and `").concat(T,"` at the same time"))}else if("*"===D.incompatibleTokens&&O.length)throw new RangeError("The format string mustn't contain `".concat(T,"` and any other token at the same time"));O.push({token:j,fullToken:T});var M=D.parse(p,T,v.match,C);if(!M)return new Date(NaN);S.push({priority:D.priority,subPriority:D.subPriority||0,set:D.set,validate:D.validate,value:M.value,index:S.length}),p=M.rest}else{if(j.match(oe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");if("''"===T?T="'":"'"===j&&(T=ce(T)),0!==p.indexOf(T))return new Date(NaN);p=p.slice(T.length)}}if(p.length>0&&ie.test(p))return new Date(NaN);var L=S.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return S.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),R=(0,o.default)(n);if(isNaN(R))return new Date(NaN);var F=(0,i.Z)(R,(0,c.Z)(R)),B={};for(E=0;E<L.length;E++){var z=L[E];if(z.validate&&!z.validate(F,z.value,C))return new Date(NaN);var W=z.set(F,B,z.value,C);W[0]?(F=W[0],(0,a.Z)(B,W[1])):F=W}return F}function se(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}function ce(e){return e.match(ne)[1].replace(re,"'")}},97716:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(99907),i=n(85902),o=36e5,a={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},s=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u(e,t){(0,i.Z)(1,arguments);var n=t||{},o=null==n.additionalDigits?2:(0,r.Z)(n.additionalDigits);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var a,s=d(e);if(s.date){var c=f(s.date,o);a=p(c.restDateString,c.year)}if(isNaN(a)||!a)return new Date(NaN);var l,u=a.getTime(),h=0;if(s.time&&(h=m(s.time),isNaN(h)||null===h))return new Date(NaN);if(!s.timezone){var v=new Date(u+h),_=new Date(0);return _.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),_.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),_}return l=g(s.timezone),isNaN(l)?new Date(NaN):new Date(u+h+l)}function d(e){var t,n={},r=e.split(a.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1],a.timeZoneDelimiter.test(n.date)&&(n.date=e.split(a.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var i=a.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}function f(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:null};var i=r[1]&&parseInt(r[1]),o=r[2]&&parseInt(r[2]);return{year:null==o?i:100*o,restDateString:e.slice((r[1]||r[2]).length)}}function p(e,t){if(null===t)return null;var n=e.match(s);if(!n)return null;var r=!!n[4],i=h(n[1]),o=h(n[2])-1,a=h(n[3]),c=h(n[4]),l=h(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,c,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}(t,c,l):new Date(NaN);var u=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(_[t]||(b(e)?29:28))}(t,o,a)&&function(e,t){return t>=1&&t<=(b(e)?366:365)}(t,i)?(u.setUTCFullYear(t,o,Math.max(i,a)),u):new Date(NaN)}function h(e){return e?parseInt(e):1}function m(e){var t=e.match(c);if(!t)return null;var n=v(t[1]),r=v(t[2]),i=v(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i)?n*o+6e4*r+1e3*i:NaN}function v(e){return e&&parseFloat(e.replace(",","."))||0}function g(e){if("Z"===e)return 0;var t=e.match(l);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,i)?n*(r*o+6e4*i):NaN}var _=[31,null,31,30,31,30,31,31,30,31,30,31];function b(e){return e%400==0||e%4==0&&e%100}},9458:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(32825),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,i.default)(e),a=(0,r.Z)(t);return n.setHours(a),n}},46384:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(32825),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,i.default)(e),a=(0,r.Z)(t);return n.setMinutes(a),n}},49840:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(99907),i=n(32825),o=n(85902);function a(e){(0,o.Z)(1,arguments);var t=(0,i.default)(e),n=t.getFullYear(),r=t.getMonth(),a=new Date(0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function s(e,t){(0,o.Z)(2,arguments);var n=(0,i.default)(e),s=(0,r.Z)(t),c=n.getFullYear(),l=n.getDate(),u=new Date(0);u.setFullYear(c,s,15),u.setHours(0,0,0,0);var d=a(u);return n.setMonth(s,Math.min(l,d)),n}},78822:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(99907),i=n(32825),o=n(49840),a=n(85902);function s(e,t){(0,a.Z)(2,arguments);var n=(0,i.default)(e),s=(0,r.Z)(t),c=Math.floor(n.getMonth()/3)+1,l=s-c;return(0,o.default)(n,n.getMonth()+3*l)}},2790:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(32825),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,i.default)(e),a=(0,r.Z)(t);return n.setSeconds(a),n}},59229:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(32825),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,i.default)(e),a=(0,r.Z)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(a),n)}},23544:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e);return t.setHours(0,0,0,0),t}},71217:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},30619:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMonth(),o=n-n%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t}},54571:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(32825),i=n(99907),o=n(85902);function a(e,t){(0,o.Z)(1,arguments);var n=t||{},a=n.locale,s=a&&a.options&&a.options.weekStartsOn,c=null==s?0:(0,i.Z)(s),l=null==n.weekStartsOn?c:(0,i.Z)(n.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,r.default)(e),d=u.getDay(),f=(d<l?7:0)+d-l;return u.setDate(u.getDate()-f),u.setHours(0,0,0,0),u}},93680:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(32825),i=n(85902);function o(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},8604:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(64083),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,i.default)(e,-n)}},51731:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(4036),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,i.default)(e,-n)}},72034:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(99907),i=n(68578),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,i.Z)(e,-n)}},3349:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(42601),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,i.default)(e,-n)}},90399:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(87926),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,i.default)(e,-n)}},15982:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(25193),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,i.default)(e,-n)}},42878:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(99907),i=n(29362),o=n(85902);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,i.default)(e,-n)}},32825:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(85902);function i(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},18575:function(e,t,n){var r=n(82780),i=n(87602),o={float:"cssFloat"},a=n(21498);function s(e,t,n){var s=o[t];if(void 0===s&&(s=function(e){var t=i(e),n=r(t);return o[t]=o[e]=o[n]=n,n}(t)),s){if(void 0===n)return e.style[s];e.style[s]=a(s,n)}}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&s(e,n,t[n])}function l(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:c(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}e.exports=l,e.exports.set=l,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=s(e,n||""),t}),{}):s(e,t||"")}},66471:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},89518:function(e){function t(e,t,n,r){var i=function(e){return null==e||"number"==typeof e||"boolean"==typeof e}(r)?r:n(r),o=t.get(i);return void 0===o&&(o=e.call(this,r),t.set(i,o)),o}function n(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return void 0===o&&(o=e.apply(this,r),t.set(i,o)),o}function r(e,t,n,r,i){return n.bind(t,e,r,i)}function i(e,i){return r(e,this,1===e.length?t:n,i.cache.create(),i.serializer)}function o(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(e){return e in this.cache},a.prototype.get=function(e){return this.cache[e]},a.prototype.set=function(e,t){this.cache[e]=t};var s={create:function(){return new a}};e.exports=function(e,t){var n=t&&t.cache?t.cache:s,r=t&&t.serializer?t.serializer:o;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return r(e,this,n,t.cache.create(),t.serializer)},monadic:function(e,n){return r(e,this,t,n.cache.create(),n.serializer)}}},37911:function(e){e.exports=function(){"use strict";var e=/^(b|B)$/,t={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},n={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},r={floor:Math.floor,ceil:Math.ceil};function i(i){var o,a,s,c,l,u,d,f,p,h,m,v,g,_,b,y,w,k,E,C,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=[],O=0;if(isNaN(i))throw new TypeError("Invalid number");if(s=!0===S.bits,b=!0===S.unix,v=!0===S.pad,a=S.base||2,g=void 0!==S.round?S.round:b?1:2,d=void 0!==S.locale?S.locale:"",f=S.localeOptions||{},y=void 0!==S.separator?S.separator:"",w=void 0!==S.spacer?S.spacer:b?"":" ",E=S.symbols||{},k=2===a&&S.standard||"jedec",m=S.output||"string",l=!0===S.fullform,u=S.fullforms instanceof Array?S.fullforms:[],o=void 0!==S.exponent?S.exponent:-1,C=r[S.roundingMethod]||Math.round,c=a>2?1e3:1024,(p=(h=Number(i))<0)&&(h=-h),(-1===o||isNaN(o))&&(o=Math.floor(Math.log(h)/Math.log(c)))<0&&(o=0),o>8&&(o=8),"exponent"===m)return o;if(0===h)x[0]=0,_=x[1]=b?"":t[k][s?"bits":"bytes"][o];else{O=h/(2===a?Math.pow(2,10*o):Math.pow(1e3,o)),s&&(O*=8)>=c&&o<8&&(O/=c,o++);var T=Math.pow(10,o>0?g:0);x[0]=C(O*T)/T,x[0]===c&&o<8&&void 0===S.exponent&&(x[0]=1,o++),_=x[1]=10===a&&1===o?s?"kb":"kB":t[k][s?"bits":"bytes"][o],b&&(x[1]="jedec"===k?x[1].charAt(0):o>0?x[1].replace(/B$/,""):x[1],e.test(x[1])&&(x[0]=Math.floor(x[0]),x[1]=""))}if(p&&(x[0]=-x[0]),x[1]=E[x[1]]||x[1],!0===d?x[0]=x[0].toLocaleString():d.length>0?x[0]=x[0].toLocaleString(d,f):y.length>0&&(x[0]=x[0].toString().replace(".",y)),v&&!1===Number.isInteger(x[0])&&g>0){var j=y||".",D=x[0].toString().split(j),N=D[1]||"",P=N.length,A=g-P;x[0]="".concat(D[0]).concat(j).concat(N.padEnd(P+A,"0"))}return l&&(x[1]=u[o]?u[o]:n[k][o]+(s?"bit":"byte")+(1===x[0]?"":"s")),"array"===m?x:"object"===m?{value:x[0],symbol:x[1],exponent:o,unit:_}:x.join(w)}return i.partial=function(e){return function(t){return i(t,e)}},i}()},1448:function(e,t,n){"use strict";n.d(t,{lX:function(){return f}});var r=n(25773);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function a(e,t,n,a){var s;"string"==typeof e?(s=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),s.state=t):(void 0===(s=(0,r.Z)({},e)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(s.key=n),a?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),c=t&&i(t),l=s||c;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var u=a[a.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,f=a.length;f>=0;f--){var p=a[f];"."===p?o(a,f):".."===p?(o(a,f),d++):d&&(o(a,f),d--)}if(!l)for(;d--;d)a.unshift("..");!l||""===a[0]||a[0]&&i(a[0])||a.unshift("");var h=a.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h}(s.pathname,a.pathname)):s.pathname=a.pathname:s.pathname||(s.pathname="/"),s}var s=!("undefined"==typeof window||!window.document||!window.document.createElement);function c(e,t){t(window.confirm(e))}var l="popstate",u="hashchange";function d(){try{return window.history.state||{}}catch(e){return{}}}function f(e){void 0===e&&(e={}),s||function(e,t){if(!e)throw new Error("Invariant failed")}(!1);var t,n,i=window.history,o=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,f=!(-1===window.navigator.userAgent.indexOf("Trident")),p=e,h=p.forceRefresh,m=void 0!==h&&h,v=p.getUserConfirmation,g=void 0===v?c:v,_=p.keyLength,b=void 0===_?6:_,y=e.basename?function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}("/"===(n=e.basename).charAt(0)?n:"/"+n):"";function w(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return y&&(o=function(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}(o,y)),a(o,r,n)}function k(){return Math.random().toString(36).substr(2,b)}var E,C,S=(E=null,C=[],{setPrompt:function(e){return E=e,function(){E===e&&(E=null)}},confirmTransitionTo:function(e,t,n,r){if(null!=E){var i="function"==typeof E?E(e,t):E;"string"==typeof i?"function"==typeof n?n(i,r):r(!0):r(!1!==i)}else r(!0)},appendListener:function(e){var t=!0;function n(){t&&e.apply(void 0,arguments)}return C.push(n),function(){t=!1,C=C.filter((function(e){return e!==n}))}},notifyListeners:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];C.forEach((function(e){return e.apply(void 0,t)}))}});function x(e){(0,r.Z)(F,e),F.length=i.length,S.notifyListeners(F.location,F.action)}function O(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(w(e.state))}function T(){D(w(d()))}var j=!1;function D(e){j?(j=!1,x()):S.confirmTransitionTo(e,"POP",g,(function(t){t?x({action:"POP",location:e}):function(e){var t=F.location,n=P.indexOf(t.key);-1===n&&(n=0);var r=P.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(j=!0,I(i))}(e)}))}var N=w(d()),P=[N.key];function A(e){return y+function(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}(e)}function I(e){i.go(e)}var M=0;function L(e){1===(M+=e)&&1===e?(window.addEventListener(l,O),f&&window.addEventListener(u,T)):0===M&&(window.removeEventListener(l,O),f&&window.removeEventListener(u,T))}var R=!1,F={length:i.length,action:"POP",location:N,createHref:A,push:function(e,t){var n="PUSH",r=a(e,t,k(),F.location);S.confirmTransitionTo(r,n,g,(function(e){if(e){var t=A(r),a=r.key,s=r.state;if(o)if(i.pushState({key:a,state:s},null,t),m)window.location.href=t;else{var c=P.indexOf(F.location.key),l=P.slice(0,c+1);l.push(r.key),P=l,x({action:n,location:r})}else window.location.href=t}}))},replace:function(e,t){var n="REPLACE",r=a(e,t,k(),F.location);S.confirmTransitionTo(r,n,g,(function(e){if(e){var t=A(r),a=r.key,s=r.state;if(o)if(i.replaceState({key:a,state:s},null,t),m)window.location.replace(t);else{var c=P.indexOf(F.location.key);-1!==c&&(P[c]=r.key),x({action:n,location:r})}else window.location.replace(t)}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return R||(L(1),R=!0),function(){return R&&(R=!1,L(-1)),t()}},listen:function(e){var t=S.appendListener(e);return L(1),function(){L(-1),t()}}};return F}},55839:function(e,t,n){"use strict";var r=n(19185),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=c(t),m=c(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||r&&r[g]||m&&m[g]||s&&s[g])){var _=f(n,g);try{l(t,g,_)}catch(e){}}}}return t}},48101:function(e,t){"use strict";function n(e){return"object"!=typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var r="object"==typeof process&&!0;function i(e,t){if(!e){if(r)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=i;var o=Object.prototype.hasOwnProperty,a=Array.prototype.splice,s=Object.prototype.toString;function c(e){return s.call(e).slice(8,-1)}var l=Object.assign||function(e,t){return u(t).forEach((function(n){o.call(t,n)&&(e[n]=t[n])})),e},u="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function d(e){return Array.isArray(e)?l(e.constructor(e.length),e):"Map"===c(e)?new Map(e):"Set"===c(e)?new Set(e):e&&"object"==typeof e?l(Object.create(Object.getPrototypeOf(e)),e):e}var f=function(){function e(){this.commands=l({},p),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,r="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(r)||i(!Array.isArray(r),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),i("object"==typeof r&&null!==r,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."}));var a=e;return u(r).forEach((function(t){if(o.call(n.commands,t)){var i=e===a;a=n.commands[t](r[t],a,r,e),i&&n.isEquals(a,e)&&(a=e)}else{var s="Map"===c(e)?n.update(e.get(t),r[t]):n.update(e[t],r[t]),l="Map"===c(a)?a.get(t):a[t];n.isEquals(s,l)&&(void 0!==s||o.call(e,t))||(a===e&&(a=d(e)),"Map"===c(a)?a.set(t,s):a[t]=s)}})),a},e}();t.Context=f;var p={$push:function(e,t,n){return m(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return m(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,r,o){return function(e,t){i(Array.isArray(e),(function(){return"Expected $splice target to be an array; got "+n(e)})),g(t.$splice)}(t,r),e.forEach((function(e){g(e),t===o&&e.length&&(t=d(o)),a.apply(t,e)})),t},$set:function(e,t,n){return function(e){i(1===Object.keys(e).length,(function(){return"Cannot have more than one key in an object with $set"}))}(n),e},$toggle:function(e,t){v(e,"$toggle");var n=e.length?d(t):t;return e.forEach((function(e){n[e]=!t[e]})),n},$unset:function(e,t,n,r){return v(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=d(r)),delete t[e])})),t},$add:function(e,t,n,r){return _(t,"$add"),v(e,"$add"),"Map"===c(t)?e.forEach((function(e){var n=e[0],i=e[1];t===r&&t.get(n)!==i&&(t=d(r)),t.set(n,i)})):e.forEach((function(e){t!==r||t.has(e)||(t=d(r)),t.add(e)})),t},$remove:function(e,t,n,r){return _(t,"$remove"),v(e,"$remove"),e.forEach((function(e){t===r&&t.has(e)&&(t=d(r)),t.delete(e)})),t},$merge:function(e,t,r,o){var a,s;return a=t,i((s=e)&&"object"==typeof s,(function(){return"update(): $merge expects a spec of type 'object'; got "+n(s)})),i(a&&"object"==typeof a,(function(){return"update(): $merge expects a target of type 'object'; got "+n(a)})),u(e).forEach((function(n){e[n]!==t[n]&&(t===o&&(t=d(o)),t[n]=e[n])})),t},$apply:function(e,t){var r;return i("function"==typeof(r=e),(function(){return"update(): expected spec of $apply to be a function; got "+n(r)+"."})),e(t)}},h=new f;function m(e,t,r){i(Array.isArray(e),(function(){return"update(): expected target of "+n(r)+" to be an array; got "+n(e)+"."})),v(t[r],r)}function v(e,t){i(Array.isArray(e),(function(){return"update(): expected spec of "+n(t)+" to be an array; got "+n(e)+". Did you forget to wrap your parameter in an array?"}))}function g(e){i(Array.isArray(e),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+n(e)+". Did you forget to wrap your parameters in an array?"}))}function _(e,t){var r=c(e);i("Map"===r||"Set"===r,(function(){return"update(): "+n(t)+" expects a target of type Set or Map; got "+n(r)}))}t.isEquals=h.update.isEquals,t.extend=h.extend,t.default=h.update,t.default.default=e.exports=l(t.default,t)},62100:function(e,t,n){e.exports=n(72937)},72937:function(e){e.exports=l,l.addTo=function(e,t){return e?"string"==typeof e?function(e,t){return h(f(e,t))}(e,w(t)):function(e,t){return p(e,t).map(h)}(e,w(t)):""},l.parse=function(e,t){return e?"string"==typeof e?f(e,w(t)):p(e,w(t)):{}},l.find=l;var t=" -\\/:-@\\[-`\\{-\\~",n=/^[A-Z]+$/,r=/\(([^)]+)\)/,i=/^[^\s]+@[^\s]+$/,o=/@[^\s]+/,a=/[\w._-]+@[\w.-]+[\w]/g,s=new RegExp("(^|["+t+"])[^"+t+"]","g"),c=new RegExp("["+t+"]","g");function l(e,t){return e?"string"==typeof e?u(e,w(t)):d(e,w(t)):""}function u(e,t){var n,r,i,o=t.length||2;if(i=v(e,t))return i;if(!(e=m(e)))return"";if((n=e.match(s).map((function(e){return e[e.length-1]}))).length<2)return e.length>o?e.substr(0,o):e;if((r=n.join("")).length>=o)return r;for(var a=_(e),c=0;c<a.length;c++)if(a[c].length>=o)return a[c]}function d(e,t){var n,r,i,o=[],a={},s={},c={},l=t.length||2;e.forEach((function(e){if(e||(e=""),!c[e])if(e.length<l)c[e]=[e];else{if(r=v(e,t))return a[r]=1,void(c[e]=[r]);i=_(e).filter((function(e){return e.length===l&&(a[e]&&(s[e]=1),a[e]=1,!0)})),c[e]=i}}));var u=[];for(var f in c)u.unshift(f);for(var p=u.length,h=0;h<p;h++){i=c[u[h]],o.push(i);for(var m=0;m<i.length;m++)s[i[m]]>0&&(s[i[m]]--,i.splice(m,1))}return n=o.map((function(e){return e.length})),0===n.length?e:0===Math.min.apply(null,n)?(t.length++,d(e,t)):e.map((function(e){return c[e][0]}))}function f(e,t){var i,o,s,l={};return e?((i=v(e,t))&&(e=(e=e.replace(n,"")).replace(r,"")),t.initials&&(i=t.initials),i||(i=u(e,t)),null!=(s=e.match(a))&&(o=s.pop()),o&&(e=e.replace(o,"")).trim()==="<"+o+">"&&(e="",i||(i=u(o,t))),(e=e.replace(c," ").trim())&&(l.name=e),i&&(l.initials=i),o&&(l.email=o),l):{}}function p(e,t){var n=d(e,t);return e.map((function(e,r){return t.existing[e]=n[r],f(e,t)}))}function h(e){return e.name||e.email?e.email?e.name?e.name+" ("+e.initials+") <"+e.email+">":e.email+" ("+e.initials+")":e.name+" ("+e.initials+")":e.initials}function m(e){return(e=i.test(e)?e.replace(o,""):e.replace(a,"")).replace(c," ").trim()}function v(e,t){var i;return t.existing[e]?t.existing[e]:n.test(e)?e:null!=(i=e.match(r))?i.pop():void 0}var g={};function _(e){var t,n=[];return e=m(e),g[e]?g[e].slice(0):(t=e.split(" ").map(y),n=(n=b(t)).sort((function(e,t){return e.length-t.length||n.indexOf(e)-n.indexOf(t)})),g[e]=n,n.slice(0))}function b(e){var t,n,r=e.shift();return e.length>0?(n=[],t=b(e),r.forEach((function(e){t.forEach((function(t){n.push(e+t)}))})),n):r}function y(e){for(var t=[];e.length;)t.unshift(e),e=e.substr(0,e.length-1);return t}function w(e){return e||(e={length:2}),"number"==typeof e&&(e={length:e}),e.length=Math.max(e.length||0,2),e.existing=e.existing||{},e}},3996:function(e){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},48809:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},82545:function(e,t,n){var r=n(81822)(n(77400),"DataView");e.exports=r},96586:function(e,t,n){var r=n(57753),i=n(82452),o=n(22115),a=n(38256),s=n(67426);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},36301:function(e,t,n){var r=n(69417),i=n(72470),o=n(66165),a=n(71873),s=n(52556);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},44538:function(e,t,n){var r=n(81822)(n(77400),"Map");e.exports=r},74554:function(e,t,n){var r=n(39448),i=n(7738),o=n(66575),a=n(7238),s=n(38738);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},64825:function(e,t,n){var r=n(81822)(n(77400),"Promise");e.exports=r},46151:function(e,t,n){var r=n(81822)(n(77400),"Set");e.exports=r},52485:function(e,t,n){var r=n(74554),i=n(38639),o=n(88379);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},23694:function(e,t,n){var r=n(36301),i=n(7354),o=n(5863),a=n(12367),s=n(90748),c=n(97569);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},96539:function(e,t,n){var r=n(77400).Symbol;e.exports=r},59942:function(e,t,n){var r=n(77400).Uint8Array;e.exports=r},66902:function(e,t,n){var r=n(81822)(n(77400),"WeakMap");e.exports=r},10263:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},58095:function(e,t,n){var r=n(8817);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},21796:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},98213:function(e,t,n){var r=n(24701),i=n(2900),o=n(19785),a=n(43854),s=n(42383),c=n(48519),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),f=!n&&!u&&!d&&c(e),p=n||u||d||f,h=p?r(e.length,String):[],m=h.length;for(var v in e)!t&&!l.call(e,v)||p&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||h.push(v);return h}},66070:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},97141:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},90756:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},93382:function(e,t,n){var r=n(85638);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},95372:function(e){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},11324:function(e,t,n){var r=n(97141),i=n(19785);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},99736:function(e,t,n){var r=n(96539),i=n(34840),o=n(21258),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},8817:function(e,t,n){var r=n(95372),i=n(1129),o=n(58263);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},55829:function(e,t,n){var r=n(99736),i=n(92360);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},32866:function(e,t,n){var r=n(12772),i=n(92360);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},12772:function(e,t,n){var r=n(23694),i=n(27042),o=n(370),a=n(39584),s=n(3533),c=n(19785),l=n(43854),u=n(48519),d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var _=c(e),b=c(t),y=_?f:s(e),w=b?f:s(t),k=(y=y==d?p:y)==p,E=(w=w==d?p:w)==p,C=y==w;if(C&&l(e)){if(!l(t))return!1;_=!0,k=!1}if(C&&!k)return g||(g=new r),_||u(e)?i(e,t,n,m,v,g):o(e,t,y,n,m,v,g);if(!(1&n)){var S=k&&h.call(e,"__wrapped__"),x=E&&h.call(t,"__wrapped__");if(S||x){var O=S?e.value():e,T=x?t.value():t;return g||(g=new r),v(O,T,n,m,g)}}return!!C&&(g||(g=new r),a(e,t,n,m,v,g))}},1129:function(e){e.exports=function(e){return e!=e}},46729:function(e,t,n){var r=n(28338),i=n(99678),o=n(11611),a=n(76532),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},26972:function(e,t,n){var r=n(99736),i=n(84194),o=n(92360),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},20186:function(e,t,n){var r=n(56016),i=n(50962),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},17646:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},24701:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},34282:function(e,t,n){var r=n(96539),i=n(66070),o=n(19785),a=n(55193),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},39334:function(e){e.exports=function(e){return function(t){return e(t)}}},92198:function(e,t,n){var r=n(52485),i=n(58095),o=n(21796),a=n(65581),s=n(47111),c=n(43735);e.exports=function(e,t,n){var l=-1,u=i,d=e.length,f=!0,p=[],h=p;if(n)f=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return c(m);f=!1,u=a,h=new r}else h=t?[]:p;e:for(;++l<d;){var v=e[l],g=t?t(v):v;if(v=n||0!==v?v:0,f&&g==g){for(var _=h.length;_--;)if(h[_]===g)continue e;t&&h.push(g),p.push(v)}else u(h,g,n)||(h!==p&&h.push(g),p.push(v))}return p}},65581:function(e){e.exports=function(e,t){return e.has(t)}},64937:function(e,t,n){var r=n(77400)["__core-js_shared__"];e.exports=r},47111:function(e,t,n){var r=n(46151),i=n(50344),o=n(43735),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},27042:function(e,t,n){var r=n(52485),i=n(90756),o=n(65581);e.exports=function(e,t,n,a,s,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var f=c.get(e),p=c.get(t);if(f&&p)return f==t&&p==e;var h=-1,m=!0,v=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++h<u;){var g=e[h],_=t[h];if(a)var b=l?a(_,g,h,t,e,c):a(g,_,h,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(g===e||s(g,e,n,a,c)))return v.push(t)}))){m=!1;break}}else if(g!==_&&!s(g,_,n,a,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},370:function(e,t,n){var r=n(96539),i=n(59942),o=n(85638),a=n(27042),s=n(19383),c=n(43735),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=c),e.size!=t.size&&!h)return!1;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var v=a(p(e),p(t),r,l,d,f);return f.delete(e),v;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},39584:function(e,t,n){var r=n(51385),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var d=u;d--;){var f=l[d];if(!(c?f in t:i.call(t,f)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=c;++d<u;){var g=e[f=l[d]],_=t[f];if(o)var b=c?o(_,g,f,t,e,s):o(g,_,f,e,t,s);if(!(void 0===b?g===_||a(g,_,n,o,s):b)){m=!1;break}v||(v="constructor"==f)}if(m&&!v){var y=e.constructor,w=t.constructor;y==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5022:function(e,t,n){var r=n(17646)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=r},39120:function(e){var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},51385:function(e,t,n){var r=n(11324),i=n(83080),o=n(50098);e.exports=function(e){return r(e,o,i)}},95899:function(e,t,n){var r=n(54479);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},81822:function(e,t,n){var r=n(46729),i=n(15371);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},34840:function(e,t,n){var r=n(96539),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},83080:function(e,t,n){var r=n(10263),i=n(15937),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},3533:function(e,t,n){var r=n(82545),i=n(44538),o=n(64825),a=n(46151),s=n(66902),c=n(99736),l=n(76532),u="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",m=l(r),v=l(i),g=l(o),_=l(a),b=l(s),y=c;(r&&y(new r(new ArrayBuffer(1)))!=h||i&&y(new i)!=u||o&&y(o.resolve())!=d||a&&y(new a)!=f||s&&y(new s)!=p)&&(y=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case m:return h;case v:return u;case g:return d;case _:return f;case b:return p}return t}),e.exports=y},15371:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},57753:function(e,t,n){var r=n(35718);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},82452:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},22115:function(e,t,n){var r=n(35718),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},38256:function(e,t,n){var r=n(35718),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},67426:function(e,t,n){var r=n(35718);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},42383:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},54479:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},99678:function(e,t,n){var r,i=n(64937),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},56016:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},69417:function(e){e.exports=function(){this.__data__=[],this.size=0}},72470:function(e,t,n){var r=n(93382),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},66165:function(e,t,n){var r=n(93382);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},71873:function(e,t,n){var r=n(93382);e.exports=function(e){return r(this.__data__,e)>-1}},52556:function(e,t,n){var r=n(93382);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},39448:function(e,t,n){var r=n(96586),i=n(36301),o=n(44538);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7738:function(e,t,n){var r=n(95899);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},66575:function(e,t,n){var r=n(95899);e.exports=function(e){return r(this,e).get(e)}},7238:function(e,t,n){var r=n(95899);e.exports=function(e){return r(this,e).has(e)}},38738:function(e,t,n){var r=n(95899);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},19383:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},35718:function(e,t,n){var r=n(81822)(Object,"create");e.exports=r},50962:function(e,t,n){var r=n(58023)(Object.keys,Object);e.exports=r},18125:function(e,t,n){e=n.nmd(e);var r=n(39120),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},21258:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},58023:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},77400:function(e,t,n){var r=n(39120),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},38639:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},88379:function(e){e.exports=function(e){return this.__data__.has(e)}},43735:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},7354:function(e,t,n){var r=n(36301);e.exports=function(){this.__data__=new r,this.size=0}},5863:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},12367:function(e){e.exports=function(e){return this.__data__.get(e)}},90748:function(e){e.exports=function(e){return this.__data__.has(e)}},97569:function(e,t,n){var r=n(36301),i=n(44538),o=n(74554);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},58263:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},76532:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},85638:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},94565:function(e,t,n){var r=n(5022),i=n(65567),o=/[&<>"']/g,a=RegExp(o.source);e.exports=function(e){return(e=i(e))&&a.test(e)?e.replace(o,r):e}},56060:function(e,t,n){var r=n(65567),i=/[\\^$.*+?()[\]{}|]/g,o=RegExp(i.source);e.exports=function(e){return(e=r(e))&&o.test(e)?e.replace(i,"\\$&"):e}},2900:function(e,t,n){var r=n(55829),i=n(92360),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},19785:function(e){var t=Array.isArray;e.exports=t},80068:function(e,t,n){var r=n(28338),i=n(84194);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},43854:function(e,t,n){e=n.nmd(e);var r=n(77400),i=n(57714),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c},56141:function(e,t,n){var r=n(32866);e.exports=function(e,t){return r(e,t)}},28338:function(e,t,n){var r=n(99736),i=n(11611);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},84194:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},11611:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},92360:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},55193:function(e,t,n){var r=n(99736),i=n(92360);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},48519:function(e,t,n){var r=n(26972),i=n(39334),o=n(18125),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},50098:function(e,t,n){var r=n(98213),i=n(20186),o=n(80068);e.exports=function(e){return o(e)?r(e):i(e)}},50344:function(e){e.exports=function(){}},15937:function(e){e.exports=function(){return[]}},57714:function(e){e.exports=function(){return!1}},65567:function(e,t,n){var r=n(34282);e.exports=function(e){return null==e?"":r(e)}},83766:function(e,t,n){var r=n(92198);e.exports=function(e){return e&&e.length?r(e):[]}},61586:function(e,t,n){var r,i,o,a,s;r=n(29677),i=n(70943).utf8,o=n(48809),a=n(70943).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),c=8*e.length,l=1732584193,u=-271733879,d=-1732584194,f=271733878,p=0;p<n.length;p++)n[p]=16711935&(n[p]<<8|n[p]>>>24)|4278255360&(n[p]<<24|n[p]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var h=s._ff,m=s._gg,v=s._hh,g=s._ii;for(p=0;p<n.length;p+=16){var _=l,b=u,y=d,w=f;l=h(l,u,d,f,n[p+0],7,-680876936),f=h(f,l,u,d,n[p+1],12,-389564586),d=h(d,f,l,u,n[p+2],17,606105819),u=h(u,d,f,l,n[p+3],22,-1044525330),l=h(l,u,d,f,n[p+4],7,-176418897),f=h(f,l,u,d,n[p+5],12,1200080426),d=h(d,f,l,u,n[p+6],17,-1473231341),u=h(u,d,f,l,n[p+7],22,-45705983),l=h(l,u,d,f,n[p+8],7,1770035416),f=h(f,l,u,d,n[p+9],12,-1958414417),d=h(d,f,l,u,n[p+10],17,-42063),u=h(u,d,f,l,n[p+11],22,-1990404162),l=h(l,u,d,f,n[p+12],7,1804603682),f=h(f,l,u,d,n[p+13],12,-40341101),d=h(d,f,l,u,n[p+14],17,-1502002290),l=m(l,u=h(u,d,f,l,n[p+15],22,1236535329),d,f,n[p+1],5,-165796510),f=m(f,l,u,d,n[p+6],9,-1069501632),d=m(d,f,l,u,n[p+11],14,643717713),u=m(u,d,f,l,n[p+0],20,-373897302),l=m(l,u,d,f,n[p+5],5,-701558691),f=m(f,l,u,d,n[p+10],9,38016083),d=m(d,f,l,u,n[p+15],14,-660478335),u=m(u,d,f,l,n[p+4],20,-405537848),l=m(l,u,d,f,n[p+9],5,568446438),f=m(f,l,u,d,n[p+14],9,-1019803690),d=m(d,f,l,u,n[p+3],14,-187363961),u=m(u,d,f,l,n[p+8],20,1163531501),l=m(l,u,d,f,n[p+13],5,-1444681467),f=m(f,l,u,d,n[p+2],9,-51403784),d=m(d,f,l,u,n[p+7],14,1735328473),l=v(l,u=m(u,d,f,l,n[p+12],20,-1926607734),d,f,n[p+5],4,-378558),f=v(f,l,u,d,n[p+8],11,-2022574463),d=v(d,f,l,u,n[p+11],16,1839030562),u=v(u,d,f,l,n[p+14],23,-35309556),l=v(l,u,d,f,n[p+1],4,-1530992060),f=v(f,l,u,d,n[p+4],11,1272893353),d=v(d,f,l,u,n[p+7],16,-155497632),u=v(u,d,f,l,n[p+10],23,-1094730640),l=v(l,u,d,f,n[p+13],4,681279174),f=v(f,l,u,d,n[p+0],11,-358537222),d=v(d,f,l,u,n[p+3],16,-722521979),u=v(u,d,f,l,n[p+6],23,76029189),l=v(l,u,d,f,n[p+9],4,-640364487),f=v(f,l,u,d,n[p+12],11,-421815835),d=v(d,f,l,u,n[p+15],16,530742520),l=g(l,u=v(u,d,f,l,n[p+2],23,-995338651),d,f,n[p+0],6,-198630844),f=g(f,l,u,d,n[p+7],10,1126891415),d=g(d,f,l,u,n[p+14],15,-1416354905),u=g(u,d,f,l,n[p+5],21,-57434055),l=g(l,u,d,f,n[p+12],6,1700485571),f=g(f,l,u,d,n[p+3],10,-1894986606),d=g(d,f,l,u,n[p+10],15,-1051523),u=g(u,d,f,l,n[p+1],21,-2054922799),l=g(l,u,d,f,n[p+8],6,1873313359),f=g(f,l,u,d,n[p+15],10,-30611744),d=g(d,f,l,u,n[p+6],15,-1560198380),u=g(u,d,f,l,n[p+13],21,1309151649),l=g(l,u,d,f,n[p+4],6,-145523070),f=g(f,l,u,d,n[p+11],10,-1120210379),d=g(d,f,l,u,n[p+2],15,718787259),u=g(u,d,f,l,n[p+9],21,-343485551),l=l+_>>>0,u=u+b>>>0,d=d+y>>>0,f=f+w>>>0}return r.endian([l,u,d,f])})._ff=function(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._gg=function(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._hh=function(e,t,n,r,i,o,a){var s=e+(t^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._ii=function(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?a.bytesToString(n):r.bytesToHex(n)}},10419:function(e,t,n){var r;"classList"in document.createElement("_")||function(e){"use strict";if("Element"in e){var t="classList",n=e.Element.prototype,r=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},c=function(e){for(var t=i.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,o=n.length;r<o;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=c.prototype=[],u=function(){return new c(this)};if(a.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return-1!==s(this,e+="")},l.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do{e=t[n]+"",-1===s(this,e)&&(this.push(e),i=!0)}while(++n<r);i&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,r=0,i=n.length,o=!1;do{for(e=n[r]+"",t=s(this,e);-1!==t;)this.splice(t,1),o=!0,t=s(this,e)}while(++r<i);o&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},r.defineProperty){var d={get:u,enumerable:!0,configurable:!0};try{r.defineProperty(n,t,d)}catch(e){-2146823252===e.number&&(d.enumerable=!1,r.defineProperty(n,t,d))}}else r.prototype.__defineGetter__&&n.__defineGetter__(t,u)}}(self),function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(e){}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},i=n.prototype,o=r.prototype,a=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},c="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),l=c.length,u=e.URL||e.webkitURL||e,d=u.createObjectURL,f=u.revokeObjectURL,p=u,h=e.btoa,m=e.atob,v=e.ArrayBuffer,g=e.Uint8Array,_=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(r.fake=o.fake=!0;l--;)s.prototype[c[l]]=l+1;return u.createObjectURL||(p=e.URL=function(e){var t,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=e,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(t=e.match(_),n.origin=t&&t[1])),n}),p.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof r?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):h?t+";base64,"+h(e.data):t+","+encodeURIComponent(e.data)):d?d.call(u,e):void 0},p.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&f&&f.call(u,e)},i.append=function(e){var n=this.data;if(g&&(e instanceof v||e instanceof g)){for(var i="",o=new g(e),c=0,l=o.length;c<l;c++)i+=String.fromCharCode(o[c]);n.push(i)}else if("Blob"===t(e)||"File"===t(e)){if(!a)throw new s("NOT_READABLE_ERR");var u=new a;n.push(u.readAsBinaryString(e))}else e instanceof r?"base64"===e.encoding&&m?n.push(m(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},i.getBlob=function(e){return arguments.length||(e=null),new r(this.data.join(""),e,"raw")},i.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,n){var i=arguments.length;return i<3&&(n=null),new r(this.data.slice(e,i>1?t:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(e);e.Blob=function(e,n){var r=n&&n.type||"",i=new t;if(e)for(var o=0,a=e.length;o<a;o++)Uint8Array&&e[o]instanceof Uint8Array?i.append(e[o].buffer):i.append(e[o]);var s=i.getBlob(r);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=n(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(i,o){"use strict";"undefined"!=typeof process&&process&&process.versions&&process.versions.electron?void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r):e.exports=o}(0,function(){"use strict";function e(e,t){return this.init(e,t)}var t,n,r,i,o,a,s,c,l,u,d;return e.extensions={},function(t){function n(e,t){var n,r=Array.prototype.slice.call(arguments,2);t=t||{};for(var i=0;i<r.length;i++){var o=r[i];if(o)for(n in o)o.hasOwnProperty(n)&&void 0!==o[n]&&(e||!1===t.hasOwnProperty(n))&&(t[n]=o[n])}return t}var r=!1;try{var i=document.createElement("div"),o=document.createTextNode(" ");i.appendChild(o),r=i.contains(o)}catch(e){}var a={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isEdge:null!==/Edge\/\d+/.exec(navigator.userAgent),isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:t.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(e){return!!(a.isMac&&e.metaKey||!a.isMac&&e.ctrlKey)},isKey:function(e,t){var n=a.getKeyCode(e);return!1===Array.isArray(t)?n===t:-1!==t.indexOf(n)},getKeyCode:function(e){var t=e.which;return null===t&&(t=null!==e.charCode?e.charCode:e.keyCode),t},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var e=[!0].concat(Array.prototype.slice.call(arguments));return n.apply(this,e)},defaults:function(){var e=[!1].concat(Array.prototype.slice.call(arguments));return n.apply(this,e)},createLink:function(e,t,n,r){var i=e.createElement("a");return a.moveTextRangeIntoElement(t[0],t[t.length-1],i),i.setAttribute("href",n),r&&("_blank"===r&&i.setAttribute("rel","noopener noreferrer"),i.setAttribute("target",r)),i},findOrCreateMatchingTextNodes:function(e,t,n){for(var r=e.createTreeWalker(t,NodeFilter.SHOW_ALL,null,!1),i=[],o=0,s=!1,c=null,l=null;null!==(c=r.nextNode());)if(!(c.nodeType>3))if(3===c.nodeType){if(!s&&n.start<o+c.nodeValue.length&&(s=!0,l=a.splitStartNodeIfNeeded(c,n.start,o)),s&&a.splitEndNodeIfNeeded(c,l,n.end,o),s&&o===n.end)break;if(s&&o>n.end+1)throw new Error("PerformLinking overshot the target!");s&&i.push(l||c),o+=c.nodeValue.length,null!==l&&(o+=l.nodeValue.length,r.nextNode()),l=null}else"img"===c.tagName.toLowerCase()&&(!s&&n.start<=o&&(s=!0),s&&i.push(c));return i},splitStartNodeIfNeeded:function(e,t,n){return t!==n?e.splitText(t-n):null},splitEndNodeIfNeeded:function(e,t,n,r){var i,o;i=r+e.nodeValue.length+(t?t.nodeValue.length:0)-1,o=n-r-(t?e.nodeValue.length:0),i>=n&&r!==i&&0!==o&&(t||e).splitText(o)},splitByBlockElements:function(t){if(3!==t.nodeType&&1!==t.nodeType)return[];var n=[],r=e.util.blockContainerElementNames.join(",");if(3===t.nodeType||0===t.querySelectorAll(r).length)return[t];for(var i=0;i<t.childNodes.length;i++){var o=t.childNodes[i];3===o.nodeType?n.push(o):1===o.nodeType&&(0===o.querySelectorAll(r).length?n.push(o):n=n.concat(e.util.splitByBlockElements(o)))}return n},findAdjacentTextNodeWithContent:function(e,t,n){var r,i=!1,o=n.createNodeIterator(e,NodeFilter.SHOW_TEXT,null,!1);for(r=o.nextNode();r;){if(r===t)i=!0;else if(i&&3===r.nodeType&&r.nodeValue&&r.nodeValue.trim().length>0)break;r=o.nextNode()}return r},findPreviousSibling:function(e){if(!e||a.isMediumEditorElement(e))return!1;for(var t=e.previousSibling;!t&&!a.isMediumEditorElement(e.parentNode);)t=(e=e.parentNode).previousSibling;return t},isDescendant:function(e,t,n){if(!e||!t)return!1;if(e===t)return!!n;if(1!==e.nodeType)return!1;if(r||3!==t.nodeType)return e.contains(t);for(var i=t.parentNode;null!==i;){if(i===e)return!0;i=i.parentNode}return!1},isElement:function(e){return!(!e||1!==e.nodeType)},throttle:function(e,t){var n,r,i,o=null,a=0,s=function(){a=Date.now(),o=null,i=e.apply(n,r),o||(n=r=null)};return t||0===t||(t=50),function(){var c=Date.now(),l=t-(c-a);return n=this,r=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),a=c,i=e.apply(n,r),o||(n=r=null)):o||(o=setTimeout(s,l)),i}},traverseUp:function(e,t){if(!e)return!1;do{if(1===e.nodeType){if(t(e))return e;if(a.isMediumEditorElement(e))return!1}e=e.parentNode}while(e);return!1},htmlEntities:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(t,n){var r,i,o,s,c,l,u,d=!1,f=["insertHTML",!1,n];if(!e.util.isEdge&&t.queryCommandSupported("insertHTML"))try{return t.execCommand.apply(t,f)}catch(e){}if((r=t.getSelection()).rangeCount){if(u=(i=r.getRangeAt(0)).commonAncestorContainer,a.isMediumEditorElement(u)&&!u.firstChild)i.selectNode(u.appendChild(t.createTextNode("")));else if(3===u.nodeType&&0===i.startOffset&&i.endOffset===u.nodeValue.length||3!==u.nodeType&&u.innerHTML===i.toString()){for(;!a.isMediumEditorElement(u)&&u.parentNode&&1===u.parentNode.childNodes.length&&!a.isMediumEditorElement(u.parentNode);)u=u.parentNode;i.selectNode(u)}for(i.deleteContents(),(o=t.createElement("div")).innerHTML=n,s=t.createDocumentFragment();o.firstChild;)c=o.firstChild,l=s.appendChild(c);i.insertNode(s),l&&((i=i.cloneRange()).setStartAfter(l),i.collapse(!0),e.selection.selectRange(t,i)),d=!0}return t.execCommand.callListeners&&t.execCommand.callListeners(f,d),d},execFormatBlock:function(t,n){var r=a.getTopBlockContainer(e.selection.getSelectionStart(t));if("blockquote"===n){if(r&&Array.prototype.slice.call(r.childNodes).some((function(e){return a.isBlockContainer(e)})))return t.execCommand("outdent",!1,null);if(a.isIE)return t.execCommand("indent",!1,n)}if(r&&n===r.nodeName.toLowerCase()&&(n="p"),a.isIE&&(n="<"+n+">"),r&&"blockquote"===r.nodeName.toLowerCase()){if(a.isIE&&"<p>"===n)return t.execCommand("outdent",!1,n);if((a.isFF||a.isEdge)&&"p"===n)return Array.prototype.slice.call(r.childNodes).some((function(e){return!a.isBlockContainer(e)}))&&t.execCommand("formatBlock",!1,n),t.execCommand("outdent",!1,n)}return t.execCommand("formatBlock",!1,n)},setTargetBlank:function(e,t){var n,r=t||!1;if("a"===e.nodeName.toLowerCase())e.target="_blank",e.rel="noopener noreferrer";else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)!1!==r&&r!==e[n].attributes.href.value||(e[n].target="_blank",e[n].rel="noopener noreferrer")},removeTargetBlank:function(e,t){var n;if("a"===e.nodeName.toLowerCase())e.removeAttribute("target"),e.removeAttribute("rel");else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)t===e[n].attributes.href.value&&(e[n].removeAttribute("target"),e[n].removeAttribute("rel"))},addClassToAnchors:function(e,t){var n,r,i=t.split(" ");if("a"===e.nodeName.toLowerCase())for(r=0;r<i.length;r+=1)e.classList.add(i[r]);else{var o=e.getElementsByTagName("a");if(0===o.length){var s=a.getClosestTag(e,"a");e=s?[s]:[]}else e=o;for(n=0;n<e.length;n+=1)for(r=0;r<i.length;r+=1)e[n].classList.add(i[r])}},isListItem:function(e){if(!e)return!1;if("li"===e.nodeName.toLowerCase())return!0;for(var t=e.parentNode,n=t.nodeName.toLowerCase();"li"===n||!a.isBlockContainer(t)&&"div"!==n;){if("li"===n)return!0;if(!(t=t.parentNode))return!1;n=t.nodeName.toLowerCase()}return!1},cleanListDOM:function(t,n){if("li"===n.nodeName.toLowerCase()){var r=n.parentElement;"p"===r.parentElement.nodeName.toLowerCase()&&(a.unwrap(r.parentElement,t),e.selection.moveCursor(t,n.firstChild,n.firstChild.textContent.length))}},splitOffDOMTree:function(e,t,n){for(var r=t,i=null,o=!n;r!==e;){var a,s=r.parentNode,c=s.cloneNode(!1),l=o?r:s.firstChild;for(i&&(o?c.appendChild(i):a=i),i=c;l;){var u=l.nextSibling;l===r?(l.hasChildNodes()?l=l.cloneNode(!1):l.parentNode.removeChild(l),l.textContent&&i.appendChild(l),l=o?u:null):(l.parentNode.removeChild(l),(l.hasChildNodes()||l.textContent)&&i.appendChild(l),l=u)}a&&i.appendChild(a),r=s}return i},moveTextRangeIntoElement:function(e,t,n){if(!e||!t)return!1;var r=a.findCommonRoot(e,t);if(!r)return!1;if(t===e){var i=e.parentNode,o=e.nextSibling;return i.removeChild(e),n.appendChild(e),o?i.insertBefore(n,o):i.appendChild(n),n.hasChildNodes()}for(var s,c,l,u=[],d=0;d<r.childNodes.length;d++)if(l=r.childNodes[d],s){if(a.isDescendant(l,t,!0)){c=l;break}u.push(l)}else a.isDescendant(l,e,!0)&&(s=l);var f=c.nextSibling,p=r.ownerDocument.createDocumentFragment();return s===e?(s.parentNode.removeChild(s),p.appendChild(s)):p.appendChild(a.splitOffDOMTree(s,e)),u.forEach((function(e){e.parentNode.removeChild(e),p.appendChild(e)})),c===t?(c.parentNode.removeChild(c),p.appendChild(c)):p.appendChild(a.splitOffDOMTree(c,t,!0)),n.appendChild(p),c.parentNode===r?r.insertBefore(n,c):f?r.insertBefore(n,f):r.appendChild(n),n.hasChildNodes()},depthOfNode:function(e){for(var t=0,n=e;null!==n.parentNode;)n=n.parentNode,t++;return t},findCommonRoot:function(e,t){for(var n=a.depthOfNode(e),r=a.depthOfNode(t),i=e,o=t;n!==r;)n>r?(i=i.parentNode,n-=1):(o=o.parentNode,r-=1);for(;i!==o;)i=i.parentNode,o=o.parentNode;return i},isElementAtBeginningOfBlock:function(e){for(var t;!a.isBlockContainer(e)&&!a.isMediumEditorElement(e);){for(t=e;t=t.previousSibling;)if((3===t.nodeType?t.nodeValue:t.textContent).length>0)return!1;e=e.parentNode}return!0},isMediumEditorElement:function(e){return e&&e.getAttribute&&!!e.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(e){return a.traverseUp(e,(function(e){return a.isMediumEditorElement(e)}))},isBlockContainer:function(e){return e&&3!==e.nodeType&&-1!==a.blockContainerElementNames.indexOf(e.nodeName.toLowerCase())},getClosestBlockContainer:function(e){return a.traverseUp(e,(function(e){return a.isBlockContainer(e)||a.isMediumEditorElement(e)}))},getTopBlockContainer:function(e){var t=!!a.isBlockContainer(e)&&e;return a.traverseUp(e,(function(e){return a.isBlockContainer(e)&&(t=e),!(t||!a.isMediumEditorElement(e)||(t=e,0))})),t},getFirstSelectableLeafNode:function(e){for(;e&&e.firstChild;)e=e.firstChild;if("table"===(e=a.traverseUp(e,(function(e){return-1===a.emptyElementNames.indexOf(e.nodeName.toLowerCase())}))).nodeName.toLowerCase()){var t=e.querySelector("th, td");t&&(e=t)}return e},getFirstTextNode:function(e){return a.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),a._getFirstTextNode(e)},_getFirstTextNode:function(e){if(3===e.nodeType)return e;for(var t=0;t<e.childNodes.length;t++){var n=a._getFirstTextNode(e.childNodes[t]);if(null!==n)return n}return null},ensureUrlHasProtocol:function(e){return-1===e.indexOf("://")?"http://"+e:e},warn:function(){void 0!==t.console&&"function"==typeof t.console.warn&&t.console.warn.apply(t.console,arguments)},deprecated:function(e,t,n){var r=e+" is deprecated, please use "+t+" instead.";n&&(r+=" Will be removed in "+n),a.warn(r)},deprecatedMethod:function(e,t,n,r){a.deprecated(e,t,r),"function"==typeof this[t]&&this[t].apply(this,n)},cleanupAttrs:function(e,t){t.forEach((function(t){e.removeAttribute(t)}))},cleanupTags:function(e,t){-1!==t.indexOf(e.nodeName.toLowerCase())&&e.parentNode.removeChild(e)},unwrapTags:function(t,n){-1!==n.indexOf(t.nodeName.toLowerCase())&&e.util.unwrap(t,document)},getClosestTag:function(e,t){return a.traverseUp(e,(function(e){return e.nodeName.toLowerCase()===t.toLowerCase()}))},unwrap:function(e,t){for(var n=t.createDocumentFragment(),r=Array.prototype.slice.call(e.childNodes),i=0;i<r.length;i++)n.appendChild(r[i]);n.childNodes.length?e.parentNode.replaceChild(n,e):e.parentNode.removeChild(e)},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}};e.util=a}(window),(t=function(t){e.util.extend(this,t)}).extend=function(t){var n,r=this;n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return r.apply(this,arguments)},e.util.extend(n,r);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,t&&e.util.extend(n.prototype,t),n},t.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(e){return this.base.options[e]}},["execAction","on","off","subscribe","trigger"].forEach((function(e){t.prototype[e]=function(){return this.base[e].apply(this.base,arguments)}})),e.Extension=t,function(){function t(t){return e.util.isBlockContainer(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var n={findMatchingSelectionParent:function(t,n){var r,i=n.getSelection();return 0!==i.rangeCount&&(r=i.getRangeAt(0).commonAncestorContainer,e.util.traverseUp(r,t))},getSelectionElement:function(t){return this.findMatchingSelectionParent((function(t){return e.util.isMediumEditorElement(t)}),t)},exportSelection:function(e,t){if(!e)return null;var n=null,r=t.getSelection();if(r.rangeCount>0){var i,o=r.getRangeAt(0),a=o.cloneRange();a.selectNodeContents(e),a.setEnd(o.startContainer,o.startOffset),n={start:i=a.toString().length,end:i+o.toString().length},this.doesRangeStartWithImages(o,t)&&(n.startsWithImage=!0);var s=this.getTrailingImageCount(e,n,o.endContainer,o.endOffset);if(s&&(n.trailingImageCount=s),0!==i){var c=this.getIndexRelativeToAdjacentEmptyBlocks(t,e,o.startContainer,o.startOffset);-1!==c&&(n.emptyBlocksIndex=c)}}return n},importSelection:function(e,t,n,r){if(e&&t){var i=n.createRange();i.setStart(t,0),i.collapse(!0);var o,a=t,s=[],c=0,l=!1,u=!1,d=0,f=!1,p=!1,h=null;for((r||e.startsWithImage||void 0!==e.emptyBlocksIndex)&&(p=!0);!f&&a;)if(a.nodeType>3)a=s.pop();else{if(3!==a.nodeType||u){if(e.trailingImageCount&&u&&("img"===a.nodeName.toLowerCase()&&d++,d===e.trailingImageCount)){for(var m=0;a.parentNode.childNodes[m]!==a;)m++;i.setEnd(a.parentNode,m+1),f=!0}if(!f&&1===a.nodeType)for(var v=a.childNodes.length-1;v>=0;)s.push(a.childNodes[v]),v-=1}else o=c+a.length,!l&&e.start>=c&&e.start<=o&&(p||e.start<o?(i.setStart(a,e.start-c),l=!0):h=a),l&&e.end>=c&&e.end<=o&&(e.trailingImageCount?u=!0:(i.setEnd(a,e.end-c),f=!0)),c=o;f||(a=s.pop())}!l&&h&&(i.setStart(h,h.length),i.setEnd(h,h.length)),void 0!==e.emptyBlocksIndex&&(i=this.importSelectionMoveCursorPastBlocks(n,t,e.emptyBlocksIndex,i)),r&&(i=this.importSelectionMoveCursorPastAnchor(e,i)),this.selectRange(n,i)}},importSelectionMoveCursorPastAnchor:function(t,n){if(t.start===t.end&&3===n.startContainer.nodeType&&n.startOffset===n.startContainer.nodeValue.length&&e.util.traverseUp(n.startContainer,(function(e){return"a"===e.nodeName.toLowerCase()}))){for(var r=n.startContainer,i=n.startContainer.parentNode;null!==i&&"a"!==i.nodeName.toLowerCase();)i.childNodes[i.childNodes.length-1]!==r?i=null:(r=i,i=i.parentNode);if(null!==i&&"a"===i.nodeName.toLowerCase()){for(var o=null,a=0;null===o&&a<i.parentNode.childNodes.length;a++)i.parentNode.childNodes[a]===i&&(o=a);n.setStart(i.parentNode,o+1),n.collapse(!0)}}return n},importSelectionMoveCursorPastBlocks:function(n,r,i,o){var a,s,c=n.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,t,!1),l=o.startContainer,u=0;for(i=i||1,a=3===l.nodeType&&e.util.isBlockContainer(l.previousSibling)?l.previousSibling:e.util.getClosestBlockContainer(l);c.nextNode();)if(s){if(s=c.currentNode,++u===i)break;if(s.textContent.length>0)break}else a===c.currentNode&&(s=c.currentNode);return s||(s=a),o.setStart(e.util.getFirstSelectableLeafNode(s),0),o},getIndexRelativeToAdjacentEmptyBlocks:function(n,r,i,o){if(i.textContent.length>0&&o>0)return-1;var a=i;if(3!==a.nodeType&&(a=i.childNodes[o]),a){if(!e.util.isElementAtBeginningOfBlock(a))return-1;var s=e.util.findPreviousSibling(a);if(!s)return-1;if(s.nodeValue)return-1}for(var c=e.util.getClosestBlockContainer(i),l=n.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,t,!1),u=0;l.nextNode();){var d=""===l.currentNode.textContent;if((d||u>0)&&(u+=1),l.currentNode===c)return u;d||(u=0)}return u},doesRangeStartWithImages:function(e,t){if(0!==e.startOffset||1!==e.startContainer.nodeType)return!1;if("img"===e.startContainer.nodeName.toLowerCase())return!0;var n=e.startContainer.querySelector("img");if(!n)return!1;for(var r=t.createTreeWalker(e.startContainer,NodeFilter.SHOW_ALL,null,!1);r.nextNode();){var i=r.currentNode;if(i===n)break;if(i.nodeValue)return!1}return!0},getTrailingImageCount:function(e,t,n,r){if(0===r||1!==n.nodeType)return 0;if("img"!==n.nodeName.toLowerCase()&&!n.querySelector("img"))return 0;for(var i=n.childNodes[r-1];i.hasChildNodes();)i=i.lastChild;for(var o,a=e,s=[],c=0,l=!1,u=!1,d=!1,f=0;!d&&a;)if(a.nodeType>3)a=s.pop();else{if(3!==a.nodeType||u){if("img"===a.nodeName.toLowerCase()&&f++,a===i)d=!0;else if(1===a.nodeType)for(var p=a.childNodes.length-1;p>=0;)s.push(a.childNodes[p]),p-=1}else f=0,o=c+a.length,!l&&t.start>=c&&t.start<=o&&(l=!0),l&&t.end>=c&&t.end<=o&&(u=!0),c=o;d||(a=s.pop())}return f},selectionContainsContent:function(e){var t=e.getSelection();if(!t||t.isCollapsed||!t.rangeCount)return!1;if(""!==t.toString().trim())return!0;var n=this.getSelectedParentElement(t.getRangeAt(0));return!(!n||!("img"===n.nodeName.toLowerCase()||1===n.nodeType&&n.querySelector("img")))},selectionInContentEditableFalse:function(e){var t,n=this.findMatchingSelectionParent((function(e){var n=e&&e.getAttribute("contenteditable");return"true"===n&&(t=!0),"#text"!==e.nodeName&&"false"===n}),e);return!t&&n},getSelectionHtml:function(e){var t,n,r,i="",o=e.getSelection();if(o.rangeCount){for(r=e.createElement("div"),t=0,n=o.rangeCount;t<n;t+=1)r.appendChild(o.getRangeAt(t).cloneContents());i=r.innerHTML}return i},getCaretOffsets:function(e,t){var n,r;return t||(t=window.getSelection().getRangeAt(0)),n=t.cloneRange(),r=t.cloneRange(),n.selectNodeContents(e),n.setEnd(t.endContainer,t.endOffset),r.selectNodeContents(e),r.setStart(t.endContainer,t.endOffset),{left:n.toString().length,right:r.toString().length}},rangeSelectsSingleNode:function(e){var t=e.startContainer;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===e.startOffset+1},getSelectedParentElement:function(e){return e?this.rangeSelectsSingleNode(e)&&3!==e.startContainer.childNodes[e.startOffset].nodeType?e.startContainer.childNodes[e.startOffset]:3===e.startContainer.nodeType?e.startContainer.parentNode:e.startContainer:null},getSelectedElements:function(e){var t,n,r,i=e.getSelection();if(!i.rangeCount||i.isCollapsed||!i.getRangeAt(0).commonAncestorContainer)return[];if(3===(t=i.getRangeAt(0)).commonAncestorContainer.nodeType){for(n=[],r=t.commonAncestorContainer;r.parentNode&&1===r.parentNode.childNodes.length;)n.push(r.parentNode),r=r.parentNode;return n}return[].filter.call(t.commonAncestorContainer.getElementsByTagName("*"),(function(e){return"function"!=typeof i.containsNode||i.containsNode(e,!0)}))},selectNode:function(e,t){var n=t.createRange();n.selectNodeContents(e),this.selectRange(t,n)},select:function(e,t,n,r,i){var o=e.createRange();return o.setStart(t,n),r?o.setEnd(r,i):o.collapse(!0),this.selectRange(e,o),o},clearSelection:function(e,t){t?e.getSelection().collapseToStart():e.getSelection().collapseToEnd()},moveCursor:function(e,t,n){this.select(e,t,n)},getSelectionRange:function(e){var t=e.getSelection();return 0===t.rangeCount?null:t.getRangeAt(0)},selectRange:function(e,t){var n=e.getSelection();n.removeAllRanges(),n.addRange(t)},getSelectionStart:function(e){var t=e.getSelection().anchorNode;return t&&3===t.nodeType?t.parentNode:t}};e.selection=n}(),function(){function t(t,n){return!!t&&t.some((function(t){if("function"!=typeof t.getInteractionElements)return!1;var r=t.getInteractionElements();return!!r&&(Array.isArray(r)||(r=[r]),r.some((function(t){return e.util.isDescendant(t,n,!0)})))}))}var n=function(e){this.base=e,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};n.prototype={InputEventOnContenteditableSupported:!e.util.isIE&&!e.util.isEdge,attachDOMEvent:function(t,n,r,i){var o=this.base.options.contentWindow,a=this.base.options.ownerDocument;t=e.util.isElement(t)||[o,a].indexOf(t)>-1?[t]:t,Array.prototype.forEach.call(t,function(e){e.addEventListener(n,r,i),this.events.push([e,n,r,i])}.bind(this))},detachDOMEvent:function(t,n,r,i){var o,a,s=this.base.options.contentWindow,c=this.base.options.ownerDocument;t&&(t=e.util.isElement(t)||[s,c].indexOf(t)>-1?[t]:t,Array.prototype.forEach.call(t,function(e){-1!==(o=this.indexOfListener(e,n,r,i))&&(a=this.events.splice(o,1)[0])[0].removeEventListener(a[1],a[2],a[3])}.bind(this)))},indexOfListener:function(e,t,n,r){var i,o,a;for(i=0,o=this.events.length;i<o;i+=1)if((a=this.events[i])[0]===e&&a[1]===t&&a[2]===n&&a[3]===r)return i;return-1},detachAllDOMEvents:function(){for(var e=this.events.pop();e;)e[0].removeEventListener(e[1],e[2],e[3]),e=this.events.pop()},detachAllEventsFromElement:function(e){for(var t=this.events.filter((function(t){return t&&t[0].getAttribute&&t[0].getAttribute("medium-editor-index")===e.getAttribute("medium-editor-index")})),n=0,r=t.length;n<r;n++){var i=t[n];this.detachDOMEvent(i[0],i[1],i[2],i[3])}},attachAllEventsToElement:function(e){this.listeners.editableInput&&(this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML),this.eventsCache&&this.eventsCache.forEach((function(t){this.attachDOMEvent(e,t.name,t.handler.bind(this))}),this)},enableCustomEvent:function(e){void 0!==this.disabledEvents[e]&&delete this.disabledEvents[e]},disableCustomEvent:function(e){this.disabledEvents[e]=!0},attachCustomEvent:function(e,t){this.setupListener(e),this.customEvents[e]||(this.customEvents[e]=[]),this.customEvents[e].push(t)},detachCustomEvent:function(e,t){var n=this.indexOfCustomListener(e,t);-1!==n&&this.customEvents[e].splice(n,1)},indexOfCustomListener:function(e,t){return this.customEvents[e]&&this.customEvents[e].length?this.customEvents[e].indexOf(t):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(e,t,n){this.customEvents[e]&&!this.disabledEvents[e]&&this.customEvents[e].forEach((function(e){e(t,n)}))},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach((function(e){e.removeAttribute("data-medium-focused")}))},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(e){this.handleDocumentExecCommand(e)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var e=this.options.ownerDocument;if(this.execCommandListener&&e.execCommand.listeners){var t=e.execCommand.listeners.indexOf(this.execCommandListener);-1!==t&&e.execCommand.listeners.splice(t,1),e.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var e=this.options.ownerDocument;if(!e.execCommand.listeners){var t=function(t,n){e.execCommand.listeners&&e.execCommand.listeners.forEach((function(e){e({command:t[0],value:t[2],args:t,result:n})}))},n=function(){var n=e.execCommand.orig.apply(this,arguments);if(!e.execCommand.listeners)return n;var r=Array.prototype.slice.call(arguments);return t(r,n),n};n.orig=e.execCommand,n.listeners=[],n.callListeners=t,e.execCommand=n}},unwrapExecCommand:function(){var e=this.options.ownerDocument;e.execCommand.orig&&(e.execCommand=e.execCommand.orig)},setupListener:function(e){if(!this.listeners[e]){switch(e){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach((function(e){this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML}),this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":case"editableKeydownEnter":case"editableKeydownTab":case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[e]=!0}},attachToEachElement:function(e,t){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach((function(n){this.attachDOMEvent(n,e,t.bind(this))}),this),this.eventsCache.push({name:e,handler:t})},cleanupElement:function(e){var t=e.getAttribute("medium-editor-index");t&&(this.detachAllEventsFromElement(e),this.contentCache&&delete this.contentCache[t])},focusElement:function(e){e.focus(),this.updateFocus(e,{target:e,type:"focus"})},updateFocus:function(n,r){var i,o=this.base.getFocusedElement();o&&"click"===r.type&&this.lastMousedownTarget&&(e.util.isDescendant(o,this.lastMousedownTarget,!0)||t(this.base.extensions,this.lastMousedownTarget))&&(i=o),i||this.base.elements.some((function(t){return!i&&e.util.isDescendant(t,n,!0)&&(i=t),!!i}),this);var a=!e.util.isDescendant(o,n,!0)&&!t(this.base.extensions,n);i!==o&&(o&&a&&(o.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",r,o)),i&&(i.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",r,i))),a&&this.triggerCustomEvent("externalInteraction",r)},updateInput:function(e,t){if(this.contentCache){var n=e.getAttribute("medium-editor-index"),r=e.innerHTML;r!==this.contentCache[n]&&this.triggerCustomEvent("editableInput",t,e),this.contentCache[n]=r}},handleDocumentSelectionChange:function(t){if(t.currentTarget&&t.currentTarget.activeElement){var n,r=t.currentTarget.activeElement;this.base.elements.some((function(t){return!!e.util.isDescendant(t,r,!0)&&(n=t,!0)}),this),n&&this.updateInput(n,{target:r,currentTarget:n})}},handleDocumentExecCommand:function(){var e=this.base.getFocusedElement();e&&this.updateInput(e,{target:e,currentTarget:e})},handleBodyClick:function(e){this.updateFocus(e.target,e)},handleBodyFocus:function(e){this.updateFocus(e.target,e)},handleBodyMousedown:function(e){this.lastMousedownTarget=e.target},handleInput:function(e){this.updateInput(e.currentTarget,e)},handleClick:function(e){this.triggerCustomEvent("editableClick",e,e.currentTarget)},handleBlur:function(e){this.triggerCustomEvent("editableBlur",e,e.currentTarget)},handleKeypress:function(e){if(this.triggerCustomEvent("editableKeypress",e,e.currentTarget),this.keypressUpdateInput){var t={target:e.target,currentTarget:e.currentTarget};setTimeout(function(){this.updateInput(t.currentTarget,t)}.bind(this),0)}},handleKeyup:function(e){this.triggerCustomEvent("editableKeyup",e,e.currentTarget)},handleMouseover:function(e){this.triggerCustomEvent("editableMouseover",e,e.currentTarget)},handleDragging:function(e){this.triggerCustomEvent("editableDrag",e,e.currentTarget)},handleDrop:function(e){this.triggerCustomEvent("editableDrop",e,e.currentTarget)},handlePaste:function(e){this.triggerCustomEvent("editablePaste",e,e.currentTarget)},handleKeydown:function(t){return this.triggerCustomEvent("editableKeydown",t,t.currentTarget),e.util.isKey(t,e.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",t,t.currentTarget):e.util.isKey(t,e.util.keyCode.ENTER)||t.ctrlKey&&e.util.isKey(t,e.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",t,t.currentTarget):e.util.isKey(t,e.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",t,t.currentTarget):e.util.isKey(t,[e.util.keyCode.DELETE,e.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",t,t.currentTarget):void 0}},e.Events=n}(),n=e.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(t){n.isBuiltInButton(t)?e.Extension.call(this,this.defaults[t]):e.Extension.call(this,t)},init:function(){e.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"==typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"==typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var e=this.document.createElement("button"),t=this.contentDefault,n=this.getAria(),r=this.getEditorOption("buttonLabels");return e.classList.add("medium-editor-action"),e.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach((function(t){e.classList.add(t)})),e.setAttribute("data-action",this.getAction()),n&&(e.setAttribute("title",n),e.setAttribute("aria-label",n)),this.attrs&&Object.keys(this.attrs).forEach((function(t){e.setAttribute(t,this.attrs[t])}),this),"fontawesome"===r&&this.contentFA&&(t=this.contentFA),e.innerHTML=t,e},handleClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.getAction();t&&this.execAction(t)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var e=null;return this.useQueryState&&(e=this.base.queryCommandState(this.getAction())),e},isAlreadyApplied:function(e){var t,n,r=!1,i=this.getTagNames();return!1===this.knownState||!0===this.knownState?this.knownState:(i&&i.length>0&&(r=-1!==i.indexOf(e.nodeName.toLowerCase())),!r&&this.style&&(t=this.style.value.split("|"),n=this.window.getComputedStyle(e,null).getPropertyValue(this.style.prop),t.forEach((function(e){this.knownState||((r=-1!==n.indexOf(e))||"text-decoration"!==this.style.prop)&&(this.knownState=r)}),this)),r)}}),n.isBuiltInButton=function(t){return"string"==typeof t&&e.extensions.button.prototype.defaults.hasOwnProperty(t)},e.extensions.button=n,e.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},html:{name:"html",action:"html",aria:"evaluate html",tagNames:["iframe","object"],contentDefault:"<b>html</b>",contentFA:'<i class="fa fa-code"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}},r=e.extensions.button.extend({init:function(){e.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return!!this.hasForm&&this.getForm().classList.contains(this.activeClass)},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.hideToolbarDefaultActions()},setToolbarPosition:function(){var e=this.base.getExtensionByName("toolbar");e&&e.setToolbarPosition()}}),e.extensions.form=r,i=e.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(t){t.preventDefault(),t.stopPropagation();var n=e.selection.getSelectionRange(this.document);return"a"===n.startContainer.nodeName.toLowerCase()||"a"===n.endContainer.nodeName.toLowerCase()||e.util.getClosestTag(e.selection.getSelectedParentElement(n),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(t){e.util.isKey(t,e.util.keyCode.K)&&e.util.isMetaCtrlKey(t)&&!t.shiftKey&&this.handleClick(t)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var e=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return e.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),e.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target" id="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">','<label for="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">',this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),e.join("")},isDisplayed:function(){return e.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){e.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(t){var n=this.getInput(),r=this.getAnchorTargetCheckbox(),i=this.getAnchorButtonCheckbox();if("string"==typeof(t=t||{value:""})&&(t={value:t}),this.base.saveSelection(),this.hideToolbarDefaultActions(),e.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),n.value=t.value,n.focus(),r&&(r.checked="_blank"===t.target),i){var o=t.buttonClass?t.buttonClass.split(" "):[];i.checked=-1!==o.indexOf(this.customClassOption)}},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},getFormOpts:function(){var e=this.getAnchorTargetCheckbox(),t=this.getAnchorButtonCheckbox(),n={value:this.getInput().value.trim()};return this.linkValidation&&(n.value=this.checkLinkFormat(n.value)),n.target="_self",e&&e.checked&&(n.target="_blank"),t&&t.checked&&(n.buttonClass=this.customClassOption),n},doFormSave:function(){var e=this.getFormOpts();this.completeFormSave(e)},completeFormSave:function(e){this.base.restoreSelection(),this.execAction(this.action,e),this.base.checkSelection()},ensureEncodedUri:function(e){return e===decodeURI(e)?encodeURI(e):e},ensureEncodedUriComponent:function(e){return e===decodeURIComponent(e)?encodeURIComponent(e):e},ensureEncodedParam:function(e){var t=e.split("="),n=t[0],r=t[1];return n+(void 0===r?"":"="+this.ensureEncodedUriComponent(r))},ensureEncodedQuery:function(e){return e.split("&").map(this.ensureEncodedParam.bind(this)).join("&")},checkLinkFormat:function(e){var t=/^([a-z]+:)?\/\/|^(mailto|tel|maps):|^\#/i.test(e),n="",r=e.match(/^(.*?)(?:\?(.*?))?(?:#(.*))?$/),i=r[1],o=r[2],a=r[3];if(/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/.test(e))return"tel:"+e;if(!t){var s=i.split("/")[0];(s.match(/.+(\.|:).+/)||"localhost"===s)&&(n="http://")}return n+this.ensureEncodedUri(i)+(void 0===o?"":"?"+this.ensureEncodedQuery(o))+(void 0===a?"":"#"+a)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(e){var t=e.querySelector(".medium-editor-toolbar-close"),n=e.querySelector(".medium-editor-toolbar-save"),r=e.querySelector(".medium-editor-toolbar-input");this.on(e,"click",this.handleFormClick.bind(this)),this.on(r,"keyup",this.handleTextboxKeyup.bind(this)),this.on(t,"click",this.handleCloseClick.bind(this)),this.on(n,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var e=this.document.createElement("div");return e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),e.innerHTML=this.getTemplate(),this.attachFormEvents(e),e},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(t){if(t.keyCode===e.util.keyCode.ENTER)return t.preventDefault(),void this.doFormSave();t.keyCode===e.util.keyCode.ESCAPE&&(t.preventDefault(),this.doFormCancel())},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}}),e.extensions.anchor=i,o=e.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var e=this.document.createElement("div");return e.id="medium-editor-anchor-preview-"+this.getEditorId(),e.className="medium-editor-anchor-preview",e.innerHTML=this.getTemplate(),this.on(e,"click",this.handleClick.bind(this)),e},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview&&this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(e){return!(!this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&!e.getAttribute("data-disable-preview"))||(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=e.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=e.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=e,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(e){e=e||this.activeAnchor;var t,n,r,i,o,a=this.window.innerWidth,s=this.anchorPreview.offsetHeight,c=e.getBoundingClientRect(),l=this.diffLeft,u=this.diffTop,d=this.getEditorOption("elementsContainer"),f=["absolute","fixed"].indexOf(window.getComputedStyle(d).getPropertyValue("position"))>-1,p={};t=this.anchorPreview.offsetWidth/2;var h=this.base.getExtensionByName("toolbar");h&&(l=h.diffLeft,u=h.diffTop),n=l-t,f?(i=d.getBoundingClientRect(),["top","left"].forEach((function(e){p[e]=c[e]-i[e]})),p.width=c.width,p.height=c.height,c=p,a=i.width,o=d.scrollTop):o=this.window.pageYOffset,r=c.left+c.width/2,o+=s+c.top+c.height-u-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(o)+"px",this.anchorPreview.style.right="initial",r<t?(this.anchorPreview.style.left=n+t+"px",this.anchorPreview.style.right="initial"):a-r<t?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=n+r+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(e){var t=this.base.getExtensionByName("anchor"),n=this.activeAnchor;t&&n&&(e.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(n){var e={value:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};t.showForm(e),n=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(t){var n=e.util.getClosestTag(t.target,"a");if(!1!==n){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(n.outerHTML)||/href=["']#\S+["']/.test(n.outerHTML)))return!0;var r=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&r&&r.isDisplayed&&r.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==n&&this.detachPreviewHandlers(),this.anchorToPreview=n,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;(new Date).getTime()-this.lastOver>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}}),e.extensions.anchorPreview=o,function(){var t,n,r;t=[" ","\t","\n","\r"," "," "," "," "," ","\u2028","\u2029"],n=new RegExp("^(com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw)$","i"),r=new RegExp("(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.](com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw)\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?«»“”‘’])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.(com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw))","gi");var i=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var e=0,t=0;t<this.window._mediumEditors.length;t++){var n=this.window._mediumEditors[t];null!==n&&void 0!==n.getExtensionByName("autoLink")&&e++}return 1===e},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(e,t){this.performLinking(t)},onKeypress:function(t){this.disableEventHandling||e.util.isKey(t,[e.util.keyCode.SPACE,e.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var e=this.base.exportSelection();this.performLinking(t.target)&&this.base.importSelection(e,!0)}catch(e){window.console&&window.console.error("Failed to perform linking",e),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(t){var n=e.util.splitByBlockElements(t),r=!1;0===n.length&&(n=[t]);for(var i=0;i<n.length;i++)r=this.removeObsoleteAutoLinkSpans(n[i])||r,r=this.performLinkingWithinElement(n[i])||r;return this.base.events.updateInput(t,{target:t,currentTarget:t}),r},removeObsoleteAutoLinkSpans:function(t){if(!t||3===t.nodeType)return!1;for(var n,r=t.querySelectorAll('span[data-auto-link="true"]'),i=!1,o=0;o<r.length;o++){var a=r[o].textContent;if(-1===a.indexOf("://")&&(a=e.util.ensureUrlHasProtocol(a)),r[o].getAttribute("data-href")!==a&&(n=r[o],!e.util.getClosestTag(n,"a"))){i=!0;var s=a.replace(/\s+$/,"");if(r[o].getAttribute("data-href")===s){var c=a.length-s.length,l=e.util.splitOffDOMTree(r[o],this.splitTextBeforeEnd(r[o],c));r[o].parentNode.insertBefore(l,r[o].nextSibling)}else e.util.unwrap(r[o],this.document)}}return i},splitTextBeforeEnd:function(e,t){for(var n,r,i,o=this.document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),a=!0;a;)a=null!==o.lastChild();for(;t>0&&null!==i;)(r=(n=o.currentNode).nodeValue).length>t?(i=n.splitText(r.length-t),t=0):(i=o.previousNode(),t-=r.length);return i},performLinkingWithinElement:function(t){for(var n=this.findLinkableText(t),r=0;r<n.length;r++){var i=e.util.findOrCreateMatchingTextNodes(this.document,t,n[r]);this.shouldNotLink(i)||this.createAutoLink(i,n[r].href)}return!1},shouldNotLink:function(t){for(var n=!1,r=0;r<t.length&&!1===n;r++)n=!!e.util.traverseUp(t[r],(function(e){return"a"===e.nodeName.toLowerCase()||e.getAttribute&&"true"===e.getAttribute("data-auto-link")}));return n},findLinkableText:function(e){for(var i=e.textContent,o=null,a=[];null!==(o=r.exec(i));){var s=o.index+o[0].length;!(0!==o.index&&-1===t.indexOf(i[o.index-1])||s!==i.length&&-1===t.indexOf(i[s]))&&(-1!==o[0].indexOf("/")||n.test(o[0].split(".").pop().split("?").shift()))&&a.push({href:o[0],start:o.index,end:s})}return a},createAutoLink:function(t,n){n=e.util.ensureUrlHasProtocol(n);var r=e.util.createLink(this.document,t,n,this.getEditorOption("targetBlank")?"_blank":null),i=this.document.createElement("span");for(i.setAttribute("data-auto-link","true"),i.setAttribute("data-href",n),r.insertBefore(i,r.firstChild);r.childNodes.length>1;)i.appendChild(r.childNodes[1])}});e.extensions.autoLink=i}(),function(){var t="medium-editor-dragover";function n(n){var r=e.util.getContainerEditorElement(n);Array.prototype.slice.call(r.parentElement.querySelectorAll("."+t)).forEach((function(e){e.classList.remove(t)}))}var r=e.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy";var r=e.target.classList?e.target:e.target.parentElement;n(r),"dragover"===e.type&&r.classList.add(t)},handleDrop:function(e){e.preventDefault(),e.stopPropagation(),this.base.selectElement(e.target);var t=this.base.exportSelection();t.start=t.end,this.base.importSelection(t),e.dataTransfer.files&&Array.prototype.slice.call(e.dataTransfer.files).forEach((function(e){this.isAllowedFile(e)&&e.type.match("image")&&this.insertImageFile(e)}),this),n(e.target)},isAllowedFile:function(e){return this.allowedTypes.some((function(t){return!!e.type.match(t)}))},insertImageFile:function(t){if("function"==typeof FileReader){var n=new FileReader;n.readAsDataURL(t),n.addEventListener("load",function(t){var n=this.document.createElement("img");n.src=t.target.result,e.util.insertHTMLCommand(this.document,n.outerHTML)}.bind(this))}}});e.extensions.fileDragging=r}(),a=e.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach((function(e){var t=e.key.charCodeAt(0);this.keys[t]||(this.keys[t]=[]),this.keys[t].push(e)}),this)},handleKeydown:function(t){var n=e.util.getKeyCode(t);if(this.keys[n]){var r=e.util.isMetaCtrlKey(t),i=!!t.shiftKey,o=!!t.altKey;this.keys[n].forEach((function(e){e.meta!==r||e.shift!==i||e.alt!==o&&void 0!==e.alt||(t.preventDefault(),t.stopPropagation(),"function"==typeof e.command?e.command.apply(this):!1!==e.command&&this.execAction(e.command))}),this)}}}),e.extensions.keyboardCommands=a,s=e.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontName")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(e){var t=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var e,t=this.document,n=t.createElement("div"),r=t.createElement("select"),i=t.createElement("a"),o=t.createElement("a");n.className="medium-editor-toolbar-form",n.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(n,"click",this.handleFormClick.bind(this));for(var a=0;a<this.fonts.length;a++)(e=t.createElement("option")).innerHTML=this.fonts[a],e.value=this.fonts[a],r.appendChild(e);return r.className="medium-editor-toolbar-select",n.appendChild(r),this.on(r,"change",this.handleFontChange.bind(this)),o.setAttribute("href","#"),o.className="medium-editor-toobar-save",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",n.appendChild(o),this.on(o,"click",this.handleSaveClick.bind(this),!0),i.setAttribute("href","#"),i.className="medium-editor-toobar-close",i.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",n.appendChild(i),this.on(i,"click",this.handleCloseClick.bind(this)),n},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){e.selection.getSelectedElements(this.document).forEach((function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("face")&&e.removeAttribute("face")}))},handleFontChange:function(){var e=this.getSelect().value;""===e?this.clearFontName():this.execAction("fontName",{value:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}}),e.extensions.fontName=s,c=e.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontSize")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(e){var t=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var e=this.document,t=e.createElement("div"),n=e.createElement("input"),r=e.createElement("a"),i=e.createElement("a");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(t,"click",this.handleFormClick.bind(this)),n.setAttribute("type","range"),n.setAttribute("min","1"),n.setAttribute("max","7"),n.className="medium-editor-toolbar-input",t.appendChild(n),this.on(n,"change",this.handleSliderChange.bind(this)),i.setAttribute("href","#"),i.className="medium-editor-toobar-save",i.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",t.appendChild(i),this.on(i,"click",this.handleSaveClick.bind(this),!0),r.setAttribute("href","#"),r.className="medium-editor-toobar-close",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",t.appendChild(r),this.on(r,"click",this.handleCloseClick.bind(this)),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){e.selection.getSelectedElements(this.document).forEach((function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("size")&&e.removeAttribute("size")}))},handleSliderChange:function(){var e=this.getInput().value;"4"===e?this.clearFontSize():this.execAction("fontSize",{value:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}}),e.extensions.fontSize=c,function(){var t="%ME_PASTEBIN%",n=null,r=null,i=function(e){e.stopPropagation()};function o(e,t,n){var r=e.clipboardData||t.clipboardData||n.dataTransfer,i={};if(!r)return i;if(r.getData){var o=r.getData("Text");o&&o.length>0&&(i["text/plain"]=o)}if(r.types)for(var a=0;a<r.types.length;a++){var s=r.types[a];i[s]=r.getData(s)}return i}var a=e.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],unwrapTags:[],init:function(){e.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.getEditorElements().forEach((function(e){this.on(e,"paste",this.handlePaste.bind(this))}),this),this.subscribe("addElement",this.handleAddElement.bind(this)))},handleAddElement:function(e,t){this.on(t,"paste",this.handlePaste.bind(this))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(e,t){if(!e.defaultPrevented){var n=o(e,this.window,this.document),r=n["text/html"],i=n["text/plain"];this.window.clipboardData&&void 0===e.clipboardData&&!r&&(r=i),(r||i)&&(e.preventDefault(),this.doPaste(r,i,t))}},doPaste:function(t,n,r){var i,o,a="";if(this.cleanPastedHTML&&t)return this.cleanPaste(t);if(n){if(this.getEditorOption("disableReturn")||r&&r.getAttribute("data-disable-return"))a=e.util.htmlEntities(n);else if((i=n.split(/[\r\n]+/g)).length>1)for(o=0;o<i.length;o+=1)""!==i[o]&&(a+="<p>"+e.util.htmlEntities(i[o])+"</p>");else a=e.util.htmlEntities(i[0]);e.util.insertHTMLCommand(this.document,a)}},handlePasteBinPaste:function(e){if(e.defaultPrevented)this.removePasteBin();else{var t=o(e,this.window,this.document),n=t["text/html"],i=t["text/plain"],a=r;if(!this.cleanPastedHTML||n)return e.preventDefault(),this.removePasteBin(),this.doPaste(n,i,a),void this.trigger("editablePaste",{currentTarget:a,target:a},a);setTimeout(function(){this.cleanPastedHTML&&(n=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(n,i,a),this.trigger("editablePaste",{currentTarget:a,target:a},a)}.bind(this),0)}},handleKeydown:function(t,n){e.util.isKey(t,e.util.keyCode.V)&&e.util.isMetaCtrlKey(t)&&(t.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(n))},createPasteBin:function(o){var a,s=e.selection.getSelectionRange(this.document),c=this.window.pageYOffset;r=o,s&&((a=s.getClientRects()).length?c+=a[0].top:void 0!==s.startContainer.getBoundingClientRect?c+=s.startContainer.getBoundingClientRect().top:c+=s.getBoundingClientRect().top),n=s;var l=this.document.createElement("div");l.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),l.setAttribute("style","border: 1px red solid; position: absolute; top: "+c+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),l.setAttribute("contentEditable",!0),l.innerHTML=t,this.document.body.appendChild(l),this.on(l,"focus",i),this.on(l,"focusin",i),this.on(l,"focusout",i),l.focus(),e.selection.selectNode(l,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(l,"paste",this.boundHandlePaste)},removePasteBin:function(){null!==n&&(e.selection.selectRange(this.document,n),n=null),null!==r&&(r=null);var t=this.getPasteBin();t&&t&&(this.off(t,"focus",i),this.off(t,"focusin",i),this.off(t,"focusout",i),this.off(t,"paste",this.boundHandlePaste),t.parentElement.removeChild(t))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var e=this.getPasteBin();if(!e)return!1;if(e.firstChild&&"mcepastebin"===e.firstChild.id)return!1;var n=e.innerHTML;return!(!n||n===t)&&n},cleanPaste:function(e){var t,n,r,i,o=/<p|<br|<div/.test(e),a=[].concat(this.preCleanReplacements||[],[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:(bold|700)|font-weight:(bold|700);font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:(bold|700)[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|“|”)(((?!&quot;|&rdquo;|&ldquo;|"|“|”).)*)(?:&quot;|&rdquo;|&ldquo;|"|“|”)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]],this.cleanReplacements||[]);for(t=0;t<a.length;t+=1)e=e.replace(a[t][0],a[t][1]);if(!o)return this.pasteHTML(e);for((r=this.document.createElement("div")).innerHTML="<p>"+e.split("<br><br>").join("</p><p>")+"</p>",n=r.querySelectorAll("a,p,div,br"),t=0;t<n.length;t+=1)switch((i=n[t]).innerHTML=i.innerHTML.replace(/\n/gi," "),i.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(i);break;case"br":this.filterLineBreak(i)}this.pasteHTML(r.innerHTML)},pasteHTML:function(t,n){n=e.util.defaults({},n,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags,unwrapTags:this.unwrapTags});var r,i,o,a,s=this.document.createDocumentFragment();for(s.appendChild(this.document.createElement("body")),(a=s.querySelector("body")).innerHTML=t,this.cleanupSpans(a),r=a.querySelectorAll("*"),o=0;o<r.length;o+=1)"a"===(i=r[o]).nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&e.util.setTargetBlank(i),e.util.cleanupAttrs(i,n.cleanAttrs),e.util.cleanupTags(i,n.cleanTags),e.util.unwrapTags(i,n.unwrapTags);e.util.insertHTMLCommand(this.document,a.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(e){return e&&("p"===e.nodeName.toLowerCase()||"div"===e.nodeName.toLowerCase())},filterCommonBlocks:function(e){/^\s*$/.test(e.textContent)&&e.parentNode&&e.parentNode.removeChild(e)},filterLineBreak:function(e){this.isCommonBlock(e.previousElementSibling)?this.removeWithParent(e):!this.isCommonBlock(e.parentNode)||e.parentNode.firstChild!==e&&e.parentNode.lastChild!==e?e.parentNode&&1===e.parentNode.childElementCount&&""===e.parentNode.textContent&&this.removeWithParent(e):this.removeWithParent(e)},removeWithParent:function(e){e&&e.parentNode&&(e.parentNode.parentNode&&1===e.parentNode.childElementCount?e.parentNode.parentNode.removeChild(e.parentNode):e.parentNode.removeChild(e))},cleanupSpans:function(t){var n,r,i,o=t.querySelectorAll(".replace-with"),a=function(e){return e&&"#text"!==e.nodeName&&"false"===e.getAttribute("contenteditable")};for(n=0;n<o.length;n+=1)r=o[n],i=this.document.createElement(r.classList.contains("bold")?"b":"i"),r.classList.contains("bold")&&r.classList.contains("italic")?i.innerHTML="<i>"+r.innerHTML+"</i>":i.innerHTML=r.innerHTML,r.parentNode.replaceChild(i,r);for(o=t.querySelectorAll("span"),n=0;n<o.length;n+=1){if(r=o[n],e.util.traverseUp(r,a))return!1;e.util.unwrap(r,this.document)}}});e.extensions.paste=a}(),l=e.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(this.initElement,this)},handleAddElement:function(e,t){this.initElement(t)},initElement:function(e){e.getAttribute("data-placeholder")||e.setAttribute("data-placeholder",this.text),this.updatePlaceholder(e)},destroy:function(){this.getEditorElements().forEach(this.cleanupElement,this)},handleRemoveElement:function(e,t){this.cleanupElement(t)},cleanupElement:function(e){e.getAttribute("data-placeholder")===this.text&&e.removeAttribute("data-placeholder")},showPlaceholder:function(t){t&&(e.util.isFF&&0===t.childNodes.length?(t.classList.add("medium-editor-placeholder-relative"),t.classList.remove("medium-editor-placeholder")):(t.classList.add("medium-editor-placeholder"),t.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(e){e&&(e.classList.remove("medium-editor-placeholder"),e.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(e,t){if(e.querySelector("img, blockquote, ul, ol, table")||""!==e.textContent.replace(/^\s+|\s+$/g,""))return this.hidePlaceholder(e);t||this.showPlaceholder(e)},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("addElement",this.handleAddElement.bind(this)),this.subscribe("removeElement",this.handleRemoveElement.bind(this))},handleInput:function(e,t){var n=this.hideOnClick&&t===this.base.getFocusedElement();this.updatePlaceholder(t,n)},handleFocus:function(e,t){this.hidePlaceholder(t)},handleBlur:function(e,t){this.updatePlaceholder(t)}}),e.extensions.placeholder=l,u=e.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(e,t){return this.base.extensions.forEach((function(n){if(n!==this)return e.apply(t||this,arguments)}),this)},createToolbar:function(){var e=this.document.createElement("div");return e.id="medium-editor-toolbar-"+this.getEditorId(),e.className="medium-editor-toolbar",this.static?e.className+=" static-toolbar":this.relativeContainer?e.className+=" medium-editor-relative-toolbar":e.className+=" medium-editor-stalker-toolbar",e.appendChild(this.createToolbarButtons()),this.forEachExtension((function(t){t.hasForm&&e.appendChild(t.getForm())})),this.attachEventHandlers(),e},createToolbarButtons:function(){var t,n,r,i,o,a,s=this.document.createElement("ul");return s.id="medium-editor-toolbar-actions"+this.getEditorId(),s.className="medium-editor-toolbar-actions",s.style.display="block",this.buttons.forEach((function(r){"string"==typeof r?(o=r,a=null):(o=r.name,a=r),(i=this.base.addBuiltInExtension(o,a))&&"function"==typeof i.getButton&&(n=i.getButton(this.base),t=this.document.createElement("li"),e.util.isElement(n)?t.appendChild(n):t.innerHTML=n,s.appendChild(t))}),this),(r=s.querySelectorAll("button")).length>0&&(r[0].classList.add(this.firstButtonClass),r[r.length-1].classList.add(this.lastButtonClass)),s},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=e.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(t){if(t&&t.target&&e.util.isDescendant(this.getToolbarElement(),t.target))return!1;this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension((function(e){e.hasForm&&e.isDisplayed()&&e.hideForm()}))},multipleBlockElementsSelected:function(){var t=new RegExp("<("+e.util.blockContainerElementNames.join("|")+")[^>]*>","g"),n=e.selection.getSelectionHtml(this.document).replace(/<[^\/>][^>]*><\/[^>]+>/gim,"").match(t);return!!n&&n.length>1},modifySelection:function(){var t=this.window.getSelection().getRangeAt(0);if(this.standardizeSelectionStart&&t.startContainer.nodeValue&&t.startOffset===t.startContainer.nodeValue.length){var n=e.util.findAdjacentTextNodeWithContent(e.selection.getSelectionElement(this.window),t.startContainer,this.document);if(n){for(var r=0;0===n.nodeValue.substr(r,1).trim().length;)r+=1;t=e.selection.select(this.document,n,r,t.endContainer,t.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||e.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var t=e.selection.getSelectionElement(this.window);return!t||-1===this.getEditorElements().indexOf(t)||t.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this.static?this.showAndUpdateToolbar():!e.selection.selectionContainsContent(this.document)||!1===this.allowMultiParagraphSelection&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension((function(e){"function"==typeof e.isActive&&"function"==typeof e.setInactive&&e.setInactive()})),this.checkActiveButtons()},checkActiveButtons:function(){var t,n=[],r=null,i=e.selection.getSelectionRange(this.document),o=function(e){"function"==typeof e.checkState?e.checkState(t):"function"==typeof e.isActive&&"function"==typeof e.isAlreadyApplied&&"function"==typeof e.setActive&&!e.isActive()&&e.isAlreadyApplied(t)&&e.setActive()};if(i&&(this.forEachExtension((function(e){"function"!=typeof e.queryCommandState||null===(r=e.queryCommandState())?n.push(e):r&&"function"==typeof e.setActive&&e.setActive()})),t=e.selection.getSelectedParentElement(i),this.getEditorElements().some((function(n){return e.util.isDescendant(n,t,!0)}))))for(;t&&(n.forEach(o),!e.util.isMediumEditorElement(t));)t=t.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var e=this.base.getFocusedElement(),t=this.window.getSelection();if(!e)return this;!this.static&&t.isCollapsed||(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(e):this.positionToolbar(t)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))},positionStaticToolbar:function(e){this.getToolbarElement().style.left="0";var t,n=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,r=this.window.innerWidth,i=this.getToolbarElement(),o=e.getBoundingClientRect(),a=o.top+n,s=o.left+o.width/2,c=i.offsetHeight,l=i.offsetWidth,u=l/2;switch(this.sticky?n>a+e.offsetHeight-c-this.stickyTopOffset?(i.style.top=a+e.offsetHeight-c+"px",i.classList.remove("medium-editor-sticky-toolbar")):n>a-c-this.stickyTopOffset?(i.classList.add("medium-editor-sticky-toolbar"),i.style.top=this.stickyTopOffset+"px"):(i.classList.remove("medium-editor-sticky-toolbar"),i.style.top=a-c+"px"):i.style.top=a-c+"px",this.align){case"left":t=o.left;break;case"right":t=o.right-l;break;case"center":t=s-u}t<0?t=0:t+l>r&&(t=r-Math.ceil(l)-1),i.style.left=t+"px"},positionToolbar:function(e){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var t=e.getRangeAt(0),n=t.getBoundingClientRect();(!n||0===n.height&&0===n.width&&t.startContainer===t.endContainer)&&(n=1===t.startContainer.nodeType&&t.startContainer.querySelector("img")?t.startContainer.querySelector("img").getBoundingClientRect():t.startContainer.getBoundingClientRect());var r,i,o=this.window.innerWidth,a=this.getToolbarElement(),s=a.offsetHeight,c=a.offsetWidth/2,l=this.diffLeft-c,u=this.getEditorOption("elementsContainer"),d=["absolute","fixed"].indexOf(window.getComputedStyle(u).getPropertyValue("position"))>-1,f={},p={};d?(i=u.getBoundingClientRect(),["top","left"].forEach((function(e){p[e]=n[e]-i[e]})),p.width=n.width,p.height=n.height,n=p,o=i.width,f.top=u.scrollTop):f.top=this.window.pageYOffset,r=n.left+n.width/2,f.top+=n.top-s,n.top<50?(a.classList.add("medium-toolbar-arrow-over"),a.classList.remove("medium-toolbar-arrow-under"),f.top+=50+n.height-this.diffTop):(a.classList.add("medium-toolbar-arrow-under"),a.classList.remove("medium-toolbar-arrow-over"),f.top+=this.diffTop),r<c?(f.left=l+c,f.right="initial"):o-r<c?(f.left="auto",f.right=0):(f.left=l+r,f.right="initial"),["top","left","right"].forEach((function(e){a.style[e]=f[e]+(isNaN(f[e])?"":"px")}))}}),e.extensions.toolbar=u,d=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){var t="medium-editor-dragover";e.preventDefault(),e.dataTransfer.dropEffect="copy","dragover"===e.type?e.target.classList.add(t):"dragleave"===e.type&&e.target.classList.remove(t)},handleDrop:function(t){t.preventDefault(),t.stopPropagation(),t.dataTransfer.files&&Array.prototype.slice.call(t.dataTransfer.files,0).some(function(t){var n,r;t.type.match("image")&&((n=new FileReader).readAsDataURL(t),r="medium-img-"+ +new Date,e.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+r+'" />'),n.onload=function(){var e=this.document.getElementById(r);e&&(e.removeAttribute("id"),e.removeAttribute("class"),e.src=n.result)}.bind(this))}.bind(this)),t.target.classList.remove("medium-editor-dragover")}}),e.extensions.imageDragging=d,function(){function t(t){var n=e.selection.getSelectionStart(this.options.ownerDocument),r=n.textContent,i=e.selection.getCaretOffsets(n);(void 0===r[i.left-1]||""===r[i.left-1].trim()||void 0!==r[i.left]&&""===r[i.left].trim())&&t.preventDefault()}function n(t,n){if(this.options.disableReturn||n.getAttribute("data-disable-return"))t.preventDefault();else if(this.options.disableDoubleReturn||n.getAttribute("data-disable-double-return")){var r=e.selection.getSelectionStart(this.options.ownerDocument);(r&&""===r.textContent.trim()&&"li"!==r.nodeName.toLowerCase()||r.previousElementSibling&&"br"!==r.previousElementSibling.nodeName.toLowerCase()&&""===r.previousElementSibling.textContent.trim())&&t.preventDefault()}}function r(t){var n=e.selection.getSelectionStart(this.options.ownerDocument);"pre"===(n&&n.nodeName.toLowerCase())&&(t.preventDefault(),e.util.insertHTMLCommand(this.options.ownerDocument,"    ")),e.util.isListItem(n)&&(t.preventDefault(),t.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function i(t){var n,r=e.selection.getSelectionStart(this.options.ownerDocument),i=r.nodeName.toLowerCase(),o=/^(\s+|<br\/?>)?$/i,a=/h\d/i;e.util.isKey(t,[e.util.keyCode.BACKSPACE,e.util.keyCode.ENTER])&&r.previousElementSibling&&a.test(i)&&0===e.selection.getCaretOffsets(r).left?e.util.isKey(t,e.util.keyCode.BACKSPACE)&&o.test(r.previousElementSibling.innerHTML)?(r.previousElementSibling.parentNode.removeChild(r.previousElementSibling),t.preventDefault()):!this.options.disableDoubleReturn&&e.util.isKey(t,e.util.keyCode.ENTER)&&((n=this.options.ownerDocument.createElement("p")).innerHTML="<br>",r.previousElementSibling.parentNode.insertBefore(n,r),t.preventDefault()):e.util.isKey(t,e.util.keyCode.DELETE)&&r.nextElementSibling&&r.previousElementSibling&&!a.test(i)&&o.test(r.innerHTML)&&a.test(r.nextElementSibling.nodeName.toLowerCase())?(e.selection.moveCursor(this.options.ownerDocument,r.nextElementSibling),r.previousElementSibling.parentNode.removeChild(r),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&"li"===i&&o.test(r.innerHTML)&&!r.previousElementSibling&&!r.parentElement.previousElementSibling&&r.nextElementSibling&&"li"===r.nextElementSibling.nodeName.toLowerCase()?((n=this.options.ownerDocument.createElement("p")).innerHTML="<br>",r.parentElement.parentElement.insertBefore(n,r.parentElement),e.selection.moveCursor(this.options.ownerDocument,n),r.parentElement.removeChild(r),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&!1!==e.util.getClosestTag(r,"blockquote")&&0===e.selection.getCaretOffsets(r).left?(t.preventDefault(),e.util.execFormatBlock(this.options.ownerDocument,"p")):e.util.isKey(t,e.util.keyCode.ENTER)&&!1!==e.util.getClosestTag(r,"blockquote")&&0===e.selection.getCaretOffsets(r).right?((n=this.options.ownerDocument.createElement("p")).innerHTML="<br>",r.parentElement.insertBefore(n,r.nextSibling),e.selection.moveCursor(this.options.ownerDocument,n),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&e.util.isMediumEditorElement(r.parentElement)&&!r.previousElementSibling&&r.nextElementSibling&&o.test(r.innerHTML)&&(t.preventDefault(),e.selection.moveCursor(this.options.ownerDocument,r.nextSibling),r.parentElement.removeChild(r))}function o(t){var n=e.selection.getSelectionStart(this.options.ownerDocument);n&&(e.util.isMediumEditorElement(n)&&0===n.children.length&&!e.util.isBlockContainer(n)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),!e.util.isKey(t,e.util.keyCode.ENTER)||e.util.isListItem(n)||e.util.isBlockContainer(n)||("a"===n.nodeName.toLowerCase()?this.options.ownerDocument.execCommand("unlink",!1,null):t.shiftKey||t.ctrlKey||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function a(e,t){var n=t.parentNode.querySelector('textarea[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]');n&&(n.value=t.innerHTML.trim())}function s(e){e._mediumEditors||(e._mediumEditors=[null]),this.id||(this.id=e._mediumEditors.length),e._mediumEditors[this.id]=this}function c(e){e._mediumEditors&&e._mediumEditors[this.id]&&(e._mediumEditors[this.id]=null)}function l(t,n,r){var i=[];if(t||(t=[]),"string"==typeof t&&(t=n.querySelectorAll(t)),e.util.isElement(t)&&(t=[t]),r)for(var o=0;o<t.length;o++){var a=t[o];!e.util.isElement(a)||a.getAttribute("data-medium-editor-element")||a.getAttribute("medium-editor-textarea-id")||i.push(a)}else i=Array.prototype.slice.apply(t);return i}function u(e){var t=e.parentNode.querySelector('textarea[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]');t&&(t.classList.remove("medium-editor-hidden"),t.removeAttribute("medium-editor-textarea-id")),e.parentNode&&e.parentNode.removeChild(e)}function d(e,t,n){return"function"==typeof(e=function(e,t){return Object.keys(t).forEach((function(n){void 0===e[n]&&(e[n]=t[n])})),e}(e,{window:n.options.contentWindow,document:n.options.ownerDocument,base:n})).init&&e.init(),e.name||(e.name=t),e}function f(){return!this.elements.every((function(e){return!!e.getAttribute("data-disable-toolbar")}))&&!1!==this.options.toolbar}function p(){return!!f.call(this)&&!1!==this.options.anchorPreview}function h(){return!1!==this.options.placeholder}function m(){return!1!==this.options.autoLink}function v(){return!1!==this.options.imageDragging}function g(){return!1!==this.options.keyboardCommands}function _(){return!this.options.extensions.imageDragging}function b(e){for(var t=this.options.ownerDocument.createElement("div"),n=Date.now(),r="medium-editor-"+n,i=e.attributes;this.options.ownerDocument.getElementById(r);)n++,r="medium-editor-"+n;t.className=e.className,t.id=r,t.innerHTML=e.value,e.setAttribute("medium-editor-textarea-id",r);for(var o=0,a=i.length;o<a;o++)t.hasAttribute(i[o].nodeName)||t.setAttribute(i[o].nodeName,i[o].value);return e.form&&this.on(e.form,"reset",function(e){e.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(r))}.bind(this)),e.classList.add("medium-editor-hidden"),e.parentNode.insertBefore(t,e),t}function y(t,r){if(!t.getAttribute("data-medium-editor-element")){"textarea"===t.nodeName.toLowerCase()&&(t=b.call(this,t),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=a.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),this.options.disableEditing||t.getAttribute("data-disable-editing")||(t.setAttribute("contentEditable",!0),t.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(t.getAttribute("data-disable-return")||t.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=n.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),this.options.disableReturn||t.getAttribute("data-disable-return")||this.on(t,"keyup",o.bind(this));var i=e.util.guid();t.setAttribute("data-medium-editor-element",!0),t.classList.add("medium-editor-element"),t.setAttribute("role","textbox"),t.setAttribute("aria-multiline",!0),t.setAttribute("data-medium-editor-editor-index",r),t.setAttribute("medium-editor-index",i),x[i]=t.innerHTML,this.events.attachAllEventsToElement(t)}return t}function w(){this.subscribe("editableKeydownTab",r.bind(this)),this.subscribe("editableKeydownDelete",i.bind(this)),this.subscribe("editableKeydownEnter",i.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",t.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=n.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function k(){if(this.extensions=[],Object.keys(this.options.extensions).forEach((function(e){"toolbar"!==e&&this.options.extensions[e]&&this.extensions.push(d(this.options.extensions[e],e,this))}),this),_.call(this)){var t=this.options.fileDragging;t||(t={},v.call(this)||(t.allowedTypes=[])),this.addBuiltInExtension("fileDragging",t)}var n={paste:!0,"anchor-preview":p.call(this),autoLink:m.call(this),keyboardCommands:g.call(this),placeholder:h.call(this)};Object.keys(n).forEach((function(e){n[e]&&this.addBuiltInExtension(e)}),this);var r=this.options.extensions.toolbar;if(!r&&f.call(this)){var i=e.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});r=new e.extensions.toolbar(i)}r&&this.extensions.push(d(r,"toolbar",this))}function E(t,n){return n&&[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]].forEach((function(t){n.hasOwnProperty(t[0])&&void 0!==n[t[0]]&&e.util.deprecated(t[0],t[1],"v6.0.0")})),e.util.defaults({},n,t)}function C(t,n){var r,i;if(r=/^append-(.+)$/gi.exec(t))return e.util.execFormatBlock(this.options.ownerDocument,r[1]);if("fontSize"===t)return n.size&&e.util.deprecated(".size option for fontSize command",".value","6.0.0"),i=n.value||n.size,this.options.ownerDocument.execCommand("fontSize",!1,i);if("fontName"===t)return n.name&&e.util.deprecated(".name option for fontName command",".value","6.0.0"),i=n.value||n.name,this.options.ownerDocument.execCommand("fontName",!1,i);if("createLink"===t)return this.createLink(n);if("image"===t){var o=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,o)}if("html"===t){var a=this.options.contentWindow.getSelection().toString().trim();return e.util.insertHTMLCommand(this.options.ownerDocument,a)}if(/justify([A-Za-z]*)$/g.exec(t)){var s=this.options.ownerDocument.execCommand(t,!1,null),c=e.selection.getSelectedParentElement(e.selection.getSelectionRange(this.options.ownerDocument));return c&&S.call(this,e.util.getTopBlockContainer(c)),s}return i=n&&n.value,this.options.ownerDocument.execCommand(t,!1,i)}function S(t){if(t){var n,r=Array.prototype.slice.call(t.childNodes).filter((function(e){var t="div"===e.nodeName.toLowerCase();return t&&!n&&(n=e.style.textAlign),t}));r.length&&(this.saveSelection(),r.forEach((function(t){if(t.style.textAlign===n){var r=t.lastChild;if(r){e.util.unwrap(t,this.options.ownerDocument);var i=this.options.ownerDocument.createElement("BR");r.parentNode.insertBefore(i,r.nextSibling)}}}),this),t.style.textAlign=n,this.restoreSelection())}}var x={};e.prototype={init:function(e,t){return this.options=E.call(this,this.defaults,t),this.origElements=e,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(s.call(this,this.options.contentWindow),this.events=new e.Events(this),this.elements=[],this.addElements(this.origElements),0!==this.elements.length&&(this.isActive=!0,k.call(this),w.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach((function(e){"function"==typeof e.destroy&&e.destroy()}),this),this.events.destroy(),this.elements.forEach((function(e){this.options.spellcheck&&(e.innerHTML=e.innerHTML),e.removeAttribute("contentEditable"),e.removeAttribute("spellcheck"),e.removeAttribute("data-medium-editor-element"),e.classList.remove("medium-editor-element"),e.removeAttribute("role"),e.removeAttribute("aria-multiline"),e.removeAttribute("medium-editor-index"),e.removeAttribute("data-medium-editor-editor-index"),e.getAttribute("medium-editor-textarea-id")&&u(e)}),this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,c.call(this,this.options.contentWindow))},on:function(e,t,n,r){return this.events.attachDOMEvent(e,t,n,r),this},off:function(e,t,n,r){return this.events.detachDOMEvent(e,t,n,r),this},subscribe:function(e,t){return this.events.attachCustomEvent(e,t),this},unsubscribe:function(e,t){return this.events.detachCustomEvent(e,t),this},trigger:function(e,t,n){return this.events.triggerCustomEvent(e,t,n),this},delay:function(e){var t=this;return setTimeout((function(){t.isActive&&e()}),this.options.delay)},serialize:function(){var e,t={},n=this.elements.length;for(e=0;e<n;e+=1)t[""!==this.elements[e].id?this.elements[e].id:"element-"+e]={value:this.elements[e].innerHTML.trim()};return t},getExtensionByName:function(e){var t;return this.extensions&&this.extensions.length&&this.extensions.some((function(n){return n.name===e&&(t=n,!0)})),t},addBuiltInExtension:function(t,n){var r,i=this.getExtensionByName(t);if(i)return i;switch(t){case"anchor":r=e.util.extend({},this.options.anchor,n),i=new e.extensions.anchor(r);break;case"anchor-preview":i=new e.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":i=new e.extensions.autoLink;break;case"fileDragging":i=new e.extensions.fileDragging(n);break;case"fontname":i=new e.extensions.fontName(this.options.fontName);break;case"fontsize":i=new e.extensions.fontSize(n);break;case"keyboardCommands":i=new e.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":i=new e.extensions.paste(this.options.paste);break;case"placeholder":i=new e.extensions.placeholder(this.options.placeholder);break;default:e.extensions.button.isBuiltInButton(t)&&(n?(r=e.util.defaults({},n,e.extensions.button.prototype.defaults[t]),i=new e.extensions.button(r)):i=new e.extensions.button(t))}return i&&this.extensions.push(d(i,t,this)),i},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var e=this.getExtensionByName("toolbar");return e&&e.checkState(),this},queryCommandState:function(e){var t,n=null;(t=/^full-(.+)$/gi.exec(e))&&(e=t[1]);try{n=this.options.ownerDocument.queryCommandState(e)}catch(e){n=null}return n},execAction:function(t,n){var r,i;return(r=/^full-(.+)$/gi.exec(t))?(this.saveSelection(),this.selectAllContents(),i=C.call(this,r[1],n),this.restoreSelection()):i=C.call(this,t,n),"insertunorderedlist"!==t&&"insertorderedlist"!==t||e.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),i},getSelectedParentElement:function(t){return void 0===t&&(t=this.options.contentWindow.getSelection().getRangeAt(0)),e.selection.getSelectedParentElement(t)},selectAllContents:function(){var t=e.selection.getSelectionElement(this.options.contentWindow);if(t){for(;1===t.children.length;)t=t.children[0];this.selectElement(t)}},selectElement:function(t){e.selection.selectNode(t,this.options.ownerDocument);var n=e.selection.getSelectionElement(this.options.contentWindow);n&&this.events.focusElement(n)},getFocusedElement:function(){var e;return this.elements.some((function(t){return!e&&t.getAttribute("data-medium-focused")&&(e=t),!!e}),this),e},exportSelection:function(){var t=e.selection.getSelectionElement(this.options.contentWindow),n=this.elements.indexOf(t),r=null;return n>=0&&(r=e.selection.exportSelection(t,this.options.ownerDocument)),null!==r&&0!==n&&(r.editableElementIndex=n),r},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(t,n){if(t){var r=this.elements[t.editableElementIndex||0];e.selection.importSelection(t,r,this.options.ownerDocument,n)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(t){var n,r=e.selection.getSelectionElement(this.options.contentWindow),i={};if(-1!==this.elements.indexOf(r)){try{if(this.events.disableCustomEvent("editableInput"),t.url&&e.util.deprecated(".url option for createLink",".value","6.0.0"),(n=t.url||t.value)&&n.trim().length>0){var o=this.options.contentWindow.getSelection();if(o){var a,s,c,l,u=o.getRangeAt(0),d=u.commonAncestorContainer;if(3===u.endContainer.nodeType&&3!==u.startContainer.nodeType&&0===u.startOffset&&u.startContainer.firstChild===u.endContainer&&(d=u.endContainer),s=e.util.getClosestBlockContainer(u.startContainer),c=e.util.getClosestBlockContainer(u.endContainer),3!==d.nodeType&&0!==d.textContent.length&&s===c){var f=s||r,p=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),a=this.exportSelection(),p.appendChild(f.cloneNode(!0)),r===f?e.selection.select(this.options.ownerDocument,f.firstChild,0,f.lastChild,3===f.lastChild.nodeType?f.lastChild.nodeValue.length:f.lastChild.childNodes.length):e.selection.select(this.options.ownerDocument,f,0,f,f.childNodes.length);var h=this.exportSelection();0===(l=e.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,p,{start:a.start-h.start,end:a.end-h.start,editableElementIndex:a.editableElementIndex})).length&&((p=this.options.ownerDocument.createDocumentFragment()).appendChild(d.cloneNode(!0)),l=[p.firstChild.firstChild,p.firstChild.lastChild]),e.util.createLink(this.options.ownerDocument,l,n.trim());var m=(p.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;e.util.insertHTMLCommand(this.options.ownerDocument,p.firstChild.innerHTML.replace(/^\s+/,"")),a.start-=m,a.end-=m,this.importSelection(a)}else this.options.ownerDocument.execCommand("createLink",!1,n);this.options.targetBlank||"_blank"===t.target?e.util.setTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),n):e.util.removeTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),n),t.buttonClass&&e.util.addClassToAnchors(e.selection.getSelectionStart(this.options.ownerDocument),t.buttonClass)}}if(this.options.targetBlank||"_blank"===t.target||t.buttonClass){(i=this.options.ownerDocument.createEvent("HTMLEvents")).initEvent("input",!0,!0,this.options.contentWindow);for(var v=0,g=this.elements.length;v<g;v+=1)this.elements[v].dispatchEvent(i)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",i,r)}},cleanPaste:function(e){this.getExtensionByName("paste").cleanPaste(e)},pasteHTML:function(e,t){this.getExtensionByName("paste").pasteHTML(e,t)},setContent:function(e,t){if(t=t||0,this.elements[t]){var n=this.elements[t];n.innerHTML=e,this.checkContentChanged(n)}},getContent:function(e){return e=e||0,this.elements[e]?this.elements[e].innerHTML.trim():null},checkContentChanged:function(t){t=t||e.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(t,{target:t,currentTarget:t})},resetContent:function(e){if(e){var t=this.elements.indexOf(e);-1!==t&&this.setContent(x[e.getAttribute("medium-editor-index")],t)}else this.elements.forEach((function(e,t){this.setContent(x[e.getAttribute("medium-editor-index")],t)}),this)},addElements:function(e){var t=l(e,this.options.ownerDocument,!0);if(0===t.length)return!1;t.forEach((function(e){e=y.call(this,e,this.id),this.elements.push(e),this.trigger("addElement",{target:e,currentTarget:e},e)}),this)},removeElements:function(e){var t=l(e,this.options.ownerDocument).map((function(e){return e.getAttribute("medium-editor-textarea-id")&&e.parentNode?e.parentNode.querySelector('div[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]'):e}));this.elements=this.elements.filter((function(e){return-1===t.indexOf(e)||(this.events.cleanupElement(e),e.getAttribute("medium-editor-textarea-id")&&u(e),this.trigger("removeElement",{target:e,currentTarget:e},e),!1)}),this)}},e.getEditorFromElement=function(e){var t=e.getAttribute("data-medium-editor-editor-index"),n=e&&e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow);return n&&n._mediumEditors&&n._mediumEditors[t]?n._mediumEditors[t]:null}}(),e.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0},e.parseVersionString=function(e){var t=e.split("-"),n=t[0].split("."),r=t.length>1?t[1]:"";return{major:parseInt(n[0],10),minor:parseInt(n[1],10),revision:parseInt(n[2],10),preRelease:r,toString:function(){return[n[0],n[1],n[2]].join(".")+(r?"-"+r:"")}}},e.version=e.parseVersionString.call(this,"5.23.3"),e}())},62525:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,c=i(e),l=1;l<arguments.length;l++){for(var u in a=Object(arguments[l]))n.call(a,u)&&(c[u]=a[u]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(c[s[d]]=a[s[d]])}}return c}},16948:function(e){(function(){var t,n,r,i,o,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*process.uptime(),o=i-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},82780:function(e){var t=null,n=["Webkit","Moz","O","ms"];e.exports=function(e){t||(t=document.createElement("div"));var r=t.style;if(e in r)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),o=n.length;o>=0;o--){var a=n[o]+i;if(a in r)return a}return!1}},58772:function(e,t,n){"use strict";var r=n(90331);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},23615:function(e,t,n){e.exports=n(58772)()},90331:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5026:function(e,t,n){for(var r=n(16948),i="undefined"==typeof window?global:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],c=i["cancel"+a]||i["cancelRequest"+a],l=0;!s&&l<o.length;l++)s=i[o[l]+"Request"+a],c=i[o[l]+"Cancel"+a]||i[o[l]+"CancelRequest"+a];if(!s||!c){var u=0,d=0,f=[];s=function(e){if(0===f.length){var t=r(),n=Math.max(0,16.666666666666668-(t-u));u=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){c.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=c}},95035:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.renderViewDefault=function(e){return o.default.createElement("div",e)},t.renderTrackHorizontalDefault=function(e){var t=e.style,n=a(e,["style"]),i=r({},t,{right:2,bottom:2,left:2,borderRadius:3});return o.default.createElement("div",r({style:i},n))},t.renderTrackVerticalDefault=function(e){var t=e.style,n=a(e,["style"]),i=r({},t,{right:2,bottom:2,top:2,borderRadius:3});return o.default.createElement("div",r({style:i},n))},t.renderThumbHorizontalDefault=function(e){var t=e.style,n=a(e,["style"]),i=r({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return o.default.createElement("div",r({style:i},n))},t.renderThumbVerticalDefault=function(e){var t=e.style,n=a(e,["style"]),i=r({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return o.default.createElement("div",r({style:i},n))};var i,o=(i=n(27378))&&i.__esModule?i:{default:i};function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},5543:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5026),a=g(o),s=g(n(18575)),c=n(27378),l=g(n(23615)),u=g(n(20430)),d=g(n(90845)),f=g(n(81426)),p=g(n(8028)),h=g(n(46045)),m=n(39106),v=n(95035);function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(e){var n;_(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=b(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(i)));return a.getScrollLeft=a.getScrollLeft.bind(a),a.getScrollTop=a.getScrollTop.bind(a),a.getScrollWidth=a.getScrollWidth.bind(a),a.getScrollHeight=a.getScrollHeight.bind(a),a.getClientWidth=a.getClientWidth.bind(a),a.getClientHeight=a.getClientHeight.bind(a),a.getValues=a.getValues.bind(a),a.getThumbHorizontalWidth=a.getThumbHorizontalWidth.bind(a),a.getThumbVerticalHeight=a.getThumbVerticalHeight.bind(a),a.getScrollLeftForOffset=a.getScrollLeftForOffset.bind(a),a.getScrollTopForOffset=a.getScrollTopForOffset.bind(a),a.scrollLeft=a.scrollLeft.bind(a),a.scrollTop=a.scrollTop.bind(a),a.scrollToLeft=a.scrollToLeft.bind(a),a.scrollToTop=a.scrollToTop.bind(a),a.scrollToRight=a.scrollToRight.bind(a),a.scrollToBottom=a.scrollToBottom.bind(a),a.handleTrackMouseEnter=a.handleTrackMouseEnter.bind(a),a.handleTrackMouseLeave=a.handleTrackMouseLeave.bind(a),a.handleHorizontalTrackMouseDown=a.handleHorizontalTrackMouseDown.bind(a),a.handleVerticalTrackMouseDown=a.handleVerticalTrackMouseDown.bind(a),a.handleHorizontalThumbMouseDown=a.handleHorizontalThumbMouseDown.bind(a),a.handleVerticalThumbMouseDown=a.handleVerticalThumbMouseDown.bind(a),a.handleWindowResize=a.handleWindowResize.bind(a),a.handleScroll=a.handleScroll.bind(a),a.handleDrag=a.handleDrag.bind(a),a.handleDragEnd=a.handleDragEnd.bind(a),a.state={didMountUniversal:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,o.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,i=void 0===r?0:r,o=e.scrollWidth,a=void 0===o?0:o,s=e.scrollHeight,c=void 0===s?0:s,l=e.clientWidth,u=void 0===l?0:l,d=e.clientHeight,f=void 0===d?0:d;return{left:n/(a-u)||0,top:i/(c-f)||0,scrollLeft:n,scrollTop:i,scrollWidth:a,scrollHeight:c,clientWidth:u,clientHeight:f}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollWidth,o=r.clientWidth,a=(0,p.default)(this.trackHorizontal),s=Math.ceil(o/i*a);return a<=s?0:t||Math.max(s,n)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollHeight,o=r.clientHeight,a=(0,h.default)(this.trackVertical),s=Math.ceil(o/i*a);return a<=s?0:t||Math.max(s,n)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,n=t.scrollWidth,r=t.clientWidth;return e/((0,p.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-r)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,n=t.scrollHeight,r=t.clientHeight;return e/((0,h.default)(this.trackVertical)-this.getThumbVerticalHeight())*(n-r)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown),r.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),r.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,n=this.props,r=n.onScroll,i=n.onScrollFrame;r&&r(e),this.update((function(e){var n=e.scrollLeft,r=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=r,i&&i(e)})),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){(0,d.default)(!1),this.forceUpdate()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientX,r=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),o=Math.abs(r-n)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(o)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientY,r=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),o=Math.abs(r-n)-i/2;this.view.scrollTop=this.getScrollTopForOffset(o)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,r=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=r-(n-i)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,r=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=r-(n-i)}},{key:"setupDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=f.default}},{key:"teardownDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,n=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(n)}if(this.prevPageY){var r=e.clientY,i=-this.trackVertical.getBoundingClientRect().top+r-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,s.default)(this.trackHorizontal,{opacity:1}),(0,s.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,s.default)(e.trackHorizontal,{opacity:0}),(0,s.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&a.default.cancel(this.requestFrame),this.requestFrame=(0,a.default)((function(){t.requestFrame=void 0,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)}))}},{key:"_update",value:function(e){var t=this.props,n=t.onUpdate,r=t.hideTracksWhenNotNeeded,i=this.getValues();if((0,d.default)()){var o=i.scrollLeft,a=i.clientWidth,c=i.scrollWidth,l=(0,p.default)(this.trackHorizontal),u=this.getThumbHorizontalWidth(),f={width:u,transform:"translateX("+o/(c-a)*(l-u)+"px)"},m=i.scrollTop,v=i.clientHeight,g=i.scrollHeight,_=(0,h.default)(this.trackVertical),b=this.getThumbVerticalHeight(),y={height:b,transform:"translateY("+m/(g-v)*(_-b)+"px)"};if(r){var w={visibility:c>a?"visible":"hidden"},k={visibility:g>v?"visible":"hidden"};(0,s.default)(this.trackHorizontal,w),(0,s.default)(this.trackVertical,k)}(0,s.default)(this.thumbHorizontal,f),(0,s.default)(this.thumbVertical,y)}n&&n(i),"function"==typeof e&&e(i)}},{key:"render",value:function(){var e=this,t=(0,d.default)(),n=this.props,i=(n.onScroll,n.onScrollFrame,n.onScrollStart,n.onScrollStop,n.onUpdate,n.renderView),o=n.renderTrackHorizontal,a=n.renderTrackVertical,s=n.renderThumbHorizontal,l=n.renderThumbVertical,f=n.tagName,p=(n.hideTracksWhenNotNeeded,n.autoHide),h=(n.autoHideTimeout,n.autoHideDuration),v=(n.thumbSize,n.thumbMinSize,n.universal),g=n.autoHeight,_=n.autoHeightMin,b=n.autoHeightMax,y=n.style,w=n.children,k=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),E=this.state.didMountUniversal,C=r({},m.containerStyleDefault,g&&r({},m.containerStyleAutoHeight,{minHeight:_,maxHeight:b}),y),S=r({},m.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},g&&r({},m.viewStyleAutoHeight,{minHeight:(0,u.default)(_)?"calc("+_+" + "+t+"px)":_+t,maxHeight:(0,u.default)(b)?"calc("+b+" + "+t+"px)":b+t}),g&&v&&!E&&{minHeight:_,maxHeight:b},v&&!E&&m.viewStyleUniversalInitial),x={transition:"opacity "+h+"ms",opacity:0},O=r({},m.trackHorizontalStyleDefault,p&&x,(!t||v&&!E)&&{display:"none"}),T=r({},m.trackVerticalStyleDefault,p&&x,(!t||v&&!E)&&{display:"none"});return(0,c.createElement)(f,r({},k,{style:C,ref:function(t){e.container=t}}),[(0,c.cloneElement)(i({style:S}),{key:"view",ref:function(t){e.view=t}},w),(0,c.cloneElement)(o({style:O}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,c.cloneElement)(s({style:m.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,c.cloneElement)(a({style:T}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,c.cloneElement)(l({style:m.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}(c.Component);t.default=y,y.propTypes={onScroll:l.default.func,onScrollFrame:l.default.func,onScrollStart:l.default.func,onScrollStop:l.default.func,onUpdate:l.default.func,renderView:l.default.func,renderTrackHorizontal:l.default.func,renderTrackVertical:l.default.func,renderThumbHorizontal:l.default.func,renderThumbVertical:l.default.func,tagName:l.default.string,thumbSize:l.default.number,thumbMinSize:l.default.number,hideTracksWhenNotNeeded:l.default.bool,autoHide:l.default.bool,autoHideTimeout:l.default.number,autoHideDuration:l.default.number,autoHeight:l.default.bool,autoHeightMin:l.default.oneOfType([l.default.number,l.default.string]),autoHeightMax:l.default.oneOfType([l.default.number,l.default.string]),universal:l.default.bool,style:l.default.object,children:l.default.node},y.defaultProps={renderView:v.renderViewDefault,renderTrackHorizontal:v.renderTrackHorizontalDefault,renderTrackVertical:v.renderTrackVerticalDefault,renderThumbHorizontal:v.renderThumbHorizontalDefault,renderThumbVertical:v.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},39106:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}},19672:function(e,t,n){"use strict";var r,i=(r=n(5543))&&r.__esModule?r:{default:r};t.ZP=i.default,i.default},46045:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientHeight,n=getComputedStyle(e),r=n.paddingTop,i=n.paddingBottom;return t-parseFloat(r)-parseFloat(i)}},8028:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientWidth,n=getComputedStyle(e),r=n.paddingLeft,i=n.paddingRight;return t-parseFloat(r)-parseFloat(i)}},90845:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e&&!1!==o)return o;if("undefined"!=typeof document){var t=document.createElement("div");(0,i.default)(t,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(t),o=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}else o=0;return o||0};var r,i=(r=n(18575))&&r.__esModule?r:{default:r},o=!1},20430:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}},81426:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1}},22648:function(e,t,n){!function(e,t,n,r,i,o,a,s,c,l,u,d,f,p,h,m,v,g,_,b,y,w,k,E,C,S,x,O,T,j,D,N,P,A,I,M,L,R,F,B,z,W,U,H,Z,q,V,K,$,G,Y,Q,X,J,ee,te,ne,re,ie,oe,ae,se,ce){"use strict";function le(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var ue=le(t),de=le(r),fe=le(i),pe=le(o),he=le(a),me=le(s),ve=le(c),ge=le(l),_e=le(u),be=le(d),ye=le(f),we=le(m),ke=le(v),Ee=le(g),Ce=le(_),Se=le(b),xe=le(y),Oe=le(w),Te=le(k),je=le(E),De=le(C),Ne=le(S),Pe=le(x),Ae=le(O),Ie=le(T),Me=le(j),Le=le(D),Re=le(N),Fe=le(P),Be=le(A),ze=le(I),We=le(M),Ue=le(L),He=le(R),Ze=le(F),qe=le(z),Ve=le(W),Ke=le(U),$e=le(H),Ge=le(Z),Ye=le(q),Qe=le(V),Xe=le(G),Je=le(Y),et=le(Q),tt=le(X),nt=le(J),rt=le(ee),it=le(te),ot=le(ne),at=le(re),st=le(ie),ct=le(oe),lt=le(ae),ut=le(ce);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t,n){return t&&mt(e.prototype,t),n&&mt(e,n),e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?kt(e):t}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt(e);if(t){var i=yt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Et(this,n)}}function St(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ot(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function Tt(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}var jt={p:Tt,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),i=r[1],o=r[2];if(!o)return Ot(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Ot(i,t)).replace("{{time}}",Tt(o,t))}},Dt=12,Nt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Pt(e){var t=e?"string"==typeof e||e instanceof String?ct.default(e):at.default(e):new Date;return It(t)?t:null}function At(e,t,n,r,i){var o=null,a=Xt(n)||Xt(Qt()),s=!0;return Array.isArray(t)?(t.forEach((function(t){var n=st.default(e,t,new Date,{locale:a});r&&(s=It(n,i)&&e===he.default(n,t,{awareOfUnicodeTokens:!0})),It(n,i)&&s&&(o=n)})),o):(o=st.default(e,t,new Date,{locale:a}),r?s=It(o)&&e===he.default(o,t,{awareOfUnicodeTokens:!0}):It(o)||(t=t.match(Nt).map((function(e){var t=e[0];return"p"===t||"P"===t?a?(0,jt[t])(e,a.formatLong):t:e})).join(""),e.length>0&&(o=st.default(e,t.slice(0,e.length),new Date)),It(o)||(o=new Date(e))),It(o)&&s?o:null)}function It(e,t){return t=t||new Date("1/1/1000"),pe.default(e)&&rt.default(e,t)}function Mt(e,t,n){if("en"===n)return he.default(e,t,{awareOfUnicodeTokens:!0});var r=Xt(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Qt()&&Xt(Qt())&&(r=Xt(Qt())),he.default(e,t,{locale:r||null,awareOfUnicodeTokens:!0})}function Lt(e,t){var n=t.dateFormat,r=t.locale;return e&&Mt(e,Array.isArray(n)?n[0]:n,r)||""}function Rt(e,t){var n=t.hour,r=void 0===n?0:n,i=t.minute,o=void 0===i?0:i,a=t.second,s=void 0===a?0:a;return Re.default(Le.default(Me.default(e,s),o),r)}function Ft(e,t){var n=t&&Xt(t)||Qt()&&Xt(Qt());return De.default(e,n?{locale:n}:null)}function Bt(e,t){return Mt(e,"ddd",t)}function zt(e){return Ve.default(e)}function Wt(e,t,n){var r=Xt(t||Qt());return Ke.default(e,{locale:r,weekStartsOn:n})}function Ut(e){return $e.default(e)}function Ht(e){return Ye.default(e)}function Zt(e){return Ge.default(e)}function qt(e,t){return e&&t?tt.default(e,t):!e&&!t}function Vt(e,t){return e&&t?et.default(e,t):!e&&!t}function Kt(e,t){return e&&t?nt.default(e,t):!e&&!t}function $t(e,t){return e&&t?Je.default(e,t):!e&&!t}function Gt(e,t){return e&&t?Xe.default(e,t):!e&&!t}function Yt(e,t,n){var r,i=Ve.default(t),o=Qe.default(n);try{r=ot.default(e,{start:i,end:o})}catch(e){r=!1}return r}function Qt(){return("undefined"!=typeof window?window:global).__localeId__}function Xt(e){if("string"==typeof e){var t="undefined"!=typeof window?window:global;return t.__localeData__?t.__localeData__[e]:null}return e}function Jt(e,t){return Mt(Fe.default(Pt(),e),"LLLL",t)}function en(e,t){return Mt(Fe.default(Pt(),e),"LLL",t)}function tn(e,t){return Mt(Be.default(Pt(),e),"QQQ",t)}function nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate;return un(e,{minDate:n,maxDate:r})||i&&i.some((function(t){return $t(e,t)}))||o&&!o.some((function(t){return $t(e,t)}))||a&&!a(Pt(e))||!1}function rn(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).excludeDates;return t&&t.some((function(t){return $t(e,t)}))||!1}function on(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate;return un(e,{minDate:n,maxDate:r})||i&&i.some((function(t){return Vt(e,t)}))||o&&!o.some((function(t){return Vt(e,t)}))||a&&!a(Pt(e))||!1}function an(e,t,n,r){var i=Ae.default(e),o=Ne.default(e),a=Ae.default(t),s=Ne.default(t),c=Ae.default(r);return i===a&&i===c?o<=n&&n<=s:i<a?c===i&&o<=n||c===a&&s>=n||c<a&&c>i:void 0}function sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate;return un(e,{minDate:n,maxDate:r})||i&&i.some((function(t){return Kt(e,t)}))||o&&!o.some((function(t){return Kt(e,t)}))||a&&!a(Pt(e))||!1}function cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return un(new Date(e,0,1),{minDate:n,maxDate:r})||!1}function ln(e,t,n,r){var i=Ae.default(e),o=Pe.default(e),a=Ae.default(t),s=Pe.default(t),c=Ae.default(r);return i===a&&i===c?o<=n&&n<=s:i<a?c===i&&o<=n||c===a&&s>=n||c<a&&c>i:void 0}function un(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return n&&He.default(e,n)<0||r&&He.default(e,r)>0}function dn(e,t){return t.some((function(t){return Oe.default(t)===Oe.default(e)&&xe.default(t)===xe.default(e)}))}function fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeTimes,r=t.includeTimes,i=t.filterTime;return n&&dn(e,n)||r&&!dn(e,r)||i&&!i(e)||!1}function pn(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i,o=Pt(),a=Re.default(Le.default(o,xe.default(e)),Oe.default(e)),s=Re.default(Le.default(o,xe.default(n)),Oe.default(n)),c=Re.default(Le.default(o,xe.default(r)),Oe.default(r));try{i=!ot.default(a,{start:s,end:c})}catch(e){i=!1}return i}function hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,i=Ee.default(e,1);return n&&Ze.default(n,i)>0||r&&r.every((function(e){return Ze.default(e,i)>0}))||!1}function mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,i=be.default(e,1);return n&&Ze.default(i,n)>0||r&&r.every((function(e){return Ze.default(i,e)>0}))||!1}function vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,i=Ce.default(e,1);return n&&qe.default(n,i)>0||r&&r.every((function(e){return qe.default(e,i)>0}))||!1}function gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,i=ye.default(e,1);return n&&qe.default(i,n)>0||r&&r.every((function(e){return qe.default(i,e)>0}))||!1}function _n(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return He.default(e,t)>=0}));return We.default(r)}return n?We.default(n):t}function bn(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return He.default(e,t)<=0}));return Ue.default(r)}return n?Ue.default(n):t}function yn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,i=e.length;r<i;r++){var o=e[r];if(fe.default(o)){var a=Mt(o,"MM.dd.yyyy"),s=n.get(a)||[];s.includes(t)||(s.push(t),n.set(a,s))}else if("object"===pt(o)){var c=Object.keys(o),l=c[0],u=o[c[0]];if("string"==typeof l&&u.constructor===Array)for(var d=0,f=u.length;d<f;d++){var p=Mt(u[d],"MM.dd.yyyy"),h=n.get(p)||[];h.includes(l)||(h.push(l),n.set(p,h))}}}return n}function wn(e,t,n,r,i){for(var o=i.length,a=[],s=0;s<o;s++){var c=me.default(ve.default(e,Oe.default(i[s])),xe.default(i[s])),l=me.default(e,(n+1)*r);rt.default(c,t)&&it.default(c,l)&&a.push(i[s])}return a}function kn(e){return e<10?"0".concat(e):"".concat(e)}function En(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt,n=Math.ceil(Ae.default(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function Cn(e,t,n,r){for(var i=[],o=0;o<2*t+1;o++){var a=e+t-o,s=!0;n&&(s=Ae.default(n)<=a),r&&s&&(s=Ae.default(r)>=a),s&&i.push(a)}return i}var Sn=function(e){bt(n,e);var t=Ct(n);function n(e){var r;ht(this,n),gt(kt(r=t.call(this,e)),"renderOptions",(function(){var e=r.props.year,t=r.state.yearsList.map((function(t){return ue.default.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:r.onChange.bind(kt(r),t)},e===t?ue.default.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",t)})),n=r.props.minDate?Ae.default(r.props.minDate):null,i=r.props.maxDate?Ae.default(r.props.maxDate):null;return i&&r.state.yearsList.find((function(e){return e===i}))||t.unshift(ue.default.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},ue.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),n&&r.state.yearsList.find((function(e){return e===n}))||t.push(ue.default.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},ue.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t})),gt(kt(r),"onChange",(function(e){r.props.onChange(e)})),gt(kt(r),"handleClickOutside",(function(){r.props.onCancel()})),gt(kt(r),"shiftYears",(function(e){var t=r.state.yearsList.map((function(t){return t+e}));r.setState({yearsList:t})})),gt(kt(r),"incrementYears",(function(){return r.shiftYears(1)})),gt(kt(r),"decrementYears",(function(){return r.shiftYears(-1)}));var i=e.yearDropdownItemNumber,o=e.scrollableYearDropdown,a=i||(o?10:5);return r.state={yearsList:Cn(r.props.year,a,r.props.minDate,r.props.maxDate)},r}return vt(n,[{key:"render",value:function(){var e=de.default({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ue.default.createElement("div",{className:e},this.renderOptions())}}]),n}(ue.default.Component),xn=lt.default(Sn),On=function(e){bt(n,e);var t=Ct(n);function n(){var e;ht(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return gt(kt(e=t.call.apply(t,[this].concat(i))),"state",{dropdownVisible:!1}),gt(kt(e),"renderSelectOptions",(function(){for(var t=e.props.minDate?Ae.default(e.props.minDate):1900,n=e.props.maxDate?Ae.default(e.props.maxDate):2100,r=[],i=t;i<=n;i++)r.push(ue.default.createElement("option",{key:i,value:i},i));return r})),gt(kt(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),gt(kt(e),"renderSelectMode",(function(){return ue.default.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),gt(kt(e),"renderReadView",(function(t){return ue.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(t){return e.toggleDropdown(t)}},ue.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ue.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))})),gt(kt(e),"renderDropdown",(function(){return ue.default.createElement(xn,{key:"dropdown",year:e.props.year,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableYearDropdown:e.props.scrollableYearDropdown,yearDropdownItemNumber:e.props.yearDropdownItemNumber})})),gt(kt(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),gt(kt(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.year&&e.props.onChange(t)})),gt(kt(e),"toggleDropdown",(function(t){e.setState({dropdownVisible:!e.state.dropdownVisible},(function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,t)}))})),gt(kt(e),"handleYearChange",(function(t,n){e.onSelect(t,n),e.setOpen()})),gt(kt(e),"onSelect",(function(t,n){e.props.onSelect&&e.props.onSelect(t,n)})),gt(kt(e),"setOpen",(function(){e.props.setOpen&&e.props.setOpen(!0)})),e}return vt(n,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return ue.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(ue.default.Component),Tn=function(e){bt(n,e);var t=Ct(n);function n(){var e;ht(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return gt(kt(e=t.call.apply(t,[this].concat(i))),"renderOptions",(function(){return e.props.monthNames.map((function(t,n){return ue.default.createElement("div",{className:e.props.month===n?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:e.onChange.bind(kt(e),n)},e.props.month===n?ue.default.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",t)}))})),gt(kt(e),"onChange",(function(t){return e.props.onChange(t)})),gt(kt(e),"handleClickOutside",(function(){return e.props.onCancel()})),e}return vt(n,[{key:"render",value:function(){return ue.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),n}(ue.default.Component),jn=lt.default(Tn),Dn=function(e){bt(n,e);var t=Ct(n);function n(){var e;ht(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return gt(kt(e=t.call.apply(t,[this].concat(i))),"state",{dropdownVisible:!1}),gt(kt(e),"renderSelectOptions",(function(e){return e.map((function(e,t){return ue.default.createElement("option",{key:t,value:t},e)}))})),gt(kt(e),"renderSelectMode",(function(t){return ue.default.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(t){return e.onChange(t.target.value)}},e.renderSelectOptions(t))})),gt(kt(e),"renderReadView",(function(t,n){return ue.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},ue.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ue.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[e.props.month]))})),gt(kt(e),"renderDropdown",(function(t){return ue.default.createElement(jn,{key:"dropdown",month:e.props.month,monthNames:t,onChange:e.onChange,onCancel:e.toggleDropdown})})),gt(kt(e),"renderScrollMode",(function(t){var n=e.state.dropdownVisible,r=[e.renderReadView(!n,t)];return n&&r.unshift(e.renderDropdown(t)),r})),gt(kt(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.month&&e.props.onChange(t)})),gt(kt(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return vt(n,[{key:"render",value:function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return en(e,t.props.locale)}:function(e){return Jt(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return ue.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(ue.default.Component);function Nn(e,t){for(var n=[],r=Ut(e),i=Ut(t);!rt.default(r,i);)n.push(Pt(r)),r=be.default(r,1);return n}var Pn=function(e){bt(n,e);var t=Ct(n);function n(e){var r;return ht(this,n),gt(kt(r=t.call(this,e)),"renderOptions",(function(){return r.state.monthYearsList.map((function(e){var t=Ie.default(e),n=qt(r.props.date,e)&&Vt(r.props.date,e);return ue.default.createElement("div",{className:n?"react-datepicker__month-year-option --selected_month-year":"react-datepicker__month-year-option",key:t,onClick:r.onChange.bind(kt(r),t)},n?ue.default.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Mt(e,r.props.dateFormat,r.props.locale))}))})),gt(kt(r),"onChange",(function(e){return r.props.onChange(e)})),gt(kt(r),"handleClickOutside",(function(){r.props.onCancel()})),r.state={monthYearsList:Nn(r.props.minDate,r.props.maxDate)},r}return vt(n,[{key:"render",value:function(){var e=de.default({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ue.default.createElement("div",{className:e},this.renderOptions())}}]),n}(ue.default.Component),An=lt.default(Pn),In=function(e){bt(n,e);var t=Ct(n);function n(){var e;ht(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return gt(kt(e=t.call.apply(t,[this].concat(i))),"state",{dropdownVisible:!1}),gt(kt(e),"renderSelectOptions",(function(){for(var t=Ut(e.props.minDate),n=Ut(e.props.maxDate),r=[];!rt.default(t,n);){var i=Ie.default(t);r.push(ue.default.createElement("option",{key:i,value:i},Mt(t,e.props.dateFormat,e.props.locale))),t=be.default(t,1)}return r})),gt(kt(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),gt(kt(e),"renderSelectMode",(function(){return ue.default.createElement("select",{value:Ie.default(Ut(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),gt(kt(e),"renderReadView",(function(t){var n=Mt(e.props.date,e.props.dateFormat,e.props.locale);return ue.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(t){return e.toggleDropdown(t)}},ue.default.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ue.default.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))})),gt(kt(e),"renderDropdown",(function(){return ue.default.createElement(An,{key:"dropdown",date:e.props.date,dateFormat:e.props.dateFormat,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableMonthYearDropdown:e.props.scrollableMonthYearDropdown,locale:e.props.locale})})),gt(kt(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),gt(kt(e),"onChange",(function(t){e.toggleDropdown();var n=Pt(parseInt(t));qt(e.props.date,n)&&Vt(e.props.date,n)||e.props.onChange(n)})),gt(kt(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return vt(n,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return ue.default.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(ue.default.Component),Mn=function(e){bt(n,e);var t=Ct(n);function n(){var e;ht(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return gt(kt(e=t.call.apply(t,[this].concat(i))),"dayEl",ue.default.createRef()),gt(kt(e),"handleClick",(function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)})),gt(kt(e),"handleMouseEnter",(function(t){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(t)})),gt(kt(e),"handleOnKeyDown",(function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)})),gt(kt(e),"isSameDay",(function(t){return $t(e.props.day,t)})),gt(kt(e),"isKeyboardSelected",(function(){return!e.props.disabledKeyboardNavigation&&!e.isSameDay(e.props.selected)&&e.isSameDay(e.props.preSelection)})),gt(kt(e),"isDisabled",(function(){return nn(e.props.day,e.props)})),gt(kt(e),"isExcluded",(function(){return rn(e.props.day,e.props)})),gt(kt(e),"getHighLightedClass",(function(t){var n=e.props,r=n.day,i=n.highlightDates;if(!i)return!1;var o=Mt(r,"MM.dd.yyyy");return i.get(o)})),gt(kt(e),"isInRange",(function(){var t=e.props,n=t.day,r=t.startDate,i=t.endDate;return!(!r||!i)&&Yt(n,r,i)})),gt(kt(e),"isInSelectingRange",(function(){var t,n=e.props,r=n.day,i=n.selectsStart,o=n.selectsEnd,a=n.selectsRange,s=n.startDate,c=n.endDate,l=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return!(!(i||o||a)||!l||e.isDisabled())&&(i&&c&&(it.default(l,c)||Gt(l,c))?Yt(r,l,c):(o&&s&&(rt.default(l,s)||Gt(l,s))||!(!a||!s||c||!rt.default(l,s)&&!Gt(l,s)))&&Yt(r,s,l))})),gt(kt(e),"isSelectingRangeStart",(function(){var t;if(!e.isInSelectingRange())return!1;var n=e.props,r=n.day,i=n.startDate,o=n.selectsStart,a=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return $t(r,o?a:i)})),gt(kt(e),"isSelectingRangeEnd",(function(){var t;if(!e.isInSelectingRange())return!1;var n=e.props,r=n.day,i=n.endDate,o=n.selectsEnd,a=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return $t(r,o?a:i)})),gt(kt(e),"isRangeStart",(function(){var t=e.props,n=t.day,r=t.startDate,i=t.endDate;return!(!r||!i)&&$t(r,n)})),gt(kt(e),"isRangeEnd",(function(){var t=e.props,n=t.day,r=t.startDate,i=t.endDate;return!(!r||!i)&&$t(i,n)})),gt(kt(e),"isWeekend",(function(){var t=Te.default(e.props.day);return 0===t||6===t})),gt(kt(e),"isOutsideMonth",(function(){return void 0!==e.props.month&&e.props.month!==Ne.default(e.props.day)})),gt(kt(e),"getClassNames",(function(t){var n=e.props.dayClassName?e.props.dayClassName(t):void 0;return de.default("react-datepicker__day",n,"react-datepicker__day--"+Bt(e.props.day),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSameDay(e.props.selected),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isSameDay(Pt()),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isOutsideMonth()},e.getHighLightedClass("react-datepicker__day--highlighted"))})),gt(kt(e),"getAriaLabel",(function(){var t=e.props,n=t.day,r=t.ariaLabelPrefixWhenEnabled,i=void 0===r?"Choose":r,o=t.ariaLabelPrefixWhenDisabled,a=void 0===o?"Not available":o,s=e.isDisabled()||e.isExcluded()?a:i;return"".concat(s," ").concat(Mt(n,"PPPP",e.props.locale))})),gt(kt(e),"getTabIndex",(function(t,n){var r=t||e.props.selected,i=n||e.props.preSelection;return e.isKeyboardSelected()||e.isSameDay(r)&&$t(i,r)?0:-1})),gt(kt(e),"handleFocusDay",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!1;0===e.getTabIndex()&&!t.isInputFocused&&e.isSameDay(e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(n=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(n=!0)),n&&e.dayEl.current.focus({preventScroll:!0})})),gt(kt(e),"renderDayContents",(function(){if(e.isOutsideMonth()){if(e.props.monthShowsDuplicateDaysEnd&&je.default(e.props.day)<10)return null;if(e.props.monthShowsDuplicateDaysStart&&je.default(e.props.day)>20)return null}return e.props.renderDayContents?e.props.renderDayContents(je.default(e.props.day),e.props.day):je.default(e.props.day)})),gt(kt(e),"render",(function(){return ue.default.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"button","aria-disabled":e.isDisabled()},e.renderDayContents())})),e}return vt(n,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(e){this.handleFocusDay(e)}}]),n}(ue.default.Component),Ln=function(e){bt(n,e);var t=Ct(n);function n(){var e;ht(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return gt(kt(e=t.call.apply(t,[this].concat(i))),"handleClick",(function(t){e.props.onClick&&e.props.onClick(t)})),e}return vt(n,[{key:"render",value:function(){var e=this.props,t=e.weekNumber,n=e.ariaLabelPrefix,r=void 0===n?"week ":n,i={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!e.onClick};return ue.default.createElement("div",{className:de.default(i),"aria-label":"".concat(r," ").concat(this.props.weekNumber),onClick:this.handleClick},t)}}]),n}(ue.default.Component),Rn=function(e){bt(n,e);var t=Ct(n);function n(){var e;ht(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return gt(kt(e=t.call.apply(t,[this].concat(i))),"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n)})),gt(kt(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),gt(kt(e),"handleWeekClick",(function(t,n,r){"function"==typeof e.props.onWeekSelect&&e.props.onWeekSelect(t,n,r),e.props.shouldCloseOnSelect&&e.props.setOpen(!1)})),gt(kt(e),"formatWeekNumber",(function(t){return e.props.formatWeekNumber?e.props.formatWeekNumber(t):Ft(t)})),gt(kt(e),"renderDays",(function(){var t=Wt(e.props.day,e.props.locale,e.props.calendarStartDay),n=[],r=e.formatWeekNumber(t);if(e.props.showWeekNumber){var i=e.props.onWeekSelect?e.handleWeekClick.bind(kt(e),t,r):void 0;n.push(ue.default.createElement(Ln,{key:"W",weekNumber:r,onClick:i,ariaLabelPrefix:e.props.ariaLabelPrefix}))}return n.concat([0,1,2,3,4,5,6].map((function(n){var r=ge.default(t,n);return ue.default.createElement(Mn,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:r.valueOf(),day:r,month:e.props.month,onClick:e.handleDayClick.bind(kt(e),r),onMouseEnter:e.handleDayMouseEnter.bind(kt(e),r),minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,includeDates:e.props.includeDates,highlightDates:e.props.highlightDates,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,renderDayContents:e.props.renderDayContents,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart,locale:e.props.locale})})))})),e}return vt(n,[{key:"render",value:function(){return ue.default.createElement("div",{className:"react-datepicker__week"},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),n}(ue.default.Component),Fn=function(e){bt(n,e);var t=Ct(n);function n(){var e;ht(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return gt(kt(e=t.call.apply(t,[this].concat(i))),"MONTH_REFS",St(Array(12)).map((function(){return ue.default.createRef()}))),gt(kt(e),"isDisabled",(function(t){return nn(t,e.props)})),gt(kt(e),"isExcluded",(function(t){return rn(t,e.props)})),gt(kt(e),"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n,e.props.orderInDisplay)})),gt(kt(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),gt(kt(e),"handleMouseLeave",(function(){e.props.onMouseLeave&&e.props.onMouseLeave()})),gt(kt(e),"isRangeStartMonth",(function(t){var n=e.props,r=n.day,i=n.startDate,o=n.endDate;return!(!i||!o)&&Vt(Fe.default(r,t),i)})),gt(kt(e),"isRangeStartQuarter",(function(t){var n=e.props,r=n.day,i=n.startDate,o=n.endDate;return!(!i||!o)&&Kt(Be.default(r,t),i)})),gt(kt(e),"isRangeEndMonth",(function(t){var n=e.props,r=n.day,i=n.startDate,o=n.endDate;return!(!i||!o)&&Vt(Fe.default(r,t),o)})),gt(kt(e),"isRangeEndQuarter",(function(t){var n=e.props,r=n.day,i=n.startDate,o=n.endDate;return!(!i||!o)&&Kt(Be.default(r,t),o)})),gt(kt(e),"isWeekInMonth",(function(t){var n=e.props.day,r=ge.default(t,6);return Vt(t,n)||Vt(r,n)})),gt(kt(e),"renderWeeks",(function(){for(var t=[],n=e.props.fixedHeight,r=0,i=!1,o=Wt(Ut(e.props.day),e.props.locale,e.props.calendarStartDay);t.push(ue.default.createElement(Rn,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:e.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:e.props.disabledDayAriaLabelPrefix,key:r,day:o,month:Ne.default(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,onWeekSelect:e.props.onWeekSelect,formatWeekNumber:e.props.formatWeekNumber,locale:e.props.locale,minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,includeDates:e.props.includeDates,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,highlightDates:e.props.highlightDates,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,showWeekNumber:e.props.showWeekNumbers,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,setOpen:e.props.setOpen,shouldCloseOnSelect:e.props.shouldCloseOnSelect,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,renderDayContents:e.props.renderDayContents,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,calendarStartDay:e.props.calendarStartDay,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart})),!i;){r++,o=_e.default(o,1);var a=n&&r>=6,s=!n&&!e.isWeekInMonth(o);if(a||s){if(!e.props.peekNextMonth)break;i=!0}}return t})),gt(kt(e),"onMonthClick",(function(t,n){e.handleDayClick(Ut(Fe.default(e.props.day,n)),t)})),gt(kt(e),"handleMonthNavigation",(function(t,n){e.isDisabled(n)||e.isExcluded(n)||(e.props.setPreSelection(n),e.MONTH_REFS[t].current&&e.MONTH_REFS[t].current.focus())})),gt(kt(e),"onMonthKeyDown",(function(t,n){var r=t.key;if(!e.props.disabledKeyboardNavigation)switch(r){case"Enter":e.onMonthClick(t,n),e.props.setPreSelection(e.props.selected);break;case"ArrowRight":e.handleMonthNavigation(11===n?0:n+1,be.default(e.props.preSelection,1));break;case"ArrowLeft":e.handleMonthNavigation(0===n?11:n-1,Ee.default(e.props.preSelection,1))}})),gt(kt(e),"onQuarterClick",(function(t,n){e.handleDayClick(Zt(Be.default(e.props.day,n)),t)})),gt(kt(e),"getMonthClassNames",(function(t){var n=e.props,r=n.day,i=n.startDate,o=n.endDate,a=n.selected,s=n.minDate,c=n.maxDate,l=n.preSelection,u=n.monthClassName,d=u?u(r):void 0;return de.default("react-datepicker__month-text","react-datepicker__month-".concat(t),d,{"react-datepicker__month--disabled":(s||c)&&on(Fe.default(r,t),e.props),"react-datepicker__month--selected":Ne.default(r)===t&&Ae.default(r)===Ae.default(a),"react-datepicker__month-text--keyboard-selected":Ne.default(l)===t,"react-datepicker__month--in-range":an(i,o,t,r),"react-datepicker__month--range-start":e.isRangeStartMonth(t),"react-datepicker__month--range-end":e.isRangeEndMonth(t)})})),gt(kt(e),"getTabIndex",(function(t){var n=Ne.default(e.props.preSelection);return e.props.disabledKeyboardNavigation||t!==n?"-1":"0"})),gt(kt(e),"getAriaLabel",(function(t){var n=e.props,r=n.ariaLabelPrefix,i=void 0===r?"Choose":r,o=n.disabledDayAriaLabelPrefix,a=void 0===o?"Not available":o,s=n.day,c=Fe.default(s,t),l=e.isDisabled(c)||e.isExcluded(c)?a:i;return"".concat(l," ").concat(Mt(c,"MMMM yyyy"))})),gt(kt(e),"getQuarterClassNames",(function(t){var n=e.props,r=n.day,i=n.startDate,o=n.endDate,a=n.selected,s=n.minDate,c=n.maxDate;return de.default("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter--disabled":(s||c)&&sn(Be.default(r,t),e.props),"react-datepicker__quarter--selected":Pe.default(r)===t&&Ae.default(r)===Ae.default(a),"react-datepicker__quarter--in-range":ln(i,o,t,r),"react-datepicker__quarter--range-start":e.isRangeStartQuarter(t),"react-datepicker__quarter--range-end":e.isRangeEndQuarter(t)})})),gt(kt(e),"renderMonths",(function(){var t=e.props,n=t.showFullMonthYearPicker,r=t.showTwoColumnMonthYearPicker,i=t.showFourColumnMonthYearPicker,o=t.locale;return(i?[[0,1,2,3],[4,5,6,7],[8,9,10,11]]:r?[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]]:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]]).map((function(t,r){return ue.default.createElement("div",{className:"react-datepicker__month-wrapper",key:r},t.map((function(t,r){return ue.default.createElement("div",{ref:e.MONTH_REFS[t],key:r,onClick:function(n){e.onMonthClick(n,t)},onKeyDown:function(n){e.onMonthKeyDown(n,t)},tabIndex:e.getTabIndex(t),className:e.getMonthClassNames(t),role:"button","aria-label":e.getAriaLabel(t)},n?Jt(t,o):en(t,o))})))}))})),gt(kt(e),"renderQuarters",(function(){return ue.default.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(t,n){return ue.default.createElement("div",{key:n,onClick:function(n){e.onQuarterClick(n,t)},className:e.getQuarterClassNames(t)},tn(t,e.props.locale))})))})),gt(kt(e),"getClassNames",(function(){var t=e.props;t.day;var n=t.selectingDate,r=t.selectsStart,i=t.selectsEnd,o=t.showMonthYearPicker,a=t.showQuarterYearPicker;return de.default("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||i)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":a})})),e}return vt(n,[{key:"render",value:function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,i=e.ariaLabelPrefix,o=void 0===i?"month ":i;return ue.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(o," ").concat(Mt(r,"yyyy-MM"))},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())}}]),n}(ue.default.Component),Bn=function(e){bt(n,e);var t=Ct(n);function n(){var e;ht(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return gt(kt(e=t.call.apply(t,[this].concat(i))),"state",{height:null}),gt(kt(e),"handleClick",(function(t){(e.props.minTime||e.props.maxTime)&&pn(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&fn(t,e.props)||e.props.onChange(t)})),gt(kt(e),"liClasses",(function(t,n,r){var i=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(t,n,r):void 0];return e.props.selected&&n===Oe.default(t)&&r===xe.default(t)&&i.push("react-datepicker__time-list-item--selected"),((e.props.minTime||e.props.maxTime)&&pn(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&fn(t,e.props))&&i.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(60*Oe.default(t)+xe.default(t))%e.props.intervals!=0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")})),gt(kt(e),"handleOnKeyDown",(function(t,n){" "===t.key&&(t.preventDefault(),t.key="Enter"),"Enter"===t.key&&e.handleClick(n),e.props.handleOnKeyDown(t)})),gt(kt(e),"renderTimes",(function(){for(var t=[],n=e.props.format?e.props.format:"p",r=e.props.intervals,i=zt(Pt(e.props.selected)),o=1440/r,a=e.props.injectTimes&&e.props.injectTimes.sort((function(e,t){return e-t})),s=e.props.selected||e.props.openToDate||Pt(),c=Oe.default(s),l=xe.default(s),u=Re.default(Le.default(i,l),c),d=0;d<o;d++){var f=me.default(i,d*r);if(t.push(f),a){var p=wn(i,f,d,r,a);t=t.concat(p)}}return t.map((function(t,r){return ue.default.createElement("li",{key:r,onClick:e.handleClick.bind(kt(e),t),className:e.liClasses(t,c,l),ref:function(n){(it.default(t,u)||Gt(t,u))&&(e.centerLi=n)},onKeyDown:function(n){e.handleOnKeyDown(n,t)},tabIndex:"0"},Mt(t,n,e.props.locale))}))})),e}return vt(n,[{key:"componentDidMount",value:function(){this.list.scrollTop=n.calcCenterPosition(this.props.monthRef?this.props.monthRef.clientHeight-this.header.clientHeight:this.list.clientHeight,this.centerLi),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var e=this,t=this.state.height;return ue.default.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},ue.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){e.header=t}},ue.default.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),ue.default.createElement("div",{className:"react-datepicker__time"},ue.default.createElement("div",{className:"react-datepicker__time-box"},ue.default.createElement("ul",{className:"react-datepicker__time-list",ref:function(t){e.list=t},style:t?{height:t}:{},tabIndex:"0"},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),n}(ue.default.Component);gt(Bn,"calcCenterPosition",(function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)}));var zn=function(e){bt(n,e);var t=Ct(n);function n(e){var r;return ht(this,n),gt(kt(r=t.call(this,e)),"handleYearClick",(function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)})),gt(kt(r),"isSameDay",(function(e,t){return $t(e,t)})),gt(kt(r),"isKeyboardSelected",(function(e){var t=Ht(ze.default(r.props.date,e));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!$t(t,Ht(r.props.selected))&&$t(t,Ht(r.props.preSelection))})),gt(kt(r),"onYearClick",(function(e,t){var n=r.props.date;r.handleYearClick(Ht(ze.default(n,t)),e)})),gt(kt(r),"getYearClassNames",(function(e){var t=r.props,n=t.minDate,i=t.maxDate,o=t.selected;return de.default("react-datepicker__year-text",{"react-datepicker__year-text--selected":e===Ae.default(o),"react-datepicker__year-text--disabled":(n||i)&&cn(e,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(e),"react-datepicker__year-text--today":e===Ae.default(Pt())})})),r}return vt(n,[{key:"render",value:function(){for(var e=this,t=[],n=this.props,r=En(n.date,n.yearItemNumber),i=r.startPeriod,o=r.endPeriod,a=function(n){t.push(ue.default.createElement("div",{onClick:function(t){e.onYearClick(t,n)},className:e.getYearClassNames(n),key:n},n))},s=i;s<=o;s++)a(s);return ue.default.createElement("div",{className:"react-datepicker__year"},ue.default.createElement("div",{className:"react-datepicker__year-wrapper"},t))}}]),n}(ue.default.Component),Wn=function(e){bt(n,e);var t=Ct(n);function n(e){var r;return ht(this,n),gt(kt(r=t.call(this,e)),"onTimeChange",(function(e){r.setState({time:e});var t=new Date;t.setHours(e.split(":")[0]),t.setMinutes(e.split(":")[1]),r.props.onChange(t)})),gt(kt(r),"renderTimeInput",(function(){var e=r.state.time,t=r.props,n=t.date,i=t.timeString,o=t.customTimeInput;return o?ue.default.cloneElement(o,{date:n,value:e,onChange:r.onTimeChange}):ue.default.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:e,onChange:function(e){r.onTimeChange(e.target.value||i)}})})),r.state={time:r.props.timeString},r}return vt(n,[{key:"render",value:function(){return ue.default.createElement("div",{className:"react-datepicker__input-time-container"},ue.default.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ue.default.createElement("div",{className:"react-datepicker-time__input-container"},ue.default.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.timeString!==t.time?{time:e.timeString}:null}}]),n}(ue.default.Component);function Un(e){var t=e.className,n=e.children,r=e.showPopperArrow,i=e.arrowProps,o=void 0===i?{}:i;return ue.default.createElement("div",{className:t},r&&ue.default.createElement("div",_t({className:"react-datepicker__triangle"},o)),n)}var Hn=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Zn=function(e){bt(n,e);var t=Ct(n);function n(e){var r;return ht(this,n),gt(kt(r=t.call(this,e)),"handleClickOutside",(function(e){r.props.onClickOutside(e)})),gt(kt(r),"setClickOutsideRef",(function(){return r.containerRef.current})),gt(kt(r),"handleDropdownFocus",(function(e){(function(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).className||"").split(/\s+/);return Hn.some((function(t){return e.indexOf(t)>=0}))})(e.target)&&r.props.onDropdownFocus()})),gt(kt(r),"getDateInView",(function(){var e=r.props,t=e.preSelection,n=e.selected,i=e.openToDate,o=_n(r.props),a=bn(r.props),s=Pt();return i||n||t||(o&&it.default(s,o)?o:a&&rt.default(s,a)?a:s)})),gt(kt(r),"increaseMonth",(function(){r.setState((function(e){var t=e.date;return{date:be.default(t,1)}}),(function(){return r.handleMonthChange(r.state.date)}))})),gt(kt(r),"decreaseMonth",(function(){r.setState((function(e){var t=e.date;return{date:Ee.default(t,1)}}),(function(){return r.handleMonthChange(r.state.date)}))})),gt(kt(r),"handleDayClick",(function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)})),gt(kt(r),"handleDayMouseEnter",(function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)})),gt(kt(r),"handleMonthMouseLeave",(function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()})),gt(kt(r),"handleYearChange",(function(e){r.props.onYearChange&&r.props.onYearChange(e),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(e)})),gt(kt(r),"handleMonthChange",(function(e){r.props.onMonthChange&&r.props.onMonthChange(e),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(e)})),gt(kt(r),"handleMonthYearChange",(function(e){r.handleYearChange(e),r.handleMonthChange(e)})),gt(kt(r),"changeYear",(function(e){r.setState((function(t){var n=t.date;return{date:ze.default(n,e)}}),(function(){return r.handleYearChange(r.state.date)}))})),gt(kt(r),"changeMonth",(function(e){r.setState((function(t){var n=t.date;return{date:Fe.default(n,e)}}),(function(){return r.handleMonthChange(r.state.date)}))})),gt(kt(r),"changeMonthYear",(function(e){r.setState((function(t){var n=t.date;return{date:ze.default(Fe.default(n,Ne.default(e)),Ae.default(e))}}),(function(){return r.handleMonthYearChange(r.state.date)}))})),gt(kt(r),"header",(function(){var e=Wt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,r.props.locale,r.props.calendarStartDay),t=[];return r.props.showWeekNumbers&&t.push(ue.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),t.concat([0,1,2,3,4,5,6].map((function(t){var n=ge.default(e,t),i=r.formatWeekday(n,r.props.locale),o=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return ue.default.createElement("div",{key:t,className:de.default("react-datepicker__day-name",o)},i)})))})),gt(kt(r),"formatWeekday",(function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(Mt(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return Mt(e,"EEE",t)}(e,t):function(e,t){return Mt(e,"EEEEEE",t)}(e,t)})),gt(kt(r),"decreaseYear",(function(){r.setState((function(e){var t=e.date;return{date:Ce.default(t,r.props.showYearPicker?r.props.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))})),gt(kt(r),"renderPreviousButton",(function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.showMonthYearPicker:e=vn(r.state.date,r.props);break;case r.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.yearItemNumber,i=void 0===r?Dt:r,o=En(Ht(Ce.default(e,i)),i).endPeriod,a=n&&Ae.default(n);return a&&a>o||!1}(r.state.date,r.props);break;default:e=hn(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--previous"],n=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(n=r.decreaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--previous--disabled"),n=null);var i=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,o=r.props,a=o.previousMonthAriaLabel,s=void 0===a?"Previous Month":a,c=o.previousYearAriaLabel,l=void 0===c?"Previous Year":c;return ue.default.createElement("button",{type:"button",className:t.join(" "),onClick:n,"aria-label":i?l:s},ue.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},i?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}})),gt(kt(r),"increaseYear",(function(){r.setState((function(e){var t=e.date;return{date:ye.default(t,r.props.showYearPicker?r.props.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))})),gt(kt(r),"renderNextButton",(function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.showMonthYearPicker:e=gn(r.state.date,r.props);break;case r.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.yearItemNumber,i=void 0===r?Dt:r,o=En(ye.default(e,i),i).startPeriod,a=n&&Ae.default(n);return a&&a<o||!1}(r.state.date,r.props);break;default:e=mn(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&t.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&t.push("react-datepicker__navigation--next--with-today-button");var n=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(n=r.increaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--next--disabled"),n=null);var i=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,o=r.props,a=o.nextMonthAriaLabel,s=void 0===a?"Next Month":a,c=o.nextYearAriaLabel,l=void 0===c?"Next Year":c;return ue.default.createElement("button",{type:"button",className:t.join(" "),onClick:n,"aria-label":i?l:s},ue.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},i?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}})),gt(kt(r),"renderCurrentMonth",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),ue.default.createElement("div",{className:t.join(" ")},Mt(e,r.props.dateFormat,r.props.locale))})),gt(kt(r),"renderYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showYearDropdown&&!e)return ue.default.createElement(On,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:Ae.default(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})})),gt(kt(r),"renderMonthDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthDropdown&&!e)return ue.default.createElement(Dn,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Ne.default(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})})),gt(kt(r),"renderMonthYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthYearDropdown&&!e)return ue.default.createElement(In,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})})),gt(kt(r),"renderTodayButton",(function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return ue.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return r.props.onSelect(Ve.default(Pt()),e)}},r.props.todayButton)})),gt(kt(r),"renderDefaultHeader",(function(e){var t=e.monthDate,n=e.i;return ue.default.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),ue.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),ue.default.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))})),gt(kt(r),"renderCustomHeader",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.monthDate,n=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var i=hn(r.state.date,r.props),o=mn(r.state.date,r.props),a=vn(r.state.date,r.props),s=gn(r.state.date,r.props),c=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return ue.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(ft(ft({},r.state),{},{customHeaderCount:n,monthDate:t,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:i,nextMonthButtonDisabled:o,prevYearButtonDisabled:a,nextYearButtonDisabled:s})),c&&ue.default.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))})),gt(kt(r),"renderYearHeader",(function(){var e=r.state.date,t=r.props,n=t.showYearPicker,i=En(e,t.yearItemNumber),o=i.startPeriod,a=i.endPeriod;return ue.default.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},n?"".concat(o," - ").concat(a):Ae.default(e))})),gt(kt(r),"renderHeader",(function(e){switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(e);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(e);default:return r.renderDefaultHeader(e)}})),gt(kt(r),"renderMonths",(function(){if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var e=[],t=r.props.showPreviousMonths?r.props.monthsShown-1:0,n=Ee.default(r.state.date,t),i=0;i<r.props.monthsShown;++i){var o=i-r.props.monthSelectedIn,a=be.default(n,o),s="month-".concat(i),c=i<r.props.monthsShown-1,l=i>0;e.push(ue.default.createElement("div",{key:s,ref:function(e){r.monthContainer=e},className:"react-datepicker__month-container"},r.renderHeader({monthDate:a,i:i}),ue.default.createElement(Fn,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,onChange:r.changeMonthYear,day:a,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:i,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,highlightDates:r.props.highlightDates,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:c,monthShowsDuplicateDaysStart:l})))}return e}})),gt(kt(r),"renderYears",(function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?ue.default.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader(),ue.default.createElement(zn,_t({onDayClick:r.handleDayClick,date:r.state.date},r.props))):void 0})),gt(kt(r),"renderTimeSection",(function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return ue.default.createElement(Bn,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleTimeKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})})),gt(kt(r),"renderInputTimeSection",(function(){var e=new Date(r.props.selected),t=It(e)&&Boolean(r.props.selected)?"".concat(kn(e.getHours()),":").concat(kn(e.getMinutes())):"";if(r.props.showTimeInput)return ue.default.createElement(Wn,{date:e,timeString:t,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})})),r.containerRef=ue.default.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null},r}return vt(n,[{key:"componentDidMount",value:function(){this.props.showTimeSelect&&(this.assignMonthContainer=void this.setState({monthContainer:this.monthContainer}))}},{key:"componentDidUpdate",value:function(e){this.props.preSelection&&!$t(this.props.preSelection,e.preSelection)?this.setState({date:this.props.preSelection}):this.props.openToDate&&!$t(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var e=this.props.container||Un;return ue.default.createElement("div",{ref:this.containerRef},ue.default.createElement(e,{className:de.default("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow,arrowProps:this.props.arrowProps},this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.props.children))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,monthSelectedIn:0,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Dt}}}]),n}(ue.default.Component),qn=function(e){return!e.disabled&&-1!==e.tabIndex},Vn=function(e){bt(n,e);var t=Ct(n);function n(e){var r;return ht(this,n),gt(kt(r=t.call(this,e)),"getTabChildren",(function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(qn)})),gt(kt(r),"handleFocusStart",(function(e){var t=r.getTabChildren();t&&t.length>1&&t[t.length-1].focus()})),gt(kt(r),"handleFocusEnd",(function(e){var t=r.getTabChildren();t&&t.length>1&&t[0].focus()})),r.tabLoopRef=ue.default.createRef(),r}return vt(n,[{key:"render",value:function(){return this.props.enableTabLoop?ue.default.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ue.default.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,ue.default.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),n}(ue.default.Component),Kn=function(e){bt(n,e);var t=Ct(n);function n(e){var r;return ht(this,n),(r=t.call(this,e)).el=document.createElement("div"),r}return vt(n,[{key:"componentDidMount",value:function(){this.portalRoot=document.getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),document.body.appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return ut.default.createPortal(this.props.children,this.el)}}]),n}(ue.default.Component),$n=function(e){bt(n,e);var t=Ct(n);function n(){return ht(this,n),t.apply(this,arguments)}return vt(n,[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.wrapperClassName,i=t.hidePopper,o=t.popperComponent,a=t.popperModifiers,s=t.popperPlacement,c=t.popperProps,l=t.targetComponent,u=t.enableTabLoop,d=t.popperOnKeyDown,f=t.portalId;if(!i){var p=de.default("react-datepicker-popper",n);e=ue.default.createElement(se.Popper,_t({modifiers:a,placement:s},c),(function(e){var t=e.ref,n=e.style,r=e.placement,i=e.arrowProps;return ue.default.createElement(Vn,{enableTabLoop:u},ue.default.createElement("div",{ref:t,style:n,className:p,"data-placement":r,onKeyDown:d},ue.default.cloneElement(o,{arrowProps:i})))}))}this.props.popperContainer&&(e=ue.default.createElement(this.props.popperContainer,{},e)),f&&!i&&(e=ue.default.createElement(Kn,{portalId:f},e));var h=de.default("react-datepicker-wrapper",r);return ue.default.createElement(se.Manager,{className:"react-datepicker-manager"},ue.default.createElement(se.Reference,null,(function(e){var t=e.ref;return ue.default.createElement("div",{ref:t,className:h},l)})),e)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:[],popperProps:{},popperPlacement:"bottom-start"}}}]),n}(ue.default.Component),Gn="react-datepicker-ignore-onclickoutside",Yn=lt.default(Zn),Qn="Date input not valid.",Xn=function(e){bt(n,e);var t=Ct(n);function n(e){var r;return ht(this,n),gt(kt(r=t.call(this,e)),"getPreSelection",(function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Pt()})),gt(kt(r),"calcInitialState",(function(){var e,t=r.getPreSelection(),n=_n(r.props),i=bn(r.props),o=n&&it.default(t,Ve.default(n))?n:i&&rt.default(t,Qe.default(i))?i:t;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:o,highlightDates:yn(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1}})),gt(kt(r),"clearPreventFocusTimeout",(function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)})),gt(kt(r),"setFocus",(function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})})),gt(kt(r),"setBlur",(function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()})),gt(kt(r),"setOpen",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:er},(function(){e||r.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&r.setBlur(),r.setState({inputValue:null})}))}))})),gt(kt(r),"inputOk",(function(){return fe.default(r.state.preSelection)})),gt(kt(r),"isCalendarOpen",(function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open})),gt(kt(r),"handleFocus",(function(e){r.state.preventFocus||(r.props.onFocus(e),r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})})),gt(kt(r),"cancelFocusInput",(function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null})),gt(kt(r),"deferFocusInput",(function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout((function(){return r.setFocus()}),1)})),gt(kt(r),"handleDropdownFocus",(function(){r.cancelFocusInput()})),gt(kt(r),"handleBlur",(function(e){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(e),r.setState({focused:!1})})),gt(kt(r),"handleCalendarClickOutside",(function(e){r.props.inline||r.setOpen(!1),r.props.onClickOutside(e),r.props.withPortal&&e.preventDefault()})),gt(kt(r),"handleChange",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(kt(r),t),"function"==typeof i.isDefaultPrevented&&!i.isDefaultPrevented())){r.setState({inputValue:i.target.value,lastPreSelectChange:Jn});var o=At(i.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing,r.props.minDate);!o&&i.target.value||r.setSelected(o,i,!0)}})),gt(kt(r),"handleSelect",(function(e,t,n){if(r.setState({preventFocus:!0},(function(){return r.preventFocusTimeout=setTimeout((function(){return r.setState({preventFocus:!1})}),50),r.preventFocusTimeout})),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,n),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(e);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var i=r.props,o=i.startDate,a=i.endDate;!o||a||it.default(e,o)||r.setOpen(!1)}})),gt(kt(r),"setSelected",(function(e,t,n,i){var o=e;if(null===o||!nn(o,r.props)){var a=r.props,s=a.onChange,c=a.selectsRange,l=a.startDate,u=a.endDate;if(!Gt(r.props.selected,o)||r.props.allowSameDay||c)if(null!==o&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(o=Rt(o,{hour:Oe.default(r.props.selected),minute:xe.default(r.props.selected),second:Se.default(r.props.selected)})),r.props.inline||r.setState({preSelection:o}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:i})),c){var d=l&&u;l||u?l&&!u&&(it.default(o,l)?s([o,null],t):s([l,o],t)):s([o,null],t),d&&s([o,null],t)}else s(o,t);n||(r.props.onSelect(o,t),r.setState({inputValue:null}))}})),gt(kt(r),"setPreSelection",(function(e){var t=void 0!==r.props.minDate,n=void 0!==r.props.maxDate,i=!0;if(e){var o=Ve.default(e);if(t&&n)i=Yt(e,r.props.minDate,r.props.maxDate);else if(t){var a=Ve.default(r.props.minDate);i=rt.default(e,a)||Gt(o,a)}else if(n){var s=Qe.default(r.props.maxDate);i=it.default(e,s)||Gt(o,s)}}i&&r.setState({preSelection:e})})),gt(kt(r),"handleTimeChange",(function(e){var t=Rt(r.props.selected?r.props.selected:r.getPreSelection(),{hour:Oe.default(e),minute:xe.default(e)});r.setState({preSelection:t}),r.props.onChange(t),r.props.shouldCloseOnSelect&&r.setOpen(!1),r.props.showTimeInput&&r.setOpen(!0),r.setState({inputValue:null})})),gt(kt(r),"onInputClick",(function(){r.props.disabled||r.props.readOnly||r.setOpen(!0),r.props.onInputClick()})),gt(kt(r),"onInputKeyDown",(function(e){r.props.onKeyDown(e);var t=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if("ArrowDown"===t||"ArrowUp"===t){e.preventDefault();var n=r.calendar.componentNode&&r.calendar.componentNode.querySelector('.react-datepicker__day[tabindex="0"]');return void(n&&n.focus({preventScroll:!0}))}var i=Pt(r.state.preSelection);"Enter"===t?(e.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===er?(r.handleSelect(i,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(i)):r.setOpen(!1)):"Escape"===t&&(e.preventDefault(),r.setOpen(!1)),r.inputOk()||r.props.onInputError({code:1,msg:Qn})}}else"ArrowDown"!==t&&"ArrowUp"!==t&&"Enter"!==t||r.onInputClick()})),gt(kt(r),"onDayKeyDown",(function(e){r.props.onKeyDown(e);var t=e.key,n=Pt(r.state.preSelection);if("Enter"===t)e.preventDefault(),r.handleSelect(n,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(n);else if("Escape"===t)e.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Qn});else if(!r.props.disabledKeyboardNavigation){var i;switch(t){case"ArrowLeft":i=we.default(n,1);break;case"ArrowRight":i=ge.default(n,1);break;case"ArrowUp":i=ke.default(n,1);break;case"ArrowDown":i=_e.default(n,1);break;case"PageUp":i=Ee.default(n,1);break;case"PageDown":i=be.default(n,1);break;case"Home":i=Ce.default(n,1);break;case"End":i=ye.default(n,1)}if(!i)return void(r.props.onInputError&&r.props.onInputError({code:1,msg:Qn}));if(e.preventDefault(),r.setState({lastPreSelectChange:er}),r.props.adjustDateOnChange&&r.setSelected(i),r.setPreSelection(i),r.props.inline){var o=Ne.default(n),a=Ne.default(i),s=Ae.default(n),c=Ae.default(i);o!==a||s!==c?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}})),gt(kt(r),"onPopperKeyDown",(function(e){"Escape"===e.key&&(e.preventDefault(),r.setState({preventFocus:!0},(function(){r.setOpen(!1),setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))})))})),gt(kt(r),"onClearClick",(function(e){e&&e.preventDefault&&e.preventDefault(),r.props.selectsRange?r.props.onChange([null,null],e):r.props.onChange(null,e),r.setState({inputValue:null})})),gt(kt(r),"clear",(function(){r.onClearClick()})),gt(kt(r),"onScroll",(function(e){"boolean"==typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"==typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)})),gt(kt(r),"renderCalendar",(function(){return r.props.inline||r.isCalendarOpen()?ue.default.createElement(Yn,{ref:function(e){r.calendar=e},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,includeDates:r.props.includeDates,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:Gn,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showPopperArrow:r.props.showPopperArrow,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.onDayKeyDown,handleTimeKeyDown:r.props.onKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection},r.props.children):null})),gt(kt(r),"renderDateInput",(function(){var e,t=de.default(r.props.className,gt({},Gn,r.state.open)),n=r.props.customInput||ue.default.createElement("input",{type:"text"}),i=r.props.customInputRef||"ref",o="string"==typeof r.props.value?r.props.value:"string"==typeof r.state.inputValue?r.state.inputValue:r.props.selectsRange?function(e,t,n){if(!e)return"";var r=Lt(e,n),i=t?Lt(t,n):"";return"".concat(r," - ").concat(i)}(r.props.startDate,r.props.endDate,r.props):Lt(r.props.selected,r.props);return ue.default.cloneElement(n,(gt(e={},i,(function(e){r.input=e})),gt(e,"value",o),gt(e,"onBlur",r.handleBlur),gt(e,"onChange",r.handleChange),gt(e,"onClick",r.onInputClick),gt(e,"onFocus",r.handleFocus),gt(e,"onKeyDown",r.onInputKeyDown),gt(e,"id",r.props.id),gt(e,"name",r.props.name),gt(e,"autoFocus",r.props.autoFocus),gt(e,"placeholder",r.props.placeholderText),gt(e,"disabled",r.props.disabled),gt(e,"autoComplete",r.props.autoComplete),gt(e,"className",de.default(n.props.className,t)),gt(e,"title",r.props.title),gt(e,"readOnly",r.props.readOnly),gt(e,"required",r.props.required),gt(e,"tabIndex",r.props.tabIndex),gt(e,"aria-describedby",r.props.ariaDescribedBy),gt(e,"aria-invalid",r.props.ariaInvalid),gt(e,"aria-labelledby",r.props.ariaLabelledBy),gt(e,"aria-required",r.props.ariaRequired),e))})),gt(kt(r),"renderClearButton",(function(){var e=r.props,t=e.isClearable,n=e.selected,i=e.startDate,o=e.endDate,a=e.clearButtonTitle,s=e.clearButtonClassName,c=void 0===s?"":s,l=e.ariaLabelClose,u=void 0===l?"Close":l;return!t||null==n&&null==i&&null==o?null:ue.default.createElement("button",{type:"button",className:"react-datepicker__close-icon ".concat(c).trim(),"aria-label":u,onClick:r.onClearClick,title:a,tabIndex:-1})})),r.state=r.calcInitialState(),r}return vt(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(e,t){var n,r;e.inline&&(n=e.selected,r=this.props.selected,n&&r?Ne.default(n)!==Ne.default(r)||Ae.default(n)!==Ae.default(r):n!==r)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:yn(this.props.highlightDates)}),t.focused||Gt(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&this.props.onCalendarOpen(),!0===t.open&&!1===this.state.open&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"render",value:function(){var e=this.renderCalendar();return this.props.inline&&!this.props.withPortal?e:this.props.withPortal?ue.default.createElement("div",null,this.props.inline?null:ue.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),this.state.open||this.props.inline?ue.default.createElement("div",{className:"react-datepicker__portal"},e):null):ue.default.createElement($n,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,popperModifiers:this.props.popperModifiers,targetComponent:ue.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Dt,renderDayContents:function(e){return e},focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:0}}}]),n}(ue.default.Component),Jn="input",er="navigate";e.CalendarContainer=Un,e.default=Xn,e.getDefaultLocale=Qt,e.registerLocale=function(e,t){var n="undefined"!=typeof window?window:global;n.__localeData__||(n.__localeData__={}),n.__localeData__[e]=t},e.setDefaultLocale=function(e){("undefined"!=typeof window?window:global).__localeId__=e},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(27378),n(23615),n(60042),n(53730),n(44720),n(43793),n(42601),n(4036),n(64083),n(25193),n(87926),n(29362),n(3349),n(51731),n(8604),n(15982),n(90399),n(42878),n(39839),n(93411),n(93855),n(17752),n(26264),n(94606),n(37811),n(12327),n(60701),n(87786),n(2790),n(46384),n(9458),n(49840),n(78822),n(59229),n(22386),n(26868),n(36731),n(7095),n(40917),n(90956),n(23544),n(54571),n(71217),n(30619),n(93680),n(25480),n(35754),n(18309),n(39937),n(97874),n(35060),n(84396),n(68606),n(26992),n(94762),n(95519),n(32825),n(93202),n(97716),n(5254),n(26508),n(31542))},9540:function(e,t,n){"use strict";n.r(t),n.d(t,{HTML5Backend:function(){return A},NativeTypes:function(){return r},getEmptyImage:function(){return P}});var r={};function i(e){var t=null;return function(){return null==t&&(t=e()),t}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(r),n.d(r,{FILE:function(){return h},HTML:function(){return g},TEXT:function(){return v},URL:function(){return m}});var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,n;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e){return i.push(e)})),i}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&o(t.prototype,n),e}(),s=i((function(){return/firefox/i.test(navigator.userAgent)})),c=i((function(){return Boolean(window.safari)}));function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,i=[],o=0;o<r;o++)i.push(o);i.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var a,s,c=[],l=[],u=[],d=0;d<r-1;d++)a=t[d+1]-t[d],s=n[d+1]-n[d],l.push(a),c.push(s),u.push(s/a);for(var f=[u[0]],p=0;p<l.length-1;p++){var h=u[p],m=u[p+1];if(h*m<=0)f.push(0);else{a=l[p];var v=l[p+1],g=a+v;f.push(3*g/((g+v)/h+(g+a)/m))}}f.push(u[u.length-1]);for(var _,b=[],y=[],w=0;w<f.length-1;w++){_=u[w];var k=f[w],E=1/l[w],C=k+f[w+1]-_-_;b.push((_-k-C)*E),y.push(C*E*E)}this.xs=t,this.ys=n,this.c1s=f,this.c2s=b,this.c3s=y}var t,n;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,i=this.c2s,o=this.c3s,a=t.length-1;if(e===t[a])return n[a];for(var s,c=0,l=o.length-1;c<=l;){var u=t[s=Math.floor(.5*(c+l))];if(u<e)c=s+1;else{if(!(u>e))return n[s];l=s-1}}var d=e-t[a=Math.max(0,l)],f=d*d;return n[a]+r[a]*d+i[a]*f+o[a]*d*f}}])&&l(t.prototype,n),e}();function d(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function f(e){return{x:e.clientX,y:e.clientY}}var p,h="__NATIVE_FILE__",m="__NATIVE_URL__",v="__NATIVE_TEXT__",g="__NATIVE_HTML__";function _(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(b(p={},h,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),b(p,g,{exposeProperties:{html:function(e,t){return _(e,t,"")}},matchesTypes:["Html","text/html"]}),b(p,m,{exposeProperties:{urls:function(e,t){return _(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),b(p,v,{exposeProperties:{text:function(e,t){return _(e,t,"")}},matchesTypes:["Text","text/plain"]}),p);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},this.initializeExposedProperties()}var t,n;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&w(t.prototype,n),e}();function E(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(y).filter((function(e){return y[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}var t,n;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}])&&C(t.prototype,n),e}();function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D,N=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){var t=i.sourceNodes.get(e);return t&&d(t)||null},this.endDragNativeItem=function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)},this.isNodeInDocument=function(e){return Boolean(e&&i.document&&i.document.body&&document.body.contains(e))},this.endDragIfSourceWasRemovedFromDOM=function(){var e=i.currentDragSourceNode;null==e||i.isNodeInDocument(e)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()},this.handleTopDragStartCapture=function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=i.dragStartSourceIds;i.dragStartSourceIds=null;var n=f(e);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,o=E(r);if(i.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){var a=i.monitor.getSourceId(),l=i.sourceNodes.get(a),p=i.sourcePreviewNodes.get(a)||l;if(p){var h=i.getCurrentSourcePreviewNodeOptions(),m=function(e,t,n,r,i){var o,a,l,f="IMG"===(o=t).nodeName&&(s()||!(null!==(a=document.documentElement)&&void 0!==a&&a.contains(o))),p=d(f?e:t),h={x:n.x-p.x,y:n.y-p.y},m=e.offsetWidth,v=e.offsetHeight,g=r.anchorX,_=r.anchorY,b=function(e,t,n,r){var i=e?t.width:n,o=e?t.height:r;return c()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(f,t,m,v),y=b.dragPreviewWidth,w=b.dragPreviewHeight,k=i.offsetX,E=i.offsetY,C=0===E||E;return{x:0===k||k?k:new u([0,.5,1],[h.x,h.x/m*y,h.x+y-m]).interpolate(g),y:C?E:(l=new u([0,.5,1],[h.y,h.y/v*w,h.y+w-v]).interpolate(_),c()&&f&&(l+=(window.devicePixelRatio-1)*w),l)}}(l,p,n,{anchorX:h.anchorX,anchorY:h.anchorY},{offsetX:h.offsetX,offsetY:h.offsetY});r.setDragImage(p,m.x,m.y)}}try{null==r||r.setData("application/json",{})}catch(e){}i.setCurrentDragSourceNode(e.target),i.getCurrentSourcePreviewNodeOptions().captureDraggingState?i.actions.publishDragSource():setTimeout((function(){return i.actions.publishDragSource()}),0)}else if(o)i.beginDragNativeItem(o);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(i.dragEnterTargetIds=[],i.enterLeaveCounter.enter(e.target)&&!i.monitor.isDragging()){var t=e.dataTransfer,n=E(t);n&&i.beginDragNativeItem(n,t)}},this.handleTopDragEnter=function(e){var t=i.dragEnterTargetIds;i.dragEnterTargetIds=[],i.monitor.isDragging()&&(i.altKeyPressed=e.altKey,t.length>0&&i.actions.hover(t,{clientOffset:f(e)}),t.some((function(e){return i.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){i.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));i.altKeyPressed=e.altKey,i.actions.hover(t||[],{clientOffset:f(e)}),(t||[]).some((function(e){return i.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){i.isDraggingNativeItem()&&e.preventDefault(),i.enterLeaveCounter.leave(e.target)&&i.isDraggingNativeItem()&&setTimeout((function(){return i.endDragNativeItem()}),0)},this.handleTopDropCapture=function(e){var t;i.dropTargetIds=[],i.isDraggingNativeItem()&&(e.preventDefault(),null===(t=i.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)),i.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(t,{clientOffset:f(e)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new S(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new a(this.isNodeInDocument)}var t,n;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var i=function(t){return r.handleDragStart(t,e)},o=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},i=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return O({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return O({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some((function(t){return r[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new k(y[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}])&&j(t.prototype,n),e}();function P(){return D||((D=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),D}var A=function(e,t,n){return new N(e,t,n)}},8357:function(e,t,n){"use strict";n.r(t),n.d(t,{DndContext:function(){return i},DndProvider:function(){return Ge},DragLayer:function(){return sn},DragPreviewImage:function(){return Qe},DragSource:function(){return zt},DropTarget:function(){return Yt},useDrag:function(){return Sn},useDragDropManager:function(){return fn},useDragLayer:function(){return An},useDrop:function(){return Nn}});var r=n(27378),i=(0,r.createContext)({dragDropManager:void 0}),o=n(24246);function a(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(o=new Error(t.replace(/%s/g,(function(){return r[a++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}var s="dnd-core/INIT_COORDS",c="dnd-core/BEGIN_DRAG",l="dnd-core/PUBLISH_DRAG_SOURCE",u="dnd-core/HOVER",d="dnd-core/DROP",f="dnd-core/END_DRAG";function p(e,t){return{type:s,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function v(e,t){return e.filter((function(e){return e!==t}))}function g(e){return"object"===h(e)}function _(e,t){var n=new Map,r=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e,t){1===e&&i.push(t)})),i}var b={type:s,payload:{clientOffset:null,sourceClientOffset:null}};function y(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,i=void 0===r||r,o=n.clientOffset,a=n.getSourceClientOffset,s=e.getMonitor(),l=e.getRegistry();e.dispatch(p(o)),w(t,s,l);var u=C(t,s);if(null!==u){var d=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");k(a),d=a(u)}e.dispatch(p(o,d));var f=l.getSource(u),h=f.beginDrag(s,u);if(null!=h){E(h),l.pinSource(u);var m=l.getSourceType(u);return{type:c,payload:{itemType:m,item:h,sourceId:u,clientOffset:o||null,sourceClientOffset:d||null,isSourcePublic:!!i}}}}else e.dispatch(b)}}function w(e,t,n){a(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){a(n.getSource(e),"Expected sourceIds to be registered.")}))}function k(e){a("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function E(e){a(g(e),"Item must be an object.")}function C(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function S(e){return function(){if(e.getMonitor().isDragging())return{type:l}}}function x(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function O(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;T(t);var i=t.slice(0),o=e.getMonitor(),a=e.getRegistry();j(i,o,a);var s=o.getItemType();return D(i,a,s),N(i,o,a),{type:u,payload:{targetIds:i,clientOffset:r||null}}}}function T(e){a(Array.isArray(e),"Expected targetIds to be an array.")}function j(e,t,n){a(t.isDragging(),"Cannot call hover while not dragging."),a(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];a(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array."),a(n.getTarget(i),"Expected targetIds to be registered.")}}function D(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];x(t.getTargetType(i),n)||e.splice(r,1)}}function N(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();L(n);var i=F(n);i.forEach((function(i,o){var a=R(i,o,r,n),s={type:d,payload:{dropResult:A(A({},t),a)}};e.dispatch(s)}))}}function L(e){a(e.isDragging(),"Cannot call drop while not dragging."),a(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function R(e,t,n,r){var i=n.getTarget(e),o=i?i.drop(r,e):void 0;return function(e){a(void 0===e||g(e),"Drop result must either be an object or undefined.")}(o),void 0===o&&(o=0===t?{}:r.getDropResult()),o}function F(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function B(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){a(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();return null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource()),{type:f}}}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=r.store.getState().refCount>0;r.backend&&(e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}var t,n;return t=e,n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:y(e),publishDragSource:S(e),hover:O(e),drop:M(e),endDrag:B(e)}}(this);return Object.keys(n).reduce((function(r,i){var o,a=n[i];return r[i]=(o=a,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=o.apply(e,r);void 0!==a&&t(a)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],n&&z(t.prototype,n),e}(),U=n(36891),H=function(e,t){return e===t};function Z(e,t){return!e&&!t||!(!e||!t)&&e.x===t.x&&e.y===t.y}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case s:case c:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case u:return Z(e.clientOffset,n.clientOffset)?e:K(K({},e),{},{clientOffset:n.clientOffset});case f:case d:return G;default:return e}}var Q="dnd-core/ADD_SOURCE",X="dnd-core/ADD_TARGET",J="dnd-core/REMOVE_SOURCE",ee="dnd-core/REMOVE_TARGET";function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case c:return ne(ne({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case l:return ne(ne({},e),{},{isSourcePublic:!0});case u:return ne(ne({},e),{},{targetIds:n.targetIds});case ee:return-1===e.targetIds.indexOf(n.targetId)?e:ne(ne({},e),{},{targetIds:v(e.targetIds,n.targetId)});case d:return ne(ne({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case f:return ne(ne({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:case X:return e+1;case J:case ee:return e-1;default:return e}}var se=[],ce=[];function le(e,t){return e!==se&&(e===ce||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function ue(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:break;case Q:case X:case ee:case J:return se;default:return ce}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,i=t.prevTargetIds,o=void 0===i?[]:i,a=_(r,o),s=a.length>0||!q(r,o);if(!s)return se;var c=o[o.length-1],l=r[r.length-1];return c!==l&&(c&&a.push(c),l&&a.push(l)),a}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:ue(e.dirtyHandlerIds,{type:t.type,payload:pe(pe({},t.payload),{},{prevTargetIds:m(e,"dragOperation.targetIds",[])})}),dragOffset:Y(e.dragOffset,t),refCount:ae(e.refCount,t),dragOperation:oe(e.dragOperation,t),stateId:de(e.stateId)}}function ve(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}se.__IS_NONE__=!0,ce.__IS_ALL__=!0;var _e,be=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=n}var t,n;return t=e,n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;a("function"==typeof e,"listener must be a function."),a(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId,o=function(){var n=t.store.getState(),o=n.stateId;try{o===i||o===i+1&&!le(n.dirtyHandlerIds,r)||e()}finally{i=o}};return this.store.subscribe(o)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;a("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return a(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return a(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&x(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return a(t,"Expected to find a valid source. sourceId=".concat(e)),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!x(r,i))return!1;var o=this.getTargetIds();if(!o.length)return!1;var a=o.indexOf(e);return n?a===o.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return r=(e=this.store.getState().dragOffset).clientOffset,i=e.initialClientOffset,o=e.initialSourceClientOffset,r&&i&&o?ve((n=o,{x:(t=r).x+n.x,y:t.y+n.y}),i):null;var e,t,n,r,i,o}},{key:"getDifferenceFromInitialOffset",value:function(){return t=(e=this.store.getState().dragOffset).clientOffset,n=e.initialClientOffset,t&&n?ve(t,n):null;var e,t,n}}],n&&ge(t.prototype,n),e}(),ye=0;function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function ke(e,t){t&&Array.isArray(e)?e.forEach((function(e){return ke(e,!1)})):a("string"==typeof e||"symbol"===we(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function Ee(e){Se.length||Ce(),Se[Se.length]=e}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(_e||(_e={}));var Ce,Se=[],xe=0;function Oe(){for(;xe<Se.length;){var e=xe;if(xe+=1,Se[e].call(),xe>1024){for(var t=0,n=Se.length-xe;t<n;t++)Se[t]=Se[t+xe];Se.length-=xe,xe=0}}Se.length=0,xe=0}var Te,je,De,Ne="undefined"!=typeof global?global:self,Pe=Ne.MutationObserver||Ne.WebKitMutationObserver;function Ae(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof Pe?(Te=1,je=new Pe(Oe),De=document.createTextNode(""),je.observe(De,{characterData:!0}),Ce=function(){Te=-Te,De.data=Te}):Ce=Ae(Oe),Ee.requestFlush=Ce,Ee.makeRequestCallFromTimer=Ae;var Ie=[],Me=[],Le=Ee.makeRequestCallFromTimer((function(){if(Me.length)throw Me.shift()}));function Re(e){var t;(t=Ie.length?Ie.pop():new Fe).task=e,Ee(t)}var Fe=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(e){Re.onerror?Re.onerror(e):(Me.push(e),Le())}finally{this.task=null,Ie[Ie.length]=this}},e}();function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function We(e){switch(e[0]){case"S":return _e.SOURCE;case"T":return _e.TARGET;default:a(!1,"Cannot parse handler ID: ".concat(e))}}function Ue(e,t){var n,r,i=e.entries(),o=!1;do{var a=i.next(),s=a.done;if((n=a.value,r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(n,r)||function(e,t){if(e){if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ze(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1]===t)return!0;o=!!s}while(!o);return!1}var He=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n;return t=e,n=[{key:"addSource",value:function(e,t){ke(e),function(e){a("function"==typeof e.canDrag,"Expected canDrag to be a function."),a("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),a("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(_e.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Q,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){ke(e,!0),function(e){a("function"==typeof e.canDrop,"Expected canDrop to be a function."),a("function"==typeof e.hover,"Expected hover to be a function."),a("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(_e.TARGET,e,t);return this.store.dispatch(function(e){return{type:X,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return Ue(this.dragSources,e)||Ue(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:"getTarget",value:function(e){return a(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return a(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return a(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return We(e)===_e.SOURCE}},{key:"isTargetId",value:function(e){return We(e)===_e.TARGET}},{key:"removeSource",value:function(e){var t=this;a(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:J,payload:{sourceId:e}}}(e)),Re((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){a(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:ee,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);a(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){a(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=function(e){var t=(ye++).toString();switch(e){case _e.SOURCE:return"S".concat(t);case _e.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}(e);return this.types.set(r,t),e===_e.SOURCE?this.dragSources.set(r,n):e===_e.TARGET&&this.dropTargets.set(r,n),r}}],n&&Be(t.prototype,n),e}();function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=qe(r),o=new be(i,new He(i)),a=new W(i,o),s=e(a,t,n);return a.receiveBackend(s),a}function qe(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,U.createStore)(me,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke=0,$e=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),Ge=(0,r.memo)((function(e){var t,n,a=e.children,s=function(e){if("manager"in e)return[{dragDropManager:e.manager},!1];var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ye(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=t;return i[$e]||(i[$e]={dragDropManager:Ze(e,t,n,r)}),i[$e]}(e.backend,e.context,e.options,e.debugMode);return[t,!e.context]}(function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["children"])),c=(n=2,function(e){if(Array.isArray(e))return e}(t=s)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],u=c[1];return(0,r.useEffect)((function(){if(u){var e=Ye();return++Ke,function(){0==--Ke&&(e[$e]=null)}}}),[]),(0,o.jsx)(i.Provider,Object.assign({value:l},{children:a}),void 0)}));function Ye(){return"undefined"!=typeof global?global:window}var Qe=(0,r.memo)((function(e){var t=e.connect,n=e.src;return(0,r.useEffect)((function(){if("undefined"!=typeof Image){var e=!1,r=new Image;return r.src=n,r.onload=function(){t(r),e=!0},function(){e&&t(null)}}})),null}));function Xe(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}function Je(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}function et(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function tt(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var o=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,r.isValidElement)(t)){var i=t;return e(i,n),i}var o=t;et(o);var a=n?function(t){return e(t,n)}:e;return rt(o,a)}}(i);t[n]=function(){return o}}})),t}function nt(e,t){"function"==typeof e?e(t):e.current=t}function rt(e,t){var n=e.ref;return a("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,r.cloneElement)(e,{ref:function(e){nt(n,e),nt(t,e)}}):(0,r.cloneElement)(e,{ref:t})}function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function ot(e){return null!==e&&"object"===it(e)&&Object.prototype.hasOwnProperty.call(e,"current")}function at(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!s(l))return!1;var u=e[l],d=t[l];if(!1===(i=n?n.call(r,u,d,l):void 0)||void 0===i&&u!==d)return!1}return!0}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ct=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=tt({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,ot(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,ot(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,n;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!at(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!at(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}])&&st(t.prototype,n),e}();function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ut=!1,dt=!1,ft=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,n;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){a(!ut,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ut=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ut=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;a(!dt,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return dt=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{dt=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&lt(t.prototype,n),e}();function pt(e){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pt(e)}function ht(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}function mt(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||function(e){var t;return"Symbol(react.forward_ref)"===(null==e||null===(t=e.$$typeof)||void 0===t?void 0:t.toString())}(e);var t}function vt(e){return"function"==typeof e}function gt(){}function _t(e){if(!function(e){return"object"===pt(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function bt(e,t){return"string"==typeof e||"symbol"===pt(e)||!!t&&Array.isArray(e)&&e.every((function(e){return bt(e,!1)}))}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t,n){return t&&wt(e.prototype,t),n&&wt(e,n),e}var Et=function(){function e(t){yt(this,e),this.isDisposed=!1,this.action=vt(t)?t:gt}return kt(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return Boolean(e&&vt(e.dispose))}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();Et.empty={dispose:gt};var Ct=function(){function e(){yt(this,e),this.isDisposed=!1;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.disposables=n}return kt(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}}]),e}(),St=function(){function e(){yt(this,e),this.isDisposed=!1}return kt(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}(),xt=n(55839),Ot=n.n(xt);function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nt(e,t)}function Pt(e,t){return!t||"object"!==Tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function At(e){return At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},At(e)}function It(e){var t=e.DecoratedComponent,n=e.createHandler,s=e.createMonitor,c=e.createConnector,l=e.registerHandler,u=e.containerDisplayName,d=e.getType,f=e.collect,p=e.options.arePropsEqual,h=void 0===p?at:p,m=t,v=t.displayName||t.name||"Component",g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(b,e);var t,u,p,g,_=(p=b,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=At(p);if(g){var n=At(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Pt(this,e)});function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(t=_.call(this,e)).decoratedRef=(0,r.createRef)(),t.handleChange=function(){var e=t.getCurrentState();at(e,t.state)||t.setState(e)},t.disposable=new St,t.receiveProps(e),t.dispose(),t}return t=b,(u=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return a(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!h(e,this.props)||!at(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new St,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){h(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(d(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=(o=l(e,this.handler,this.manager),a=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(o,a)||function(e,t){if(e){if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(e,t):void 0}}(o,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var i=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new Ct(new Et(i),new Et(r)))}var o,a}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?f(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return(0,o.jsx)(i.Consumer,{children:function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){var t;return null===(t=e.handlerConnector)||void 0===t?void 0:t.reconnect()})),(0,o.jsx)(m,Object.assign({},e.props,e.getCurrentState(),{ref:mt(m)?e.decoratedRef:null}),void 0)}},void 0)}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(a(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",v,v),void 0!==e&&(this.manager=e,this.handlerMonitor=s(e),this.handlerConnector=c(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))}}])&&Dt(t.prototype,u),b}(r.Component);return g.DecoratedComponent=t,g.displayName="".concat(u,"(").concat(v,")"),Ot()(g,t)}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Lt=["canDrag","beginDrag","isDragging","endDrag"],Rt=["beginDrag"],Ft=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.beginDrag=function(){if(i.props)return i.spec.beginDrag(i.props,i.monitor,i.ref.current)},this.spec=t,this.monitor=n,this.ref=r}var t,n;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,ht(this.ref))}}])&&Mt(t.prototype,n),e}();function Bt(e){return Object.keys(e).forEach((function(t){a(Lt.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',Lt.join(", "),t),a("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),Rt.forEach((function(t){a("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new Ft(e,t,n)}}function zt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e;"function"!=typeof e&&(a(bt(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),i=function(){return e}),a(_t(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var o=Bt(t);return a("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),a(_t(r),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return It({containerDisplayName:"DragSource",createHandler:o,registerHandler:Je,createConnector:function(e){return new ct(e)},createMonitor:function(e){return new ft(e)},DecoratedComponent:e,getType:i,collect:n,options:r})}}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ut=!1,Ht=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;a(!Ut,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ut=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ut=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&Wt(t.prototype,n),e}();function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qt=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=tt({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,ot(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n;return t=e,(n=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!at(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}])&&Zt(t.prototype,n),e}();function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kt=["canDrop","hover","drop"],$t=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.spec=t,this.monitor=n,this.ref=r}var t,n;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.props&&this.spec.hover(this.props,this.monitor,ht(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&Vt(t.prototype,n),e}();function Gt(e){return Object.keys(e).forEach((function(t){a(Kt.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',Kt.join(", "),t),a("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new $t(e,t,n)}}function Yt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e;"function"!=typeof e&&(a(bt(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),i=function(){return e}),a(_t(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var o=Gt(t);return a("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),a(_t(r),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return It({containerDisplayName:"DropTarget",createHandler:o,registerHandler:Xe,createMonitor:function(e){return new Ht(e)},createConnector:function(e){return new qt(e)},DecoratedComponent:e,getType:i,collect:n,options:r})}}function Qt(e){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t,n){return t&&Jt(e.prototype,t),n&&Jt(e,n),e}function tn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}function nn(e,t){return nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nn(e,t)}function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=an(e);if(t){var i=an(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return on(this,n)}}function on(e,t){return!t||"object"!==Qt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function an(e){return an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},an(e)}function sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),a(_t(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){var s=n,c=t.arePropsEqual,l=void 0===c?at:c,u=s.displayName||s.name||"Component",d=function(t){tn(c,t);var n=rn(c);function c(){var e;return Xt(this,c),(e=n.apply(this,arguments)).isCurrentlyMounted=!1,e.ref=(0,r.createRef)(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();at(t,e.state)||e.setState(t)}},e}return en(c,[{key:"getDecoratedComponentInstance",value:function(){return a(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current}},{key:"shouldComponentUpdate",value:function(e,t){return!l(e,this.props)||!at(t,this.state)}},{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)}},{key:"render",value:function(){var e=this;return(0,o.jsx)(i.Consumer,{children:function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted?(0,o.jsx)(s,Object.assign({},e.props,e.state,{ref:mt(s)?e.ref:null}),void 0):null)}},void 0)}},{key:"receiveDragDropManager",value:function(e){if(void 0===this.manager){this.manager=e,a("object"===Qt(e),"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",u,u);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}}},{key:"getCurrentState",value:function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)}}]),c}(r.Component);return d.displayName="DragLayer(".concat(u,")"),d.DecoratedComponent=n,Ot()(d,n)}}var cn="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var dn=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.spec=t,this.monitor=n,this.connector=r}var t,n;return t=e,(n=[{key:"beginDrag",value:function(){var e,t=this.spec,n=this.monitor;return null!==(e="object"===ln(t.item)?t.item:"function"==typeof t.item?t.item(n):{})&&void 0!==e?e:null}},{key:"canDrag",value:function(){var e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}},{key:"isDragging",value:function(e,t){var n=this.spec,r=this.monitor,i=n.isDragging;return i?i(r):t===e.getSourceId()}},{key:"endDrag",value:function(){var e=this.spec,t=this.monitor,n=this.connector,r=e.end;r&&r(t.getItem(),t),n.reconnect()}}])&&un(t.prototype,n),e}();function fn(){var e=(0,r.useContext)(i).dragDropManager;return a(null!=e,"Expected drag drop context"),e}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hn(e,t,n){var i=fn(),o=function(e,t,n){var i=(0,r.useMemo)((function(){return new dn(e,t,n)}),[t,n]);return(0,r.useEffect)((function(){i.spec=e}),[e]),i}(e,t,n),s=function(e){return(0,r.useMemo)((function(){var t=e.type;return a(null!=t,"spec.type must be defined"),t}),[e])}(e);cn((function(){if(null!=s){var e=(c=Je(s,o,i),l=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(c,l)||function(e,t){if(e){if("string"==typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(e,t):void 0}}(c,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=e[0],a=e[1];return t.receiveHandlerId(r),n.receiveHandlerId(r),a}var c,l}),[i,t,n,o,s])}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vn(e,t){var n,i=function(e){if(Array.isArray(e))return mn(e)}(n=t||[])||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mn(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return null==t&&"function"!=typeof e&&i.push(e),(0,r.useMemo)((function(){return"function"==typeof e?e():e}),i)}var gn=n(66471),_n=n.n(gn);function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yn(e,t,n){var i,o,a=(i=(0,r.useState)((function(){return t(e)})),o=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(i,o)||function(e,t){if(e){if("string"==typeof e)return bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bn(e,t):void 0}}(i,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],c=a[1],l=(0,r.useCallback)((function(){var r=t(e);_n()(s,r)||(c(r),n&&n())}),[s,e,n]);return cn(l),[s,l]}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kn(e,t,n){return function(e,t,r){var i,o,a=(i=yn(e,t,(function(){return n.reconnect()})),o=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(i,o)||function(e,t){if(e){if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(e,t):void 0}}(i,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],c=a[1];return cn((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(c,{handlerIds:[t]})}),[e,c]),s}(t,e||function(){return{}})}function En(e){return(0,r.useMemo)((function(){return e.hooks.dragSource()}),[e])}function Cn(e){return(0,r.useMemo)((function(){return e.hooks.dragPreview()}),[e])}function Sn(e,t){var n=vn(e,t);a(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var i,o=(i=fn(),(0,r.useMemo)((function(){return new ft(i)}),[i])),s=function(e,t){var n=fn(),i=(0,r.useMemo)((function(){return new ct(n.getBackend())}),[n]);return cn((function(){i.dragSourceOptions=e||null,i.reconnect()}),[i,e]),cn((function(){i.dragPreviewOptions=t||null,i.reconnect()}),[i,t]),i}(n.options,n.previewOptions);return hn(n,o,s),[kn(n.collect,o,s),En(s),Cn(s)]}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var On=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.spec=t,this.monitor=n}var t,n;return t=e,(n=[{key:"canDrop",value:function(){var e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}},{key:"hover",value:function(){var e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}},{key:"drop",value:function(){var e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}}])&&xn(t.prototype,n),e}();function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jn(e,t,n){var i=fn(),o=function(e,t){var n=(0,r.useMemo)((function(){return new On(e,t)}),[t]);return(0,r.useEffect)((function(){n.spec=e}),[e]),n}(e,t),s=function(e){var t=e.accept;return(0,r.useMemo)((function(){return a(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t]}),[t])}(e);cn((function(){var e,r,a=(e=Xe(s,o,i),r=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,r)||function(e,t){if(e){if("string"==typeof e)return Tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tn(e,t):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1];return t.receiveHandlerId(c),n.receiveHandlerId(c),l}),[i,t,o,n,s.map((function(e){return e.toString()})).join("|")])}function Dn(e){return(0,r.useMemo)((function(){return e.hooks.dropTarget()}),[e])}function Nn(e,t){var n,i=vn(e,t),o=(n=fn(),(0,r.useMemo)((function(){return new Ht(n)}),[n])),a=function(e){var t=fn(),n=(0,r.useMemo)((function(){return new qt(t.getBackend())}),[t]);return cn((function(){n.dropTargetOptions=e||null,n.reconnect()}),[e]),n}(i.options);return jn(i,o,a),[kn(i.collect,o,a),Dn(a)]}function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function An(e){var t,n,i=fn().getMonitor(),o=(t=yn(i,e),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pn(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1];return(0,r.useEffect)((function(){return i.subscribeToOffsetChange(s)})),(0,r.useEffect)((function(){return i.subscribeToStateChange(s)})),a}},43577:function(e,t,n){"use strict";var r=n(27378),i=n(62525),o=n(91102);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,c={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,h={},m={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var _=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(m,e)||!p.call(h,e)&&(f.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(_,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(_,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(_,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,E=60106,C=60107,S=60108,x=60114,O=60109,T=60110,j=60112,D=60113,N=60120,P=60115,A=60116,I=60121,M=60128,L=60129,R=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var B=Symbol.for;k=B("react.element"),E=B("react.portal"),C=B("react.fragment"),S=B("react.strict_mode"),x=B("react.profiler"),O=B("react.provider"),T=B("react.context"),j=B("react.forward_ref"),D=B("react.suspense"),N=B("react.suspense_list"),P=B("react.memo"),A=B("react.lazy"),I=B("react.block"),B("react.scope"),M=B("react.opaque.id"),L=B("react.debug_trace_mode"),R=B("react.offscreen"),F=B("react.legacy_hidden")}var z,W="function"==typeof Symbol&&Symbol.iterator;function U(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=W&&e[W]||e["@@iterator"])?e:null}function H(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var Z=!1;function q(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?H(e):""}function V(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return q(e.type,!1);case 11:return q(e.type.render,!1);case 22:return q(e.type._render,!1);case 1:return q(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case E:return"Portal";case x:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return K(e.type);case I:return K(e._render);case A:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function le(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,me,ve=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _e={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function ye(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||_e.hasOwnProperty(e)&&_e[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ye(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(_e).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_e[t]=_e[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Oe=null,Te=null;function je(e){if(e=ni(e)){if("function"!=typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),xe(e.stateNode,e.type,t))}}function De(e){Oe?Te?Te.push(e):Te=[e]:Oe=e}function Ne(){if(Oe){var e=Oe,t=Te;if(Te=Oe=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Pe(e,t){return e(t)}function Ae(e,t,n,r,i){return e(t,n,r,i)}function Ie(){}var Me=Pe,Le=!1,Re=!1;function Fe(){null===Oe&&null===Te||(Ie(),Ne())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(d)try{var We={};Object.defineProperty(We,"passive",{get:function(){ze=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(me){ze=!1}function Ue(e,t,n,r,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var He=!1,Ze=null,qe=!1,Ve=null,Ke={onError:function(e){He=!0,Ze=e}};function $e(e,t,n,r,i,o,a,s,c){He=!1,Ze=null,Ue.apply(Ke,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Qe(e){if(Ge(e)!==e)throw Error(a(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Je(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ct=null,lt=new Map,ut=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ht(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ti(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function _t(e,t,n){gt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&gt(at)&&(at=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(_t),ut.forEach(_t)}function yt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function wt(e){function t(t){return yt(t,e)}if(0<ot.length){yt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&yt(at,e),null!==st&&yt(st,e),null!==ct&&yt(ct,e),lt.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},Ct={},St={};function xt(e){if(Ct[e])return Ct[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Ct[e]=n[t];return e}d&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ot=xt("animationend"),Tt=xt("animationiteration"),jt=xt("animationstart"),Dt=xt("transitionend"),Nt=new Map,Pt=new Map,At=["abort","abort",Ot,"animationEnd",Tt,"animationIteration",jt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function It(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Nt.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Mt=8;function Lt(e){if(0!=(1&e))return Mt=15,1;if(0!=(2&e))return Mt=14,2;if(0!=(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!=(32&e)?(Mt=11,32):0!=(t=192&e)?(Mt=10,t):0!=(256&e)?(Mt=9,256):0!=(t=3584&e)?(Mt=8,t):0!=(4096&e)?(Mt=7,4096):0!=(t=4186112&e)?(Mt=6,t):0!=(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!=(134217728&e)?(Mt=3,134217728):0!=(t=805306368&e)?(Mt=2,t):0!=(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Rt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Mt=15;else if(0!=(o=134217727&n)){var c=o&~a;0!==c?(r=Lt(c),i=Mt):0!=(s&=o)&&(r=Lt(s),i=Mt)}else 0!=(o=n&~a)?(r=Lt(o),i=Mt):0!==s&&(r=Lt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Lt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Bt(10,t):e;case 10:return 0===(e=zt(192&~t))?Bt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&0===(e=zt(4186112&~t))&&(e=512),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function zt(e){return e&-e}function Wt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ut(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Zt(e)/qt|0)|0},Zt=Math.log,qt=Math.LN2,Vt=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,$t=!0;function Gt(e,t,n,r){Le||Ie();var i=Qt,o=Le;Le=!0;try{Ae(i,e,t,n,r)}finally{(Le=o)||Fe()}}function Yt(e,t,n,r){Kt(Vt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var i;if($t)if((i=0==(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&ht(e,r);else{if(i){if(-1<ft.indexOf(e))return e=pt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;ht(e,r)}Ir(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Se(r);if(null!==(i=ti(i))){var o=Ge(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ir(e,t,r,i,n),null}var Jt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(dn),pn=i({},dn,{view:0,detail:0}),hn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(cn=e.screenX-un.screenX,ln=e.screenY-un.screenY):ln=cn=0,un=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),vn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),_n=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),kn=sn(i({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function On(){return xn}var Tn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=sn(Tn),Dn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Pn=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=sn(An),Mn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var Fn=d&&"TextEvent"in window&&!Rn,Bn=d&&(!Ln||Rn&&8<Rn&&11>=Rn),zn=String.fromCharCode(32),Wn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1,qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){De(r),0<(t=Lr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Gn=null;function Yn(e){Tr(e,0)}function Qn(e){if(Q(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Jn=er&&(!document.documentMode||9<document.documentMode)}function rr(){$n&&($n.detachEvent("onpropertychange",ir),Gn=$n=null)}function ir(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];if(Kn(t,Gn,e,Se(e)),e=Yn,Le)e(t);else{Le=!0;try{Pe(e,t)}finally{Le=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(rr(),Gn=n,($n=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function sr(e,t){if("click"===e)return Qn(t)}function cr(e,t){if("input"===e||"change"===e)return Qn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ur=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=d&&"documentMode"in document&&11>=document.documentMode,_r=null,br=null,yr=null,wr=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==_r||_r!==X(r)||(r="selectionStart"in(r=_r)&&vr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&dr(yr,r)||(yr=r,0<(r=Lr(br,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}It("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),It("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),It(At,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Er.length;Cr++)Pt.set(Er[Cr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,c,l){if($e.apply(this,arguments),He){if(!He)throw Error(a(198));var u=Ze;He=!1,Ze=null,qe||(qe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Or(i,s,l),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Or(i,s,l),o=c}}}if(qe)throw e=Ve,qe=!1,Ve=null,e}function jr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){e[Dr]||(e[Dr]=!0,s.forEach((function(t){xr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&xr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Ar(o,e,i,t),a.add(s))}function Ar(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Gt;break;case 1:i=Yt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ir(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ti(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Re)return e();Re=!0;try{Me(e,t,n)}finally{Re=!1,Fe()}}((function(){var r=o,i=Se(n),a=[];e:{var s=Nt.get(e);if(void 0!==s){var c=fn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":c=jn;break;case"focusin":l="focus",c=_n;break;case"focusout":l="blur",c=_n;break;case"beforeblur":case"afterblur":c=_n;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case Ot:case Tt:case jt:c=bn;break;case Dt:c=Pn;break;case"scroll":c=hn;break;case"wheel":c=In;break;case"copy":case"cut":case"paste":c=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Dn}var u=0!=(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&null!=(m=Be(h,f))&&u.push(Mr(h,m,p))),d)break;h=h.return}0<u.length&&(s=new c(s,l,null,n,i),a.push({event:s,listeners:u}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!ti(l)&&!l[Jr])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?ti(l):null)&&(l!==(d=Ge(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=vn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=Dn,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==c?s:ri(c),p=null==l?s:ri(l),(s=new u(m,h+"leave",c,n,i)).target=d,s.relatedTarget=p,m=null,ti(i)===r&&((u=new u(f,h+"enter",l,n,i)).target=p,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(f=l,h=0,p=u=c;p;p=Rr(p))h++;for(p=0,m=f;m;m=Rr(m))p++;for(;0<h-p;)u=Rr(u),h--;for(;0<p-h;)f=Rr(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=Rr(u),f=Rr(f)}u=null}else u=null;null!==c&&Fr(a,s,c,u,!1),null!==l&&null!==d&&Fr(a,d,l,u,!0)}if("select"===(c=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Xn;else if(Vn(s))if(Jn)v=cr;else{v=ar;var g=or}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=sr);switch(v&&(v=v(e,r))?Kn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ri(r):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(_r=g,br=r,yr=null);break;case"focusout":yr=br=_r=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,kr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":kr(a,n,i)}var _;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Zn&&(_=nn()):(en="value"in(Jt=i)?Jt.value:Jt.textContent,Zn=!0)),0<(g=Lr(r,b)).length&&(b=new kn(b,e,null,n,i),a.push({event:b,listeners:g}),(_||null!==(_=Hn(n)))&&(b.data=_))),(_=Fn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Wn=!0,zn);case"textInput":return(e=t.data)===zn&&Wn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Ln&&Un(e,t)?(e=nn(),tn=en=Jt=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Lr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=_)}Tr(a,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Mr(e,o,i)),null!=(o=Be(e,t))&&r.push(Mr(e,o,i))),e=e.return}return r}function Rr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(c=Be(n,o))&&a.unshift(Mr(n,c,s)):i||null!=(c=Be(n,o))&&a.push(Mr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Br(){}var zr=null,Wr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zr="function"==typeof setTimeout?setTimeout:void 0,qr="function"==typeof clearTimeout?clearTimeout:void 0;function Vr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0,Yr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Yr,Xr="__reactProps$"+Yr,Jr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Qr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Qr]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Xr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ui(e,t){si++,ai[si]=e.current,e.current=t}var di={},fi=ci(di),pi=ci(!1),hi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!=e.childContextTypes}function gi(){li(pi),li(fi)}function _i(e,t,n){if(fi.current!==di)throw Error(a(168));ui(fi,t),ui(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,K(t)||"Unknown",o));return i({},n,r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,hi=fi.current,ui(fi,e),ui(pi,pi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(fi),ui(fi,e)):li(pi),ui(pi,n)}var ki=null,Ei=null,Ci=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,xi=o.unstable_cancelCallback,Oi=o.unstable_shouldYield,Ti=o.unstable_requestPaint,ji=o.unstable_now,Di=o.unstable_getCurrentPriorityLevel,Ni=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Ii=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,Li={},Ri=void 0!==Ti?Ti:function(){},Fi=null,Bi=null,zi=!1,Wi=ji(),Ui=1e4>Wi?ji:function(){return ji()-Wi};function Hi(){switch(Di()){case Ni:return 99;case Pi:return 98;case Ai:return 97;case Ii:return 96;case Mi:return 95;default:throw Error(a(332))}}function Zi(e){switch(e){case 99:return Ni;case 98:return Pi;case 97:return Ai;case 96:return Ii;case 95:return Mi;default:throw Error(a(332))}}function qi(e,t){return e=Zi(e),Ci(e,t)}function Vi(e,t,n){return e=Zi(e),Si(e,t,n)}function Ki(){if(null!==Bi){var e=Bi;Bi=null,xi(e)}$i()}function $i(){if(!zi&&null!==Fi){zi=!0;var e=0;try{var t=Fi;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),Si(Ni,Ki),t}finally{zi=!1}}}var Gi=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=ci(null),Xi=null,Ji=null,eo=null;function to(){eo=Ji=Xi=null}function no(e){var t=Qi.current;li(Qi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Xi=e,eo=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(La=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===Xi)throw Error(a(308));Ji=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var l=c,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=u:f.next=u,d.lastBaseUpdate=l)}}if(null!==a){for(f=o.baseState,s=0,d=u=l=null;;){c=a.lane;var p=a.eventTime;if((r&c)===c){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(c=t,p=n,m.tag){case 1:if("function"==typeof(h=m.payload)){f=h.call(p,f,c);break e}f=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(c="function"==typeof(h=m.payload)?h.call(p,f,c):h))break e;f=i({},f,c);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(c=o.effects)?o.effects=[a]:c.push(a))}else p={eventTime:p,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=p,l=f):d=d.next=p,s|=c;if(null===(a=a.next)){if(null===(c=o.shared.pending))break;a=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}null===d&&(l=f),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,Fs|=s,e.lanes=s,e.memoizedState=f}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function vo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lc(),i=uc(e),o=lo(r,i);o.payload=t,null!=n&&(o.callback=n),uo(e,o),dc(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lc(),i=uc(e),o=lo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),uo(e,o),dc(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lc(),r=uc(e),i=lo(n,r);i.tag=2,null!=t&&(i.callback=t),uo(e,i),dc(e,r,n)}};function _o(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&dr(n,r)&&dr(i,o))}function bo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=vi(t)?hi:fi.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,so(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=vi(t)?hi:fi.current,i.context=mi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var ko=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Kc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Eo(e,t,n),r.return=e,r):((r=Zc(n.type,n.key,n.props,null,e.mode,r)).ref=Eo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$c(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=qc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Kc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Zc(t.type,t.key,t.props,null,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case E:return(t=$c(t,e.mode,n)).return=e,t}if(ko(t)||U(t))return(t=qc(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?n.type===C?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null}if(ko(n)||U(n))return null!==i?null:d(e,t,n,r,null);Co(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===C?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ko(r)||U(r))return d(t,e=e.get(n)||null,r,i,null);Co(t,r)}return null}function m(i,a,s,c){for(var l=null,u=null,d=a,m=a=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(i,d,s[m],c);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,m),null===u?l=g:u.sibling=g,u=g,d=v}if(m===s.length)return n(i,d),l;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],c))&&(a=o(d,a,m),null===u?l=d:u.sibling=d,u=d);return l}for(d=r(i,d);m<s.length;m++)null!==(v=h(d,i,m,s[m],c))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?l=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(i,e)})),l}function v(i,s,c,l){var u=U(c);if("function"!=typeof u)throw Error(a(150));if(null==(c=u.call(c)))throw Error(a(151));for(var d=u=null,m=s,v=s=0,g=null,_=c.next();null!==m&&!_.done;v++,_=c.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=p(i,m,_.value,l);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,v),null===d?u=b:d.sibling=b,d=b,m=g}if(_.done)return n(i,m),u;if(null===m){for(;!_.done;v++,_=c.next())null!==(_=f(i,_.value,l))&&(s=o(_,s,v),null===d?u=_:d.sibling=_,d=_);return u}for(m=r(i,m);!_.done;v++,_=c.next())null!==(_=h(m,i,v,_.value,l))&&(e&&null!==_.alternate&&m.delete(null===_.key?v:_.key),s=o(_,s,v),null===d?u=_:d.sibling=_,d=_);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,c){var l="object"==typeof o&&null!==o&&o.type===C&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case k:e:{for(u=o.key,l=r;null!==l;){if(l.key===u){if(7===l.tag){if(o.type===C){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Eo(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===C?((r=qc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Zc(o.type,o.key,o.props,null,e.mode,c)).ref=Eo(e,r,o),c.return=e,e=c)}return s(e);case E:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$c(o,e.mode,c)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Kc(o,e.mode,c)).return=e,e=r),s(e);if(ko(o))return m(e,r,o,c);if(U(o))return v(e,r,o,c);if(u&&Co(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return n(e,r)}}var xo=So(!0),Oo=So(!1),To={},jo=ci(To),Do=ci(To),No=ci(To);function Po(e){if(e===To)throw Error(a(174));return e}function Ao(e,t){switch(ui(No,t),ui(Do,e),ui(jo,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(jo),ui(jo,t)}function Io(){li(jo),li(Do),li(No)}function Mo(e){Po(No.current);var t=Po(jo.current),n=pe(t,e.type);t!==n&&(ui(Do,e),ui(jo,n))}function Lo(e){Do.current===e&&(li(jo),li(Do))}var Ro=ci(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,zo=null,Wo=!1;function Uo(e,t){var n=Wc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Zo(e){if(Wo){var t=zo;if(t){var n=t;if(!Ho(e,t)){if(!(t=Kr(n.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,Wo=!1,void(Bo=e);Uo(Bo,n)}Bo=e,zo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Wo=!1,Bo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Vo(e){if(e!==Bo)return!1;if(!Wo)return qo(e),Wo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=zo;t;)Uo(e,t),t=Kr(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){zo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}zo=null}}else zo=Bo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){zo=Bo=null,Wo=!1}var $o=[];function Go(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Yo=w.ReactCurrentDispatcher,Qo=w.ReactCurrentBatchConfig,Xo=0,Jo=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Xo=o,Jo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Pa:Aa,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,Yo.current=Ia,e=n(r,i)}while(ra)}if(Yo.current=Na,t=null!==ea&&null!==ea.next,Xo=0,ta=ea=Jo=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Jo.memoizedState=ta=e:ta=ta.next=e,ta}function ca(){if(null===ea){var e=Jo.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Jo.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Jo.memoizedState=ta=e:ta=ta.next=e}return ta}function la(e,t){return"function"==typeof t?t(e):t}function ua(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=o=null,l=i;do{var u=l.lane;if((Xo&u)===u)null!==c&&(c=c.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var d={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(s=c=d,o=r):c=c.next=d,Jo.lanes|=u,Fs|=u}l=l.next}while(null!==l&&l!==i);null===c?o=r:c.next=s,lr(r,t.memoizedState)||(La=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fa(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ds;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),c=Yo.current,l=c.useState((function(){return fa(i,t,n)})),u=l[1],d=l[0];l=ta;var f=e.memoizedState,p=f.refs,h=p.getSnapshot,m=f.source;f=f.subscribe;var v=Jo;return e.memoizedState={refs:p,source:t,subscribe:r},c.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(d,e)||(u(e),e=uc(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var c=31-Ht(a),l=1<<c;r[c]|=e,a&=~l}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=uc(v);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),lr(h,n)&&lr(m,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:d}).dispatch=u=Da.bind(null,Jo,e),l.queue=e,l.baseQueue=null,d=fa(i,t,n),l.memoizedState=l.baseState=d),d}function ha(e,t,n){return pa(ca(),e,t,n)}function ma(e){var t=sa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Da.bind(null,Jo,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Jo.updateQueue)?(t={lastEffect:null},Jo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},sa().memoizedState=e}function _a(){return ca().memoizedState}function ba(e,t,n,r){var i=sa();Jo.flags|=e,i.memoizedState=va(1|t,n,void 0,void 0===r?null:r)}function ya(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void va(t,n,o,r)}Jo.flags|=e,i.memoizedState=va(1|t,n,o,r)}function wa(e,t){return ba(516,4,e,t)}function ka(e,t){return ya(516,4,e,t)}function Ea(e,t){return ya(4,2,e,t)}function Ca(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Sa(e,t,n){return n=null!=n?n.concat([e]):null,ya(4,2,Ca.bind(null,t,e),n)}function xa(){}function Oa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ja(e,t){var n=Hi();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function Da(e,t,n){var r=lc(),i=uc(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Jo||null!==a&&a===Jo)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=a(s,n);if(o.eagerReducer=a,o.eagerState=c,lr(c,s))return}catch(e){}dc(e,i,r)}}var Na={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Pa={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ba(4,2,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Da.bind(null,Jo,e),[r.memoizedState,e]},useRef:ga,useState:ma,useDebugValue:xa,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return wa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return ga(e=ja.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Wo){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(a(355))})),n=ma(t)[1];return 0==(2&Jo.mode)&&(Jo.flags|=516,va(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return ma(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},Aa={readContext:oo,useCallback:Oa,useContext:oo,useEffect:ka,useImperativeHandle:Sa,useLayoutEffect:Ea,useMemo:Ta,useReducer:ua,useRef:_a,useState:function(){return ua(la)},useDebugValue:xa,useDeferredValue:function(e){var t=ua(la),n=t[0],r=t[1];return ka((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ua(la)[0];return[_a().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(la)[0]},unstable_isNewReconciler:!1},Ia={readContext:oo,useCallback:Oa,useContext:oo,useEffect:ka,useImperativeHandle:Sa,useLayoutEffect:Ea,useMemo:Ta,useReducer:da,useRef:_a,useState:function(){return da(la)},useDebugValue:xa,useDeferredValue:function(e){var t=da(la),n=t[0],r=t[1];return ka((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=da(la)[0];return[_a().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return da(la)[0]},unstable_isNewReconciler:!1},Ma=w.ReactCurrentOwner,La=!1;function Ra(e,t,n,r){t.child=null===e?Oo(t,null,n,r):xo(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||La?(t.flags|=1,Ra(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Ba(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Uc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,za(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?ns(e,t,o):(t.flags|=1,(e=Hc(a,r)).ref=t.ref,e.return=t,t.child=e)}function za(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(La=!1,0==(o&i))return t.lanes=e.lanes,ns(e,t,o);0!=(16384&e.flags)&&(La=!0)}return Ha(e,t,n,r,o)}function Wa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},bc(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bc(0,e),null;t.memoizedState={baseLanes:0},bc(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bc(0,r);return Ra(e,t,i,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ha(e,t,n,r,i){var o=vi(n)?hi:fi.current;return o=mi(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||La?(t.flags|=1,Ra(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Za(e,t,n,r,i){if(vi(n)){var o=!0;yi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;l="object"==typeof l&&null!==l?oo(l):mi(t,l=vi(n)?hi:fi.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==l)&&yo(t,a,r,l),ao=!1;var f=t.memoizedState;a.state=f,po(t,r,a,i),c=t.memoizedState,s!==r||f!==c||pi.current||ao?("function"==typeof u&&(vo(t,n,u,r),c=t.memoizedState),(s=ao||_o(t,n,s,r,f,c,l))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Yi(t.type,s),a.props=l,d=t.pendingProps,f=a.context,c="object"==typeof(c=n.contextType)&&null!==c?oo(c):mi(t,c=vi(n)?hi:fi.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||f!==c)&&yo(t,a,r,c),ao=!1,f=t.memoizedState,a.state=f,po(t,r,a,i);var h=t.memoizedState;s!==d||f!==h||pi.current||ao?("function"==typeof p&&(vo(t,n,p,r),h=t.memoizedState),(l=ao||_o(t,n,l,r,f,h,c))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return qa(e,t,n,r,o,i)}function qa(e,t,n,r,i,o){Ua(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&wi(t,n,!1),ns(e,t,o);r=t.stateNode,Ma.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):Ra(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Va(e){var t=e.stateNode;t.pendingContext?_i(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_i(0,t.context,!1),Ao(e,t.containerInfo)}var Ka,$a,Ga,Ya={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=Ro.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Ro,1&o),null===e?(void 0!==i.fallback&&Zo(t),e=i.children,o=i.fallback,a?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,t.lanes=33554432,e):((n=Vc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hc(a,s),null!==e?r=Hc(e,r):(r=qc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ya,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Hc(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Xa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Vc(t,i,0,null),n=qc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ja(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function es(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ra(e,t,r.children,n),0!=(2&(r=Ro.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ja(e,n);else if(19===e.tag)Ja(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Ro,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Hc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Wo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vi(t.type)&&gi(),null;case 3:return Io(),li(pi),li(fi),Go(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Vo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Lo(t);var o=Po(No.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(jo.current),Vo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[Xr]=s,n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)jr(Sr[e],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":ee(r,s),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jr("invalid",r);break;case"textarea":ce(r,s),jr("invalid",r)}for(var l in Ee(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):c.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&jr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Qr]=t,e[Xr]=r,Ka(e,t),t.stateNode=e,l=Ce(n,r),n){case"dialog":jr("cancel",e),jr("close",e),o=r;break;case"iframe":case"object":case"embed":jr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)jr(Sr[o],e);o=r;break;case"source":jr("error",e),o=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),o=r;break;case"details":jr("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),jr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ce(e,r),o=se(e,r),jr("invalid",e);break;default:o=r}Ee(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?we(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&ge(e,d):"number"==typeof d&&ge(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=d&&"onScroll"===s&&jr("scroll",e):null!=d&&y(e,s,d,l))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Br)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Po(No.current),Po(jo.current),Vo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return li(Ro),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Vo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ro.current)?0===Ms&&(Ms=3):(0!==Ms&&3!==Ms||(Ms=4),null===Ds||0==(134217727&Fs)&&0==(134217727&Bs)||mc(Ds,Ps))),(r||n)&&(t.flags|=4),null);case 4:return Io(),null===e&&Nr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 17:return vi(t.type)&&gi(),null;case 19:if(li(Ro),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(l=r.rendering))if(s)rs(r,!1);else{if(0!==Ms||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Fo(e))){for(t.flags|=64,rs(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(Ro,1&Ro.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>Hs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Wo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Ro.current,ui(Ro,s?1&t|2:1&t),n):null;case 23:case 24:return yc(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:vi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Io(),li(pi),li(fi),Go(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return li(Ro),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ro),null;case 4:return Io(),null;case 10:return no(e),null;case 23:case 24:return yc(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(jo.current);var a,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Br)}for(d in Ee(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(l=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(null!=u||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&jr("scroll",e),s||l===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===M?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ga=function(e,t,n,r){n!==r&&(t.flags|=4)};var cs="function"==typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,$s=r),ss(0,t)},n}function us(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ds="function"==typeof WeakSet?WeakSet:Set;function fs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Rc(e,t)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Vr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ic(n,e),Ac(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ye("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(e,t){if(Ei&&"function"==typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(ki,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ic(t,n);else{r=t;try{i()}catch(e){Rc(r,e)}}n=n.next}while(n!==e)}break;case 1:if(fs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Rc(t,e)}break;case 5:fs(t);break;case 4:ks(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ys(e,n,t):ws(e,n,t)}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function ks(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,c=i,l=c;;)if(vs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===c)break e;for(;null===l.sibling;){if(null===l.return||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,c=i.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,i),t=Ce(e,r),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];"style"===s?we(n,c):"dangerouslySetInnerHTML"===s?ve(n,c):"children"===s?ge(n,c):y(n,s,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Us=Ui(),ms(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 17:return;case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(a(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach((function(t){var r=Bc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ss(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var xs=Math.ceil,Os=w.ReactCurrentDispatcher,Ts=w.ReactCurrentOwner,js=0,Ds=null,Ns=null,Ps=0,As=0,Is=ci(0),Ms=0,Ls=null,Rs=0,Fs=0,Bs=0,zs=0,Ws=null,Us=0,Hs=1/0;function Zs(){Hs=Ui()+500}var qs,Vs=null,Ks=!1,$s=null,Gs=null,Ys=!1,Qs=null,Xs=90,Js=[],ec=[],tc=null,nc=0,rc=null,ic=-1,oc=0,ac=0,sc=null,cc=!1;function lc(){return 0!=(48&js)?Ui():-1!==ic?ic:ic=Ui()}function uc(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Hi()?1:2;if(0===oc&&(oc=Rs),0!==Gi.transition){0!==ac&&(ac=null!==Ws?Ws.pendingLanes:0),e=oc;var t=4186112&~ac;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Hi(),e=Bt(0!=(4&js)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),oc)}function dc(e,t,n){if(50<nc)throw nc=0,rc=null,Error(a(185));if(null===(e=fc(e,t)))return null;Ut(e,t,n),e===Ds&&(Bs|=t,4===Ms&&mc(e,Ps));var r=Hi();1===t?0!=(8&js)&&0==(48&js)?vc(e):(pc(e,n),0===js&&(Zs(),Ki())):(0==(4&js)||98!==r&&99!==r||(null===tc?tc=new Set([e]):tc.add(e)),pc(e,n)),Ws=e}function fc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Ht(s),l=1<<c,u=o[c];if(-1===u){if(0==(l&r)||0!=(l&i)){u=t,Lt(l);var d=Mt;o[c]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);s&=~l}if(r=Rt(e,e===Ds?Ps:0),t=Mt,0===r)null!==n&&(n!==Li&&xi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&xi(n)}15===t?(n=vc.bind(null,e),null===Fi?(Fi=[n],Bi=Si(Ni,$i)):Fi.push(n),n=Li):14===t?n=Vi(99,vc.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Vi(n,hc.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function hc(e){if(ic=-1,ac=oc=0,0!=(48&js))throw Error(a(327));var t=e.callbackNode;if(Pc()&&e.callbackNode!==t)return null;var n=Rt(e,e===Ds?Ps:0);if(0===n)return null;var r=n,i=js;js|=16;var o=Ec();for(Ds===e&&Ps===r||(Zs(),wc(e,r));;)try{xc();break}catch(t){kc(e,t)}if(to(),Os.current=o,js=i,null!==Ns?r=0:(Ds=null,Ps=0,r=Ms),0!=(Rs&Bs))wc(e,0);else if(0!==r){if(2===r&&(js|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(n=Ft(e))&&(r=Cc(e,n))),1===r)throw t=Ls,wc(e,0),mc(e,n),pc(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:jc(e);break;case 3:if(mc(e,n),(62914560&n)===n&&10<(r=Us+500-Ui())){if(0!==Rt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){lc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zr(jc.bind(null,e),r);break}jc(e);break;case 4:if(mc(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xs(n/1960))-n)){e.timeoutHandle=Zr(jc.bind(null,e),n);break}jc(e);break;case 5:jc(e);break;default:throw Error(a(329))}}return pc(e,Ui()),e.callbackNode===t?hc.bind(null,e):null}function mc(e,t){for(t&=~zs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(0!=(48&js))throw Error(a(327));if(Pc(),e===Ds&&0!=(e.expiredLanes&Ps)){var t=Ps,n=Cc(e,t);0!=(Rs&Bs)&&(n=Cc(e,t=Rt(e,t)))}else n=Cc(e,t=Rt(e,0));if(0!==e.tag&&2===n&&(js|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(t=Ft(e))&&(n=Cc(e,t))),1===n)throw n=Ls,wc(e,0),mc(e,t),pc(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e),pc(e,Ui()),null}function gc(e,t){var n=js;js|=1;try{return e(t)}finally{0===(js=n)&&(Zs(),Ki())}}function _c(e,t){var n=js;js&=-2,js|=8;try{return e(t)}finally{0===(js=n)&&(Zs(),Ki())}}function bc(e,t){ui(Is,As),As|=t,Rs|=t}function yc(){As=Is.current,li(Is)}function wc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gi();break;case 3:Io(),li(pi),li(fi),Go();break;case 5:Lo(r);break;case 4:Io();break;case 13:case 19:li(Ro);break;case 10:no(r);break;case 23:case 24:yc()}n=n.return}Ds=e,Ns=Hc(e.current,null),Ps=As=Rs=t,Ms=0,Ls=null,zs=Bs=Fs=0}function kc(e,t){for(;;){var n=Ns;try{if(to(),Yo.current=Na,na){for(var r=Jo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Xo=0,ta=ea=Jo=null,ra=!1,Ts.current=null,null===n||null===n.return){Ms=1,Ls=t,Ns=null;break}e:{var o=e,a=n.return,s=n,c=t;if(t=Ps,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Ro.current),f=a;do{var p;if(p=13===f.tag){var h=f.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var m=f.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(p){var v=f.updateQueue;if(null===v){var g=new Set;g.add(l),f.updateQueue=g}else v.add(l);if(0==(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var _=lo(-1,1);_.tag=2,uo(s,_)}s.lanes|=1;break e}c=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new cs,c=new Set,b.set(l,c)):void 0===(c=b.get(l))&&(c=new Set,b.set(l,c)),!c.has(s)){c.add(s);var y=Fc.bind(null,o,l,s);l.then(y,y)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);c=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ms&&(Ms=2),c=as(c,s),f=a;do{switch(f.tag){case 3:o=c,f.flags|=4096,t&=-t,f.lanes|=t,fo(f,ls(0,o,t));break e;case 1:o=c;var w=f.type,k=f.stateNode;if(0==(64&f.flags)&&("function"==typeof w.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){f.flags|=4096,t&=-t,f.lanes|=t,fo(f,us(f,o,t));break e}}f=f.return}while(null!==f)}Tc(n)}catch(e){t=e,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function Ec(){var e=Os.current;return Os.current=Na,null===e?Na:e}function Cc(e,t){var n=js;js|=16;var r=Ec();for(Ds===e&&Ps===t||wc(e,t);;)try{Sc();break}catch(t){kc(e,t)}if(to(),js=n,Os.current=r,null!==Ns)throw Error(a(261));return Ds=null,Ps=0,Ms}function Sc(){for(;null!==Ns;)Oc(Ns)}function xc(){for(;null!==Ns&&!Oi();)Oc(Ns)}function Oc(e){var t=qs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?Tc(e):Ns=t,Ts.current=null}function Tc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=is(n,t,As)))return void(Ns=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&As)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=os(t)))return n.flags&=2047,void(Ns=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ms&&(Ms=5)}function jc(e){var t=Hi();return qi(99,Dc.bind(null,e,t)),null}function Dc(e,t){do{Pc()}while(null!==Qs);if(0!=(48&js))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<o;){var l=31-Ht(o),u=1<<l;i[l]=0,s[l]=-1,c[l]=-1,o&=~u}if(null!==tc&&0==(24&r)&&tc.has(e)&&tc.delete(e),e===Ds&&(Ns=Ds=null,Ps=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=js,js|=32,Ts.current=null,zr=$t,vr(s=mr())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(u=c.getSelection&&c.getSelection())&&0!==u.rangeCount){c=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{c.nodeType,l.nodeType}catch(e){c=null;break e}var d=0,f=-1,p=-1,h=0,m=0,v=s,g=null;t:for(;;){for(var _;v!==c||0!==o&&3!==v.nodeType||(f=d+o),v!==l||0!==u&&3!==v.nodeType||(p=d+u),3===v.nodeType&&(d+=v.nodeValue.length),null!==(_=v.firstChild);)g=v,v=_;for(;;){if(v===s)break t;if(g===c&&++h===o&&(f=d),g===l&&++m===u&&(p=d),null!==(_=v.nextSibling))break;g=(v=g).parentNode}v=_}c=-1===f||-1===p?null:{start:f,end:p}}else c=null;c=c||{start:0,end:0}}else c=null;Wr={focusedElem:s,selectionRange:c},$t=!1,sc=null,cc=!1,Vs=r;do{try{Nc()}catch(e){if(null===Vs)throw Error(a(330));Rc(Vs,e),Vs=Vs.nextEffect}}while(null!==Vs);sc=null,Vs=r;do{try{for(s=e;null!==Vs;){var b=Vs.flags;if(16&b&&ge(Vs.stateNode,""),128&b){var y=Vs.alternate;if(null!==y){var w=y.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:bs(Vs),Vs.flags&=-3;break;case 6:bs(Vs),Vs.flags&=-3,Es(Vs.alternate,Vs);break;case 1024:Vs.flags&=-1025;break;case 1028:Vs.flags&=-1025,Es(Vs.alternate,Vs);break;case 4:Es(Vs.alternate,Vs);break;case 8:ks(s,c=Vs);var k=c.alternate;gs(c),null!==k&&gs(k)}Vs=Vs.nextEffect}}catch(e){if(null===Vs)throw Error(a(330));Rc(Vs,e),Vs=Vs.nextEffect}}while(null!==Vs);if(w=Wr,y=mr(),b=w.focusedElem,s=w.selectionRange,y!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&vr(b)&&(y=s.start,void 0===(w=s.end)&&(w=y),"selectionStart"in b?(b.selectionStart=y,b.selectionEnd=Math.min(w,b.value.length)):(w=(y=b.ownerDocument||document)&&y.defaultView||window).getSelection&&(w=w.getSelection(),c=b.textContent.length,k=Math.min(s.start,c),s=void 0===s.end?k:Math.min(s.end,c),!w.extend&&k>s&&(c=s,s=k,k=c),c=pr(b,k),o=pr(b,s),c&&o&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((y=y.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),k>s?(w.addRange(y),w.extend(o.node,o.offset)):(y.setEnd(o.node,o.offset),w.addRange(y))))),y=[];for(w=b;w=w.parentNode;)1===w.nodeType&&y.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<y.length;b++)(w=y[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!zr,Wr=zr=null,e.current=n,Vs=r;do{try{for(b=e;null!==Vs;){var E=Vs.flags;if(36&E&&hs(b,Vs.alternate,Vs),128&E){y=void 0;var C=Vs.ref;if(null!==C){var S=Vs.stateNode;Vs.tag,y=S,"function"==typeof C?C(y):C.current=y}}Vs=Vs.nextEffect}}catch(e){if(null===Vs)throw Error(a(330));Rc(Vs,e),Vs=Vs.nextEffect}}while(null!==Vs);Vs=null,Ri(),js=i}else e.current=n;if(Ys)Ys=!1,Qs=e,Xs=t;else for(Vs=r;null!==Vs;)t=Vs.nextEffect,Vs.nextEffect=null,8&Vs.flags&&((E=Vs).sibling=null,E.stateNode=null),Vs=t;if(0===(r=e.pendingLanes)&&(Gs=null),1===r?e===rc?nc++:(nc=0,rc=e):nc=0,n=n.stateNode,Ei&&"function"==typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(ki,n,void 0,64==(64&n.current.flags))}catch(e){}if(pc(e,Ui()),Ks)throw Ks=!1,e=$s,$s=null,e;return 0!=(8&js)||Ki(),null}function Nc(){for(;null!==Vs;){var e=Vs.alternate;cc||null===sc||(0!=(8&Vs.flags)?Je(Vs,sc)&&(cc=!0):13===Vs.tag&&Ss(e,Vs)&&Je(Vs,sc)&&(cc=!0));var t=Vs.flags;0!=(256&t)&&ps(e,Vs),0==(512&t)||Ys||(Ys=!0,Vi(97,(function(){return Pc(),null}))),Vs=Vs.nextEffect}}function Pc(){if(90!==Xs){var e=97<Xs?97:Xs;return Xs=90,qi(e,Mc)}return!1}function Ac(e,t){Js.push(t,e),Ys||(Ys=!0,Vi(97,(function(){return Pc(),null})))}function Ic(e,t){ec.push(t,e),Ys||(Ys=!0,Vi(97,(function(){return Pc(),null})))}function Mc(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!=(48&js))throw Error(a(331));var t=js;js|=32;var n=ec;ec=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Rc(o,e)}}for(n=Js,Js=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var c=i.create;i.destroy=c()}catch(e){if(null===o)throw Error(a(330));Rc(o,e)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return js=t,Ki(),!0}function Lc(e,t,n){uo(e,t=ls(0,t=as(n,t),1)),t=lc(),null!==(e=fc(e,1))&&(Ut(e,1,t),pc(e,t))}function Rc(e,t){if(3===e.tag)Lc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Lc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){var i=us(n,e=as(t,e),1);if(uo(n,i),i=lc(),null!==(n=fc(n,1)))Ut(n,1,i),pc(n,i);else if("function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Fc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lc(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Ps&n)===n&&(4===Ms||3===Ms&&(62914560&Ps)===Ps&&500>Ui()-Us?wc(e,0):zs|=n),pc(e,t)}function Bc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Hi()?1:2:(0===oc&&(oc=Rs),0===(t=zt(62914560&~oc))&&(t=4194304))),n=lc(),null!==(e=fc(e,t))&&(Ut(e,t,n),pc(e,n))}function zc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wc(e,t,n,r){return new zc(e,t,n,r)}function Uc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hc(e,t){var n=e.alternate;return null===n?((n=Wc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zc(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Uc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return qc(n.children,i,o,t);case L:s=8,i|=16;break;case S:s=8,i|=1;break;case x:return(e=Wc(12,n,t,8|i)).elementType=x,e.type=x,e.lanes=o,e;case D:return(e=Wc(13,n,t,i)).type=D,e.elementType=D,e.lanes=o,e;case N:return(e=Wc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Vc(n,i,o,t);case F:return(e=Wc(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case T:s=9;break e;case j:s=11;break e;case P:s=14;break e;case A:s=16,r=null;break e;case I:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Wc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function qc(e,t,n,r){return(e=Wc(7,e,r,t)).lanes=n,e}function Vc(e,t,n,r){return(e=Wc(23,e,r,t)).elementType=R,e.lanes=n,e}function Kc(e,t,n){return(e=Wc(6,e,null,t)).lanes=n,e}function $c(e,t,n){return(t=Wc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Wt(0),this.expirationTimes=Wt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.mutableSourceEagerHydrationData=null}function Yc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Qc(e,t,n,r){var i=t.current,o=lc(),s=uc(i);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(vi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var l=n.type;if(vi(l)){n=bi(n,l,c);break e}}n=c}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),dc(i,s,o),s}function Xc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Jc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}function tl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gc(e,t,null!=n&&!0===n.hydrate),t=Wc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[Jr]=n.current,Nr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Xc(a);s.call(e)}}Qc(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var c=i;i=function(){var e=Xc(a);c.call(e)}}_c((function(){Qc(t,a,e,i)}))}return Xc(a)}function il(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(a(200));return Yc(e,t,null,n)}qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)La=!0;else{if(0==(n&r)){switch(La=!1,t.tag){case 3:Va(t),Ko();break;case 5:Mo(t);break;case 1:vi(t.type)&&yi(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Qa(e,t,n):(ui(Ro,1&Ro.current),null!==(t=ns(e,t,n))?t.sibling:null);ui(Ro,1&Ro.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Ro,Ro.current),r)break;return null;case 23:case 24:return t.lanes=0,Wa(e,t,n)}return ns(e,t,n)}La=0!=(16384&e.flags)}else La=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,fi.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;yi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&vo(t,r,s,e),i.updater=go,t.stateNode=i,i._reactInternals=t,wo(t,r,e,n),t=qa(null,t,r,!0,o,n)}else t.tag=0,Ra(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Uc(e)?1:0;if(null!=e){if((e=e.$$typeof)===j)return 11;if(e===P)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=Ha(null,t,i,e,n);break e;case 1:t=Za(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=Ba(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Za(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Va(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=ns(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(zo=Kr(t.stateNode.containerInfo.firstChild),Bo=t,o=Wo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=Oo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ra(e,t,r,n),Ko();t=t.child}return t;case 5:return Mo(t),null===e&&Zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==o&&Hr(r,o)&&(t.flags|=16),Ua(e,t),Ra(e,t,s,n),t.child;case 6:return null===e&&Zo(t),null;case 13:return Qa(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):Ra(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Ra(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ra(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var c=t.type._context;if(ui(Qi,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,0==(o=lr(c,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!pi.current){t=ns(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===c.tag&&((u=lo(-1,n&-n)).tag=2,uo(c,u)),c.lanes|=n,null!==(u=c.alternate)&&(u.lanes|=n),ro(c.return,n),l.lanes|=n;break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Ra(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Ra(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Ba(e,t,i,o=Yi(i.type,o),r,n);case 15:return za(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,yi(t)):e=!1,io(t,n),bo(t,r,i),wo(t,r,i,n),qa(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Wa(e,t,n)}throw Error(a(156,t.tag))},tl.prototype.render=function(e){Qc(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qc(null,e,null,(function(){t[Jr]=null}))},et=function(e){13===e.tag&&(dc(e,4,lc()),el(e,4))},tt=function(e){13===e.tag&&(dc(e,67108864,lc()),el(e,67108864))},nt=function(e){if(13===e.tag){var t=lc(),n=uc(e);dc(e,n,t),el(e,n)}},rt=function(e,t){return t()},xe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));Q(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=gc,Ae=function(e,t,n,r,i){var o=js;js|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(js=o)&&(Zs(),Ki())}},Ie=function(){0==(49&js)&&(function(){if(null!==tc){var e=tc;tc=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pc(e,Ui())}))}Ki()}(),Pc())},Me=function(e,t){var n=js;js|=2;try{return e(t)}finally{0===(js=n)&&(Zs(),Ki())}};var ol={Events:[ni,ri,ii,De,Ne,Pc,{current:!1}]},al={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sl={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{ki=cl.inject(sl),Ei=cl}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ol,t.createPortal=il,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=js;if(0!=(48&n))return e(t);js|=1;try{if(e)return qi(99,e.bind(null,t))}finally{js=n,Ki()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(a(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(a(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(a(40));return!!e._reactRootContainer&&(_c((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},t.unstable_batchedUpdates=gc,t.unstable_createPortal=function(e,t){return il(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return rl(e,t,n,!1,r)},t.version="17.0.2"},31542:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(43577)},54335:function(e){var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,c,l,u;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(c=s;0!=c--;)if(!o(e[c],a[c]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!a.has(c.value[0]))return!1;for(u=e.entries();!(c=u.next()).done;)if(!o(c.value[1],a.get(c.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!a.has(c.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(c=s;0!=c--;)if(e[c]!==a[c])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((s=(l=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(c=s;0!=c--;)if(!Object.prototype.hasOwnProperty.call(a,l[c]))return!1;if(t&&e instanceof Element)return!1;for(c=s;0!=c--;)if(("_owner"!==l[c]&&"__v"!==l[c]&&"__o"!==l[c]||!e.$$typeof)&&!o(e[l[c]],a[l[c]]))return!1;return!0}return e!=e&&a!=a}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},5464:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e){return e&&e.__esModule?e:{default:e}}t.default=l;var o=n(3),a=i(n(4)),s=n(14),c=i(n(15));function l(e){var t=e.activeClassName,n=void 0===t?"":t,i=e.activeIndex,a=void 0===i?-1:i,l=e.activeStyle,u=e.autoEscape,d=e.caseSensitive,f=void 0!==d&&d,p=e.className,h=e.findChunks,m=e.highlightClassName,v=void 0===m?"":m,g=e.highlightStyle,_=void 0===g?{}:g,b=e.highlightTag,y=void 0===b?"mark":b,w=e.sanitize,k=e.searchWords,E=e.textToHighlight,C=e.unhighlightClassName,S=void 0===C?"":C,x=e.unhighlightStyle,O=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightClassName","unhighlightStyle"]),T=(0,o.findAll)({autoEscape:u,caseSensitive:f,findChunks:h,sanitize:w,searchWords:k,textToHighlight:E}),j=y,D=-1,N="",P=void 0,A=(0,c.default)((function(e){var t={};for(var n in e)t[n.toLowerCase()]=e[n];return t}));return(0,s.createElement)("span",r({className:p},O,{children:T.map((function(e,t){var r=E.substr(e.start,e.end-e.start);if(e.highlight){D++;var i;i="object"==typeof v?f?v[r]:(v=A(v))[r.toLowerCase()]:v;var o=D===+a;N=i+" "+(o?n:""),P=!0===o&&null!=l?Object.assign({},_,l):_;var c={children:r,className:N,key:t,style:P};return"string"!=typeof j&&(c.highlightIndex=D),(0,s.createElement)(j,c)}return(0,s.createElement)("span",{children:r,className:S,key:t,style:x})}))}))}l.propTypes={activeClassName:a.default.string,activeIndex:a.default.number,activeStyle:a.default.object,autoEscape:a.default.bool,className:a.default.string,findChunks:a.default.func,highlightClassName:a.default.oneOfType([a.default.object,a.default.string]),highlightStyle:a.default.object,highlightTag:a.default.oneOfType([a.default.node,a.default.func,a.default.string]),sanitize:a.default.func,searchWords:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.instanceOf(RegExp)])).isRequired,textToHighlight:a.default.string.isRequired,unhighlightClassName:a.default.string,unhighlightStyle:a.default.object},e.exports=t.default},function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return r.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return r.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return r.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return r.findChunks}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=function(e){var t=e.autoEscape,o=e.caseSensitive,a=void 0!==o&&o,s=e.findChunks,c=void 0===s?r:s,l=e.sanitize,u=e.searchWords,d=e.textToHighlight;return i({chunksToHighlight:n({chunks:c({autoEscape:t,caseSensitive:a,sanitize:l,searchWords:u,textToHighlight:d})}),totalLength:d?d.length:0})};var n=t.combineChunks=function(e){var t=e.chunks;return t.sort((function(e,t){return e.start-t.start})).reduce((function(e,t){if(0===e.length)return[t];var n=e.pop();if(t.start<=n.end){var r=Math.max(n.end,t.end);e.push({start:n.start,end:r})}else e.push(n,t);return e}),[])},r=function(e){var t=e.autoEscape,n=e.caseSensitive,r=e.sanitize,i=void 0===r?o:r,a=e.searchWords,s=e.textToHighlight;return s=i(s),a.filter((function(e){return e})).reduce((function(e,r){r=i(r),t&&(r=r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));for(var o=new RegExp(r,n?"g":"gi"),a=void 0;a=o.exec(s);){var c=a.index,l=o.lastIndex;l>c&&e.push({start:c,end:l}),a.index==o.lastIndex&&o.lastIndex++}return e}),[])};t.findChunks=r;var i=t.fillInChunks=function(e){var t=e.chunksToHighlight,n=e.totalLength,r=[],i=function(e,t,n){t-e>0&&r.push({start:e,end:t,highlight:n})};if(0===t.length)i(0,n,!1);else{var o=0;t.forEach((function(e){i(o,e.start,!1),i(e.start,e.end,!0),o=e.end})),i(o,n,!1)}return r};function o(e){return e}}])},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n(6)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}),!0)}else e.exports=n(13)()}).call(t,n(5))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){(function(t){"use strict";var r=n(7),i=n(8),o=n(9),a=n(10),s=n(11),c=n(12);e.exports=function(e,n){var l="function"==typeof Symbol&&Symbol.iterator,u="<<anonymous>>",d={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:p(r.thatReturnsNull),arrayOf:function(e){return p((function(t,n,r,i,o){if("function"!=typeof e)return new f("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new f("Invalid "+i+" `"+o+"` of type `"+v(a)+"` supplied to `"+r+"`, expected an array.");for(var c=0;c<a.length;c++){var l=e(a,c,r,i,o+"["+c+"]",s);if(l instanceof Error)return l}return null}))},element:p((function(t,n,r,i,o){var a=t[n];return e(a)?null:new f("Invalid "+i+" `"+o+"` of type `"+v(a)+"` supplied to `"+r+"`, expected a single ReactElement.")})),instanceOf:function(e){return p((function(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||u;return new f("Invalid "+i+" `"+o+"` of type `"+((s=t[n]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}var s;return null}))},node:p((function(e,t,n,r,i){return m(e[t])?null:new f("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return p((function(t,n,r,i,o){if("function"!=typeof e)return new f("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],c=v(a);if("object"!==c)return new f("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var l in a)if(a.hasOwnProperty(l)){var u=e(a,l,r,i,o+"."+l,s);if(u instanceof Error)return u}return null}))},oneOf:function(e){return Array.isArray(e)?p((function(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(c=a,l=e[s],c===l?0!==c||1/c==1/l:c!=c&&l!=l)return null;var c,l;return new f("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")})):("production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;for(var n=0;n<e.length;n++){var i=e[n];if("function"!=typeof i)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",_(i),n),r.thatReturnsNull}return p((function(t,n,r,i,o){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,r,i,o,s))return null;return new f("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}))},shape:function(e){return p((function(t,n,r,i,o){var a=t[n],c=v(a);if("object"!==c)return new f("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var u=e[l];if(u){var d=u(a,l,r,i,o+"."+l,s);if(d)return d}}return null}))},exact:function(e){return p((function(t,n,r,i,o){var c=t[n],l=v(c);if("object"!==l)return new f("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var u=a({},t[n],e);for(var d in u){var p=e[d];if(!p)return new f("Invalid "+i+" `"+o+"` key `"+d+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=p(c,d,r,i,o+"."+d,s);if(h)return h}return null}))}};function f(e){this.message=e,this.stack=""}function p(e){if("production"!==t.env.NODE_ENV)var r={},a=0;function c(c,l,d,p,h,m,v){if(p=p||u,m=m||d,v!==s)if(n)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var g=p+":"+d;!r[g]&&a<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",m,p),r[g]=!0,a++)}return null==l[d]?c?null===l[d]?new f("The "+h+" `"+m+"` is marked as required in `"+p+"`, but its value is `null`."):new f("The "+h+" `"+m+"` is marked as required in `"+p+"`, but its value is `undefined`."):null:e(l,d,p,h,m)}var l=c.bind(null,!1);return l.isRequired=c.bind(null,!0),l}function h(e){return p((function(t,n,r,i,o,a){var s=t[n];return v(s)!==e?new f("Invalid "+i+" `"+o+"` of type `"+g(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function m(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(m);if(null===t||e(t))return!0;var n=function(e){var t=e&&(l&&e[l]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!n)return!1;var r,i=n.call(t);if(n!==t.entries){for(;!(r=i.next()).done;)if(!m(r.value))return!1}else for(;!(r=i.next()).done;){var o=r.value;if(o&&!m(o[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function g(e){if(null==e)return""+e;var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function _(e){var t=g(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return f.prototype=Error.prototype,d.checkPropTypes=c,d.PropTypes=d,d}}).call(t,n(5))},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){(function(t){"use strict";var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,r,i,o,a,s,c){if(n(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,i,o,a,s,c],d=0;(l=new Error(t.replace(/%s/g,(function(){return u[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}}).call(t,n(5))},function(e,t,n){(function(t){"use strict";var r=n(7);if("production"!==t.env.NODE_ENV){var i=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,(function(){return n[i++]}));"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];i.apply(void 0,[t].concat(r))}}}e.exports=r}).call(t,n(5))},function(e,t){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var a,s,c=o(e),l=1;l<arguments.length;l++){for(var u in a=Object(arguments[l]))r.call(a,u)&&(c[u]=a[u]);if(n){s=n(a);for(var d=0;d<s.length;d++)i.call(a,s[d])&&(c[s[d]]=a[s[d]])}}return c}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){(function(t){"use strict";if("production"!==t.env.NODE_ENV)var r=n(8),i=n(9),o=n(11),a={};e.exports=function(e,n,s,c,l){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var d;try{r("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",c||"React class",s,u,typeof e[u]),d=e[u](n,u,c,s,null,o)}catch(e){d=e}if(i(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",c||"React class",s,u,typeof d),d instanceof Error&&!(d.message in a)){a[d.message]=!0;var f=l?l():"";i(!1,"Failed %s type: %s%s",s,d.message,null!=f?f:"")}}}}).call(t,n(5))},function(e,t,n){"use strict";var r=n(7),i=n(8),o=n(11);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t){e.exports=n(27378)},function(e,t){"use strict";var n=function(e,t){return e===t};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=void 0,i=[],o=void 0,a=!1,s=function(e,n){return t(e,i[n])},c=function(){for(var t=arguments.length,n=Array(t),c=0;c<t;c++)n[c]=arguments[c];return a&&r===this&&n.length===i.length&&n.every(s)?o:(a=!0,r=this,i=n,o=e.apply(this,n))};return c}}])},58702:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case l:case f:case v:case m:case c:return e;default:return t}}case i:return t}}}function k(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return k(e)||w(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===f||e.$$typeof===_||e.$$typeof===b||e.$$typeof===y||e.$$typeof===g)},t.typeOf=w},19185:function(e,t,n){"use strict";e.exports=n(58702)},5254:function(e,t,n){"use strict";n.r(t),n.d(t,{IGNORE_CLASS_NAME:function(){return h}});var r=n(27378),i=n(31542);function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var c,l,u=(void 0===c&&(c=0),function(){return++c}),d={},f={},p=["touchstart","touchmove"],h="ignore-react-onclickoutside";function m(e,t){var n=null;return-1!==p.indexOf(t)&&l&&(n={passive:!e.props.preventDefault}),n}t.default=function(e,t){var n,c,p=e.displayName||e.name||"Component";return c=n=function(n){var c,h;function v(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if("function"!=typeof t.props.handleClickOutside){if("function"!=typeof t.handleClickOutside)throw new Error("WrappedComponent: "+p+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"==typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():(0,i.findDOMNode)(e)},r.enableOnClickOutside=function(){if("undefined"!=typeof document&&!f[r._uid]){void 0===l&&(l=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),f[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),d[r._uid]=function(e){var t;null!==r.componentNode&&(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(s(e,t,n))return!0;e=e.parentNode}return e}(e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,d[r._uid],m(a(r),e))}))}},r.disableOnClickOutside=function(){delete f[r._uid];var e=d[r._uid];if(e&&"undefined"!=typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,m(a(r),t))})),delete d[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=u(),r}h=n,(c=v).prototype=Object.create(h.prototype),c.prototype.constructor=c,o(c,h);var g=v.prototype;return g.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},g.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+p+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},g.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},g.componentWillUnmount=function(){this.disableOnClickOutside()},g.render=function(){var t=this.props;t.excludeScrollbar;var n=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,(0,r.createElement)(e,n)},v}(r.Component),n.displayName="OnClickOutside("+p+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:h,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},c}},26508:function(e,t,n){"use strict";n.r(t),n.d(t,{Manager:function(){return a},Popper:function(){return f},Reference:function(){return m},usePopper:function(){return c.D}});var r=n(27378),i=r.createContext(),o=r.createContext();function a(e){var t=e.children,n=r.useState(null),a=n[0],s=n[1],c=r.useRef(!1);r.useEffect((function(){return function(){c.current=!0}}),[]);var l=r.useCallback((function(e){c.current||s(e)}),[]);return r.createElement(i.Provider,{value:a},r.createElement(o.Provider,{value:l},t))}var s=n(75907),c=n(48171),l=function(){},u=function(){return Promise.resolve(null)},d=[];function f(e){var t=e.placement,n=void 0===t?"bottom":t,o=e.strategy,a=void 0===o?"absolute":o,f=e.modifiers,p=void 0===f?d:f,h=e.referenceElement,m=e.onFirstUpdate,v=e.innerRef,g=e.children,_=r.useContext(i),b=r.useState(null),y=b[0],w=b[1],k=r.useState(null),E=k[0],C=k[1];r.useEffect((function(){(0,s.k$)(v,y)}),[v,y]);var S=r.useMemo((function(){return{placement:n,strategy:a,onFirstUpdate:m,modifiers:[].concat(p,[{name:"arrow",enabled:null!=E,options:{element:E}}])}}),[n,a,m,p,E]),x=(0,c.D)(h||_,y,S),O=x.state,T=x.styles,j=x.forceUpdate,D=x.update,N=r.useMemo((function(){return{ref:w,style:T.popper,placement:O?O.placement:n,hasPopperEscaped:O&&O.modifiersData.hide?O.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:O&&O.modifiersData.hide?O.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:T.arrow,ref:C},forceUpdate:j||l,update:D||u}}),[w,C,n,O,T,D,j]);return(0,s.$p)(g)(N)}var p=n(91895),h=n.n(p);function m(e){var t=e.children,n=e.innerRef,i=r.useContext(o),a=r.useCallback((function(e){(0,s.k$)(n,e),(0,s.DL)(i,e)}),[n,i]);return r.useEffect((function(){return function(){return(0,s.k$)(n,null)}})),r.useEffect((function(){h()(Boolean(i),"`Reference` should not be used outside of a `Manager` component.")}),[i]),(0,s.$p)(t)({ref:a})}},48171:function(e,t,n){"use strict";n.d(t,{D:function(){return ge}});var r=n(27378);function i(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){return e instanceof i(e).Element||e instanceof Element}function a(e){return e instanceof i(e).HTMLElement||e instanceof HTMLElement}function s(e){return"undefined"!=typeof ShadowRoot&&(e instanceof i(e).ShadowRoot||e instanceof ShadowRoot)}var c=Math.round;function l(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(a(e)&&t){var o=e.offsetHeight,s=e.offsetWidth;s>0&&(r=n.width/s||1),o>0&&(i=n.height/o||1)}return{width:c(n.width/r),height:c(n.height/i),top:c(n.top/i),right:c(n.right/r),bottom:c(n.bottom/i),left:c(n.left/r),x:c(n.left/r),y:c(n.top/i)}}function u(e){var t=i(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function d(e){return e?(e.nodeName||"").toLowerCase():null}function f(e){return((o(e)?e.ownerDocument:e.document)||window.document).documentElement}function p(e){return l(f(e)).left+u(e).scrollLeft}function h(e){return i(e).getComputedStyle(e)}function m(e){var t=h(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function v(e,t,n){void 0===n&&(n=!1);var r,o,s=a(t),c=a(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}(t),h=f(t),v=l(e,c),g={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(s||!s&&!n)&&(("body"!==d(t)||m(h))&&(g=(r=t)!==i(r)&&a(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:u(r)),a(t)?((_=l(t,!0)).x+=t.clientLeft,_.y+=t.clientTop):h&&(_.x=p(h))),{x:v.left+g.scrollLeft-_.x,y:v.top+g.scrollTop-_.y,width:v.width,height:v.height}}function g(e){var t=l(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function _(e){return"html"===d(e)?e:e.assignedSlot||e.parentNode||(s(e)?e.host:null)||f(e)}function b(e){return["html","body","#document"].indexOf(d(e))>=0?e.ownerDocument.body:a(e)&&m(e)?e:b(_(e))}function y(e,t){var n;void 0===t&&(t=[]);var r=b(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),a=i(r),s=o?[a].concat(a.visualViewport||[],m(r)?r:[]):r,c=t.concat(s);return o?c:c.concat(y(_(s)))}function w(e){return["table","td","th"].indexOf(d(e))>=0}function k(e){return a(e)&&"fixed"!==h(e).position?e.offsetParent:null}function E(e){for(var t=i(e),n=k(e);n&&w(n)&&"static"===h(n).position;)n=k(n);return n&&("html"===d(n)||"body"===d(n)&&"static"===h(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&a(e)&&"fixed"===h(e).position)return null;for(var n=_(e);a(n)&&["html","body"].indexOf(d(n))<0;){var r=h(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var C="top",S="bottom",x="right",O="left",T="auto",j=[C,S,x,O],D="start",N="end",P="viewport",A="popper",I=j.reduce((function(e,t){return e.concat([t+"-"+D,t+"-"+N])}),[]),M=[].concat(j,[T]).reduce((function(e,t){return e.concat([t,t+"-"+D,t+"-"+N])}),[]),L=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function R(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var F={placement:"bottom",modifiers:[],strategy:"absolute"};function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function z(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?F:i;return function(e,t,n){void 0===n&&(n=a);var i,s,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},F,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,d={state:c,setOptions:function(n){var i="function"==typeof n?n(c.options):n;f(),c.options=Object.assign({},a,c.options,i),c.scrollParents={reference:o(e)?y(e):e.contextElement?y(e.contextElement):[],popper:y(t)};var s,u,p=function(e){var t=R(e);return L.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(r,c.options.modifiers),u=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return c.orderedModifiers=p.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:c,name:t,instance:d,options:r});l.push(o||function(){})}})),d.update()},forceUpdate:function(){if(!u){var e=c.elements,t=e.reference,n=e.popper;if(B(t,n)){c.rects={reference:v(t,E(n),"fixed"===c.options.strategy),popper:g(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<c.orderedModifiers.length;r++)if(!0!==c.reset){var i=c.orderedModifiers[r],o=i.fn,a=i.options,s=void 0===a?{}:a,l=i.name;"function"==typeof o&&(c=o({state:c,options:s,name:l,instance:d})||c)}else c.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){d.forceUpdate(),e(c)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(i())}))}))),s}),destroy:function(){f(),u=!0}};if(!B(e,t))return d;function f(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var W={passive:!0},U={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,a=void 0===o||o,s=r.resize,c=void 0===s||s,l=i(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",n.update,W)})),c&&l.addEventListener("resize",n.update,W),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",n.update,W)})),c&&l.removeEventListener("resize",n.update,W)}},data:{}};function H(e){return e.split("-")[0]}function Z(e){return e.split("-")[1]}function q(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function V(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?H(i):null,a=i?Z(i):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case C:t={x:s,y:n.y-r.height};break;case S:t={x:s,y:n.y+n.height};break;case x:t={x:n.x+n.width,y:c};break;case O:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=o?q(o):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case D:t[l]=t[l]-(n[u]/2-r[u]/2);break;case N:t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}var K={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=V({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},$=Math.max,G=Math.min,Y=Math.round,Q={top:"auto",right:"auto",bottom:"auto",left:"auto"};function X(e){var t,n=e.popper,r=e.popperRect,o=e.placement,a=e.variation,s=e.offsets,c=e.position,l=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,p=!0===d?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Y(Y(t*r)/r)||0,y:Y(Y(n*r)/r)||0}}(s):"function"==typeof d?d(s):s,m=p.x,v=void 0===m?0:m,g=p.y,_=void 0===g?0:g,b=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),w=O,k=C,T=window;if(u){var j=E(n),D="clientHeight",P="clientWidth";j===i(n)&&"static"!==h(j=f(n)).position&&"absolute"===c&&(D="scrollHeight",P="scrollWidth"),j=j,o!==C&&(o!==O&&o!==x||a!==N)||(k=S,_-=j[D]-r.height,_*=l?1:-1),o!==O&&(o!==C&&o!==S||a!==N)||(w=x,v-=j[P]-r.width,v*=l?1:-1)}var A,I=Object.assign({position:c},u&&Q);return l?Object.assign({},I,((A={})[k]=y?"0":"",A[w]=b?"0":"",A.transform=(T.devicePixelRatio||1)<=1?"translate("+v+"px, "+_+"px)":"translate3d("+v+"px, "+_+"px, 0)",A)):Object.assign({},I,((t={})[k]=y?_+"px":"",t[w]=b?v+"px":"",t.transform="",t))}var J={left:"right",right:"left",bottom:"top",top:"bottom"};function ee(e){return e.replace(/left|right|bottom|top/g,(function(e){return J[e]}))}var te={start:"end",end:"start"};function ne(e){return e.replace(/start|end/g,(function(e){return te[e]}))}function re(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&s(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ie(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oe(e,t){return t===P?ie(function(e){var t=i(e),n=f(e),r=t.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,c=0;return r&&(o=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,c=r.offsetTop)),{width:o,height:a,x:s+p(e),y:c}}(e)):a(t)?function(e){var t=l(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ie(function(e){var t,n=f(e),r=u(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=$(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=$(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+p(e),c=-r.scrollTop;return"rtl"===h(i||n).direction&&(s+=$(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:c}}(f(e)))}function ae(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function se(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ce(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,s=n.boundary,c=void 0===s?"clippingParents":s,u=n.rootBoundary,p=void 0===u?P:u,m=n.elementContext,v=void 0===m?A:m,g=n.altBoundary,b=void 0!==g&&g,w=n.padding,k=void 0===w?0:w,O=ae("number"!=typeof k?k:se(k,j)),T=v===A?"reference":A,D=e.rects.popper,N=e.elements[b?T:v],I=function(e,t,n){var r="clippingParents"===t?function(e){var t=y(_(e)),n=["absolute","fixed"].indexOf(h(e).position)>=0&&a(e)?E(e):e;return o(n)?t.filter((function(e){return o(e)&&re(e,n)&&"body"!==d(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),s=i[0],c=i.reduce((function(t,n){var r=oe(e,n);return t.top=$(r.top,t.top),t.right=G(r.right,t.right),t.bottom=G(r.bottom,t.bottom),t.left=$(r.left,t.left),t}),oe(e,s));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}(o(N)?N:N.contextElement||f(e.elements.popper),c,p),M=l(e.elements.reference),L=V({reference:M,element:D,strategy:"absolute",placement:i}),R=ie(Object.assign({},D,L)),F=v===A?R:M,B={top:I.top-F.top+O.top,bottom:F.bottom-I.bottom+O.bottom,left:I.left-F.left+O.left,right:F.right-I.right+O.right},z=e.modifiersData.offset;if(v===A&&z){var W=z[i];Object.keys(B).forEach((function(e){var t=[x,S].indexOf(e)>=0?1:-1,n=[C,S].indexOf(e)>=0?"y":"x";B[e]+=W[n]*t}))}return B}function le(e,t,n){return $(e,G(t,n))}function ue(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function de(e){return[C,x,S,O].some((function(t){return e[t]>=0}))}var fe=z({defaultModifiers:[U,K,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,c=void 0===s||s,l={placement:H(t.placement),variation:Z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,X(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,X(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];a(i)&&d(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});a(r)&&d(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=M.reduce((function(e,n){return e[n]=function(e,t,n){var r=H(e),i=[O,C].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[O,x].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,h=void 0===p||p,m=n.allowedAutoPlacements,v=t.options.placement,g=H(v),_=c||(g!==v&&h?function(e){if(H(e)===T)return[];var t=ee(e);return[ne(e),t,ne(t)]}(v):[ee(v)]),b=[v].concat(_).reduce((function(e,n){return e.concat(H(n)===T?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?M:c,u=Z(r),d=u?s?I:I.filter((function(e){return Z(e)===u})):j,f=d.filter((function(e){return l.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=ce(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[H(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),y=t.rects.reference,w=t.rects.popper,k=new Map,E=!0,N=b[0],P=0;P<b.length;P++){var A=b[P],L=H(A),R=Z(A)===D,F=[C,S].indexOf(L)>=0,B=F?"width":"height",z=ce(t,{placement:A,boundary:u,rootBoundary:d,altBoundary:f,padding:l}),W=F?R?x:O:R?S:C;y[B]>w[B]&&(W=ee(W));var U=ee(W),q=[];if(o&&q.push(z[L]<=0),s&&q.push(z[W]<=0,z[U]<=0),q.every((function(e){return e}))){N=A,E=!1;break}k.set(A,q)}if(E)for(var V=function(e){var t=b.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return N=t,"break"},K=h?3:1;K>0&&"break"!==V(K);K--);t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=void 0===f||f,h=n.tetherOffset,m=void 0===h?0:h,v=ce(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),_=H(t.placement),b=Z(t.placement),y=!b,w=q(_),k="x"===w?"y":"x",T=t.modifiersData.popperOffsets,j=t.rects.reference,N=t.rects.popper,P="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,A={x:0,y:0};if(T){if(o||s){var I="y"===w?C:O,M="y"===w?S:x,L="y"===w?"height":"width",R=T[w],F=T[w]+v[I],B=T[w]-v[M],z=p?-N[L]/2:0,W=b===D?j[L]:N[L],U=b===D?-N[L]:-j[L],V=t.elements.arrow,K=p&&V?g(V):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Q=Y[I],X=Y[M],J=le(0,j[L],K[L]),ee=y?j[L]/2-z-J-Q-P:W-J-Q-P,te=y?-j[L]/2+z+J+X+P:U+J+X+P,ne=t.elements.arrow&&E(t.elements.arrow),re=ne?"y"===w?ne.clientTop||0:ne.clientLeft||0:0,ie=t.modifiersData.offset?t.modifiersData.offset[t.placement][w]:0,oe=T[w]+ee-ie-re,ae=T[w]+te-ie;if(o){var se=le(p?G(F,oe):F,R,p?$(B,ae):B);T[w]=se,A[w]=se-R}if(s){var ue="x"===w?C:O,de="x"===w?S:x,fe=T[k],pe=fe+v[ue],he=fe-v[de],me=le(p?G(pe,oe):pe,fe,p?$(he,ae):he);T[k]=me,A[k]=me-fe}}t.modifiersData[r]=A}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=H(n.placement),c=q(s),l=[O,x].indexOf(s)>=0?"height":"width";if(o&&a){var u=function(e,t){return ae("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:se(e,j))}(i.padding,n),d=g(o),f="y"===c?C:O,p="y"===c?S:x,h=n.rects.reference[l]+n.rects.reference[c]-a[c]-n.rects.popper[l],m=a[c]-n.rects.reference[c],v=E(o),_=v?"y"===c?v.clientHeight||0:v.clientWidth||0:0,b=h/2-m/2,y=u[f],w=_-d[l]-u[p],k=_/2-d[l]/2+b,T=le(y,k,w),D=c;n.modifiersData[r]=((t={})[D]=T,t.centerOffset=T-k,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&re(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=ce(t,{elementContext:"reference"}),s=ce(t,{altBoundary:!0}),c=ue(a,r),l=ue(s,i,o),u=de(c),d=de(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),pe=n(54335),he=n.n(pe),me=n(75907),ve=[],ge=function(e,t,n){void 0===n&&(n={});var i=r.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||ve},a=r.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=a[0],c=a[1],l=r.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);c({styles:(0,me.sq)(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:(0,me.sq)(n.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),u=r.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[l,{name:"applyStyles",enabled:!1}])};return he()(i.current,e)?i.current||e:(i.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,l]),d=r.useRef();return(0,me.LI)((function(){d.current&&d.current.setOptions(u)}),[u]),(0,me.LI)((function(){if(null!=e&&null!=t){var r=(n.createPopper||fe)(e,t,u);return d.current=r,function(){r.destroy(),d.current=null}}}),[e,t,n.createPopper]),{state:d.current?d.current.state:null,styles:s.styles,attributes:s.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}}},75907:function(e,t,n){"use strict";n.d(t,{$p:function(){return i},DL:function(){return o},k$:function(){return a},sq:function(){return s},LI:function(){return c}});var r=n(27378),i=function(e){return Array.isArray(e)?e[0]:e},o=function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},a=function(e,t){if("function"==typeof e)return o(e,t);null!=e&&(e.current=t)},s=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},c="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect},61826:function(e,t,n){"use strict";n.d(t,{zt:function(){return u},$j:function(){return H},I0:function(){return $},v9:function(){return X}});var r=n(27378),i=(n(23615),r.createContext(null)),o=function(e){e()},a=function(){return o},s={notify:function(){},get:function(){return[]}};function c(e,t){var n,r=s;function i(){c.onStateChange&&c.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=a(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var c={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=s)},getListeners:function(){return r}};return c}var l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,u=function(e){var t=e.store,n=e.context,o=e.children,a=(0,r.useMemo)((function(){var e=c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);l((function(){var e=a.subscription;return e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,s]);var u=n||i;return r.createElement(u.Provider,{value:a},o)},d=n(25773);function f(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var p=n(55839),h=n.n(p),m=n(19185),v=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],g=["reactReduxForwardedRef"],_=[],b=[null,null];function y(e,t){var n=e[1];return[t.payload,n+1]}function w(e,t,n){l((function(){return e.apply(void 0,t)}),n)}function k(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function E(e,t,n,r,i,o,a,s,c,l){if(e){var u=!1,d=null,f=function(){if(!u){var e,n,f=t.getState();try{e=r(f,i.current)}catch(e){n=e,d=e}n||(d=null),e===o.current?a.current||c():(o.current=e,s.current=e,a.current=!0,l({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=f,n.trySubscribe(),f(),function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var C=function(){return[null,0]};function S(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,a=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,s=n.methodName,l=void 0===s?"connectAdvanced":s,u=n.renderCountProp,p=void 0===u?void 0:u,S=n.shouldHandleStateChanges,x=void 0===S||S,O=n.storeKey,T=void 0===O?"store":O,j=(n.withRef,n.forwardRef),D=void 0!==j&&j,N=n.context,P=void 0===N?i:N,A=f(n,v),I=P;return function(t){var n=t.displayName||t.name||"Component",i=a(n),o=(0,d.Z)({},A,{getDisplayName:a,methodName:l,renderCountProp:p,shouldHandleStateChanges:x,storeKey:T,displayName:i,wrappedComponentName:n,WrappedComponent:t}),s=A.pure,u=s?r.useMemo:function(e){return e()};function v(n){var i=(0,r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=f(n,g);return[n.context,e,t]}),[n]),a=i[0],s=i[1],l=i[2],p=(0,r.useMemo)((function(){return a&&a.Consumer&&(0,m.isContextConsumer)(r.createElement(a.Consumer,null))?a:I}),[a,I]),h=(0,r.useContext)(p),v=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var S=v?n.store:h.store,O=(0,r.useMemo)((function(){return function(t){return e(t.dispatch,o)}(S)}),[S]),T=(0,r.useMemo)((function(){if(!x)return b;var e=c(S,v?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[S,v,h]),j=T[0],D=T[1],N=(0,r.useMemo)((function(){return v?h:(0,d.Z)({},h,{subscription:j})}),[v,h,j]),P=(0,r.useReducer)(y,_,C),A=P[0][0],M=P[1];if(A&&A.error)throw A.error;var L=(0,r.useRef)(),R=(0,r.useRef)(l),F=(0,r.useRef)(),B=(0,r.useRef)(!1),z=u((function(){return F.current&&l===R.current?F.current:O(S.getState(),l)}),[S,A,l]);w(k,[R,L,B,l,z,F,D]),w(E,[x,S,j,O,R,L,B,F,D,M],[S,j,O]);var W=(0,r.useMemo)((function(){return r.createElement(t,(0,d.Z)({},z,{ref:s}))}),[s,t,z]);return(0,r.useMemo)((function(){return x?r.createElement(p.Provider,{value:N},W):W}),[p,W,N])}var S=s?r.memo(v):v;if(S.WrappedComponent=t,S.displayName=v.displayName=i,D){var O=r.forwardRef((function(e,t){return r.createElement(S,(0,d.Z)({},e,{reactReduxForwardedRef:t}))}));return O.displayName=i,O.WrappedComponent=t,h()(O,t)}return h()(S,t)}}function x(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function O(e,t){if(x(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!x(e[n[i]],t[n[i]]))return!1;return!0}function T(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function j(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function D(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=j(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=j(i),i=r(t,n)),i},r}}var N=[function(e){return"function"==typeof e?D(e):void 0},function(e){return e?void 0:T((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?T((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"==typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}],P=[function(e){return"function"==typeof e?D(e):void 0},function(e){return e?void 0:T((function(){return{}}))}];function A(e,t,n){return(0,d.Z)({},n,e,t)}var I=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var c=e(t,n,s);return a?i&&o(c,r)||(r=c):(a=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return A}}],M=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function L(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function R(e,t,n,r,i){var o,a,s,c,l,u=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,p=!1;return function(i,h){return p?function(i,p){var h,m,v=!d(p,a),g=!u(i,o);return o=i,a=p,v&&g?(s=e(o,a),t.dependsOnOwnProps&&(c=t(r,a)),l=n(s,c,a)):v?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(c=t(r,a)),l=n(s,c,a)):g?(h=e(o,a),m=!f(h,s),s=h,m&&(l=n(s,c,a)),l):l}(i,h):(s=e(o=i,a=h),c=t(r,a),l=n(s,c,a),p=!0,l)}}function F(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=f(t,M),a=n(e,o),s=r(e,o),c=i(e,o);return(o.pure?R:L)(a,s,c,e,o)}var B=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function z(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function W(e,t){return e===t}function U(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?S:n,i=t.mapStateToPropsFactories,o=void 0===i?P:i,a=t.mapDispatchToPropsFactories,s=void 0===a?N:a,c=t.mergePropsFactories,l=void 0===c?I:c,u=t.selectorFactory,p=void 0===u?F:u;return function(e,t,n,i){void 0===i&&(i={});var a=i,c=a.pure,u=void 0===c||c,h=a.areStatesEqual,m=void 0===h?W:h,v=a.areOwnPropsEqual,g=void 0===v?O:v,_=a.areStatePropsEqual,b=void 0===_?O:_,y=a.areMergedPropsEqual,w=void 0===y?O:y,k=f(a,B),E=z(e,o,"mapStateToProps"),C=z(t,s,"mapDispatchToProps"),S=z(n,l,"mergeProps");return r(p,(0,d.Z)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:C,initMergeProps:S,pure:u,areStatesEqual:m,areOwnPropsEqual:g,areStatePropsEqual:b,areMergedPropsEqual:w},k))}}var H=U();function Z(){return(0,r.useContext)(i)}function q(e){void 0===e&&(e=i);var t=e===i?Z:function(){return(0,r.useContext)(e)};return function(){return t().store}}var V=q();function K(e){void 0===e&&(e=i);var t=e===i?V:q(e);return function(){return t().dispatch}}var $=K(),G=function(e,t){return e===t};function Y(e){void 0===e&&(e=i);var t=e===i?Z:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=G);var i=t(),o=function(e,t,n,i){var o,a=(0,r.useReducer)((function(e){return e+1}),0)[1],s=(0,r.useMemo)((function(){return c(n,i)}),[n,i]),u=(0,r.useRef)(),d=(0,r.useRef)(),f=(0,r.useRef)(),p=(0,r.useRef)(),h=n.getState();try{if(e!==d.current||h!==f.current||u.current){var m=e(h);o=void 0!==p.current&&t(m,p.current)?p.current:m}else o=p.current}catch(e){throw u.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),e}return l((function(){d.current=e,f.current=h,p.current=o,u.current=void 0})),l((function(){function e(){try{var e=n.getState();if(e===f.current)return;var r=d.current(e);if(t(r,p.current))return;p.current=r,f.current=e}catch(e){u.current=e}a()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),o}(e,n,i.store,i.subscription);return(0,r.useDebugValue)(o),o}}var Q,X=Y();Q=n(31542).unstable_batchedUpdates,o=Q},4913:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(27378),a=_(o),s=n(8357),c=n(9540),l=_(n(56141)),u=_(n(50344)),d=_(n(83766)),f=_(n(35943)),p=_(n(23615)),h=_(n(60042)),m=_(n(51586)),v=n(64855),g=n(95036);function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));w.call(n),e.inline||console.warn("[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.");var r=e.suggestions;return n.state={suggestions:r,query:"",isFocused:!1,selectedIndex:-1,selectionMode:!1,ariaLiveStatus:""},n.reactTagsRef=(0,o.createRef)(),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleChange=n.handleChange.bind(n),n.moveTag=n.moveTag.bind(n),n.handlePaste=n.handlePaste.bind(n),n.handleSuggestionHover=n.handleSuggestionHover.bind(n),n.handleSuggestionClick=n.handleSuggestionClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.autofocus,n=e.readOnly;t&&!n&&this.resetAndFocusInput()}},{key:"componentDidUpdate",value:function(e){(0,l.default)(e.suggestions,this.props.suggestions)||this.updateSuggestions()}},{key:"handleDelete",value:function(e,t){t.preventDefault(),t.stopPropagation();var n=this.props.tags.slice();if(0!==n.length){var r="Tag at index "+e+" with value "+n[e].id+" deleted.";this.props.handleDelete(e,t);var i=this.reactTagsRef.current.querySelectorAll(".ReactTags__remove"),o=void 0,a=void 0,s=void 0;0===e&&n.length>1?(o=i[0],a=0,s=n[1]):(o=i[e-1],s=n[a=e-1]),o||(a=-1,o=this.textInput),r+=a>=0?" Tag at index "+a+" with value "+s.id+" focussed. Press backspace to remove":"Input focussed. Press enter to add a new tag",o.focus(),this.setState({ariaLiveStatus:r})}}},{key:"handleTagClick",value:function(e,t){this.props.handleTagClick&&this.props.handleTagClick(e,t)}},{key:"handleChange",value:function(e){this.props.handleInputChange&&this.props.handleInputChange(e.target.value);var t=e.target.value.trim();this.setState({query:t},this.updateSuggestions)}},{key:"handleFocus",value:function(e){var t=e.target.value;this.props.handleInputFocus&&this.props.handleInputFocus(t),this.setState({isFocused:!0})}},{key:"handleBlur",value:function(e){var t=e.target.value;this.props.handleInputBlur&&(this.props.handleInputBlur(t),this.textInput&&(this.textInput.value="")),this.setState({isFocused:!1})}},{key:"handleKeyDown",value:function(e){var t=this.state,n=t.query,r=t.selectedIndex,i=t.suggestions,o=t.selectionMode;if(e.keyCode===g.KEYS.ESCAPE&&(e.preventDefault(),e.stopPropagation(),this.setState({selectedIndex:-1,selectionMode:!1,suggestions:[]})),-1!==this.props.delimiters.indexOf(e.keyCode)&&!e.shiftKey){e.keyCode===g.KEYS.TAB&&""===n||e.preventDefault();var a=o&&-1!==r?i[r]:b({id:n},this.props.labelField,n);""!==a&&this.addTag(a)}e.keyCode===g.KEYS.BACKSPACE&&""===n&&this.props.allowDeleteFromEmptyInput&&this.handleDelete(this.props.tags.length-1,e),e.keyCode===g.KEYS.UP_ARROW&&(e.preventDefault(),this.setState({selectedIndex:r<=0?i.length-1:r-1,selectionMode:!0})),e.keyCode===g.KEYS.DOWN_ARROW&&(e.preventDefault(),this.setState({selectedIndex:0===i.length?-1:(r+1)%i.length,selectionMode:!0}))}},{key:"handlePaste",value:function(e){var t=this;if(this.props.allowAdditionFromPaste){e.preventDefault();var n=e.clipboardData||window.clipboardData,r=n.getData("text"),i=this.props.maxLength,o=void 0===i?r.length:i,a=Math.min(o,r.length),s=n.getData("text").substr(0,a),c=(0,v.buildRegExpFromDelimiters)(this.props.delimiters),l=s.split(c);(0,d.default)(l).forEach((function(e){return t.addTag(b({id:e},t.props.labelField,e))}))}}},{key:"handleSuggestionClick",value:function(e){this.addTag(this.state.suggestions[e])}},{key:"handleSuggestionHover",value:function(e){this.setState({selectedIndex:e,selectionMode:!0})}},{key:"moveTag",value:function(e,t){var n=this.props.tags[e];this.props.handleDrag(n,e,t)}},{key:"render",value:function(){var e=this,t=this.getTagItems(),n=r({},g.DEFAULT_CLASSNAMES,this.props.classNames),i=this.state.query.trim(),o=this.state.selectedIndex,s=this.state.suggestions,c=this.props,l=c.placeholder,u=c.name,d=c.id,p=c.maxLength,m=c.inline,v=c.inputFieldPosition,_=c.inputValue,b=c.inputProps,y=m?v:g.INPUT_FIELD_POSITIONS.BOTTOM,w=this.props.readOnly?null:a.default.createElement("div",{className:n.tagInput},a.default.createElement("input",r({},b,{ref:function(t){e.textInput=t},className:n.tagInputField,type:"text",placeholder:l,"aria-label":l,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste,name:u,id:d,maxLength:p,value:_,"data-automation":"input","data-testid":"input"})),a.default.createElement(f.default,{query:i,suggestions:s,labelField:this.props.labelField,selectedIndex:o,handleClick:this.handleSuggestionClick,handleHover:this.handleSuggestionHover,minQueryLength:this.props.minQueryLength,shouldRenderSuggestions:this.props.shouldRenderSuggestions,isFocused:this.state.isFocused,classNames:n,renderSuggestion:this.props.renderSuggestion}));return a.default.createElement("div",{className:(0,h.default)(n.tags,"react-tags-wrapper"),ref:this.reactTagsRef},a.default.createElement("p",{role:"alert",className:"sr-only",style:{position:"absolute",overflow:"hidden",clip:"rect(0 0 0 0)",margin:"-1px",padding:0,width:"1px",height:"1px",border:0}},this.state.ariaLiveStatus),y===g.INPUT_FIELD_POSITIONS.TOP&&w,a.default.createElement("div",{className:n.selected},t,y===g.INPUT_FIELD_POSITIONS.INLINE&&w),y===g.INPUT_FIELD_POSITIONS.BOTTOM&&w)}}]),t}(o.Component);y.propTypes={placeholder:p.default.string,labelField:p.default.string,suggestions:p.default.arrayOf(p.default.shape({id:p.default.string.isRequired})),delimiters:p.default.arrayOf(p.default.number),autofocus:p.default.bool,inline:p.default.bool,inputFieldPosition:p.default.oneOf([g.INPUT_FIELD_POSITIONS.INLINE,g.INPUT_FIELD_POSITIONS.TOP,g.INPUT_FIELD_POSITIONS.BOTTOM]),handleDelete:p.default.func,handleAddition:p.default.func,handleDrag:p.default.func,handleFilterSuggestions:p.default.func,handleTagClick:p.default.func,allowDeleteFromEmptyInput:p.default.bool,allowAdditionFromPaste:p.default.bool,allowDragDrop:p.default.bool,handleInputChange:p.default.func,handleInputFocus:p.default.func,handleInputBlur:p.default.func,minQueryLength:p.default.number,shouldRenderSuggestions:p.default.func,removeComponent:p.default.func,autocomplete:p.default.oneOfType([p.default.bool,p.default.number]),readOnly:p.default.bool,classNames:p.default.object,name:p.default.string,id:p.default.string,maxLength:p.default.number,inputValue:p.default.string,tags:p.default.arrayOf(p.default.shape({id:p.default.string.isRequired,className:p.default.string})),allowUnique:p.default.bool,renderSuggestion:p.default.func,inputProps:p.default.object},y.defaultProps={placeholder:g.DEFAULT_PLACEHOLDER,labelField:g.DEFAULT_LABEL_FIELD,suggestions:[],delimiters:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(g.KEYS.ENTER),[g.KEYS.TAB]),autofocus:!0,inline:!0,inputFieldPosition:g.INPUT_FIELD_POSITIONS.INLINE,handleDelete:u.default,handleAddition:u.default,allowDeleteFromEmptyInput:!0,allowAdditionFromPaste:!0,autocomplete:!1,readOnly:!1,allowUnique:!0,allowDragDrop:!0,tags:[],inputProps:{}};var w=function(){var e=this;this.filteredSuggestions=function(t){var n=e.props.suggestions;if(e.props.allowUnique){var r=e.props.tags.map((function(e){return e.id.toLowerCase()}));n=n.filter((function(e){return!r.includes(e.id.toLowerCase())}))}if(e.props.handleFilterSuggestions)return e.props.handleFilterSuggestions(t,n);var i=n.filter((function(n){return 0===e.getQueryIndex(t,n)})),o=n.filter((function(n){return e.getQueryIndex(t,n)>0}));return i.concat(o)},this.getQueryIndex=function(t,n){return n[e.props.labelField].toLowerCase().indexOf(t.toLowerCase())},this.resetAndFocusInput=function(){e.setState({query:""}),e.textInput&&(e.textInput.value="",e.textInput.focus())},this.updateSuggestions=function(){var t=e.state,n=t.query,r=t.selectedIndex,i=e.filteredSuggestions(n);e.setState({suggestions:i,selectedIndex:r>=i.length?i.length-1:r})},this.addTag=function(t){var n=e.props,r=n.tags,i=n.labelField,o=n.allowUnique;if(t.id&&t[i]){var a=r.map((function(e){return e.id.toLowerCase()}));if(!(o&&a.indexOf(t.id.toLowerCase())>=0)){if(e.props.autocomplete){var s=e.filteredSuggestions(t[i]);(1===e.props.autocomplete&&1===s.length||!0===e.props.autocomplete&&s.length)&&(t=s[0])}e.props.handleAddition(t),e.setState({query:"",selectionMode:!1,selectedIndex:-1}),e.resetAndFocusInput()}}},this.getTagItems=function(){var t=e.props,n=t.classNames,i=t.tags,o=t.labelField,s=t.removeComponent,c=t.readOnly,l=t.allowDragDrop,u=l?e.moveTag:null;return i.map((function(t,i){return a.default.createElement(m.default,{key:i,index:i,tag:t,labelField:o,onDelete:e.handleDelete.bind(e,i),moveTag:u,removeComponent:s,onTagClicked:e.handleTagClick.bind(e,i),readOnly:c,classNames:r({},g.DEFAULT_CLASSNAMES,n),allowDragDrop:l})}))}};e.exports={WithContext:function(e){var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[]);return a.default.createElement(s.DndProvider,{backend:c.HTML5Backend},a.default.createElement(y,t))},WithOutContext:y,KEYS:g.KEYS}},26780:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(27378)),i=a(n(23615)),o=n(95036);function a(e){return e&&e.__esModule?e:{default:e}}var s=String.fromCharCode(215),c=function(e){var t=e.readOnly,n=e.removeComponent,i=e.onRemove,a=e.className,c=e.tag,l=e.index,u=function(e){if(o.KEYS.ENTER.includes(e.keyCode)||e.keyCode===o.KEYS.SPACE)return e.preventDefault(),void e.stopPropagation();e.keyCode===o.KEYS.BACKSPACE&&i(e)};if(t)return r.default.createElement("span",null);var d="Tag at index "+l+" with value "+c.id+" focussed. Press backspace to remove";if(n){var f=n;return r.default.createElement(f,{onRemove:i,onKeyDown:u,className:a,"aria-label":d,tag:c,index:l})}return r.default.createElement("button",{onClick:i,onKeyDown:u,className:a,"aria-label":d},s)};c.propTypes={className:i.default.string,onRemove:i.default.func.isRequired,readOnly:i.default.bool,removeComponent:i.default.func,tag:i.default.shape({id:i.default.string.isRequired,className:i.default.string,key:i.default.string}),index:i.default.number.isRequired},t.default=c},35943:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(27378),o=l(i),a=l(n(23615)),s=l(n(56141)),c=l(n(94565));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;u(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.markIt=function(e,t){var n=t.trim().replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&");return{__html:e[r.props.labelField].replace(RegExp(n,"gi"),(function(e){return"<mark>"+(0,c.default)(e)+"</mark>"}))}},r.shouldRenderSuggestions=function(e){var t=r.props,n=t.minQueryLength,i=t.isFocused;return e.length>=n&&i},r.renderSuggestion=function(e,t){var n=r.props.renderSuggestion;return"function"==typeof n?n(e,t):o.default.createElement("span",{dangerouslySetInnerHTML:r.markIt(e,t)})},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.shouldRenderSuggestions||this.shouldRenderSuggestions;return t.isFocused!==e.isFocused||!(0,s.default)(t.suggestions,e.suggestions)||n(e.query)||n(e.query)!==n(t.query)}},{key:"componentDidUpdate",value:function(e){var t,n,r,i,o,a=this.props,s=a.selectedIndex,c=a.classNames;if(this.suggestionsContainer&&e.selectedIndex!==s){var l=this.suggestionsContainer.querySelector(c.activeSuggestion);l&&(t=l,r=(n=this.suggestionsContainer).offsetHeight,i=t.offsetHeight,(o=t.offsetTop-n.scrollTop)+i>=r?n.scrollTop+=o-r+i:o<0&&(n.scrollTop+=o))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestions.map(function(e,n){return o.default.createElement("li",{key:n,onMouseDown:t.handleClick.bind(null,n),onTouchStart:t.handleClick.bind(null,n),onMouseOver:t.handleHover.bind(null,n),className:n===t.selectedIndex?t.classNames.activeSuggestion:""},this.renderSuggestion(e,t.query))}.bind(this)),r=t.shouldRenderSuggestions||this.shouldRenderSuggestions;return 0!==n.length&&r(t.query)?o.default.createElement("div",{ref:function(t){e.suggestionsContainer=t},className:this.props.classNames.suggestions},o.default.createElement("ul",null," ",n," ")):null}}]),t}(i.Component);f.propTypes={query:a.default.string.isRequired,selectedIndex:a.default.number.isRequired,suggestions:a.default.array.isRequired,handleClick:a.default.func.isRequired,handleHover:a.default.func.isRequired,minQueryLength:a.default.number,shouldRenderSuggestions:a.default.func,isFocused:a.default.bool.isRequired,classNames:a.default.object,labelField:a.default.string.isRequired,renderSuggestion:a.default.func},f.defaultProps={minQueryLength:2},t.default=f},51586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(27378),o=d(i),a=n(8357),s=d(n(23615)),c=d(n(60042)),l=n(64855),u=d(n(26780));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=(0,i.useRef)(null),n=e.readOnly,s=e.tag,d=e.classNames,f=e.index,p=(0,a.useDrag)((function(){return{type:"tag",collect:function(e){return{isDragging:!!e.isDragging()}},item:e,canDrag:function(){return(0,l.canDrag)(e)}}})),h=r(p,2),m=h[0].isDragging,v=h[1],g=(0,a.useDrop)((function(){return{accept:"tag",drop:function(t,n){var r=t.index,i=f;r!==i&&e.moveTag(r,i)},canDrop:function(e){return(0,l.canDrop)(e)}}}));v((0,r(g,2)[1])(t));var _=e.tag[e.labelField],b=s.className,y=void 0===b?"":b,w=m?0:1;return o.default.createElement("span",{ref:t,className:(0,c.default)("tag-wrapper",d.tag,y),style:{opacity:w,cursor:(0,l.canDrag)(e)?"move":"auto"},onClick:e.onTagClicked,onTouchStart:e.onTagClicked},_,o.default.createElement(u.default,{tag:e.tag,className:d.remove,removeComponent:e.removeComponent,onRemove:e.onDelete,readOnly:n,index:f,onKeyDown:onkeydown}))};f.propTypes={labelField:s.default.string,onDelete:s.default.func.isRequired,tag:s.default.shape({id:s.default.string.isRequired,className:s.default.string,key:s.default.string}),moveTag:s.default.func,removeComponent:s.default.func,onTagClicked:s.default.func,classNames:s.default.object,readOnly:s.default.bool,index:s.default.number.isRequired},f.defaultProps={labelField:"text",readOnly:!1},t.default=f},95036:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEYS={ENTER:[10,13],TAB:9,BACKSPACE:8,UP_ARROW:38,DOWN_ARROW:40,ESCAPE:27,SPACE:32,COMMA:188},t.DEFAULT_PLACEHOLDER="Press enter to add new tag",t.DEFAULT_LABEL_FIELD="text",t.DEFAULT_CLASSNAMES={tags:"ReactTags__tags",tagInput:"ReactTags__tagInput",tagInputField:"ReactTags__tagInputField",selected:"ReactTags__selected",tag:"ReactTags__tag",remove:"ReactTags__remove",suggestions:"ReactTags__suggestions",activeSuggestion:"ReactTags__activeSuggestion"},t.INPUT_FIELD_POSITIONS={INLINE:"inline",TOP:"top",BOTTOM:"bottom"}},64855:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildRegExpFromDelimiters=function(e){var t=e.map((function(e){var t=e-48*Math.floor(e/48);return String.fromCharCode(96<=e?t:e)})).join(""),n=(0,i.default)(t);return new RegExp("["+n+"]+")},t.canDrag=function(e){var t=e.moveTag,n=e.readOnly,r=e.allowDragDrop;return void 0!==t&&!n&&r},t.canDrop=function(e){var t=e.readOnly,n=e.allowDragDrop;return!t&&n};var r,i=(r=n(56060))&&r.__esModule?r:{default:r}},71426:function(e,t,n){"use strict";n(62525);var r=n(27378),i=60103;if("function"==typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:a.current}}},41535:function(e,t,n){"use strict";var r=n(62525),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,c=60112;t.Suspense=60113;var l=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),c=d("react.forward_ref"),t.Suspense=d("react.suspense"),l=d("react.memo"),u=d("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=_.prototype=new g;b.constructor=_,r(b,v.prototype),b.isPureReactComponent=!0;var y={current:null},w=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===o[r]&&(o[r]=c[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:y.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function x(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case i:case o:c=!0}}if(c)return a=a(c=e),e=""===r?"."+x(c,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),O(a,t,n,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=r+x(s=e[l],l);c+=O(s,t,n,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=O(s=s.value,t,n,u=r+x(s,l++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function T(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var D={current:null};function N(){var e=D.current;if(null===e)throw Error(p(321));return e}var P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:y,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(p(143));return e}},t.Component=v,t.PureComponent=_,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=r({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=y.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!k.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},27378:function(e,t,n){"use strict";e.exports=n(41535)},24246:function(e,t,n){"use strict";e.exports=n(71426)},36891:function(e,t,n){"use strict";n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return l},applyMiddleware:function(){return v},bindActionCreators:function(){return h},combineReducers:function(){return f},compose:function(){return m},createStore:function(){return d}});var r=n(64649);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var s="function"==typeof Symbol&&Symbol.observable||"@@observable",c=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function u(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(a(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(a(1));return n(d)(e,t)}if("function"!=typeof e)throw new Error(a(2));var i=e,o=t,c=[],f=c,p=!1;function h(){f===c&&(f=c.slice())}function m(){if(p)throw new Error(a(3));return o}function v(e){if("function"!=typeof e)throw new Error(a(4));if(p)throw new Error(a(5));var t=!0;return h(),f.push(e),function(){if(t){if(p)throw new Error(a(6));t=!1,h();var n=f.indexOf(e);f.splice(n,1),c=null}}}function g(e){if(!u(e))throw new Error(a(7));if(void 0===e.type)throw new Error(a(8));if(p)throw new Error(a(9));try{p=!0,o=i(o,e)}finally{p=!1}for(var t=c=f,n=0;n<t.length;n++)(0,t[n])();return e}function _(e){if("function"!=typeof e)throw new Error(a(10));i=e,g({type:l.REPLACE})}function b(){var e,t=v;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(a(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[s]=function(){return this},e}return g({type:l.INIT}),(r={dispatch:g,subscribe:v,getState:m,replaceReducer:_})[s]=b,r}function f(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:l.INIT}))throw new Error(a(12));if(void 0===n(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(a(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},c=0;c<s.length;c++){var l=s[c],u=n[l],d=e[l],f=u(d,t);if(void 0===f)throw t&&t.type,new Error(a(14));i[l]=f,r=r||f!==d}return(r=r||s.length!==Object.keys(e).length)?i:e}}function p(e,t){return function(){return t(e.apply(this,arguments))}}function h(e,t){if("function"==typeof e)return p(e,t);if("object"!=typeof e||null===e)throw new Error(a(16));var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=p(i,t))}return n}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(a(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map((function(e){return e(i)}));return r=m.apply(void 0,s)(n.dispatch),o(o({},n),{},{dispatch:r})}}}},73323:function(e,t){"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,d=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,g=-1,_=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5};var y=new MessageChannel,w=y.port2;y.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+_;try{v(!0,e)?w.postMessage(null):(m=!1,v=null)}catch(e){throw w.postMessage(null),e}}else m=!1},n=function(e){v=e,m||(m=!0,w.postMessage(null))},r=function(e,n){g=f((function(){e(t.unstable_now())}),n)},i=function(){p(g),g=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>S(a,n))void 0!==c&&0>S(c,a)?(e[r]=c,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==c&&0>S(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var x=[],O=[],T=1,j=null,D=3,N=!1,P=!1,A=!1;function I(e){for(var t=E(O);null!==t;){if(null===t.callback)C(O);else{if(!(t.startTime<=e))break;C(O),t.sortIndex=t.expirationTime,k(x,t)}t=E(O)}}function M(e){if(A=!1,I(e),!P)if(null!==E(x))P=!0,n(L);else{var t=E(O);null!==t&&r(M,t.startTime-e)}}function L(e,n){P=!1,A&&(A=!1,i()),N=!0;var o=D;try{for(I(n),j=E(x);null!==j&&(!(j.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=j.callback;if("function"==typeof a){j.callback=null,D=j.priorityLevel;var s=a(j.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?j.callback=s:j===E(x)&&C(x),I(n)}else C(x);j=E(x)}if(null!==j)var c=!0;else{var l=E(O);null!==l&&r(M,l.startTime-n),c=!1}return c}finally{j=null,D=o,N=!1}}var R=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||N||(P=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return E(x)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=R,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:T++,callback:o,priorityLevel:e,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>s?(e.sortIndex=a,k(O,e),null===E(x)&&e===E(O)&&(A?i():A=!0,r(M,a-s))):(e.sortIndex=c,k(x,e),P||N||(P=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},91102:function(e,t,n){"use strict";e.exports=n(73323)},46705:function(e,t){"use strict";var n,r,i,o,a,s,c;function l(){u(),g().hash&&(E.forEach(d),null==a||a.observe(document,w),v(),s=setTimeout(u,k))}function u(){clearTimeout(s),cancelAnimationFrame(c),null==a||a.disconnect(),E.forEach(f)}function d(e){document.addEventListener(e,u)}function f(e){document.removeEventListener(e,u)}function p(e,t){"PUSH"===(t||e.action)&&l()}function h(e){if(!e.defaultPrevented){var t=function(e){for(var t=e;t&&"A"!==t.nodeName;)t=t.parentElement;return t}(e.target);t&&t.hash&&t.pathname===g().pathname&&y(l)}}function m(){y(v)}function v(){var e=g().hash;if(e){var t=decodeURIComponent(e.substring(1)),r=n.call(null,t);r&&i.call(null,r)}}function g(){return(null==r?void 0:r.location)||location}function _(e){return document.getElementById(e)}function b(e){e.scrollIntoView()}function y(e){cancelAnimationFrame(c),c=requestAnimationFrame(e)}t.u=void 0,t.u=function(e){void 0===e&&(e={}),u(),removeEventListener("click",h),o&&o(),o=void 0,a=void 0,n=e.getElement||_,r=e.history,i=e.scrollIntoView||b,a=new MutationObserver(m),addEventListener("click",h),o=null==r?void 0:r.listen(p),l()};var w={attributes:!0,characterData:!0,childList:!0,subtree:!0},k=1e4,E=["selectstart","touchend","wheel"]},29428:function(e,t,n){e.exports=n(20599)},20599:function(e,t){var n;!function(r){"use strict";var i={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"Ae","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"Oe","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"Ue","Ű":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"ae","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"oe","ő":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"ue","ű":"u","ý":"y","þ":"th","ÿ":"y","ẞ":"SS","ا":"a","أ":"a","إ":"i","آ":"aa","ؤ":"u","ئ":"e","ء":"a","ب":"b","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ي":"y","ى":"a","ة":"h","ﻻ":"la","ﻷ":"laa","ﻹ":"lai","ﻵ":"laa","گ":"g","چ":"ch","پ":"p","ژ":"zh","ک":"k","ی":"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","က":"k","ခ":"kh","ဂ":"g","ဃ":"ga","င":"ng","စ":"s","ဆ":"sa","ဇ":"z","စျ":"za","ည":"ny","ဋ":"t","ဌ":"ta","ဍ":"d","ဎ":"da","ဏ":"na","တ":"t","ထ":"ta","ဒ":"d","ဓ":"da","န":"n","ပ":"p","ဖ":"pa","ဗ":"b","ဘ":"ba","မ":"m","ယ":"y","ရ":"ya","လ":"l","ဝ":"w","သ":"th","ဟ":"h","ဠ":"la","အ":"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h","ဧ":"e","၏":"-e","ဣ":"i","ဤ":"-i","ဉ":"u","ဦ":"-u","ဩ":"aw","သြော":"aw","ဪ":"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"","č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z","ހ":"h","ށ":"sh","ނ":"n","ރ":"r","ބ":"b","ޅ":"lh","ކ":"k","އ":"a","ވ":"v","މ":"m","ފ":"f","ދ":"dh","ތ":"th","ލ":"l","ގ":"g","ޏ":"gn","ސ":"s","ޑ":"d","ޒ":"z","ޓ":"t","ޔ":"y","ޕ":"p","ޖ":"j","ޗ":"ch","ޘ":"tt","ޙ":"hh","ޚ":"kh","ޛ":"th","ޜ":"z","ޝ":"sh","ޞ":"s","ޟ":"d","ޠ":"t","ޡ":"z","ޢ":"a","ޣ":"gh","ޤ":"q","ޥ":"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"p","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","α":"a","β":"v","γ":"g","δ":"d","ε":"e","ζ":"z","η":"i","θ":"th","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"ks","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"o","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"i","ώ":"o","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"I","Θ":"TH","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"KS","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"O","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"I","Ώ":"O","Ϊ":"I","Ϋ":"Y","ā":"a","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","ū":"u","Ā":"A","Ē":"E","Ģ":"G","Ī":"I","Ķ":"k","Ļ":"L","Ņ":"N","Ū":"U","Ќ":"Kj","ќ":"kj","Љ":"Lj","љ":"lj","Њ":"Nj","њ":"nj","Тс":"Ts","тс":"ts","ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ś":"S","Ź":"Z","Ż":"Z","Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g","ă":"a","Ă":"A","ș":"s","Ș":"S","ț":"t","Ț":"T","ţ":"t","Ţ":"T","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"i","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"kh","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"I","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"Kh","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","ђ":"dj","ј":"j","ћ":"c","џ":"dz","Ђ":"Dj","Ј":"j","Ћ":"C","Џ":"Dz","ľ":"l","ĺ":"l","ŕ":"r","Ľ":"L","Ĺ":"L","Ŕ":"R","ş":"s","Ş":"S","ı":"i","İ":"I","ğ":"g","Ğ":"G","ả":"a","Ả":"A","ẳ":"a","Ẳ":"A","ẩ":"a","Ẩ":"A","đ":"d","Đ":"D","ẹ":"e","Ẹ":"E","ẽ":"e","Ẽ":"E","ẻ":"e","Ẻ":"E","ế":"e","Ế":"E","ề":"e","Ề":"E","ệ":"e","Ệ":"E","ễ":"e","Ễ":"E","ể":"e","Ể":"E","ỏ":"o","ọ":"o","Ọ":"o","ố":"o","Ố":"O","ồ":"o","Ồ":"O","ổ":"o","Ổ":"O","ộ":"o","Ộ":"O","ỗ":"o","Ỗ":"O","ơ":"o","Ơ":"O","ớ":"o","Ớ":"O","ờ":"o","Ờ":"O","ợ":"o","Ợ":"O","ỡ":"o","Ỡ":"O","Ở":"o","ở":"o","ị":"i","Ị":"I","ĩ":"i","Ĩ":"I","ỉ":"i","Ỉ":"i","ủ":"u","Ủ":"U","ụ":"u","Ụ":"U","ũ":"u","Ũ":"U","ư":"u","Ư":"U","ứ":"u","Ứ":"U","ừ":"u","Ừ":"U","ự":"u","Ự":"U","ữ":"u","Ữ":"U","ử":"u","Ử":"ư","ỷ":"y","Ỷ":"y","ỳ":"y","Ỳ":"Y","ỵ":"y","Ỵ":"Y","ỹ":"y","Ỹ":"Y","ạ":"a","Ạ":"A","ấ":"a","Ấ":"A","ầ":"a","Ầ":"A","ậ":"a","Ậ":"A","ẫ":"a","Ẫ":"A","ắ":"a","Ắ":"A","ằ":"a","Ằ":"A","ặ":"a","Ặ":"A","ẵ":"a","Ẵ":"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d","ƒ":"f","™":"(TM)","©":"(C)","œ":"oe","Œ":"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o","º":"o","ª":"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY","元":"CNY","円":"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN","лв":"BGN","៛":"KHR","₡":"CRC","₸":"KZT","ден":"MKD","zł":"PLN","₽":"RUB","₾":"GEL"},o=["်","ް"],a={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},s={en:{},az:{"ç":"c","ə":"e","ğ":"g","ı":"i","ö":"o","ş":"s","ü":"u","Ç":"C","Ə":"E","Ğ":"G","İ":"I","Ö":"O","Ş":"S","Ü":"U"},cs:{"č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z"},fi:{"ä":"a","Ä":"A","ö":"o","Ö":"O"},hu:{"ä":"a","Ä":"A","ö":"o","Ö":"O","ü":"u","Ü":"U","ű":"u","Ű":"U"},lt:{"ą":"a","č":"c","ę":"e","ė":"e","į":"i","š":"s","ų":"u","ū":"u","ž":"z","Ą":"A","Č":"C","Ę":"E","Ė":"E","Į":"I","Š":"S","Ų":"U","Ū":"U"},lv:{"ā":"a","č":"c","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","š":"s","ū":"u","ž":"z","Ā":"A","Č":"C","Ē":"E","Ģ":"G","Ī":"i","Ķ":"k","Ļ":"L","Ņ":"N","Š":"S","Ū":"u","Ž":"Z"},pl:{"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"e","Ł":"L","Ń":"N","Ó":"O","Ś":"S","Ź":"Z","Ż":"Z"},sv:{"ä":"a","Ä":"A","ö":"o","Ö":"O"},sk:{"ä":"a","Ä":"A"},sr:{"љ":"lj","њ":"nj","Љ":"Lj","Њ":"Nj","đ":"dj","Đ":"Dj"},tr:{"Ü":"U","Ö":"O","ü":"u","ö":"o"}},c={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},l=[";","?",":","@","&","=","+","$",",","/"].join(""),u=[";","?",":","@","&","=","+","$",","].join(""),d=[".","!","~","*","'","(",")"].join(""),f=function(e,t){var n,r,f,m,v,g,_,b,y,w,k,E,C,S,x="-",O="",T="",j=!0,D={},N="";if("string"!=typeof e)return"";if("string"==typeof t&&(x=t),_=c.en,b=s.en,"object"==typeof t)for(k in n=t.maintainCase||!1,D=t.custom&&"object"==typeof t.custom?t.custom:D,f=+t.truncate>1&&t.truncate||!1,m=t.uric||!1,v=t.uricNoSlash||!1,g=t.mark||!1,j=!1!==t.symbols&&!1!==t.lang,x=t.separator||x,m&&(N+=l),v&&(N+=u),g&&(N+=d),_=t.lang&&c[t.lang]&&j?c[t.lang]:j?c.en:{},b=t.lang&&s[t.lang]?s[t.lang]:!1===t.lang||!0===t.lang?{}:s.en,t.titleCase&&"number"==typeof t.titleCase.length&&Array.prototype.toString.call(t.titleCase)?(t.titleCase.forEach((function(e){D[e+""]=e+""})),r=!0):r=!!t.titleCase,t.custom&&"number"==typeof t.custom.length&&Array.prototype.toString.call(t.custom)&&t.custom.forEach((function(e){D[e+""]=e+""})),Object.keys(D).forEach((function(t){var n;n=t.length>1?new RegExp("\\b"+p(t)+"\\b","gi"):new RegExp(p(t),"gi"),e=e.replace(n,D[t])})),D)N+=k;for(N=p(N+=x),C=!1,S=!1,w=0,E=(e=e.replace(/(^\s+|\s+$)/g,"")).length;w<E;w++)k=e[w],h(k,D)?C=!1:b[k]?(k=C&&b[k].match(/[A-Za-z0-9]/)?" "+b[k]:b[k],C=!1):k in i?(w+1<E&&o.indexOf(e[w+1])>=0?(T+=k,k=""):!0===S?(k=a[T]+i[k],T=""):k=C&&i[k].match(/[A-Za-z0-9]/)?" "+i[k]:i[k],C=!1,S=!1):k in a?(T+=k,k="",w===E-1&&(k=a[T]),S=!0):!_[k]||m&&-1!==l.indexOf(k)||v&&-1!==u.indexOf(k)?(!0===S?(k=a[T]+k,T="",S=!1):C&&(/[A-Za-z0-9]/.test(k)||O.substr(-1).match(/A-Za-z0-9]/))&&(k=" "+k),C=!1):(k=C||O.substr(-1).match(/[A-Za-z0-9]/)?x+_[k]:_[k],k+=void 0!==e[w+1]&&e[w+1].match(/[A-Za-z0-9]/)?x:"",C=!0),O+=k.replace(new RegExp("[^\\w\\s"+N+"_-]","g"),x);return r&&(O=O.replace(/(\w)(\S*)/g,(function(e,t,n){var r=t.toUpperCase()+(null!==n?n:"");return Object.keys(D).indexOf(r.toLowerCase())<0?r:r.toLowerCase()}))),O=O.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),f&&O.length>f&&(y=O.charAt(f)===x,O=O.slice(0,f),y||(O=O.slice(0,O.lastIndexOf(x)))),n||r||(O=O.toLowerCase()),O},p=function(e){return e.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},h=function(e,t){for(var n in t)if(t[n]===e)return!0};e.exports?(e.exports=f,e.exports.createSlug=function(e){return function(t){return f(t,e)}}):void 0===(n=function(){return f}.apply(t,[]))||(e.exports=n)}()},35732:function(e,t,n){var r=n(27378),i=n(54030);function o(e,t){i.Object.is(e)&&(e=i.struct(e));var n="subtype"===e.meta.kind,r={},o=n?e.meta.type:e;if("struct"===o.meta.kind||"interface"===o.meta.kind){var a=o.meta.props;Object.keys(a).forEach((function(e){var t,n=a[e];(t=function(){}).tcomb=n,r[e]=t}))}return n&&(r.__subtype__=function(){},r.__subtype__.predicate=e.meta.predicate),r}var a=i.irreducible("ReactElement",r.isValidElement),s=i.irreducible("ReactNode",(function(e){return i.Str.is(e)||i.Num.is(e)||a.is(e)||i.list(s).is(e)})),c=i.irreducible("ReactChild",(function(e){return s.is(e)||i.Bool.is(e)||i.Nil.is(e)})),l=i.irreducible("ReactChildren",(function(e){return c.is(e)||i.list(l).is(e)}));i.ReactElement=a,i.ReactNode=s,i.ReactChild=c,i.ReactChildren=l,e.exports={t:i,propTypes:o,props:function(e,t){return function(t){t.propTypes=o(e)}},ReactElement:a,ReactNode:s,ReactChild:c,ReactChildren:l,ReactElementT:a,ReactNodeT:s,ReactChildT:c,ReactChildrenT:l}},54030:function(e,t,n){"use strict";var r=n(97361),i=r.stringify,o={},a=r.struct({message:r.Any,actual:r.Any,expected:r.Any,path:r.list(r.union([r.String,r.Number]))},"ValidationError");function s(e,t,n,o){return r.Function.is(t.getValidationErrorMessage)?t.getValidationErrorMessage(e,n,o):function(e,t,n){var o=r.getTypeName(t),a=n.length?"/"+n.join("/")+": "+o:o;return"Invalid value "+i(e)+" supplied to "+a}(e,t,n)}a.of=function(e,t,n,r){return new a({message:s(e,t,n,r),actual:e,expected:t,path:n})};var c=r.struct({errors:r.list(a),value:r.Any},"ValidationResult");function l(e,t,n){n=n||{};var i=r.Array.is(n)?n:n.path||[];return new c(u(e,t,i,n))}function u(e,t,n,i){return r.isType(t)?d[t.meta.kind](e,t,n,i):d.es6classes(e,t,n,i)}c.prototype.isValid=function(){return!this.errors.length},c.prototype.firstError=function(){return this.isValid()?null:this.errors[0]},c.prototype.toString=function(){return this.isValid()?"[ValidationResult, true, "+i(this.value)+"]":"[ValidationResult, false, ("+this.errors.map((function(e){return i(e.message)})).join(", ")+")]"};var d=l.validators={};d.es6classes=function(e,t,n,r){return{value:e,errors:e instanceof t?[]:[a.of(e,t,n,r.context)]}},d.irreducible=d.enums=function(e,t,n,r){return{value:e,errors:t.is(e)?[]:[a.of(e,t,n,r.context)]}},d.list=function(e,t,n,i){if(!r.Array.is(e))return{value:e,errors:[a.of(e,t,n,i.context)]};for(var o={value:[],errors:[]},s=0,c=e.length;s<c;s++){var l=u(e[s],t.meta.type,n.concat(s),i);o.value[s]=l.value,o.errors=o.errors.concat(l.errors)}return o},d.subtype=function(e,t,n,r){var i=u(e,t.meta.type,n,r);return i.errors.length||t.meta.predicate(i.value)||(i.errors=[a.of(e,t,n,r.context)]),i},d.maybe=function(e,t,n,i){return r.Nil.is(e)?{value:e,errors:[]}:u(e,t.meta.type,n,i)},d.struct=function(e,t,n,i){if(!r.Object.is(e))return{value:e,errors:[a.of(e,t,n,i.context)]};if(t.is(e))return{value:e,errors:[]};var s={value:{},errors:[]},c=t.meta.props,l=t.meta.defaultProps||o;for(var d in c)if(c.hasOwnProperty(d)){var f=e[d];void 0===f&&(f=l[d]);var p=u(f,c[d],n.concat(d),i);s.value[d]=p.value,s.errors=s.errors.concat(p.errors)}if(i.hasOwnProperty("strict")?i.strict:t.meta.strict)for(var h in e)e.hasOwnProperty(h)&&!c.hasOwnProperty(h)&&s.errors.push(a.of(e[h],r.Nil,n.concat(h),i.context));return s.errors.length||(s.value=new t(s.value)),s},d.tuple=function(e,t,n,i){var o=t.meta.types,s=o.length;if(!r.Array.is(e)||e.length>s)return{value:e,errors:[a.of(e,t,n,i.context)]};for(var c={value:[],errors:[]},l=0;l<s;l++){var d=u(e[l],o[l],n.concat(l),i);c.value[l]=d.value,c.errors=c.errors.concat(d.errors)}return c},d.dict=function(e,t,n,i){if(!r.Object.is(e))return{value:e,errors:[a.of(e,t,n,i.context)]};var o={value:{},errors:[]};for(var s in e)if(e.hasOwnProperty(s)){var c=n.concat(s),l=u(s,t.meta.domain,c,i),d=u(e[s],t.meta.codomain,c,i);o.value[s]=d.value,o.errors=o.errors.concat(l.errors,d.errors)}return o},d.union=function(e,t,n,i){var o=t.dispatch(e);return r.Function.is(o)?u(e,o,n.concat(t.meta.types.indexOf(o)),i):{value:e,errors:[a.of(e,t,n,i.context)]}},d.intersection=function(e,t,n,r){for(var i=t.meta.types,o=i.length,s={value:e,errors:[]},c=0,l=0;l<o;l++){"struct"===i[l].meta.kind&&c++;var d=u(e,i[l],n,r);s.errors=s.errors.concat(d.errors)}return c>1&&s.errors.push(a.of(e,t,n,r.context)),s},d.interface=function(e,t,n,i){if(!r.Object.is(e))return{value:e,errors:[a.of(e,t,n,i.context)]};var o={value:{},errors:[]},s=t.meta.props;for(var c in s){var l=u(e[c],s[c],n.concat(c),i);o.value[c]=l.value,o.errors=o.errors.concat(l.errors)}if(i.hasOwnProperty("strict")?i.strict:t.meta.strict)for(var d in e)s.hasOwnProperty(d)||r.Nil.is(e[d])||o.errors.push(a.of(e[d],r.Nil,n.concat(d),i.context));return o},r.mixin(r,{ValidationError:a,ValidationResult:c,validate:l}),e.exports=r},97361:function(e,t,n){var r=n(24423);r.Any=n(60929),r.Array=n(62490),r.Boolean=n(9494),r.Date=n(9669),r.Error=n(1471),r.Function=n(95839),r.Nil=n(45848),r.Number=n(39849),r.Integer=n(2136),r.IntegerT=r.Integer,r.Object=n(88355),r.RegExp=n(96893),r.String=n(34467),r.Type=n(4701),r.TypeT=r.Type,r.Arr=r.Array,r.Bool=r.Boolean,r.Dat=r.Date,r.Err=r.Error,r.Func=r.Function,r.Num=r.Number,r.Obj=r.Object,r.Re=r.RegExp,r.Str=r.String,r.dict=n(34650),r.declare=n(14805),r.enums=n(99186),r.irreducible=n(10692),r.list=n(9968),r.maybe=n(84370),r.refinement=n(8411),r.struct=n(18579),r.tuple=n(60500),r.union=n(49944),r.func=n(82980),r.intersection=n(14422),r.subtype=r.refinement,r.inter=n(35090),r.interface=r.inter,r.assert=r,r.update=n(956),r.mixin=n(46908),r.isType=n(89621),r.is=n(43710),r.getTypeName=n(30921),r.match=n(20005),e.exports=r},60929:function(e,t,n){var r=n(10692);e.exports=r("Any",(function(){return!0}))},62490:function(e,t,n){var r=n(10692),i=n(65587);e.exports=r("Array",i)},9494:function(e,t,n){var r=n(10692),i=n(15905);e.exports=r("Boolean",i)},9669:function(e,t,n){var r=n(10692);e.exports=r("Date",(function(e){return e instanceof Date}))},1471:function(e,t,n){var r=n(10692);e.exports=r("Error",(function(e){return e instanceof Error}))},95839:function(e,t,n){var r=n(10692),i=n(69319);e.exports=r("Function",i)},2136:function(e,t,n){var r=n(8411),i=n(39849);e.exports=r(i,(function(e){return e%1==0}),"Integer")},45848:function(e,t,n){var r=n(10692),i=n(18763);e.exports=r("Nil",i)},39849:function(e,t,n){var r=n(10692),i=n(73767);e.exports=r("Number",i)},88355:function(e,t,n){var r=n(10692),i=n(48784);e.exports=r("Object",i)},96893:function(e,t,n){var r=n(10692);e.exports=r("RegExp",(function(e){return e instanceof RegExp}))},34467:function(e,t,n){var r=n(10692),i=n(15324);e.exports=r("String",i)},4701:function(e,t,n){var r=n(10692),i=n(89621);e.exports=r("Type",i)},24423:function(e,t,n){var r=n(69319),i=n(18763),o=n(53146),a=n(30599);function s(e,t){!0!==e&&(r(t)?t=t():i(t)&&(t='Assert failed (turn on "Pause on exceptions" in your Source panel)'),s.fail(t))}s.fail=o,s.stringify=a,e.exports=s},37345:function(e){e.exports=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},71052:function(e,t,n){var r=n(89621);n(68249),n(24423),n(30599),e.exports=function(e,t,n){return r(e)?e.meta.identity||"object"!=typeof t||null===t?e(t,n):new e(t,n):t}},14805:function(e,t,n){n(24423),n(3434),n(89621),n(18763);var r=n(46908),i=n(30921),o=n(27514),a=1;e.exports=function(e){var t;function n(e,n){return t(e,n)}return n.define=function(i){return o(i)&&n.hasOwnProperty("dispatch")&&(i.dispatch=n.dispatch),r(n,t=i,!0),e&&(t.displayName=n.displayName=e,n.meta.name=e),n.meta.identity=t.meta.identity,n.prototype=t.prototype,n},n.displayName=e||i(n)+"$"+a++,n.meta={identity:!1},n.prototype=null,n}},15003:function(e,t,n){var r=n(89621);function i(e){return r(e)&&"subtype"===e.meta.kind}function o(e){return i(e)?[e.meta.predicate].concat(o(e.meta.type)):[]}function a(e){return i(e)?a(e.meta.type):e}e.exports=function(e){return{predicates:o(e),unrefinedType:a(e)}}},34650:function(e,t,n){var r=n(24423),i=(n(3434),n(69319),n(30921)),o=n(63120),a=n(48784),s=n(71052),c=n(43710);function l(e,t){return"{[key: "+i(e)+"]: "+i(t)+"}"}function u(e,t,n){var u=n||l(e,t),d=(i(e),i(t),o(e)&&o(t));function f(n,r){if(d)return n;var i=!0,o={};for(var a in n)if(n.hasOwnProperty(a)){var c=n[a=s(e,a,null)],l=s(t,c,null);i=i&&c===l,o[a]=l}return i&&(o=n),o}return f.meta={kind:"dict",domain:e,codomain:t,name:n,identity:d},f.displayName=u,f.is=function(n){if(!a(n))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(!c(r,e)||!c(n[r],t)))return!1;return!0},f.update=function(e,t){return f(r.update(e,t))},f}u.getDefaultName=l,e.exports=u},99186:function(e,t,n){var r=n(24423),i=(n(3434),n(91475),n(73767)),o=n(15324);function a(e){return Object.keys(e).map((function(e){return r.stringify(e)})).join(" | ")}function s(e,t){var n=t||a(e);function r(e,t){return e}return r.meta={kind:"enums",map:e,name:t,identity:!0},r.displayName=n,r.is=function(t){return(o(t)||i(t))&&e.hasOwnProperty(t)},r}n(48784),s.of=function(e,t){e=o(e)?e.split(" "):e;var n={};return e.forEach((function(e){n[e]=e})),s(n,t)},s.getDefaultName=a,e.exports=s},44780:function(e,t,n){n(24423),n(69319),n(65587);var r=n(46908),i=(n(43625),n(12386),n(48784)),o=n(8411),a=n(15003);e.exports=function(e,t,n){var s={},c={},l=[],u={};t.forEach((function(e,t){var n,o,d,f=a(e),p=f.unrefinedType;n=l,o=f.predicates,Array.prototype.push.apply(n,o),r(s,i(d=p)?d:d.meta.props),r(c,p.prototype),r(u,function(e){return i(e)?null:e.meta.defaultProps}(p),!0)})),(n=e.getOptions(n)).defaultProps=r(u,n.defaultProps,!0);var d=function(e,t,n){var r=e.reduce((function(e,t){return o(e,t)}),t);return n&&(r.displayName=n,r.meta.name=n),r}(l,e(s,{strict:n.strict,defaultProps:n.defaultProps}),n.name);return r(d.prototype,c),d}},53146:function(e){e.exports=function(e){throw new TypeError("[tcomb] "+e)}},91475:function(e,t,n){var r=n(24423),i=n(30921);e.exports=function(e,t){r(!(e instanceof t),(function(){return"Cannot use the new operator to instantiate the type "+i(t)}))}},82980:function(e,t,n){n(24423),n(3434);var r=n(95839),i=n(65587),o=(n(9968),n(48784)),a=n(71052),s=(n(18763),n(15905),n(60500),n(68249)),c=n(30921),l=n(89621);function u(e,t){return"("+e.map(c).join(", ")+") => "+c(t)}function d(e){return r.is(e)&&o(e.instrumentation)}function f(e){for(var t=e.length,n=!1,r=t-1;r>=0;r--){var i=e[r];if(!l(i)||"maybe"!==i.meta.kind)return r+1;n=!0}return n?0:t}function p(e,t,n){e=i(e)?e:[e];var r=n||u(e,t),o=e.length;function c(e,t){return d(e)?e:c.of(e)}return f(e),c.meta={kind:"func",domain:e,codomain:t,name:n,identity:!0},c.displayName=r,c.is=function(n){return d(n)&&n.instrumentation.domain.length===o&&n.instrumentation.domain.every((function(t,n){return t===e[n]}))&&n.instrumentation.codomain===t},c.of=function(n,r){if(c.is(n))return n;function i(){var i=Array.prototype.slice.call(arguments),s=i.length;if(r&&s<o){var c=Function.prototype.bind.apply(n,[this].concat(i)),l=p(e.slice(s),t);return l.of(c,!0)}return a(t,n.apply(this,i))}return i.instrumentation={domain:e,codomain:t,f:n},i.displayName=s(n),i},c}p.getDefaultName=u,p.getOptionalArgumentsIndex=f,e.exports=p},15455:function(e,t,n){var r=n(30921);e.exports=function(e){return"{"+Object.keys(e).map((function(t){return t+": "+r(e[t])})).join(", ")+"}"}},68249:function(e){e.exports=function(e){return e.displayName||e.name||"<function"+e.length+">"}},30921:function(e,t,n){var r=n(89621),i=n(68249);e.exports=function(e){return r(e)?e.displayName:i(e)}},35090:function(e,t,n){var r=n(24423),i=(n(3434),n(34467),n(95839),n(15905),n(48784)),o=n(18763),a=n(71052),s=(n(30921),n(34650),n(15455)),c=n(63120),l=n(43710),u=n(44780),d=n(37345);function f(e,t){return u(h,e,t)}function p(e){return i(e)||(e=o(e)?{}:{name:e}),e.hasOwnProperty("strict")||(e.strict=h.strict),e}function h(e,t){var n=(t=p(t)).name,i=t.strict,u=n||s(e),h=Object.keys(e).map((function(t){return e[t]})).every(c);function m(t,n){if(h)return t;var r=!0,i=h?{}:d({},t);for(var o in e){var s=e[o],c=t[o],l=a(s,c,null);r=r&&c===l,i[o]=l}return r&&(i=t),i}return m.meta={kind:"interface",props:e,name:n,identity:h,strict:i},m.displayName=u,m.is=function(t){if(o(t))return!1;if(i)for(var n in t)if(!e.hasOwnProperty(n))return!1;for(var r in e)if(!l(t[r],e[r]))return!1;return!0},m.update=function(e,t){return m(r.update(e,t))},m.extend=function(e,t){return f([m].concat(e),t)},m}h.strict=!1,h.getOptions=p,h.getDefaultName=s,h.extend=f,e.exports=h},14422:function(e,t,n){var r=n(24423),i=(n(3434),n(69319),n(65587),n(63120),n(43710)),o=n(30921),a=n(63120);function s(e){return e.map(o).join(" & ")}function c(e,t){var n=t||s(e),o=e.every(a);function c(e,t){return e}return c.meta={kind:"intersection",types:e,name:t,identity:o},c.displayName=n,c.is=function(t){return e.every((function(e){return i(t,e)}))},c.update=function(e,t){return c(r.update(e,t))},c}c.getDefaultName=s,e.exports=c},10692:function(e,t,n){n(24423),n(15324),n(69319),n(91475),e.exports=function(e,t){function n(e,t){return e}return n.meta={kind:"irreducible",name:e,predicate:t,identity:!0},n.displayName=e,n.is=t,n}},43710:function(e,t,n){var r=n(89621);e.exports=function(e,t){return r(t)?t.is(e):e instanceof t}},65587:function(e){e.exports=function(e){return Array.isArray?Array.isArray(e):e instanceof Array}},15905:function(e){e.exports=function(e){return!0===e||!1===e}},69319:function(e){e.exports=function(e){return"function"==typeof e}},63120:function(e,t,n){n(24423),n(9494);var r=n(89621);n(30921),e.exports=function(e){return!r(e)||e.meta.identity}},12386:function(e,t,n){var r=n(89621);e.exports=function(e){return r(e)&&"interface"===e.meta.kind}},82551:function(e,t,n){var r=n(89621);e.exports=function(e){return r(e)&&"maybe"===e.meta.kind}},18763:function(e){e.exports=function(e){return null==e}},73767:function(e){e.exports=function(e){return"number"==typeof e&&isFinite(e)&&!isNaN(e)}},48784:function(e,t,n){var r=n(18763),i=n(65587);e.exports=function(e){return!r(e)&&"object"==typeof e&&!i(e)}},15324:function(e){e.exports=function(e){return"string"==typeof e}},43625:function(e,t,n){var r=n(89621);e.exports=function(e){return r(e)&&"struct"===e.meta.kind}},89621:function(e,t,n){var r=n(69319),i=n(48784);e.exports=function(e){return r(e)&&i(e.meta)}},3434:function(e,t,n){var r=n(18763),i=n(15324);e.exports=function(e){return r(e)||i(e)}},27514:function(e,t,n){var r=n(89621);e.exports=function(e){return r(e)&&"union"===e.meta.kind}},9968:function(e,t,n){var r=n(24423),i=(n(3434),n(69319),n(30921)),o=n(63120),a=n(71052),s=n(43710),c=n(65587);function l(e){return"Array<"+i(e)+">"}function u(e,t){var n=t||l(e),u=(i(e),o(e));function d(t,n){if(u)return t;for(var r=!0,i=[],o=0,s=t.length;o<s;o++){var c=t[o],l=a(e,c,null);r=r&&c===l,i.push(l)}return r&&(i=t),i}return d.meta={kind:"list",type:e,name:t,identity:u},d.displayName=n,d.is=function(t){return c(t)&&t.every((function(t){return s(t,e)}))},d.update=function(e,t){return d(r.update(e,t))},d}u.getDefaultName=l,e.exports=u},20005:function(e,t,n){var r=n(24423),i=n(69319),o=n(89621),a=n(60929);e.exports=function(e){for(var t,n,s,c=1,l=arguments.length;c<l;)if(t=arguments[c],n=arguments[c+1],i(s=arguments[c+2])&&!o(s)?c+=3:(s=n,n=a.is,c+=2),t.is(e)&&n(e))return s(e);r.fail("Match error")}},84370:function(e,t,n){n(24423),n(3434),n(69319);var r=n(82551),i=n(63120),o=n(60929),a=n(71052),s=n(45848),c=(n(91475),n(43710)),l=n(30921);function u(e){return"?"+l(e)}function d(e,t){if(r(e)||e===o||e===s)return e;var n=t||u(e),l=i(e);function d(t,n){return s.is(t)?t:a(e,t,n)}return d.meta={kind:"maybe",type:e,name:t,identity:l},d.displayName=n,d.is=function(t){return s.is(t)||c(t,e)},d}d.getDefaultName=u,e.exports=d},46908:function(e,t,n){var r=n(18763);n(24423),e.exports=function(e,t,n){if(r(t))return e;for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}},8411:function(e,t,n){var r=n(24423),i=(n(3434),n(69319),n(91475),n(63120)),o=n(71052),a=n(43710),s=n(30921),c=n(68249);function l(e,t){return"{"+s(e)+" | "+c(t)+"}"}function u(e,t,n){var s=n||l(e,t),c=i(e);function u(t,n){return o(e,t,n)}return u.meta={kind:"subtype",type:e,predicate:t,name:n,identity:c},u.displayName=s,u.is=function(n){return a(n,e)&&t(n)},u.update=function(e,t){return u(r.update(e,t))},u}u.getDefaultName=l,e.exports=u},30599:function(e,t,n){var r=n(68249);function i(e,t){return"function"==typeof t?r(t):t}e.exports=function(e){try{return JSON.stringify(e,i,2)}catch(t){return String(e)}}},18579:function(e,t,n){var r=n(24423),i=(n(3434),n(34467),n(95839),n(15905),n(48784)),o=n(18763),a=n(71052),s=(n(30921),n(34650),n(15455)),c=n(44780);function l(e){return"Struct"+s(e)}function u(e,t){return c(f,e,t)}function d(e){return i(e)||(e=o(e)?{}:{name:e}),e.hasOwnProperty("strict")||(e.strict=f.strict),e.hasOwnProperty("defaultProps")||(e.defaultProps={}),e}function f(e,t){var n=(t=d(t)).name,i=t.strict,o=t.defaultProps,s=n||l(e);function c(t,n){if(c.is(t))return t;if(!(this instanceof c))return new c(t,n);for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],s=t[r];void 0===s&&(s=o[r]),this[r]=a(i,s,null)}}return c.meta={kind:"struct",props:e,name:n,identity:!1,strict:i,defaultProps:o},c.displayName=s,c.is=function(e){return e instanceof c},c.update=function(e,t){return new c(r.update(e,t))},c.extend=function(e,t){return u([c].concat(e),t)},c}f.strict=!1,f.getOptions=d,f.getDefaultName=l,f.extend=u,e.exports=f},60500:function(e,t,n){var r=n(24423),i=(n(3434),n(69319),n(30921)),o=n(63120),a=n(65587),s=n(71052),c=n(43710);function l(e){return"["+e.map(i).join(", ")+"]"}function u(e,t){var n=t||l(e),i=e.every(o);function u(t,n){if(i)return t;for(var r=!0,o=[],a=0,c=e.length;a<c;a++){var l=e[a],u=t[a],d=s(l,u,null);r=r&&u===d,o.push(d)}return r&&(o=t),o}return u.meta={kind:"tuple",types:e,name:t,identity:i},u.displayName=n,u.is=function(t){return a(t)&&t.length===e.length&&e.every((function(e,n){return c(t[n],e)}))},u.update=function(e,t){return u(r.update(e,t))},u}u.getDefaultName=l,e.exports=u},49944:function(e,t,n){var r=n(24423),i=(n(3434),n(69319),n(30921)),o=n(63120),a=(n(65587),n(71052)),s=n(43710),c=(n(91475),n(27514)),l=n(18763);function u(e){return e.map(i).join(" | ")}function d(e,t){var n=t||u(e),i=e.every(o);function d(e,t){if(i)return e;var n=d.dispatch(e);return!n&&d.is(e)?e:a(n,e,t)}return d.meta={kind:"union",types:e,name:t,identity:i},d.displayName=n,d.is=function(t){return e.some((function(e){return s(t,e)}))},d.dispatch=function(t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(c(i)){var o=i.dispatch(t);if(!l(o))return o}else if(s(t,i))return i}},d.update=function(e,t){return d(r.update(e,t))},d}d.getDefaultName=u,e.exports=d},956:function(e,t,n){n(24423);var r=n(48784),i=(n(69319),n(65587)),o=(n(73767),n(37345));function a(e){return r(e)?e instanceof Date||e instanceof RegExp?e:o({},e):i(e)?e.concat():e}function s(e){return l.commands.hasOwnProperty(e)}function c(e){return l.commands[e]}function l(e,t){var n,r=e,i=!1;for(var o in t)t.hasOwnProperty(o)&&(s(o)?(n=c(o)(t[o],r))!==e?(i=!0,r=n):r=e:(r===e&&(r=a(e)),n=l(r[o],t[o]),i=i||n!==r[o],r[o]=n));return i?r:e}l.commands={$apply:function(e,t){return e(t)},$push:function(e,t){return e.length>0?t.concat(e):t},$remove:function(e,t){if(e.length>0){t=a(t);for(var n=0,r=e.length;n<r;n++)delete t[e[n]]}return t},$set:function(e){return e},$splice:function(e,t){return e.length>0?(t=a(t),e.reduce((function(e,t){return e.splice.apply(e,t),e}),t)):t},$swap:function(e,t){if(e.from!==e.to){var n=(t=a(t))[e.to];t[e.to]=t[e.from],t[e.from]=n}return t},$unshift:function(e,t){return e.length>0?e.concat(t):t},$merge:function(e,t){var n=!1,r=a(t);for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i],n=n||r[i]!==t[i]);return n?r:t}},e.exports=l},87602:function(e,t,n){var r=n(92746);e.exports=function(e){return r(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},67519:function(e){e.exports=function(e){return t.test(e)?e.toLowerCase():n.test(e)?(function(e){return e.replace(i,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():r.test(e)?function(e){return e.replace(o,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var t=/\s/,n=/(_|-|\.|:)/,r=/([a-z][A-Z]|[A-Z][a-z])/,i=/[\W_]+(.|$)/g,o=/(.)([A-Z]+)/g},92746:function(e,t,n){var r=n(67519);e.exports=function(e){return r(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},18067:function(e,t,n){"use strict";n.d(t,{x:function(){return r},b:function(){return i}});var r="MAXIMAZED_INSPECTOR_TOGGLE";function i(){return{type:r}}},91116:function(e,t,n){"use strict";n.d(t,{md:function(){return p},RH:function(){return f},pr:function(){return d},qB:function(){return h},Yu:function(){return v},m0:function(){return m},EQ:function(){return _},Mk:function(){return g},C$:function(){return b}});var r=0,i=n(96472),o=n(69321),a=n(83679),s=n(31556),c=n(39671),l=n(36358),u=n(98728),d="CREATE_OBJ_START",f="CREATE_OBJ_FINISH",p="CREATE_OBJ_FAILED",h="DELETE_OBJ_START";function m(e,t){return{type:d,additionId:e,filename:t,progress:10}}function v(e,t){return{type:f,additionId:e,objId:t}}function g(e){return(0,l.zD)((function(){return u.Jj.get(e)})).then((function(e){if(e)return e.destroy(),e.finishSaving()})).catch((function(e){(0,a.M)(e||new Error)})),{type:h,objId:e}}function _(e){return y(function(e){var t=e._obj_class;return(0,l.zD)((function(){return{siteId:w(),restriction:(0,s.T)()}})).then((function(e){var n=e.siteId,r=e.restriction;return(0,i.$)({siteId:n,objClass:t,restriction:r})}))}(e.preset))}function b(e){var t,n=e.upload;return y((t=n,(0,l.zD)((function(){return{siteId:w(),restriction:(0,s.T)()}})).then((function(e){var n=e.siteId,r=e.restriction;return(0,i.m)({siteId:n,file:t,restriction:r})}))),n.name)}function y(e,t){return function(n){var i="addition"+(r+=1);return n(m(i,t)),e.then((function(e){e&&n(v(i,e.id()))})).catch((function(e){(0,a.M)(e),n(function(e,t){return{type:p,additionId:e,message:t}}(i,e.message))}))}}function w(){var e=(0,o.l)();if(void 0===e)throw new c.AQ;return e}},58611:function(e,t,n){"use strict";n.r(t),n.d(t,{THUMBNAIL_VIEW:function(){return r},TABLE_VIEW:function(){return i},SET_VIEW_MODE:function(){return o},setViewMode:function(){return a}});var r="THUMBNAIL_VIEW",i="TABLE_VIEW",o="SET_VIEW_MODE";function a(e){return{type:o,viewMode:e}}},10074:function(e,t,n){"use strict";n.d(t,{eN:function(){return r},j4:function(){return i},NY:function(){return o}});var r="LOAD_MORE_OBJS",i=24;function o(e){return{type:r,numToLoad:e}}},71073:function(e,t,n){"use strict";n.r(t),n.d(t,{INITIALLY_SELECT:function(){return r},TOGGLE_SELECT:function(){return i},DESELECT_OBJS:function(){return o},CHANGE_SELECTION_MODE:function(){return a},SINGLE_SELECTION_MODE:function(){return s},MULTI_SELECTION_MODE:function(){return c},SET_OBJ_SOURCE:function(){return l},FILTER:function(){return u},LAST_ADDED:function(){return d},setInitiallySelectedObjIds:function(){return f},toggleSelect:function(){return p},changeSelectionMode:function(){return h},deselectObjs:function(){return m},setObjSource:function(){return v}});var r="INITIALLY_SELECT",i="TOGGLE_SELECT",o="DESELECT_OBJS",a="CHANGE_SELECTION_MODE",s="single",c="multi",l="SET_OBJ_SOURCE",u="FILTER",d="LAST_ADDED";function f(e){return{type:r,objIds:e}}function p(e){return{type:i,objId:e}}function h(e){return{type:a,mode:e}}function m(){return{type:o}}function v(e){return{type:l,activeSource:e}}},37707:function(e,t,n){"use strict";n.d(t,{kC:function(){return r},Vi:function(){return i},gg:function(){return a},nC:function(){return s}});var r="CHANGE_SORT_ORDER",i="desc";function o(e,t){return{type:r,criteriaType:e,sortDirection:t}}function a(e){return o(e,"asc")}function s(e){return o(e,i)}},63282:function(e,t,n){"use strict";n.d(t,{mv:function(){return r},dr:function(){return i},aw:function(){return o},av:function(){return a}});var r="EXPAND_TOGGLE",i="TOGGLE_TAG";function o(){return{type:r}}function a(e){return{type:i,tag:e}}},44582:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var r,i=n(27378),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return i.createElement("div",{className:"scrivito_modal_body"},this.props.body)},t.displayName="DialogBody",t}(i.Component)},3799:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(27378),i=n(38722),o=n(51979),a=(0,n(79501).Z)((function(e){var t=e.obj;return null!==(null==t?void 0:t.siteId())?null:r.createElement("span",{className:"scrivito_badge icon_globe blue",title:(0,o.$)(t)},(0,i.translate)("site_editing.global"))}))},89965:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r=n(27378),i=n(18216),o=n(38722);function a(e){var t=e.failedAdditions;return r.createElement("li",{className:"content-browser-item",onClick:function(){return(0,i.R)(t)},title:(0,o.translate)("content_browser.last_added.title_info")},r.createElement("div",{className:"scrivito-content-browser-add error"},r.createElement("div",{className:"scrivito-content-browser-text"},r.createElement("span",{className:"scrivito_icon scrivito_icon_error"}),r.createElement("span",null,(0,o.translate)("content_browser.last_added.failed_upload_counts",t.length)))))}},20215:function(e,t,n){"use strict";n.d(t,{E:function(){return l}});var r,i=n(94605),o=n(27378),a=n(38722),s=n(11762),c=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={searchTerm:n.props.filter.searchTerm||""},n.updateSearchFilter=n.updateSearchFilter.bind(n),n.triggerSearchWithEnter=n.triggerSearchWithEnter.bind(n),n.clearSearchTerm=n.clearSearchTerm.bind(n),n.updateSearchTerm=n.updateSearchTerm.bind(n),n.props.filter.onChange(n.handleFilterChange.bind(n)),n}return c(t,e),t.prototype.render=function(){return o.createElement("div",{className:"scrivito-content-browser-search"},o.createElement("span",{className:"text-input-wrapper"},o.createElement("input",{type:"text",placeholder:this.getSearchPlaceholder(),className:"search-field",value:this.state.searchTerm,onChange:this.updateSearchTerm,onKeyUp:this.triggerSearchWithEnter}),o.createElement("span",{onClick:this.clearSearchTerm,className:this.clearButtonClassName(),title:(0,a.translate)("content_browser.search_bar.clear_button")})),o.createElement("button",{className:"search-field-button",onClick:this.updateSearchFilter,title:(0,a.translate)("content_browser.search_bar.search_button")},o.createElement("i",{className:"scrivito_icon scrivito_icon_search"})))},t.prototype.handleFilterChange=function(){this.forceUpdate()},t.prototype.updateSearchFilter=function(){this.props.filter.setSearchTerm(this.state.searchTerm)},t.prototype.triggerSearchWithEnter=function(e){13===e.keyCode&&this.updateSearchFilter()},t.prototype.clearButtonClassName=function(){var e="scrivito_customer_icon sci_inv_cross ";return this.state.searchTerm.length>0&&(e+="show-clear"),e},t.prototype.clearSearchTerm=function(){this.setState({searchTerm:""},this.updateSearchFilter)},t.prototype.getSearchPlaceholder=function(){var e=new s.h(this.props.filter),t=(0,a.translate)("content_browser.search_bar.search_everywhere"),n=e.findActiveFilterItems(),r=(0,i.Z)(n.map((function(e){return e.activeNodes()})));if(r.length>1)t=(0,a.translate)("content_browser.search_bar.search_filtered");else if(1===r.length){var o=r[0].title;t=(0,a.translate)("content_browser.search_bar.search_in",o)}return t},t.prototype.updateSearchTerm=function(e){this.setState({searchTerm:e.target.value})},t}(o.Component)},88564:function(e,t,n){"use strict";n.d(t,{z:function(){return f}});var r,i=n(1348),o=n.n(i),a=n(87347),s=n(27378),c=n(38722),l=n(37707),u=n(10610),d=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e){function t(t){var n=e.call(this,t)||this;return n.setAscSortCriteria=n.setAscSortCriteria.bind(n),n.setDescSortCriteria=n.setDescSortCriteria.bind(n),n.toggleSortMenu=n.toggleSortMenu.bind(n),n}return d(t,e),t.prototype.render=function(){var e=this;return s.createElement("div",{className:"scrivito-content-browser-sort-menu"},s.createElement("span",{className:"scrivito_button scrivito_lightgrey scrivito_right",onClick:this.toggleSortMenu},s.createElement("i",{className:this.getSortIconClassName()}),s.createElement("span",{className:"scrivito-content-browser-sort-menu-title"},this.getSortActiveCriteriaTitle()),s.createElement("i",{className:"scrivito_icon scrivito-content-browser-menu-icon scrivito_icon_chevron_down"}),s.createElement("ul",{className:"scrivito_menu_box scrivito_left"},Object.keys(this.sortItemsData()).map((function(t){return s.createElement(u.SortMenuItem,{sortCriteria:e.props.sortCriteria,key:t,sortItem:e.sortItemsData()[t],activeTitle:e.getSortActiveCriteriaTitle(),setAscSortCriteria:e.setAscSortCriteria,setDescSortCriteria:e.setDescSortCriteria})})),s.createElement("li",{className:"scrivito_menu_box_overlay"}))))},t.prototype.sortItemsData=function(){return{relevance:{itemTitle:(0,c.translate)("content_browser.sort.relevance.title"),descCriteriaTitle:(0,c.translate)("content_browser.sort.relevance.desc_criteria_title"),sortItemType:"relevance"},filename:{itemTitle:(0,c.translate)("content_browser.sort.name.title"),descCriteriaTitle:(0,c.translate)("content_browser.sort.name.desc_criteria_title"),ascCriteriaTitle:(0,c.translate)("content_browser.sort.name.asc_criteria_title"),sortItemType:"name"},date:{itemTitle:(0,c.translate)("content_browser.sort.date.title"),descCriteriaTitle:(0,c.translate)("content_browser.sort.date.desc_criteria_title"),ascCriteriaTitle:(0,c.translate)("content_browser.sort.date.asc_criteria_title"),sortItemType:"_lastChanged"}}},t.prototype.toggleSortMenu=function(){o()(".scrivito-content-browser-sort-menu .scrivito_menu_box").fadeToggle()},t.prototype.getSortActiveCriteriaTitle=function(){var e=this,t=(0,a.Z)(this.sortItemsData()).find((function(t){return t.sortItemType===e.props.sortCriteria.sortField}));if(void 0!==t)return this.props.sortCriteria.sortDirection===l.Vi?t.descCriteriaTitle:t.ascCriteriaTitle},t.prototype.getSortIconClassName=function(){var e="scrivito_icon ";return this.props.sortCriteria.sortDirection===l.Vi?e+="scrivito_icon_sort_up":e+="scrivito_icon_sort_down",e},t.prototype.setDescSortCriteria=function(e){this.props.dispatch((0,l.nC)(e))},t.prototype.setAscSortCriteria=function(e){this.props.dispatch((0,l.gg)(e))},t}(s.Component)},74170:function(e,t,n){"use strict";n.d(t,{l:function(){return b}});var r=n(27378),i=n(38722),o=n(79501),a=n(97434),s=n(90457),c=n(98728),l=n(71073),u={video:"scrivito_icon_movie",audio:"scrivito_icon_music",msword:"scrivito_icon_doc",zip:"scrivito_icon_zip",pdf:"scrivito_icon_pdf","ms-excel":"scrivito_icon_xls","ms-powerpoint":"scrivito_icon_ppt","openxmlformats-officedocument.spreadsheetml":"scrivito_icon_xls",wordprocessingml:"scrivito_icon_doc",presentationml:"scrivito_icon_ppt",gif:"scrivito_icon_movie",svg:"scrivito_icon_image"};function d(e){var t;if(e){var n=function(e){return Object.keys(u).find((function(t){return e.match(new RegExp("\\b"+t+"\\b"))}))}(e);t=u[n]}return t||(t="scrivito_icon_generic"),t}var f=n(99253),p=n(3799),h=n(52898),m=n(23615),v=n.n(m),g=n(67655),_=(0,o.Z)(h({displayName:"LoadableSpan",propTypes:{get:v().func.isRequired},render:function(){var e=this.props.getTitle?this.props.getTitle():"";return r.createElement("span",{title:e,className:this.props.className},this.props.get())},_scrivitoRenderWhileLoading:function(){return r.createElement(g.aN,null)}})),b=(0,f.inspectComponentWrapper)((0,o.Z)((function(e){var t=e.objId,n=e.handleSelectClick,o=e.itemClasses,s=e.selectClasses,u=e.selectionMode,d=(0,c.R2)((0,c.hA)((0,c.GD)()),t);if(!d)return null;var f=d.modification();return r.createElement("li",{className:o,"data-obj-id":d.id()},r.createElement("div",{className:"scrivito-content-browser-item-wrapper",onClick:n},r.createElement("div",{className:"scrivito-content-browser-preview"},f&&r.createElement("i",{className:"scrivito_icon scrivito_"+f,title:i.translate("content_browser.item.tooltip.is_"+f)}),d.isRestricted()&&r.createElement("i",{className:"scrivito_icon scrivito_icon_lock",title:i.translate("content_browser.item.tooltip.is_restricted")}),r.createElement(p.o,{obj:d}),r.createElement(_,{get:function(){return r.createElement(y,{obj:d})}})),r.createElement("div",{className:s},r.createElement(_,{className:"scrivito-content-browser-thumbnails-name",getTitle:function(){if(d){var e=(0,a.Ti)(d);return e?"\n"+e:(0,a.VA)(d)}},get:function(){return(0,a.VA)(d)}}),r.createElement(_,{className:"scrivito-content-browser-thumbnails-size",get:function(){return(0,a.Ti)(d)}}),u!==l.SINGLE_SELECTION_MODE&&r.createElement("span",{className:"scrivito-content-browser-thumbnails-select select-item"}))))}))),y=(0,o.Z)((function(e){var t=e.obj,n={width:260,height:140},i=(0,a.Aj)(t,n);if(i)return r.createElement("img",{src:i.url()});var o=t.get("blob",["binary"]),c=t.contentType();if(o&&["image/jpeg","image/png"].includes(c))try{var l=o.optimizeFor(n);return r.createElement("img",{src:l.url()})}catch(e){return function(e){if(e instanceof s.XF)return"binary.unprocessable.image.transform.source.too_large"===e.code?r.createElement("div",{className:"scrivito-content-browser-preview image-too-large"}):-1!==e.code.indexOf("binary.unprocessable.image.transform.source.")?r.createElement("div",{className:"scrivito-content-browser-preview image-invalid"}):null;throw e}(e)}return o&&0===c.indexOf("image/")&&t.contentLength()<15e4?r.createElement("img",{src:o.url(),alt:""}):r.createElement("span",{className:"scrivito_icon "+d(c)})}))},20416:function(e,t,n){"use strict";n.d(t,{w:function(){return c}});var r=n(1348),i=n.n(r),o=n(27378),a=n(31542),s=n(74343);function c(e){var t=document.createElement("DIV");document.body.appendChild(t);var n=i().Deferred();return a.render(o.createElement(s.DialogApp,{mode:e.mode,promise:n,container:t,title:e.title,subtitle:e.subtitle,body:e.body}),t),n}},11762:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r=n(98064),i=n(94605),o=function(e){return void 0===e.value?e.name:e.value},a=function(e,t,n){var i=t[0];if("checkbox"!==(0,r.Z)(n).type&&i[e])return i[e];var o=n.find((function(t){return t[e]}));return o&&o[e]},s=function(){function e(e,t){this.parents=e,this.nodes=t}return e.prototype.activeNodes=function(){return this.nodes},e.prototype.values=function(){return(0,i.Z)(this.activeNodes().map(o))},e.prototype.query=function(){return"checkbox"!==(0,r.Z)(this.parents).type&&this.activeNodes()[0].query},e.prototype.hasQuery=function(){return!!this.query()},e.prototype.field=function(){return a("field",this.activeNodes(),this.parents)},e.prototype.hasField=function(){return!!this.field()},e.prototype.preventsCreation=function(){return this.nodesPreventingCreation().length>0},e.prototype.nodesPreventingCreation=function(){return this.activeNodes().filter((function(e){return!1===e.enable_create}))},e.prototype.enablesCreation=function(){return this.activeNodes().some((function(e){return!0===e.enable_create}))},e.prototype.operator=function(){return a("operator",this.activeNodes(),this.parents)||"equals"},e}(),c=function(){function e(e){this.filter=e}return e.prototype.findActiveFilterItems=function(){var e=this.findActiveAdditionalFilters(),t=this.findActiveTreeFilterItem();return t&&e.unshift(t),e},e.prototype.findActiveTreeFilterItem=function(){var e=this,t=null;return this.filter.getTreeFilters().forEach((function(n){n.subFilters.forEach((function(r){var i=e.findActiveSubFilterItem(r);i&&(i.parents.push(n.config),t=new s(i.parents,[i.node]))}))})),t},e.prototype.findActiveAdditionalFilters=function(){var e=[];return this.filter.additionalFilters.forEach((function(t){var n=t.children.filter((function(e){return e.isActive()}));n.length>0&&e.push(new s([t],n))})),e},e.prototype.findActiveSubFilterItem=function(e){var t,n=this;return e.isActive()?{node:e,parents:[]}:(e.children.some((function(r){if(t=n.findActiveSubFilterItem(r))return t.parents.push(e),t})),t)},e}()},19742:function(e,t,n){"use strict";n.r(t),n.d(t,{status:function(){return r},isActive:function(){return i},isCompleted:function(){return o},isFailed:function(){return a},failed:function(){return s}});var r=function(e){return 0===e.progress?"failed":100===e.progress?"completed":"active"},i=function(e){return"active"===r(e)},o=function(e){return"completed"===r(e)},a=function(e){return"failed"===r(e)},s=function(e){return e.filter(a)}},35961:function(e,t,n){"use strict";n.d(t,{b:function(){return c}});var r=n(48101),i=n.n(r),o=n(86090),a=n(91116),s={additions:[]};function c(e,t){void 0===e&&(e=s);var n=(0,o.Z)(t,"type");switch(t.type){case a.pr:return i()(e,{additions:{$unshift:[n]}});case a.RH:return l(e,t.additionId,{objId:t.objId,progress:100});case a.md:return l(e,t.additionId,{failureMessage:t.message,progress:0});case a.qB:return function(e,t){var n=e.additions.findIndex((function(e){return 100===e.progress&&e.objId===t}));return n>-1?i()(e,{additions:{$splice:[[n,1]]}}):e}(e,t.objId);default:return e}}function l(e,t,n){var r=e.additions.findIndex((function(e){return e.additionId===t})),o=e.additions[r];return o=i()(o,{$merge:n}),i()(e,{additions:{$splice:[[r,1,o]]}})}},6596:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(58611);function i(e,t){return t.type===r.SET_VIEW_MODE?{viewMode:t.viewMode}:e||{viewMode:r.THUMBNAIL_VIEW}}},68206:function(e,t,n){"use strict";n.d(t,{C:function(){return s}});var r=n(10074),i=n(71073),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a={numToLoad:r.j4};function s(e,t){switch(void 0===e&&(e=a),t.type){case r.eN:return o(o({},e),{numToLoad:t.numToLoad});case i.SET_OBJ_SOURCE:if(t.activeSource===i.FILTER)return o(o({},e),{numToLoad:r.j4})}return e}},76819:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(1095),i=n(48583),o=n(91116),a=n(71073),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},c={activeSource:a.FILTER,initiallySelectedObjIds:[],selectedObjs:[],selectionMode:a.MULTI_SELECTION_MODE};function l(e,t){switch(void 0===e&&(e=c),t.type){case a.CHANGE_SELECTION_MODE:return s(s({},e),{selectedObjs:[],selectionMode:t.mode||e.selectionMode});case a.INITIALLY_SELECT:return s(s({},e),{initiallySelectedObjIds:t.objIds});case a.TOGGLE_SELECT:return s(s({},e),{selectedObjs:u(e.selectedObjs,t.objId,e.selectionMode)});case o.qB:return s(s({},e),{selectedObjs:(0,r.Z)(e.selectedObjs,t.objId)});case o.RH:return e.activeSource===a.LAST_ADDED?s(s({},e),{selectedObjs:u(e.selectedObjs,t.objId,e.selectionMode)}):e;case a.DESELECT_OBJS:return s(s({},e),{initiallySelectedObjIds:[],selectedObjs:[]});case o.pr:return t.activeSource!==a.LAST_ADDED?s(s({},e),{activeSource:a.LAST_ADDED}):e;case a.SET_OBJ_SOURCE:return s(s({},e),{activeSource:t.activeSource});default:return e}}function u(e,t,n){return(0,i.Z)(e,t)?(0,r.Z)(e,t):"multi"===n?e.concat([t]):[t]}},40078:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t){switch(void 0===e&&(e={isExpanded:!1,activeSiteId:void 0}),null==t?void 0:t.type){case"TOGGLE_EXPAND_SITES":return r(r({},e),{isExpanded:!e.isExpanded});case"SELECT_SITE":return r(r({},e),{activeSiteId:t.siteId})}return e}},42049:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(37707),i={sortField:"relevance",sortDirection:r.Vi};function o(e,t){return void 0===e&&(e=i),t.type===r.kC?{sortField:t.criteriaType,sortDirection:t.sortDirection}:e}},19651:function(e,t,n){"use strict";n.d(t,{s:function(){return c}});var r=n(48583),i=n(1095),o=n(63282),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},s={isExpanded:!1,activeTags:[]};function c(e,t){switch(void 0===e&&(e=s),t.type){case o.dr:return a(a({},e),{activeTags:(n=e.activeTags,c=t.tag,(0,r.Z)(n,c)?(0,i.Z)(n,c):n.concat([c]))});case o.mv:return a(a({},e),{isExpanded:!e.isExpanded});default:return e}var n,c}},18216:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});var r=n(27378),i=n(20416),o=n(38722);function a(e){(0,i.w)({title:(0,o.translate)("content_browser.last_added.upload_error"),body:r.createElement("div",null,r.createElement("ul",null,e.map((function(e){return r.createElement("div",{className:"content-browser-alert",key:e.additionId},r.createElement("h4",null,e.filename),r.createElement("li",null,e.failureMessage||(0,o.translate)("content_browser.last_added.failed_upload")))}))))})}},76820:function(e,t,n){"use strict";n.d(t,{hj:function(){return f},xF:function(){return p},Gb:function(){return h}});var r=n(1348),i=n(48583),o=n(80369),a=n(46525),s=n(74205),c=n(38722),l=n(69410),u=n(39671),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)};function f(e,t,n){void 0===n&&(n={});var o=(0,i.Z)(["PUT","POST","DELETE"],e),a=n.skip_write_monitor;o&&(n.timeout=15e3,a||(0,l.lq)());var s=function(e,t,n){var i=n.data,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(n,["data"]);var a=window.location.origin+"/__scrivito/",s=r.ajax(a+t,d(d({type:e,dataType:"json",contentType:"application/json; charset=utf-8",cache:!1},void 0!==i&&{data:JSON.stringify(i)}),o));return new u.s8((function(e,t){s.pipe(e,(function(e,n,r){try{return t(JSON.parse(e.responseText))}catch(e){return t(r)}}))}))}(e,t,n);return o&&!a&&(0,l.Yw)(s),s}function p(e,t){return f(e,t).catch((function(e){throw h(e),e}))}function h(e){var t,n;(0,o.Z)(e)?(t=(0,c.translate)("ajax_error",e.message),n=e.message_for_editor):t=(0,i.Z)(["abort","parsererror","timeout"],e)?(0,c.translate)("ajax_error.communication"):(0,c.translate)("ajax_error",e),scrivito.isScrivitoAjaxDevelopmentMode?(0,a.a)(t):((0,u.H)(t),(0,s.B)({message:n||(0,c.translate)("ajax_error.message_for_editor"),details:[e.timestamp,t]}))}},76480:function(e,t,n){"use strict";n.d(t,{$:function(){return c},X:function(){return l}});var r=n(82719),i=n(46672),o=n(86649),a=(0,i.f)((0,i.l2)((function(){var e;return null===(e=r.Ne.document())||void 0===e?void 0:e.appAdapter()}))),s=a.connection,c=a.setLogger,l=(0,i.hb)(o.oY,s)},51079:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(76480),i=n(26395);function o(e){if(!(0,i.S)("getCapabilities"))return!1;var t=r.X.getCapabilities();return t&&!!t[e]}},26395:function(e,t,n){"use strict";n.d(t,{S:function(){return i}});var r=n(76480);function i(e){return function(e,t){var n=e.getAdapterSpec();return n&&!!n[t]}(r.X,e)}},82719:function(e,t,n){"use strict";n.d(t,{b2:function(){return k},Ne:function(){return b},Sz:function(){return E},oU:function(){return x},Uo:function(){return S},wU:function(){return C},XB:function(){return w}});var r=n(27378),i=n(58332),o=n(81968),a=n(16748),s=n(80072),c=n(51079),l=n(31233),u=n(91669),d=n(36358),f=n(23884),p=n(82330),h=n(79501),m=n(39671),v=n(37227),g=(0,v.JH)(),_=new m.BH,b=new s.dw({id:"scrivito_application"});var y=(0,h.Z)((function(){var e,t;return r.createElement(i.U,{cmsWindow:b,allowFullScreen:!0,style:{maxWidth:null===(e=(0,a.id)())||void 0===e?void 0:e.width},src:null!==(t=(0,o.go)())&&void 0!==t?t:"data:,",onLoad:function(){(0,o.go)()&&_.resolve()}})}));function w(e){var t=e.createElement("div");t.className="iframe_wrapper",e.body.appendChild(t),(0,v.N7)(p.LO).subscribe((function(e){t.classList.toggle("hidden",!!e)})),(0,v.N7)((function(){return g.get()})).subscribe((function(e){t.classList.toggle("scrivito_dnd_layer",!!e)})),(0,f.L)(r.createElement(y,null),t),function(e){var t=e.browsingContextName();(0,d.DU)((function(){return{appNeedsReload:!(0,c.L)("reloadOnEditingContextChange"),currentContextName:e.browsingContextName()}})).subscribe((function(e){var n=e.appNeedsReload,r=e.currentContextName;n&&r!==t&&(0,u.S)((0,l.W)())}))}(b)}function k(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){return[2,_.promise]}))},new((n=Promise)||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r}function E(e){return void 0===e&&(e=document),e.querySelector("iframe#"+b.id())}function C(){var e;g.set((null!==(e=g.get())&&void 0!==e?e:0)+1)}function S(){var e;g.set((null!==(e=g.get())&&void 0!==e?e:0)-1)}function x(){g.set(0)}},57161:function(e,t,n){"use strict";n.d(t,{FT:function(){return s},XA:function(){return c},Nw:function(){return l}});var r=n(92471),i=n(90457),o=n(39671),a=n(98728),s="_scrivitoComparisonRange";function c(e,t){if((0,o.fS)(e,[i.Bm,(0,a.GD)()]))return t;var n=new URL(t);return n.searchParams.set(s,JSON.stringify(e)),n.toString()}function l(e){var t=new r(e).query(!0)[s];if("string"!=typeof t)return null;try{var n=JSON.parse(t);return(0,i.Ri)(n)?n:null}catch(e){if(e instanceof SyntaxError)return null;throw e}}},46525:function(e,t,n){"use strict";n.d(t,{a:function(){return f}});var r,i,o=n(27378),a=n(56750),s=n(38722),c=n(79501),l=n(48217),u=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)};function f(e,t){return(0,a.G)((function(n){return o.createElement(p,d({title:e},t||{},n))}))}var p=(0,c.Z)((i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.componentDidMount=function(){this.props.subscribeHotkey("enter",this.props.cancelDialog)},t.prototype.render=function(){return o.createElement(l.E,{className:"alert_dialog scrivito_modal_prompt scrivito_"+(this.props.color||"red")+" scrivito_show"},o.createElement("div",{className:"scrivito_modal_header"},o.createElement("i",{className:"scrivito_icon scrivito_icon_"+(this.props.icon||"attention")}),o.createElement("h3",{className:"scrivito_title"},this.props.title),this.props.message&&o.createElement("p",null,this.props.message)),o.createElement("div",{className:"scrivito_modal_body"},this.props.body&&o.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.body}})),o.createElement("div",{className:"scrivito_modal_footer"},o.createElement("a",{className:"scrivito_button scrivito_close",onClick:this.props.cancelDialog},(0,s.translate)("ok"))))},t}(o.Component),i.displayName="AlertDialog",i))},48217:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var r=n(27378);function i(e){var t=e.className,n=e.children;return r.createElement("div",{className:"scrivito_center_dialog_wrapper"},r.createElement("div",{className:t},n))}},58332:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(27378),i=n(79501),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a=(0,i.Z)((function(e){var t=e.cmsWindow,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["cmsWindow"]);return r.createElement("iframe",o({},n,{id:t.id(),name:t.browsingContextName(),ref:r.useCallback((function(e){t.connectToIframe(e)}),[])}))}))},56750:function(e,t,n){"use strict";n.d(t,{S:function(){return w},G:function(){return _.G3}});var r,i=n(27378),o=n(82719),a=n(39671),s=n(1348),c=n(91669),l=0,u=[],d=[];function f(){if(r)throw new a.AQ("Tried to enable dialog hotkeys while they are already enabled");var e,t,n;e=(r=new a.BH).promise,t={enter:function(){h("enter")},escape:function(){h("escape")}},n="keyup.scrivito_hotkeys."+(l+=1),u.push(n),s(document).on(n,(function(e){if(!(0,c.l)()&&u[u.length-1]===n)return 13===e.keyCode&&t.enter?t.enter(e):27===e.keyCode&&t.escape?t.escape(e):void 0})),(0,a.sH)(e,(function(){var e=u.indexOf(n);-1!==e&&(s(document).off(n),u.splice(e,1))}))}function p(){r&&(r.resolve(),r=void 0)}function h(e){d.forEach((function(t){return t(e)}))}var m,v=(m=function(e,t){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},m(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(e){function t(t){var n=e.call(this,t)||this;return n.hotkeysUnsubscriptionCallbacks={},n.dialogDone=n.dialogDone.bind(n),n.cancelDialog=n.cancelDialog.bind(n),n.subscribeHotkey=n.subscribeHotkey.bind(n),n.disableEscapeHotkey=n.disableEscapeHotkey.bind(n),n}return v(t,e),t.prototype.componentDidMount=function(){this.hotkeysUnsubscriptionCallbacks.hasOwnProperty("escape")||this.subscribeHotkey("escape",this.cancelDialog)},t.prototype.componentWillUnmount=function(){for(var e=0,t=Object.keys(this.hotkeysUnsubscriptionCallbacks);e<t.length;e++){var n=t[e],r=this.hotkeysUnsubscriptionCallbacks[n];r&&r()}},t.prototype.render=function(){return i.createElement(this.props.dialogComponent,{dialogDone:this.dialogDone,cancelDialog:this.cancelDialog,subscribeHotkey:this.subscribeHotkey,disableEscapeHotkey:this.disableEscapeHotkey})},t.prototype.dialogDone=function(e){this.props.onDialogDone({dialogCancelled:!1,value:e})},t.prototype.cancelDialog=function(){this.props.onDialogDone({dialogCancelled:!0})},t.prototype.subscribeHotkey=function(e,t){var n=this,r=this.hotkeysUnsubscriptionCallbacks[e];r&&r(),this.hotkeysUnsubscriptionCallbacks[e]=function(e){return d.push(e),function(){d.splice(d.indexOf(e),1)}}((function(r){n.props.isTopmost&&r===e&&t()}))},t.prototype.disableEscapeHotkey=function(){this.subscribeHotkey("escape",(function(){}))},t.displayName="DialogStack.DialogWrapper",t}(i.Component),_=n(65059),b=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},w=function(e){function t(t){var n=e.call(this,t)||this;return n.state={stack:[]},n.onOpenDialog=n.onOpenDialog.bind(n),n.currentItemId=0,n}return b(t,e),t.prototype.componentDidMount=function(){(0,_.Gc)(this.onOpenDialog),this.state.stack.length>0&&f()},t.prototype.componentDidUpdate=function(e,t){var n=this.state.stack.length;n>0&&0===t.stack.length&&f(),0===n&&p()},t.prototype.componentWillUnmount=function(){p()},t.prototype.render=function(){var e=this.state.stack;return i.createElement(i.Fragment,null,e.map((function(t,n){var r=t.component,o=n===e.length-1;return i.createElement("div",{key:n},o&&i.createElement("div",{className:"scrivito_overlay scrivito_show"}),i.createElement(r,{isTopmost:o}))})))},t.prototype.onOpenDialog=function(e){var t=new a.BH,n=y([],this.state.stack,!0);return n.push(this.wrapInStackItem(e,t)),this.setState({stack:n}),(0,o.wU)(),t.promise},t.prototype.wrapInStackItem=function(e,t){var n=this,r=this.currentItemId;return this.currentItemId=this.currentItemId+1,{id:r,component:function(o){var a=o.isTopmost;return i.createElement(g,{isTopmost:a,dialogComponent:e,onDialogDone:function(e){return n.onDialogDone(r,t,e)}})}}},t.prototype.onDialogDone=function(e,t,n){var r=this;t.resolve(n),(0,a.Y3)((function(){var t=y([],r.state.stack,!0),n=t.findIndex((function(t){return t.id===e}));-1!==n&&(t.splice(n,1),r.setState({stack:t}),(0,o.Uo)())}))},t.displayName="DialogStack",t}(i.Component)},65059:function(e,t,n){"use strict";n.d(t,{G3:function(){return o},Gc:function(){return a}});var r=n(39671),i=null;function o(e){if(null===i)throw new r.AQ("Dialog stack is not yet initialized");return i(e)}function a(e){i=e}},74205:function(e,t,n){"use strict";n.d(t,{B:function(){return u}});var r,i=n(27378),o=n(56750),a=n(38722),s=n(48217),c=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)};function u(e){return(0,o.G)((function(t){return i.createElement(d,l({},e,t))}))}var d=function(e){function t(t){var n=e.call(this,t)||this;return n.onToggle=n.onToggle.bind(n),n.onClose=n.onClose.bind(n),n}return c(t,e),t.prototype.componentDidMount=function(){this.props.subscribeHotkey("enter",this.props.cancelDialog)},t.prototype.render=function(){return i.createElement(s.E,{className:this.className()},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon scrivito_icon_information"}),i.createElement("h3",{className:"scrivito_title"},(0,a.translate)("error_dialog.title")),i.createElement("p",null,this.props.message)),this.props.details&&i.createElement("div",{className:"scrivito_modal_body"},i.createElement("h4",null,(0,a.translate)("error_dialog.details")),i.createElement("div",{className:"details"},this.props.details.map((function(e,t){return i.createElement("div",{key:t},e)})))),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_close",onClick:this.onClose},(0,a.translate)("close"))))},t.prototype.className=function(){return"error_dialog scrivito_modal_prompt scrivito_show"+" scrivito_"+(this.props.color||"red")},t.prototype.onToggle=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.onClose=function(e){e.preventDefault(),e.stopPropagation(),this.props.cancelDialog()},t.displayName="ErrorDialog",t}(i.Component)},67655:function(e,t,n){"use strict";n.d(t,{aN:function(){return o},nv:function(){return a},fy:function(){return s}});var r=n(27378),i=n(38722);function o(){return r.createElement("span",{className:"scrivito_loader"})}function a(){return r.createElement("span",{className:"scrivito_loader no_delay"})}function s(){return r.createElement("span",{className:"scrivito_loader_error",title:(0,i.translate)("loader_error.title")})}},20661:function(e,t,n){"use strict";n.d(t,{wK:function(){return p},vz:function(){return h},sQ:function(){return g},pR:function(){return v},Af:function(){return _},yP:function(){return m}});var r=n(81968),i=n(60209),o=n(17956),a=n(76820);function s(e){return(0,a.hj)("PUT","sessions/"+e,{skip_write_monitor:!0})}var c=n(77153),l=n(31233),u=n(39907),d=n(90457),f=n(39671);function p(e){E(e),c.enable(d.R2),d.i3.init(g(),e)}function h(){E(void 0)}function m(e){if((0,o.ZG)()){var t=e.tenant;return b===t||k||function(e){(0,l.B)((0,i.I)({isCloudUi:!0,tenant:e,appUrl:(0,r.TD)()}))}(t),void(k=!0)}w||function(e){var t=e.tenant,n=e.endpoint;E(t),n&&function(e){y=e}(n),e.useRailsAuth&&(0,u.FM)(),c.enable(e.useRailsAuth?s:d.R2),d.i3.init(g(),t)}(e)}function v(){return b}function g(){return y}function _(){return w&&void 0===b}var b,y=f.Am,w=!1,k=!1;function E(e){if(w)throw new f.AQ;b=e,w=!0}},96472:function(e,t,n){"use strict";n.d(t,{m:function(){return d},$:function(){return f}});var r=n(76480),i=n(26395),o=n(36358);function a(e){return t=this,n=void 0,i=function(){var t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return[4,(0,o.zD)(c)];case 1:return t=n.sent(),[2,s(e,t)]}}))},new((r=Promise)||(r=Promise))((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(t.value).then(a,s)}c((i=i.apply(t,n||[])).next())}));var t,n,r,i}function s(e,t){var n=t[e];return n||(t[e.split("/")[0]+"/*"]||t["*/*"]||"Download")}function c(){return function(){if((0,i.S)("getObjClassForContentTypeMapping"))return r.X.getObjClassForContentTypeMapping()}()||{"image/*":"Image"}}var l=n(8718),u=n(98728);function d(e){var t,n,r,i,o=e.file,s=e.siteId,c=e.restriction;return t=this,n=void 0,i=function(){var e,t,n,r,i;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:return[4,a(o.type)];case 1:return e=d.sent(),(t=l.P.get(e))?(n=u.Jj.generateId(),[4,u.Kb.upload(o).intoId(n)]):[2,null];case 2:return r=d.sent(),i=function(e,t,n,r,i){return p(r,{_id:[t],_objClass:[n],blob:[e,["binary"]]},i)}(r,n,t.name,s,c),[4,i.finishSaving()];case 3:return d.sent(),[2,i]}}))},new((r=Promise)||(r=Promise))((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(t.value).then(a,s)}c((i=i.apply(t,n||[])).next())}))}function f(e){var t=e.objClass,n=e.siteId,r=e.path,i=e.restriction,o={_objClass:[t]};return void 0!==r&&(o._path=[r]),p(n,o,i)}function p(e,t,n){var i=(0,u.hA)((0,u.GD)());e&&(i=i.and((0,u.mz)(e)));var o=(0,u.f_)(i,t);return"string"==typeof n&&o.restrict(n),r.X.initializeContentForObj(o.id()),o}},81968:function(e,t,n){"use strict";n.d(t,{Fl:function(){return s},go:function(){return c},TD:function(){return l}});var r,i=n(76480),o=n(39671),a=n(36358);function s(e){r=e}function c(){return r}function l(){var e=(0,a.qu)(void 0,(function(){var e;return null===(e=i.X.getCurrentAppLocation())||void 0===e?void 0:e.url})),t=null!=e?e:c();if(!t)throw new o.AQ;return t}},16748:function(e,t,n){"use strict";n.d(t,{Ts:function(){return u},id:function(){return d},Tj:function(){return f}});var r=n(33146),i=n(87010),o=n(25338),a=n(37227),s="currentPreviewSize",c=(0,a.JH)();function l(){c.set((c.get()||0)+1)}function u(){(0,o.rk)("initCurrentPreviewSize",l)}function d(){c.get();var e=(0,i.GH)().get(s);return(0,r.F)().find((function(t){return t.width===e}))||null}function f(e){(0,i.GH)().set(s,e),l()}},69321:function(e,t,n){"use strict";n.d(t,{l:function(){return i}});var r=n(76480);function i(){var e=r.X.getCurrentAppLocation();return null==e?"default":e.siteId?e.siteId:null===e.siteId?void 0:"default"}},7188:function(e,t,n){"use strict";n.d(t,{ol:function(){return i},Y0:function(){return o},UC:function(){return a},dR:function(){return s},cA:function(){return c}});var r=(0,n(37227).JH)();function i(){return r.get()||"view"}function o(e){return"view"===e||"editing"===e||"diff"===e}function a(e){r.set(e)}function s(){return"editing"===i()}function c(){return"diff"===i()}},65676:function(e,t,n){"use strict";n.d(t,{y:function(){return a},D:function(){return s}});var r=n(92471),i=n(41671),o=n(83418),a="scrivitoEnableTour";function s(){var e=r((0,i.DX)());e.hasQuery(a)&&((0,i.DR)(e.removeQuery(a).toString()),(0,o.i4)())}},82110:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(8718),i=n(82802),o=n(39671),a=n(98728);function s(e){var t;if(e instanceof a.Jj)t=r.P;else{if(!(e instanceof a.E8))throw new o.AQ("Expect an instance of BasicObj or BasicWidget");t=i.P}return t.get(e.objClass())}},60209:function(e,t,n){"use strict";n.d(t,{O:function(){return s},I:function(){return c}});var r=n(92471),i=n(20661),o=n(39671),a=n(17956);function s(e){return(0,a.ZG)()?c({isCloudUi:!0,appUrl:e,tenant:(0,i.pR)()}):c({isCloudUi:!1,appUrl:e})}function c(e){var t=new r(e.appUrl);if(""===t.origin())throw new o.AQ;var n,i,a,s,c,l,u=window.location.origin,d=e.isCloudUi?(n=t,a=(i=e).tenant,s=i.screen,c=i.uiHash,l=a,s&&(l=[l,s].join("/")),s&&c&&(l=[l,c].join(".")),a?l+"~"+n.origin():n.origin()):function(e,t){var n=e.origin();if(n!==t)throw new o.AQ("UI at "+t+" cannot reference application at "+n);return"scrivito"}(t,u);return t.pathname(""+d+t.pathname()),t.origin(u),t.toString()}},74964:function(){"use strict";window.scrivito={}},83679:function(e,t,n){"use strict";n.d(t,{M:function(){return c}});var r=n(74205),i=n(38722),o=n(15161),a=n(90457),s=n(39671);function c(e){e instanceof a.XF?function(e){var t=e.code,n=e.message,a="handle_ui_error."+t;(0,i.hasTranslationFor)(a)?(0,r.B)({message:(0,i.translate)(a),color:"yellow"}):((0,r.B)({message:(0,s.jQ)(n),color:"yellow"}),(0,o.V)(a+" has no error message"))}(e):function(e){var t=(0,i.translate)("handle_ui_error.fallback_message"),n=e instanceof Error&&e.message;n?(0,r.B)({message:t,details:[n],color:"red"}):(0,r.B)({message:t,color:"red"}),(0,s.a6)(e)}(e)}},38722:function(e,t,n){"use strict";n.r(t),n.d(t,{getLocale:function(){return G},hasTranslationFor:function(){return ee},isValidLocale:function(){return q},load:function(){return K},localizeDate:function(){return X},localizeDateRelative:function(){return J},setLocale:function(){return $},translate:function(){return Q},translateLoadable:function(){return Y}});var r=n(32825),i=n(85902);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t),a=n.getTime()-o.getTime();return a<0?-1:a>0?1:a}var a=n(7095),s=n(25480),c=n(18309);function l(e){(0,i.Z)(1,arguments);var t=(0,r.default)(e);return(0,s.default)(t).getTime()===(0,c.default)(t).getTime()}function u(e,t){(0,i.Z)(2,arguments);var n,s=(0,r.default)(e),c=(0,r.default)(t),u=o(s,c),d=Math.abs((0,a.default)(s,c));if(d<1)n=0;else{1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-u*d);var f=o(s,c)===-u;l((0,r.default)(e))&&1===d&&1===o(e,c)&&(f=!1),n=u*(d-Number(f))}return 0===n?0:n}function d(e,t){return(0,i.Z)(2,arguments),(0,r.default)(e).getTime()-(0,r.default)(t).getTime()}var f={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function p(e){return e?f[e]:f.trunc}function h(e,t,n){(0,i.Z)(2,arguments);var r=d(e,t)/1e3;return p(null==n?void 0:n.roundingMethod)(r)}var m=n(91907),v=n(49290);function g(e){return(0,v.Z)({},e)}var _=n(76415),b=1440,y=43200;function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.Z)(2,arguments);var a=n.locale||m.Z;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=o(e,t);if(isNaN(s))throw new RangeError("Invalid time value");var c,l,d=g(n);d.addSuffix=Boolean(n.addSuffix),d.comparison=s,s>0?(c=(0,r.default)(t),l=(0,r.default)(e)):(c=(0,r.default)(e),l=(0,r.default)(t));var f,p=h(l,c),v=((0,_.Z)(l)-(0,_.Z)(c))/1e3,w=Math.round((p-v)/60);if(w<2)return n.includeSeconds?p<5?a.formatDistance("lessThanXSeconds",5,d):p<10?a.formatDistance("lessThanXSeconds",10,d):p<20?a.formatDistance("lessThanXSeconds",20,d):p<40?a.formatDistance("halfAMinute",null,d):p<60?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",1,d):0===w?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",w,d);if(w<45)return a.formatDistance("xMinutes",w,d);if(w<90)return a.formatDistance("aboutXHours",1,d);if(w<b){var k=Math.round(w/60);return a.formatDistance("aboutXHours",k,d)}if(w<2520)return a.formatDistance("xDays",1,d);if(w<y){var E=Math.round(w/b);return a.formatDistance("xDays",E,d)}if(w<86400)return f=Math.round(w/y),a.formatDistance("aboutXMonths",f,d);if((f=u(l,c))<12){var C=Math.round(w/y);return a.formatDistance("xMonths",C,d)}var S=f%12,x=Math.floor(f/12);return S<3?a.formatDistance("aboutXYears",x,d):S<9?a.formatDistance("overXYears",x,d):a.formatDistance("almostXYears",x+1,d)}var k,E=n(43793),C={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"halbe Minute",withPreposition:"halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}},S=n(38781),x={date:(0,S.Z)({formats:{full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},defaultWidth:"full"}),time:(0,S.Z)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,S.Z)({formats:{full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},O={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"},T=n(96419),j={ordinalNumber:function(e){return Number(e)+"."},era:(0,T.Z)({values:{narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},defaultWidth:"wide"}),quarter:(0,T.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,T.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan.","Feb.","März","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},defaultWidth:"wide"}),day:(0,T.Z)({values:{narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},defaultWidth:"wide"}),dayPeriod:(0,T.Z)({values:{narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},defaultWidth:"wide",formattingValues:{narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},defaultFormattingWidth:"wide"})},D=n(65562),N=n(7625),P={code:"de",formatDistance:function(e,t,n){var r,i=null!=n&&n.addSuffix?C[e].withPreposition:C[e].standalone;return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",String(t)),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:"vor "+r:r},formatLong:x,formatRelative:function(e,t,n,r){return O[e]},localize:j,match:{ordinalNumber:(0,D.Z)({matchPattern:/^(\d+)(\.)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e)}}),era:(0,N.Z)({matchPatterns:{narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^v/i,/^n/i]},defaultParseWidth:"any"}),quarter:(0,N.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,N.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mär|apr|mai|jun|jul|aug|sep|okt|nov|dez)/i,wide:/^(januar|februar|märz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mär/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,N.Z)({matchPatterns:{narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,N.Z)({matchPatterns:{narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},defaultMatchWidth:"wide",parsePatterns:{any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},A=n(48583),I=n(39671),M=n(36358),L=(k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},k(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),R=function(){return R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},R.apply(this,arguments)},F={},B={load:function(e,t){this.store()[e]||(this.store()[e]={}),this.store()[e]=R(R({},this.store()[e]),t)},translate:function(e,t,n,r){var i=this.store()[e][t];if(!i){var o='No translation found for key "'+t+'" in locale "'+e+'"';if((0,I.H)(o),this.shouldThrowErrors)throw new z(o);return t}try{return function(e,t,n,r,i){if(-1!==n.indexOf("$"))return n.replace(/\$\w+/g,(function(n){var o=n.substring(1);if(null==i?void 0:i.hasOwnProperty(o))return U(i[o]);var a=Number(o)-1;if(r.hasOwnProperty(a))return U(r[a]);throw new W('Translation for key "'+t+'" in locale "'+e+'" received incomplete interpolation params: missing "'+n+'"')}));if(r.length||i)throw new W('Translation for key "'+t+'" in locale "'+e+'" received unexpected interpolation params.');return n}(e,t,i,n,r)}catch(e){if(this.shouldThrowErrors||!(e instanceof W))throw e;return(0,I.H)(e.message),i}},hasTranslationFor:function(e,t){return!!this.store()[e][t]},store:function(){return F},shouldThrowErrors:!1},z=function(e){function t(t){return e.call(this,t)||this}return L(t,e),t}(I.AQ),W=function(e){function t(t){return e.call(this,t)||this}return L(t,e),t}(z);function U(e){return"number"==typeof e?e.toString():e}var H=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Z=["de","en"];function q(e){return(0,A.Z)(Z,e)}var V="en";function K(e,t){B.load(e,t)}function $(e){V=q(e)?e:"en"}function G(){return V}function Y(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(0,M._$)())throw new I.AQ("`translate(...)` was called without a loading context");return void 0===t||"object"==typeof t?B.translate(G(),e,[],t):B.translate(G(),e,H([t],n,!0))}function Q(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return void 0===t||"object"==typeof t?B.translate(G(),e,[],t):B.translate(G(),e,H([t],n,!0))}function X(e,t){return(0,E.default)(e,t,{locale:te()})}function J(e,t){return void 0===t&&(t=new Date),w(e,t,{addSuffix:!0,locale:te()})}function ee(e){return B.hasTranslationFor(G(),e)}function te(){return"en"===G()?m.Z:P}},83352:function(e,t,n){"use strict";var r;function i(e){r=e}function o(){return r}n.d(t,{BR:function(){return i},Sp:function(){return o}})},37685:function(e,t,n){"use strict";n.d(t,{v:function(){return a},o:function(){return s}});var r=n(92471),i=n(83352),o=n(41671),a="_scrivito_idp";function s(){var e=new r((0,o.DX)()).query(!0)[a];e&&"string"==typeof e&&(0,i.BR)(e)}},23835:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(8718);function i(e){var t=e.objClass(),n=r.P.get(t);return!!n&&n.isBinary()}},17956:function(e,t,n){"use strict";n.d(t,{x2:function(){return o},ZG:function(){return a}});var r,i=n(39671);function o(e){r=e}function a(){if(void 0===r)throw new i.AQ("setCloudUi not yet called!");return r}},41671:function(e,t,n){"use strict";n.d(t,{DX:function(){return m},vo:function(){return p},m$:function(){return v},DR:function(){return g},JB:function(){return f}});var r=n(46705),i=n(92471),o=n(82073),a=n(82644),s=n(39671),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)};var l,u,d=(0,n(37227).JH)();function f(e){u&&u(),l=e,d.set(h(e.location)),u=e.listen((function(e){return d.set(h(e))}))}function p(){var e;(0,r.u)({history:(e=l,{get action(){return e.action},get block(){return e.block},get createHref(){return e.createHref},get go(){return e.go},get goBack(){return e.goBack},get goForward(){return e.goForward},get length(){return e.length},get listen(){return e.listen},get location(){return function(e){var t=(0,a.Z)();if(void 0===t)throw new s.AQ;var n=""+t+e.pathname,r=(0,o.k)(n).uiHash;return c(c({},e),{hash:r?"#"+r:""})}(e.location)},get push(){return e.push},get replace(){return e.replace}}),scrollIntoView:b})}function h(e){var t=e.pathname,n=e.search,r=e.hash,i=(0,a.Z)();if(void 0===i)throw new s.AQ;return""+i+t+n+r}function m(){var e=d.get();if(!e)throw new s.AQ;return e}function v(e){l.push(_(e))}function g(e){l.replace(_(e))}function _(e){var t=i(e);if(t.origin()!==(0,a.Z)())throw new s.AQ;return t.resource()}function b(e){e.scrollIntoView({behavior:"smooth",block:"start",inline:"center"})}},51531:function(e,t,n){"use strict";n.d(t,{b:function(){return u}});var r=n(78067),i=n(23136),o=n(48583),a=n(15150),s=n(39671),c=function(){function e(e){var t,n;this.name=e.name,this.type=e.type,this.attributeData=e,"enum"!==this.type&&"multienum"!==this.type||(this.values=(t=this.attributeData.values,n=this.attributeData.valuesLocalization,t?n?(0,a.Z)(t,(function(e){var r=n.findIndex((function(t){return t.value===e}));return-1===r?t.length:r})):t:[]))}return e.prototype.title=function(){return this.attributeData.title},e.prototype.description=function(){return this.attributeData.description},e.prototype.options=function(){return this.attributeData.options},e.prototype.typeInfo=function(){switch(this.type){case"enum":return["enum",{values:this.attributeData.values}];case"multienum":return["multienum",{values:this.attributeData.values}];default:return[this.type]}},e.prototype.orderedValues=function(){return this.assertValidTypes(["enum","multienum"],"Only enum and multienum attributes can have valid values"),this.values||[]},e.prototype.titleForValue=function(e){var t=this.attributeData.valuesLocalization;if(t){var n=t.find((function(t){return t.value===e}));if(n&&n.title)return n.title}return e},e.prototype.validClassNames=function(){return this.assertValidTypes(["reference","referencelist"],"Only reference and referencelist attributes can have valid classes"),this.attributeData.validClasses},e.prototype.onlyClassNames=function(){return this.assertValidTypes(["widgetlist"],"Only widgetlist attributes have only()"),this.attributeData.validClasses},e.prototype.assertValidTypes=function(e,t){if(!(0,o.Z)(e,this.type))throw new s.AQ(t)},e}(),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},u=function(){function e(e){var t=this;this.classData=e,this.name=e.name,this.attributes=e.attributes.map((function(e){return t.buildAttribute(e)}))}return e.prototype.title=function(){return this.classData.title||(0,s.G8)(this.name)},e.prototype.description=function(){return this.classData.description||""},e.prototype.legacyGeneralProperties=function(){return this.classData.properties||[]},e.prototype.legacyPropertiesGroups=function(){return this.classData.propertiesGroups||[]},e.prototype.thumbnail=function(){return this.classData.thumbnail},e.prototype.attribute=function(e){return function(e){if(!(0,i.Z)(e))throw new s.ir("Expected a string for attribute name, but got "+(0,s.xr)(e));if(!e)throw new s.ir("An empty string is not a valid attribute name")}(e),(0,r.Z)(this.attributes,{name:e})},e.prototype.isHiddenInSelectionDialogs=function(){return!!this.classData.hideInSelectionDialogs},e.prototype.canBeRoot=function(){return!(!this.classData.validAsRoot&&!this.classData.onlyAsRoot)},e.prototype.isRootOnly=function(){return!!this.classData.onlyAsRoot},e.prototype.buildAttribute=function(e){var t=e.title||this.fallbackAttributeTitle(e);return new c(l(l({},e),{title:t}))},e.prototype.fallbackAttributeTitle=function(e){return"blob"===e.name&&"binary"===e.type?this.title():(0,s.G8)(e.name)},e}()},80072:function(e,t,n){"use strict";n.d(t,{dw:function(){return d},j0:function(){return c},i9:function(){return l}});var r=n(1348),i=n(7188),o=n(98728),a=n(39671),s=n(37227);function c(e){return u.get(e)}function l(e){var t=r.makeArray(r(document).find("iframe")).find((function(t){return t.contentWindow===e}));return t&&u.get(t)}var u=new WeakMap,d=function(){function e(e){this.context=e,this.cmsDocument=(0,s.JH)(),this.disconnected=!1}return e.prototype.document=function(){return this.cmsDocument.get()},e.prototype.id=function(){return this.context.id},e.prototype.browsingContextName=function(){return e=this.id(),r=(n=void 0===(t={editableInViewMode:!!this.context.editableInViewMode,forceReadOnly:!!this.context.forceReadOnly})?{}:t).editableInViewMode,a=n.comparison,s=n.workspaceId,c=!n.forceReadOnly&&!(0,i.cA)()&&(r||(0,i.dR)()),e+" _scrivito "+JSON.stringify({workspaceId:void 0===s?(0,o.tV)():s,comparison:void 0===a?(0,i.cA)():a,editing:c});var e,t,n,r,a,s,c},e.prototype.getTheme=function(){return this.context.theme||"light"},e.prototype.setDocument=function(e){this.cmsDocument.set(e)},e.prototype.iframe=function(){if(!this.connectedIframe)throw new a.AQ;return this.connectedIframe},e.prototype.connectToIframe=function(e){if(!e)return this.connectedIframe&&u.delete(this.connectedIframe),this.cmsDocument.clear(),void(this.disconnected=!0);if(this.disconnected)throw new a.AQ;if(this.connectedIframe&&this.connectedIframe!==e)throw new a.AQ;u.set(e,this),this.connectedIframe=e},e}()},8718:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r,i=n(76480),o=n(51531),a=n(36358),s=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.get=function(e){var t;return null!==(t=this.all().find((function(t){return t.name===e})))&&void 0!==t?t:null},t.all=function(){var e=this;return(0,a.qu)([],(function(){return i.X.getClasses()||[]})).filter((function(e){return"Obj"===e.type})).map((function(t){return new e(t)}))},t.type=function(){return"Obj"},t.validPageClasses=function(){return t.all().filter(l).filter((function(e){return!e.isRootOnly()}))},t.validPageClassesInSelectionDialogs=function(){return t.validPageClasses().filter(u)},t.validPageClassesForRoot=function(){var e=t.all().filter(l).filter(u),n=e.filter(d);return n.length>0?n:e},t.existingClassesForNames=function(e){return e.map((function(e){return t.get(e)})).filter(f)},t.prototype.isBinary=function(){var e=this.attribute("blob");return!(!e||"binary"!==e.type)},t.prototype.hasChildOrder=function(){var e=this.attribute("childOrder");return!(!e||"referencelist"!==e.type)},t.prototype.hasContentTitle=function(){var e;return!("string"!==(null===(e=this.attribute("contentTitle"))||void 0===e?void 0:e.type))},t.prototype.hasTags=function(){var e;return!("stringlist"!==(null===(e=this.attribute("tags"))||void 0===e?void 0:e.type))},t.prototype.restrictsParent=function(){return!!this.classData.onlyInside},t.prototype.restrictsChildren=function(){return!!this.classData.onlyChildren},t.prototype.isValidParentClass=function(e){var t,n,r=f(e)?e.name:e;return null===(n=null===(t=this.classData.onlyInside)||void 0===t?void 0:t.includes(r))||void 0===n||n},t.prototype.isValidChildClass=function(e){var t,n,r=f(e)?e.name:e;return null===(n=null===(t=this.classData.onlyChildren)||void 0===t?void 0:t.includes(r))||void 0===n||n},t}(o.b);function l(e){return!e.isBinary()}function u(e){return!e.isHiddenInSelectionDialogs()}function d(e){return e.canBeRoot()}function f(e){return e instanceof c}},43348:function(e,t,n){"use strict";n.d(t,{WQ:function(){return s},FN:function(){return c},uL:function(){return l},NP:function(){return u},JG:function(){return d},tQ:function(){return f}});var r=n(76480),i=n(69321),o=n(39671),a=n(98728);function s(){var e=(0,i.l)();return e?u(e):null}function c(){var e=(0,a.hA)((0,a.GD)()).and(a.E2).search().and("_path","equals","/").andNot("_siteId","equals",[null,"default"]).dangerouslyUnboundedTake(),t=p();return t&&e.push(t),e}function l(){var e=s();return e?(0,a.s1)(e):[]}function u(e){return"default"===e?p():(0,a.cS)(h(e))}function d(e){var t=e.siteId();if(null===t)throw new o.AQ("Unexpected global site");return h(t).search().count()}function f(e){return!!e.siteId()&&"/"===e.path()}function p(){var e=r.X.getHomepageId();return e?(0,a.R2)(h("default"),e):null}function h(e){return(0,a.hA)((0,a.GD)()).and((0,a.mz)(e)).and(a.E2)}},82802:function(e,t,n){"use strict";n.d(t,{P:function(){return u}});var r,i=n(76480),o=n(51531),a=n(8718),s=n(36358),c=n(98728),l=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.get=function(e){var t;return null!==(t=this.all().find((function(t){return t.name===e})))&&void 0!==t?t:null},t.all=function(){var e=this;return(0,s.qu)([],(function(){return i.X.getClasses()||[]})).filter((function(e){return"Widget"===e.type})).map((function(t){return new e(t)}))},t.type=function(){return"Widget"},t.validClassesForField=function(e){var t=e.getContainer(),n=t.objClass();return d(t,e.name()).filter((function(e){return!e.isHiddenInSelectionDialogs()&&e.isValidContainerClass(n)}))},t.prototype.id=function(){return this.name},t.prototype.isValidContainerClass=function(e){var t=this.classData.onlyInside;return!t||t.includes(e)},t}(o.b);function d(e,t){var n,r=u.all(),i=((n=e)instanceof c.E8?u:a.P).get(n.objClass());if(!i)return r;var o=i.attribute(t);if(!o)return r;var s=o.onlyClassNames();if(!s)return r;var l=[];return s.forEach((function(e){var t=r.find((function(t){return t.name===e}));t&&l.push(t)})),l}},33146:function(e,t,n){"use strict";n.d(t,{F:function(){return o},B:function(){return a}});var r=n(76480),i=n(38722);function o(){return r.X.getPreviewSizes()||a()}function a(){return[{title:(0,i.translate)("preview_sizes.mobile"),width:320},{title:(0,i.translate)("preview_sizes.tablet"),width:768},{title:(0,i.translate)("preview_sizes.laptop"),width:1024},{title:(0,i.translate)("preview_sizes.desktop")}]}},82073:function(e,t,n){"use strict";n.d(t,{k:function(){return d},J:function(){return f}});var r=n(92471),i=n(57161),o=n(37685),a=n(17956),s=n(39671),c=n(65676),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},u=l({widgetLibrary:!0},{testScreen1:!0,testScreen2:!0});function d(e){return p(e)||h(e)||{isCloudUi:!0}}function f(e){if(window.location.origin!==new r(e).origin())return e;var t=(0,a.ZG)()?h(e):p(e);return(null==t?void 0:t.appUrl)||e}function p(e){var t=(0,s.$f)(e);if(t)return{isCloudUi:!1,appUrl:m(new r(t))}}function h(e){var t,n,i=new r(function(e){return e.replace(/https?:\/(?!\/)/,"$&/")}(e)),o=i.resource().match(/^\/(?:([^~]+)~)?(.+)?/);if(o){var a=o[1],s=o[2],c=null!==(t=null==a?void 0:a.split(/\/(.*)/))&&void 0!==t?t:[],l=c[0],d=c[1],f=null!==(n=null==d?void 0:d.split(/\.(.*)/))&&void 0!==n?n:[],p=f[0],h=f[1],v={isCloudUi:!0};if(function(e){return!!e&&!0===u[e]}(p)&&(v.screen=p),l&&(v.tenant=l),h&&(v.uiHash=h),s)try{v.appUrl=function(e){var t=new r(e.match(/^https?:\/\//)?e:"//"+e);return t.protocol()||t.protocol("localhost"===t.hostname()?"http":"https"),m(t)}(s)}catch(e){return}return v}}function m(e){return e.removeSearch(["_scrivito_workspace_id","_scrivito_display_mode",i.FT,o.v,c.y]).toString()}},23884:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(31542);function i(e,t){var n=t instanceof HTMLElement?t:t.get(0);return r.render(e,n)}},82330:function(e,t,n){"use strict";n.d(t,{LO:function(){return s},oG:function(){return c},oP:function(){return l},lB:function(){return u}});var r=n(60209),i=n(41671),o=n(82073),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function s(){return(0,o.k)((0,i.DX)()).screen}function c(){return(0,o.k)((0,i.DX)()).uiHash}function l(){d(void 0)}function u(e,t){d(e,t)}function d(e,t){var n=(0,o.k)((0,i.DX)());if(n.isCloudUi&&(n.screen!==e||n.uiHash||t)){var s=(0,r.I)(a(a({},n),{screen:e,uiHash:t}));(0,i.m$)(s)}}},77153:function(e,t,n){"use strict";n.r(t),n.d(t,{enable:function(){return p},perform:function(){return h},disable:function(){return g},setSessionData:function(){return _},getSessionData:function(){return b}});var r,i,o,a=n(83352),s=n(90457),c=n(39671),l=n(36358),u=n(37227),d=function(){},f=new c.BH;function p(e){o=(0,c.kb)(),i=e,f.resolve(),k()}function h(e){return k().then((function(){return e(v())})).catch((function(t){if(t instanceof s.yj)return w().then((function(){return e(v())}));throw t}))}function m(){return new l.of({state:u.n2.subState("sessionKeeper"),loader:y})}function v(){return"Session "+b().token}function g(){f=new c.BH,i=void 0,r=void 0}function _(e){m().set(e)}function b(){return m().get()}function y(){return r||(d(),r=f.promise.then((function(){return i(o,(0,a.Sp)())})).then((function(e){var t=e.id;return o=t,{id:t,maxage:e.maxage,permissions:e.permissions,token:e.token,user_id:e.user_id}})),(0,c.sH)(r,(function(){r=void 0})).then((function(e){var t,n;t=e.maxage,n=setTimeout((function(){w().catch((function(){}))}),1e3*(t-10)),d=function(){return clearTimeout(n)}}))),r}function w(){return y().then((function(e){m().set(e)}))}function k(){return(0,l.zD)((function(){return b()}))}},51979:function(e,t,n){"use strict";n.d(t,{a:function(){return a},$:function(){return s}});var r=n(38722),i=n(43348),o=n(97434);function a(e){var t=e.siteId(),n=t&&(0,i.NP)(t);if(n)return(0,o.VA)(n)}function s(e){var t=e.siteId();if(!t)return(0,r.translate)("site_editing.global.tooltip");var n=a(e);return n?(0,r.translate)("site_editing.site_title.tooltip",n):(0,r.translate)("site_editing.site_id.tooltip",t)}},87010:function(e,t,n){"use strict";n.d(t,{GH:function(){return s},Kt:function(){return c}});var r=n(20661),i=n(17956),o=n(39671),a=function(){function e(e){this.prefix=e?"scrivito.v1."+e:"scrivito.v1"}return e.prototype.set=function(e,t){localStorage.setItem(this.expandKey(e),JSON.stringify(t))},e.prototype.get=function(e){var t=localStorage.getItem(this.expandKey(e));if(null===t)return null;try{return JSON.parse(t)}catch(e){if(e instanceof SyntaxError)return null;throw e}},e.prototype.hasKey=function(e){return null!==this.get(e)},e.prototype.remove=function(e){localStorage.removeItem(this.expandKey(e))},e.prototype.expandKey=function(e){return this.prefix+"."+e},e}();function s(){return(0,i.ZG)()?new a("global"):l()}function c(){return(0,i.ZG)()?function(){var e=(0,r.pR)();if(!e)throw new o.AQ("No tenant ID set! Try getGlobalStorage instead");return new a("tenant."+e)}():l()}function l(){return new a("")}},15161:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(39671);function i(e){(0,r.a6)(new r.AQ((0,r.th)(e)))}},83418:function(e,t,n){"use strict";n.d(t,{VK:function(){return j},SQ:function(){return b},i4:function(){return _},AD:function(){return k},O8:function(){return y},rG:function(){return C},h2:function(){return g},Q:function(){return x},Rk:function(){return O},Mf:function(){return v},fL:function(){return w},A2:function(){return S},T4:function(){return E}});var r=n(37227);function i(){return c().subState("references").get()||[]}function o(){c().subState("isEnabled").set(!0)}function a(){c().subState("isHidden").set(!1)}function s(e){c().subState("currStep").set(e)}function c(){return r.n2.subState("tour")}var l=n(87010),u="tour.isEnabled",d="tour.currStep";function f(e){(0,l.GH)().set(d,e)}var p=n(39671),h={},m=0;function v(e,t){(0,p.Y3)((function(){var n=i().slice(),r=n.indexOf(e);-1===r?t&&(h[e]=t,n.push(e)):t||(delete h[e],n.splice(r,1)),function(e){c().subState("references").set(e)}(n)}))}function g(e){return-1!==i().indexOf(e)?h[e]:null}function _(){o(),(0,l.GH)().set(u,"yes")}function b(){c().subState("isEnabled").set(!1),c().subState("currStep").set(0),s(0),a(),(0,l.GH)().remove(u),f(0)}function y(){return c().subState("isEnabled").get()||!1}function w(){(0,l.GH)().hasKey(u)&&(j()>=m&&T(0),o())}function k(){y()&&c().subState("isHidden").set(!0)}function E(){y()&&a()}function C(){return c().subState("isHidden").get()||!1}function S(e){m=e}function x(){if(y()){var e=j()+1;e<m&&T(e)}}function O(){if(y()){var e=j()-1;e>=0&&T(e)}}function T(e){s(e),f(e)}function j(){return c().subState("currStep").get()||("number"==typeof(e=(0,l.GH)().get(d))?e:0);var e}},79501:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r,i=n(55839),o=n(27378),a=n(67655),s=n(39671),c=n(83774),l=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function u(e){var t=(0,c.$j)(e),n=function(n){function r(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={hasError:!1},e}return l(r,n),r.prototype.shouldComponentUpdate=function(e,t){return this.state.hasError!==t.hasError||!(0,c.t0)(this.props,e)},r.prototype.componentDidCatch=function(e){this.setState({hasError:!0}),(0,s.a6)(e)},r.prototype.render=function(){return this.state.hasError?function(e){return e.shouldRenderLoaderError}(e)?o.createElement(a.fy,null):null:o.createElement(t,this.props)},r.displayName="ErrorBoundary("+(0,c.r0)(e)+")",r}(o.Component);return i(n,e),n}},97434:function(e,t,n){"use strict";n.d(t,{aZ:function(){return f},VA:function(){return p},nx:function(){return h},Ti:function(){return m},Aj:function(){return v},X7:function(){return g}});var r=n(37911),i=n(1166),o=n(76480),a=n(82110),s=n(23835),c=n(8718),l=n(82802),u=n(39671),d=n(98728);function f(e){return e instanceof d.Jj?p(e):h(e)}function p(e){var t=e.objClass(),n=c.P.get(t);if(!n)return e.get("title",["string"])||(0,u.G8)(t);if(n.hasContentTitle())return function(e){return e.get("contentTitle",["string"])||e.get("title",["string"])}(e);var r=o.X.titleForObj(e.id());if(r)return r;if((0,s.Z)(e)){var i=e.get("blob",["binary"]);if(i)return i.filename()}return e.get("title",["string"])||n.title()}function h(e){var t=o.X.titleForWidget(e.obj().id(),e.id());if(t)return t;var n=e.objClass(),r=l.P.get(n);return r?r.title():(0,u.G8)(n)}function m(e){var t=o.X.descriptionForObj(e.id());if(t)return t;if((0,s.Z)(e)){var n=e.get("blob",["binary"]);if(n){var a=n.raw().extname().toUpperCase(),c=r(n.raw().contentLength());return(0,i.Z)([a,c]).join(" ")}}return e.objClass()}function v(e,t){var n=o.X.thumbnailForObj(e.id());return n?new d.Kb(n.blob,(0,d.GD)(),t):null}function g(e){var t,n=(0,a.Z)(e.getContainer()),r=null===(t=null==n?void 0:n.attribute(e.name()))||void 0===t?void 0:t.title();if(void 0===r)throw new u.AQ;return r}},31233:function(e,t,n){"use strict";n.d(t,{B:function(){return o},W:function(){return a}});var r=n(69410),i=n(39671);function o(e){return s().then((function(){return(0,i.gB)(e)})),(0,i.Fi)()}function a(){return s().then(i.H5),(0,i.Fi)()}function s(){return(0,r.Up)()?(0,r.sz)("end_write").waitForFirst().then(s):i.s8.resolve(void 0)}},39907:function(e,t,n){"use strict";n.d(t,{t3:function(){return i},FM:function(){return o}});var r=!1;function i(){return r}function o(){r=!0}},31556:function(e,t,n){"use strict";n.d(t,{T:function(){return a},I:function(){return s}});var r=n(76480),i=n(43348),o=n(98728);function a(){var e,t;return null!==(t=c(null===(e=r.X.getCurrentAppLocation())||void 0===e?void 0:e.objId))&&void 0!==t?t:s()}function s(){var e;return c(null===(e=(0,i.WQ)())||void 0===e?void 0:e.id())}function c(e){var t;return e&&(null===(t=o.Jj.get(e))||void 0===t?void 0:t.restriction())}},25338:function(e,t,n){"use strict";n.d(t,{rk:function(){return a}});var r=n(87347),i=0,o={};function a(e,t){var n=""+e+i;return o[n]=t,i+=1,n}window.addEventListener("focus",(function(){(0,r.Z)(o).forEach((function(e){return e()}))}))},91669:function(e,t,n){"use strict";n.d(t,{S:function(){return o},l:function(){return a}});var r=n(39671),i=n(37227).n2.subState("isSavingOverlayEnabled");function o(e){return i.set(!0),(0,r.sH)(e,(function(){return i.set(!1)}))}function a(){return i.get()||!1}},69410:function(e,t,n){"use strict";n.d(t,{sz:function(){return s},Up:function(){return c},lq:function(){return l},gX:function(){return d},Yw:function(){return f}});var r,i,o,a=n(39671);function s(e){return r[e]}function c(){return i>0}function l(){c()||r.start_write.next(),i+=1,o=!1}function u(){i-=1,c()||(0,a.Y3)((function(){c()||r.end_write.next(o)}))}function d(e){l(),f(e)}function f(e){(0,a.sH)(e.catch((function(){o=!0})),u).then((function(){}))}r={start_write:new a.xQ,end_write:new a.xQ},i=0,o=!1},703:function(e,t,n){"use strict";n.d(t,{oA:function(){return h},jc:function(){return m},_i:function(){return v}});var r=n(92471),i=n(28251),o=n(84149),a=n(7365),s=n(79439),c=n(39671),l=n(36358),u=n(98728),d=n(92402),f=n(37227),p=0;function h(){return++p}function m(e){return p===e}function v(e,t){return void 0===t&&(t=h()),(0,f.un)("basicNavigateTo"),(0,l.zD)((function(){return function(e){if(e.url)return t=e.url,n=r(t),(0,s.m4)(n)?{type:"local",resource:n.resource()}:{type:"remote",url:t};var t,n,i=e.objId,o=e.query,c=e.hash,l=u.Jj.get(i);if(!l)return(0,s.N2)({objId:i,query:o,hash:c});if((0,d.Gf)(l)){var f=l.get("blob",["binary"]);return f?{type:"remote",url:f.url()}:(0,a.Y)({objId:i})}return(0,s.BC)({obj:l,query:o,hash:c})}(e)})).then((function(e){if(m(t))if("remote"===e.type)(0,o.z)(e.url);else if("local"===e.type)g(e.resource);else if("crossSite"===e.type){var n=new r(e.url);(0,s.m4)(n)?g(n.resource()):(0,c.gB)(e.url)}else"unavailable"===e.type&&(0,c.H)("Could not navigate to Obj "+e.objId+", no URL found")}))}function g(e){e===i.U2()?i.gx(e):i.VF(e)}},18333:function(e,t,n){"use strict";n.d(t,{M:function(){return c},P:function(){return l}});var r=n(79439),i=n(39671),o=n(98728),a=n(92402),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function c(e,t){return e instanceof o.AM?function(e,t){if(e.isExternal())return e.url();var n=e.obj();if(n instanceof o.Jj)return l(n,function(e,t){var n=s({},e);return e.queryParameters||"string"==typeof e.query||(n.query=t.query()||void 0),"string"!=typeof e.hash&&(n.hash=t.hash()||void 0),n}(t,e));throw new i.ir("Missing link target.")}(e,t):e instanceof o.Kb?e.url():l(e,t)}function l(e,t){if((0,a.Gf)(e)){var n=function(e,t){var n=e.get("blob",["binary"]);if(n)return t?n.urlWithoutPlaceholder():n.url()}(e,t.preserveObjId);if(n)return n}return function(e,t){var n=t.query,i=t.queryParameters,o=t.withoutOriginIfLocal,a=t.hash,s=null!=i?i:n;if(!o)return(0,r.cr)({obj:e,query:s,hash:a});var c=(0,r.BC)({obj:e,query:s,hash:a});switch(c.type){case"local":return c.resource;case"crossSite":return c.url;default:return c.fallbackUrl}}(e,t)}},28251:function(e,t,n){"use strict";n.d(t,{JY:function(){return u},U2:function(){return d},pj:function(){return f},VF:function(){return p},gx:function(){return h},XB:function(){return m}});var r,i,o,a=n(1448),s=n(92471),c=n(39671),l=n(37227);function u(){return{historyChangesCount:f(),location:d(),isRevisit:"POP"===o}}function d(){var e=g().location;return""+e.pathname+e.search+e.hash}function f(){return b().get()||0}function p(e){var t=new s(e);g().push({pathname:t.pathname(),search:t.search(),hash:t.hash()})}function h(e){var t=new s(e);g().replace({pathname:t.pathname(),search:t.search(),hash:t.hash()})}function m(e){return e.historyChangesCount===f()}function v(){r||function(e){if("/"!==e.createHref({pathname:"/"}))throw new c.ir("Expected a history without a preconfigured basename. For further details, see: https://www.scrivito.com/js-sdk/useHistory");if(e!==r){var t=!r;n=e,i&&i(),i=n.hasOwnProperty("length")?n.listen((function(e,t){_(t)})):n.listen((function(e){_(e.action)})),r=e,t||_()}var n}((0,a.lX)())}function g(){return v(),r}function _(e){o=e,b().set(f()+1)}function b(){return l.n2.subState("historyChangesCount")}},81784:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(9679),i=n(39671),o=n(36358),a=n(98728);function s(e){var t=r.k;return t&&(0,o.n4)(!1,(function(){return t.canEdit((0,a.tV)(),e)}))||!1}n(92402),(0,i.PJ)("canEdit",[["obj",a.Bt]],{docPermalink:"js-sdk/canEdit"})},84149:function(e,t,n){"use strict";n.d(t,{z:function(){return c},o:function(){return l}});var r=n(92471),i=n(82644),o=n(9679),a=n(39671),s=n(79439);function c(e){o.k?o.k.navigateToExternalUrl(e):(0,a.gB)(e)}function l(e){o.k&&(0,s.m4)(r(e))?o.k.openInNewUiWindow(function(e){var t=(0,i.Z)();if(void 0===t)throw new a.AQ;return new r(e).origin(t).toString()}(e)):(0,a.xw)(e,"_blank")}},12188:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},$:function(){return s}});var r=n(39671),i=n(37227),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t,n){return(0,r.Y3)((function(){return l((function(r){r[e]={content:t,parentElementId:n}}))})),function(){return(0,r.Y3)((function(){return l((function(t){delete t[e]}))}))}}function s(){var e=u();return Object.keys(e).map((function(t){var n=parseInt(t,10);return o({elementId:n},e[n])}))}var c=(0,i.JH)();function l(e){var t=o({},u());e(t),c.set(t)}function u(){return c.get()||{}}},10811:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r=n(56487),i=n(98728);function o(){var e=(0,i.hA)((0,i.GD)());return(0,r.rl)()?e:e.and(i.E2)}},82644:function(e,t,n){"use strict";n.d(t,{Z:function(){return o},k:function(){return a}});var r,i=n(39671);function o(){if(!r)throw new i.AQ;return r()}function a(e){r=e}},87826:function(e,t,n){"use strict";n.d(t,{lo:function(){return s},U:function(){return u},pd:function(){return d}}),n(92471);var r=n(89507),i=n(39671),o=n(91190),a=n(92402);function s(){var e;(0,o.VJ)("Scrivito.currentPage");var t=null===(e=(0,r.if)())||void 0===e?void 0:e.currentPage;return t?(0,a.pz)(t):null}var c=new i.AY,l=new i.AY;function u(e){return c.runWith("default",e)}function d(e,t){return l.runWith(e,t)}},89507:function(e,t,n){"use strict";n.d(t,{if:function(){return d},rk:function(){return f},fW:function(){return p}});var r=n(10811),i=n(79439),o=n(39671),a=n(36358),s=n(98728),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},l=function(){},u=new o.AY;function d(){return(0,a.qu)(void 0,(function(){var e,t=null!==(e=u.current())&&void 0!==e?e:void 0;if(t){var n=t.locationRoute;if(n.objId){var i=(0,s.R2)((0,r.q)(),n.objId);return i?{navigationState:t,currentPage:i}:{navigationState:c(c({},t),{locationRoute:c(c({},n),{objId:void 0})})}}return{navigationState:t}}}))}function f(){var e,t=null!==(e=u.current())&&void 0!==e?e:(0,a.qu)(void 0,l);return null==t?void 0:t.locationRoute}function p(){var e;if(!u.current()){var t=null===(e=d())||void 0===e?void 0:e.navigationState;if(t&&(0,i.Kh)(t.locationRoute))return t}}},7365:function(e,t,n){"use strict";n.d(t,{Y:function(){return i},W:function(){return o}});var r=n(92471);function i(e){return{type:"unavailable",fallbackUrl:a(e),objId:e.objId}}function o(e){if(""!==e.path())return null;var t=e.hash();if(0===t.indexOf("#SCRIVITO_UNAVAILABLE_")){var n=t.substr("#SCRIVITO_UNAVAILABLE_".length),i=new r(n),o={objId:i.path()};return i.query()&&(o.query=i.query()),i.hash()&&(o.hash=i.hash()),o}return null}function a(e){var t=new r("").path(e.objId);e.query&&t.query(e.query),e.hash&&t.hash(e.hash);var n=t.toString();return new r("").hash("SCRIVITO_UNAVAILABLE_"+n).toString()}},27401:function(e,t,n){"use strict";n.d(t,{xk:function(){return o},Gc:function(){return a},q3:function(){return s},k0:function(){return c}}),n(80254),n(4182);var r=n(39671),i=(n(98728),{});function o(e,t){var n=i[e];if(n)return n[t]}function a(e){return o(e,"validations")}function s(e){return o(e,"attributes")||{}}function c(e,t,n){var i=s(e)[t],o=i?i.options:void 0;if(o)return"html"===n?o:void(0,r.Y3)((function(){return d(o)}))}var l=r.pC.interface({title:r.pC.String,properties:r.pC.list(r.pC.String),key:r.pC.maybe(r.pC.String)}),u=r.pC.interface({title:r.pC.String,component:r.pC.String,properties:r.pC.maybe(r.pC.list(r.pC.String)),key:r.pC.maybe(r.pC.String)}),d=(r.pC.union([l,u]),{checkProvideEditingConfig:function(){},throwInvalidOptions:function(){}}).throwInvalidOptions},56487:function(e,t,n){"use strict";n.d(t,{DG:function(){return r},rl:function(){return i}}),n(98728);function r(){return false}function i(){return false}},90070:function(e,t,n){"use strict";n.d(t,{ui:function(){return s},so:function(){return c},st:function(){return l}});var r=n(39671),i=n(36358),o=(0,n(37227).JH)(),a={};function s(e,t){a[e]=t}function c(e){delete a[e]}function l(e){return a[e]?function(e){return new i.of({state:u(e),stream:new r.fU((function(t){var n=function(){var n=a[e];t.next(n?function(e){var t=e.getBoundingClientRect(),n=t.left,r=t.top,i=t.width,o=t.height;return{x:n+window.pageXOffset,y:r+window.pageYOffset,width:i,height:o}}(n):null)};n();var r=window.setInterval(n,1e3);return function(){return window.clearInterval(r)}}))})}(e).get():null}function u(e){return o.subState(e.toString())}},3647:function(e,t,n){"use strict";n.d(t,{N:function(){return a}});var r=n(9679),i=n(90457),o=n(98728);function a(){return(null===r.k||void 0===r.k?void 0:r.k.comparisonRange())||[i.Bm,(0,o.GD)()]}},69057:function(e,t,n){"use strict";function r(e){return e.ctrlKey||e.metaKey||e.shiftKey||2===e.which}n.d(t,{D:function(){return r}})},86243:function(e,t,n){"use strict";n.d(t,{lT:function(){return h}});var r=n(703),i=n(28251),o=n(84149),a=n(10811),s=n(79439),c=n(39671),l=n(36358),u=n(98728),d=n(92402),f=n(37227),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)};function h(){return g.get()}var m,v=f.n2.subState("currentPage"),g=new l.of({state:v,stream:(0,l.DU)((function(){var e=(0,i.JY)(),t=function(e){var t,n,r=(0,s.jh)(e);if((0,s.BH)(r))throw new c.AQ;if(!r.objId)return r;var i=(0,u.R2)((0,a.q)().and((0,u.L8)(r.siteData.siteId)),r.objId);return i?(0,d.Gf)(i)?null!==(n=null===(t=i.get("blob",["binary"]))||void 0===t?void 0:t.url())&&void 0!==n?n:p(p({},r),{objId:void 0}):r:p(p({},r),{objId:void 0})}(e.location);return"string"==typeof t?t:{historyState:e,locationRoute:t}})).filter((function(e){return"string"!=typeof e||((0,o.z)(e),!1)})).filter((function(e){var t=(0,l.qu)(null,(function(){return m&&function(e,t){return t.historyState.location===e.historyState.location&&e.locationRoute.objId&&!t.locationRoute.objId&&(0,u.R2)((0,a.q)(),e.locationRoute.objId)}(m,e)}));return t?((0,r._i)({objId:t.id()}),!1):(m=e,!0)}))})},76494:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(39671),i=n(9679);function o(){if(!i.k)throw new r.AQ;return i.k}},25947:function(e,t,n){"use strict";n.d(t,{q:function(){return u}});var r=n(18333),i=n(10811),o=n(79439),a=n(39671),s=n(12861),c=n(98728),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)};function u(e,t){return(0,s.fq)(e,(function(e){var n=e.obj_id,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["obj_id"]),s=(0,c.R2)((0,i.q)(),n);return s?(0,r.P)(s,l(l(l({},a),t),{withoutOriginIfLocal:!0})):(0,o.nu)(l({objId:n},a))}))}(0,a.PJ)("resolveHtmlUrls",[["htmlString",a.pC.String]],{docPermalink:"js-sdk/resolveHtmlUrls"})},79439:function(e,t,n){"use strict";n.d(t,{BC:function(){return M},N2:function(){return B},nu:function(){return I},cr:function(){return L},BH:function(){return N},m4:function(){return U},QF:function(){return P},Kh:function(){return A},jh:function(){return W}});var r,i=n(92471),o=n(82644),a=n(89507),s=n(7365),c=n(39671),l=n(91190),u=n(36358),d=n(98728),f={},p=new c.AY;function h(){var e=(0,u.qu)(void 0,(function(){return(0,l.Dk)((0,d.GD)())}))||"";e!==r&&(f={},r=e)}var m=n(56421),v=n(10811),g=n(82640),_=n(92402);function b(e,t){if(function(e,t){if(!y(t))return"/"===e.path();var n=(0,u.qu)(null,m.R);return n&&n.id()===e.id()}(e,t))return"/";var n=function(e,t){if(!e.isDeleted()){var n=e.permalink();if(n&&(!w(t)||(0,g.IC)(e)))return function(e,t,n){if(!p.current()){if(!(0,c.fS)(e.objSpaceId(),(0,d.GD)()))throw new c.AQ;e.siteId()&&(h(),f[n]||(f[n]={}),f[n][t]=e.id())}}(e,n,t),"/"+n}}(e,t);if(n)return n;var r=function(e){var t=(0,_.pz)(e);if(t.slug&&"function"==typeof t.slug){var n=t.slug();return"string"==typeof n?n:void 0}}(e);return r?"/"+r+"-"+e.id():"/"+e.id()}function y(e){return"default"===e}function w(e){return y(e)&&(0,g.Ly)()}var k,E=n(87826);function C(e){T();var t,n,r,i=(t=e,r=t.clone(),r.is("relative")&&r.origin(null!==(n=(0,o.Z)())&&void 0!==n?n:function(){throw new c.Ix("Cannot compute an absolute URL without a configured origin or base URL. "+j)}()),r.normalizePath(),r).toString(),a=function(e){var t,n=(0,E.pd)("Access to current site inside siteForUrl. Forgot to use onAllSites?",(function(){}));if(void 0===(t=n)||"string"==typeof(null==t?void 0:t.siteId)&&"string"==typeof(null==t?void 0:t.baseUrl))return n&&{siteId:n.siteId,baseUrl:x(n.baseUrl)};O("siteForUrl",n,"{siteId: String, baseUrl: String} | Void")}();if(!a)return{sitePath:null};var s=x(a.baseUrl);return{siteData:{siteId:a.siteId,baseUrl:s},sitePath:S(s,i)}}function S(e,t){if(n=e,t.substring(0,n.length)!==n)return null;var n,r,o=(r=t.substring(e.length),new i("").resource(r).path());return""===o?"/":"/"!==o.charAt(0)?null:o}function x(e){return e.replace(/\/+$/,"")}function O(e,t,n){var r="Unexpected return value from "+e+": got "+(0,c.xr)(t)+", expected type "+n+". "+j;(0,c.a6)(new c.ir(r))}function T(){throw new c.Ix("Cannot use routing before Scrivito.configure was called.")}var j="Visit "+(0,c.m0)("js-sdk/configure")+" for more information.",D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},D.apply(this,arguments)};function N(e){return!!e.objId&&!e.siteData}function P(e){return!e.sitePath}function A(e){return!!e.sitePath&&!e.objId}function I(e){return function(e){switch(e.type){case"local":return e.resource;case"crossSite":return e.url;default:return e.fallbackUrl}}(e.obj?M(e):B(e))}function M(e){var t,n=e.obj,r=(0,a.rk)(),i=null==r?void 0:r.siteData,s=null==i?void 0:i.siteId,c=null!==(t=n.siteId())&&void 0!==t?t:s;if(!c)return F(e);if(c!==s){var l=R(c,e);return l?{type:"crossSite",url:l}:F(e)}var u=null==i?void 0:i.baseUrl;if(!u)return F(e);var d=z(u,b(n,c),e);return(null==r?void 0:r.sitePath)||d.origin()===(0,o.Z)()?{type:"local",resource:d.resource()}:{type:"crossSite",url:d.toString()}}function L(e){var t,n,r,i,o=null!==(t=e.obj.siteId())&&void 0!==t?t:null===(r=null===(n=(0,a.rk)())||void 0===n?void 0:n.siteData)||void 0===r?void 0:r.siteId;return o&&null!==(i=R(o,e))&&void 0!==i?i:F(e).fallbackUrl}function R(e,t){var n=function(e){var t=function(e){return T(),k.call(null,e)}(e);return void 0===t||""===t?null:"string"==typeof t?x(t):(O("baseUrlForSite",t,"String | Void"),null)}(e);return n&&z(n,b(t.obj,e),t).toString()}function F(e){return(0,s.Y)({objId:e.obj.id(),query:e.query,hash:e.hash})}function B(e){var t=e.objId,n=e.query,r=e.hash,i=(0,a.rk)();if(!(null==i?void 0:i.siteData))return(0,s.Y)({objId:t,query:n,hash:r});var c=z(i.siteData.baseUrl,"/"+t,e);return i.sitePath||c.origin()===(0,o.Z)()?{type:"local",resource:c.resource()}:{type:"crossSite",url:c.toString()}}function z(e,t,n){var r=n.query,o=n.hash,a=new i("/"===t?e:""+e+t);return r&&a.query(r),o&&a.hash(o),a}function W(e){var t="string"==typeof e?new i(e):e,n=(0,s.W)(t);if(n)return{objId:n.objId,sitePath:null,query:n.query};var r,o,a,c,l,u,_,b,k=C(t),E=t.query();return null===k.sitePath?D(D({},k),{query:E}):D(D({},k),{objId:(r=k,u=r.sitePath,_=r.siteData.siteId,b=u.replace(new RegExp("^/+|/+$","g"),""),""===b?y(_)?null===(o=(0,m.R)())||void 0===o?void 0:o.id():null===(a=(0,d.cS)((0,v.q)().and((0,d.mz)(_))))||void 0===a?void 0:a.id():null!==(c=function(e){if(e.length<16)return null;if(e.length>16&&"-"!==e.slice(-17,-16))return null;var t=e.slice(-16);return t.match(/[^0-9a-f]/)?null:t}(b))&&void 0!==c?c:null===(l=function(e,t){var n,r,i=(0,v.q)().and((0,d.L8)(t)),o=function(e,t){var n;if(!p.current())return h(),null===(n=f[t])||void 0===n?void 0:n[e]}(e,t);return o?null!==(n=(0,d.R2)(i,o))&&void 0!==n?n:void 0:w(t)?(0,g.tB)(e,i):null!==(r=(0,d.HG)(i,"_permalink",e))&&void 0!==r?r:void 0}(b,_))||void 0===l?void 0:l.id()),query:E})}function U(e){return e.is("relative")||e.origin()===(0,o.Z)()}},56421:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});n(87826);function r(){return null}},41724:function(e,t,n){"use strict";n.d(t,{aL:function(){return a},zT:function(){return s}});var r=n(39671),i=n(86243),o=n(36358);function a(e,t,n){var i=c(e),o=(0,r.Q4)(),a=function(){!function(e){e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}(t),n&&n()},s=u[i]||[];return s.push({id:o,reveal:a}),u[i]=s,l===i&&(a(),l=""),function(){var e=u[i],t=null==e?void 0:e.filter((function(e){return e.id!==o}));(null==t?void 0:t.length)?u[i]=t:delete u[i]}}function s(e){if(e.objId===(0,o.qu)(void 0,(function(){var e,t;return null===(t=null===(e=(0,i.lT)())||void 0===e?void 0:e.locationRoute)||void 0===t?void 0:t.objId}))){var t=c(e),n=u[t];n?n.forEach((function(e){return e.reveal()})):l=t}}function c(e){return[e.objId,e.attributeName,e.widgetId].toString()}var l,u={}},9679:function(e,t,n){"use strict";n.d(t,{k:function(){}})},7624:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(80254),i=n(98728),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e){if(!e)return e;switch(typeof e){case"string":case"number":case"boolean":return e;case"object":return e._scrivitoPrivateContent instanceof i.be?(s=(n=e._scrivitoPrivateContent.params()).query,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(n,["query"]),l=s.filter((function(e){return!("string"==typeof(t=e.field)?"_site_id"===t:-1!==t.indexOf("_site_id"));var t})),a(o(o({},c),{query:l}))):(0,r.J_)(e)?e:Array.isArray(e)?(t=[],e.forEach((function(e){var n=a(e);void 0!==n&&t.push(n)})),t):function(e){var t={};return Object.keys(e).forEach((function(n){var r=a(e[n]);void 0!==r&&(t[n]=r)})),t}(e)}var t,n,s,c,l}},82640:function(e,t,n){"use strict";n.d(t,{Ly:function(){return d},iY:function(){return f},tB:function(){return m},IC:function(){return v}});var r,i,o,a=n(39671),s=n(36358),c=n(98728),l=n(92402),u=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function d(){return!1}function f(e){return null}function p(e){var t=i((0,l.pz)(e));return"string"==typeof t&&t.length>0?t:null}function h(){throw new a.AQ}o=a.Ix,u((function(e){return o.call(this,e)||this}),o);new s.X2({recordedAs:"multiSiteMode",loadElement:function(){return{loader:function(){return(0,a.Fi)()}}}});function m(e,t){var n,r=g(),i=(0,c.TW)(t,"_permalink",e).filter((function(e){var t=p(e);return!t||t===r}));return null!==(n=i.filter((function(e){return!e.isDeleted()}))[0])&&void 0!==n?n:i[0]}function v(e){var t=p(e),n=g();return!t||t===n}function g(){var e=(0,s.qu)(void 0,h);if(void 0===e)throw new a.Ix("Access to routing in the multi-site mode, but the site ID is not yet selected. Forgot to use Scrivito.unstable_selectSiteId?");return e}},4182:function(e,t,n){"use strict";n.d(t,{bI:function(){return i},nN:function(){return s},np:function(){return c},tj:function(){return u},eK:function(){return l}});var r=n(39671),i=["error","warning","info"],o=r.pC.interface({severity:r.pC.maybe(r.pC.enums.of(i))}),a=r.pC.tuple([o,r.pC.Object]),s=r.pC.list(r.pC.union([r.pC.Function,r.pC.list(r.pC.union([r.pC.String,r.pC.Function,r.pC.Object,a]))]));function c(e){if("function"==typeof e)return e;var t=u(e)?e[1]:e;return function(){throw new r.Ix('Constraints validation callback is not configured. Forgot to call Scrivito.configure with the "constraintsCallback" option?')}()(t)}function l(e){return"function"==typeof e}function u(e){if(!Array.isArray(e))return!1;var t=e[0],n=e[1];return!!function(e){if(!e)return!1;if("object"!=typeof e)return!1;var t=e.severity;return!t||-1!==i.indexOf(t)}(t)&&!!n&&"object"==typeof n}},46672:function(e,t,n){"use strict";n.d(t,{HT:function(){return r},H8:function(){return i},M:function(){return o},fv:function(){return L},hb:function(){return u},Sp:function(){return h},B8:function(){return S},l2:function(){return f},oc:function(){return m},kg:function(){return v},XP:function(){return A},f:function(){return F}});var r="GET",i="SEND",o="STREAM",a=n(39671),s=n(36358),c=n(37227),l=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function u(e,t){var n=(0,c.JH)(),u={};return Object.keys(e).forEach((function(c){var d=e[c];d===r&&(u[c]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=c,o=n.subState(i).subState((0,a.mz)(e)),u=new s.of({state:o,stream:t.stream.apply(t,l([i],e,!1))});return u.get()}),d===i&&(u[c]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.send.apply(t,l([c],e,!1))}),d===o&&(u[c]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.stream.apply(t,l([c],e,!1))})})),u}var d=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function f(e){return{stream:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(0,s.DU)((function(){var r=e();if(r){var i=r[t];return{valueFromClient:i.call.apply(i,d([r],n,!1))}}})).filter(a.EN).map((function(e){return e.valueFromClient}))},send:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=(0,c.N7)(e).filter(a.EN).waitForFirst().then((function(e){var r=e[t];return r.call.apply(r,d([e],n,!1))}));return i}}}var p=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function h(e,t){return{stream:function(n){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];var l=t[n],u=e[n];if(u===r)return(0,s.DU)((function(){return l.call.apply(l,p([t],i,!1))}));if(u===o){var d=l.call.apply(l,p([t],i,!1));return d}throw new a.AQ},send:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t[e],o=new a.s8((function(e){(0,a.Y3)((function(){return e(i.call.apply(i,p([t],n,!1)))}))}));return o}}}function m(e){return{incomingMessages:new a.fU((function(t){function n(e){t.next({data:e.data})}return e.addEventListener("message",n),e.start(),function(){e.removeEventListener("message",n)}})),sendMessage:function(t){void 0===t.transfer?e.postMessage(t.data):e.postMessage(t.data,t.transfer)}}}function v(e){return{incomingMessages:new a.fU((function(t){function n(e){null!==e.source&&t.next({remoteOrigin:e.origin,remoteWindow:e.source,data:e.data,ports:e.ports})}return e.addEventListener("message",n),function(){e.removeEventListener("message",n)}})),sendMessage:function(e){e.remoteWindow.postMessage(e.data,e.remoteOrigin,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],e.ports||[],!0))}}}function g(e){return!!e&&"number"==typeof e.channel&&"string"==typeof e.verb}function _(e){return"string"==typeof e.method&&Array.isArray(e.params)}function b(e){return"CLOSE"===e.verb}function y(e){return"RESPOND"===e.verb&&"number"==typeof e.sequence}function w(e){return"ERROR"===e.verb}var k,E=function(){function e(e){this.muxedStream=e,this.openStreams={}}return e.prototype.streamWithId=function(e){var t=this;return new a.fU((function(n){t.ensureSubscribed();var r=t.subjectForStreamId(e).subscribe(n);return function(){r.unsubscribe(),t.removeSubjectIfAbandoned(e)}}))},e.prototype.removeSubjectIfAbandoned=function(e){0===this.subjectForStreamId(e).subscriberCount()&&(delete this.openStreams[e],this.unsubscribeIfAbandoned())},e.prototype.subjectForStreamId=function(e){var t=this.openStreams[e];if(t)return t;var n=new a.xQ;return this.openStreams[e]=n,n},e.prototype.ensureSubscribed=function(){var e=this;this.subscription||(this.subscription=this.muxedStream.subscribe({next:function(t){var n=t.streamId,r=e.openStreams[n];r&&r.next(t.data)},complete:function(){return Object.keys(e.openStreams).forEach((function(t){var n=e.openStreams[t];n&&(n.complete(),delete e.openStreams[t])}))}}))},e.prototype.unsubscribeIfAbandoned=function(){0===Object.keys(this.openStreams).length&&this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)},e}(),C=(k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},k(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function S(e){return new x(e)}var x=function(){function e(e){this.portLink=e,this.channelCounter=1,this.incomingChannels=new E(this.portLink.incomingMessages.map((function(e){return e.data})).filter(g).map((function(e){return{streamId:e.channel,data:e}})))}return e.prototype.stream=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new a.fU((function(r){var i,o=t.getNextChannelId();t.postMessage({channel:o,verb:"OPEN",method:e,params:n});var a=t.incomingChannels.streamWithId(o).subscribe((function(e){if(y(e)){if(void 0!==i&&e.sequence<=i)return;r.next(e.data),i=e.sequence}}));return function(){t.postMessage({channel:o,verb:"CLOSE"}),a.unsubscribe()}}))},e.prototype.send=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.getNextChannelId();this.postMessage({channel:r,verb:"SEND",method:e,params:t});var i=this.incomingChannels.streamWithId(r).filter(D).waitForFirst().then((function(e){if(w(e))throw new O(e.errorMessage);return e.data}));return i},e.prototype.postMessage=function(e){this.portLink.sendMessage({data:e,transfer:T(e)})},e.prototype.getNextChannelId=function(){return this.channelCounter++},e}(),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return C(t,e),t}(a.Ix);function T(e){if("SEND"===e.verb)return e.params.filter(j)}function j(e){return e instanceof MessagePort}function D(e){return y(e)||w(e)}function N(e,t,n){return e[n.methodName]===t}var P=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function A(e,t,n,r){new I(e,t,n,r).start()}var I=function(){function e(e,t,n,r){this.portLink=e,this.adapterConnection=t,this.description=n,this.errorHandler=r,this.incomingMessages=e.incomingMessages.map((function(e){return e.data})).filter(g),this.incomingChannels=new E(this.incomingMessages.map((function(e){return{streamId:e.channel,data:e}})))}return e.prototype.start=function(){var e=this;this.incomingMessages.subscribe((function(t){!function(e){return"OPEN"===e.verb&&_(e)}(t)?function(e){return"SEND"===e.verb&&_(e)}(t)&&e.handleSendMessage(t):e.handleOpenStreamMessage(t)}))},e.prototype.handleOpenStreamMessage=function(e){var t=this,n=M(e),r=this.adapterStreamForInvocation(n);if(r){var i=e.channel,o=1,s=r.subscribe((function(e){t.postMessage({verb:"RESPOND",data:e,channel:i,sequence:o}),o++}));this.incomingChannels.streamWithId(i).filter(b).waitForFirst().then((function(){return s.unsubscribe()})).catch((function(e){if(s.unsubscribe(),!(e instanceof a.dL))throw e}))}},e.prototype.adapterStreamForInvocation=function(e){var t,n;return N(this.description,r,e)?(t=this.adapterConnection).stream.apply(t,P([e.methodName],e.params,!1)):N(this.description,o,e)?(n=this.adapterConnection).stream.apply(n,P([e.methodName],e.params,!1)):void 0},e.prototype.handleSendMessage=function(e){var t,n=this,r=M(e);N(this.description,i,r)&&(t=this.adapterConnection).send.apply(t,P([r.methodName],r.params,!1)).then((function(t){return n.postMessage({verb:"RESPOND",data:t,channel:e.channel,sequence:1})}),(function(t){var r=n.errorHandler(t);n.postMessage({verb:"ERROR",errorMessage:r,channel:e.channel})}))},e.prototype.postMessage=function(e){this.portLink.sendMessage({data:e})},e}();function M(e){return{methodName:e.method,params:e.params}}function L(e){return{incomingMessages:(0,a.h0)(e.then((function(e){return e.incomingMessages}))),sendMessage:function(t){return e.then((function(e){return e.sendMessage(t)}))}}}var R=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function F(e){var t;return{setLogger:function(e){t=e},connection:{stream:function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return new a.fU((function(i){return t&&t.apply(void 0,R(["GET",n],r,!1)),e.stream.apply(e,R([n],r,!1)).map((function(e){return t&&t.apply(void 0,R(R(["GET",n],r,!1),["RECEIVE",e],!1)),e})).subscribe(i)}))},send:function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return t&&t.apply(void 0,R(["SEND",n],r,!1)),e.send.apply(e,R([n],r,!1)).then((function(e){return t&&t.apply(void 0,R(R(["SEND",n],r,!1),["RECEIVE",e],!1)),e}))}}}}},90457:function(e,t,n){"use strict";n.d(t,{Jx:function(){return r},XF:function(){return v},YV:function(){return R},Bm:function(){return $},yj:function(){return E},i3:function(){return U},Qw:function(){return ae},KP:function(){return ue},H0:function(){return ce},cm:function(){return G},Ri:function(){return se},P7:function(){return Y},gg:function(){return q},MD:function(){return b},F2:function(){return X},J8:function(){return V},O6:function(){return K},Hn:function(){return Q},R2:function(){return H},AL:function(){return re},kq:function(){return y},dx:function(){return le}});var r={};n.r(r),n.d(r,{augmentedRedirectUrl:function(){return d},currentFailureCount:function(){return f},init:function(){return l},reset:function(){return u}});var i={};n.r(i),n.d(i,{ERROR_CODE_CLIENT_VERIFICATION_REQUIRED:function(){return T},currentState:function(){return P},perform:function(){return j},reset:function(){return D}});var o,a=n(92471),s=n(39671),c="&scrivito.authFailedCount=";function l(){u();var e=new a((0,s.RO)()),t=e.hash(),n=t.indexOf(c);if(!(n<0)){var r=t.substr(n+c.length,3),i=t.substring(0,n);"#"===i&&(i="");var l=e.fragment(i).toString();o=parseInt(r,10)||0,(0,s.g_)({},"",l)}}function u(){o=0}function d(){var e=new a((0,s.RO)()),t=""+e.hash()+c+(o+1);return e.hash(t).toString()}function f(){return o}var p,h,m=(p=function(e,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},p(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.message=t,i.code=n,i.details=r,i}return m(t,e),t}(s.Ix),g=n(80254),_=0;function b(){return _>0}function y(e){h=e}var w,k=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t}(v);w={};var C,S,x,O=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T="client_verification_required";function j(e){return e(N()).catch((function t(n){if(!function(e){return e instanceof E&&e.code===T}(n))throw n;return function(e){if(!C){var t=e.verificator,n=e.data,r=(i=t.id,o=t.url,a=w[i],a||(a=new s.BH,w[i]=a,(0,s.Vp)(o)),a.promise).then((function(e){return new s.s8((function(t){e(n,(function(e){t((S=e).authorization)}))}))}));C={challenge:{verificator:t,data:n},promise:(0,s.sH)(r,(function(){C=void 0}))}}var i,o,a;return C.promise}(n.details).then(e).catch(t)}))}function D(){C=void 0,S=void 0}function N(){if(S){if(!(S.expiresAfter<new Date))return S.authorization;S=void 0}}function P(){var e=N();if(e)return"Authorization: "+e;if(C){var t=C.challenge;return"Pending computation: "+t.verificator.id+" with "+t.data}return null}O((function(){return null!==x&&x.apply(this,arguments)||this}),x=E);var A=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(e){function t(t){var n=e.call(this,"Insufficient authorization - please visit "+t)||this;return n.target=t,n}return A(t,e),t}(s.Ix),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t}(v),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t}(s.Ix),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t}(s.Ix);function F(e,t){return void 0===t&&(t=0),e().catch((function(n){if(n instanceof L)return(0,s.OH)(z(t)).then((function(){return F(e,t+1)}));throw n}))}function B(e,t){return void 0===t&&(t=0),e().then((function(n){if(429!==n.status)return n;var r=Number(n.getResponseHeader("Retry-After"))||0,i=Math.max(1e3*r,z(t));return(0,s.OH)(i).then((function(){return B(e,t+1)}))}))}function z(e){return 500*Math.pow(2,Math.min(e,16))}function W(e){var t,n=e.status;try{t=JSON.parse(e.responseText)}catch(r){throw new L(e.responseText)}if(n>=200&&n<300)return t;var r=function(e,t,n){if("4"!==e.toString()[0]){var r=t.error,i=500===e&&"string"==typeof r?r:n;return new L((0,s.th)(i))}var o,a,c=function(e){var t=e.error,n=e.code,r=e.details;if("string"!=typeof t)throw new L("Malformed error response: key error is not a string");if(void 0!==n&&"string"!=typeof n)throw new L("Malformed error response: optional key code is not a string");return{message:t,code:n||"",details:r||{}}}(t),l=c.message,u=c.code,p=c.details,h=(0,s.th)(l);return"auth_missing"===u?function(e){return"string"==typeof e.visit}(p)?new I((o=p.visit,a=d(),o.replace("retry=RETRY","retry="+f()).replace(/\$RETURN_TO/,encodeURIComponent(a)))):new L("Malformed error response: key visit is not a string"):"precondition_not_met.workspace_not_found"===u?new R:401===e?new E(h,u,p):403===e?new M(h,u,p):new v(h,u,p)}(n,t,e.responseText);if(r instanceof I)return(0,s.gB)(r.target),(0,s.Fi)();throw r}var U=new(function(){function e(){this.initDeferred=new s.BH,this.authHeaderValueProvider=i}return e.prototype.init=function(e,t){this.tenant=t,this.endpoint=e,this.url="https://"+e+"/tenants/"+t+"/perform",this.initDeferred.resolve()},e.prototype.setPriority=function(e){this.priority=e},e.prototype.setAuthProvider=function(e){this.authHeaderValueProvider=e},e.prototype.get=function(e,t){return this.perform("GET",e,t)},e.prototype.put=function(e,t){return this.perform("PUT",e,t)},e.prototype.post=function(e,t){return this.perform("POST",e,t)},e.prototype.delete=function(e,t){return this.perform("DELETE",e,t)},e.prototype.requestBuiltInUserSession=function(e,t){var n=this,r=t?{idp:t}:void 0;return this.ensureInitialized().then((function(){return n.ajax("PUT","sessions/"+e,r)})).then((function(e){return u(),e}))},e.prototype.requestVisitorSession=function(e,t){var n=this;return this.ensureInitialized().then((function(){return n.ajax("PUT","sessions/"+e,void 0,"id_token "+t)}))},e.prototype.enableForceVerification=function(){this.forceVerification=!0},e.prototype.currentPublicAuthorizationState=function(){return this.authHeaderValueProvider?this.authHeaderValueProvider.currentState?"[API] "+this.authHeaderValueProvider.currentState():"[API]: authorization provider without currentState()":"[API]: no authorization provider"},e.prototype.ensureInitialized=function(){return this.initDeferred.promise},e.prototype.perform=function(e,t,n){var r=this;return this.ensureInitialized().then((function(){return r.send(e,t,n).then((function(e){return function(e){return!!e&&!!e.task&&1===Object.keys(e).length}(e)?r.handleTask(e.task):e}))}))},e.prototype.send=function(e,t,n){var r=this;return this.authHeaderValueProvider.perform((function(i){return r.ajax(e,t,n,i)}))},e.prototype.ajax=function(e,t,n,r){var i=this,o={authorization:r,forceVerification:this.forceVerification,params:{path:t,verb:e,params:n||{}}};this.priority&&(o.priority=this.priority);var a=function(){return B((function(){return function(e,t,n){var r=n.params,i=n.authorization,o=n.priority,a=n.forceVerification;return void 0===h?s.s8.resolve({status:432,responseText:JSON.stringify({error:"Forbidden",code:"auth_missing",details:{visit:"example.com"}})}):(_+=1,new s.s8((function(n,c){var l=function(e,t,n,r){var i=new h;function o(e){!function(e,t){_-=1,t(e)}(new L(e),r)}return i.open("POST"===e?"POST":"PUT",t),i.timeout=15e3,i.withCredentials=!0,i.onload=function(){return function(e,t,n){_-=1;var r=e.status;if(!r||!(0,g.hj)(r)){var i="Unexpected response status: "+r+"; body: "+(0===r?e.statusText:e.responseText);n(new L(i))}t(e)}(i,n,r)},i.onerror=function(){return o("XMLHttpRequest Error")},i.ontimeout=function(){return o("XMLHttpRequest Timeout")},i.onabort=function(){return o("XMLHttpRequest Aborted")},i}(e,t,n,c);i&&l.setRequestHeader("Authorization",i),l.setRequestHeader("Scrivito-Client","jssdk/"+(0,s.ux)()),a&&l.setRequestHeader("Scrivito-Force-Verification","true");var u=o||void 0;"background"===u&&l.setRequestHeader("Scrivito-Priority",u),l.setRequestHeader("Content-type","application/json; charset=utf-8"),l.send(JSON.stringify(r))})))}(e,i.url,o)})).then(W)};return"POST"===e?a():F(a)},e.prototype.handleTask=function(e){var t=this;switch(e.status){case"success":return e.result;case"error":throw new v(e.message,e.code,{});case"exception":throw new L(e.message);case"open":return(0,s.Dc)(2).then((function(){return t.get("tasks/"+e.id).then((function(e){return t.handleTask(e)}))}));default:throw new L("Invalid task response (unknown status)")}},e}());function H(e,t){return U.requestBuiltInUserSession(e,t)}function Z(e){return{_deleted:e,_version:""}}function q(e){return!e._deleted}function V(e){return!!e._deleted}function K(e){return"widgetlist"===e[0]}var $=["workspace","published"];function G(e){if(!Q(e))throw new s.AQ;return e[1]}function Y(e){return"empty"===e[0]}function Q(e){return"workspace"===e[0]}function X(e){if(!Array.isArray(e))return!1;if(2===e.length){var t=e[0],n=e[1];return("revision"===t||"workspace"===t)&&"string"==typeof n}return 1===e.length&&"empty"===e[0]}function J(e){return e.join(":")}var ee=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},te=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ne={};function re(e,t,n){return ee(this,void 0,Promise,(function(){var r;return te(this,(function(i){switch(i.label){case 0:if(Y(e))return[2,Z(t)];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,ie(e).retrieve([t,n])];case 2:return[2,i.sent()];case 3:if((r=i.sent())instanceof R)return[2,Z(t)];throw r;case 4:return[2]}}))}))}function ie(e){var t=(0,s.mz)(e),n=ne[t];return n||(n=function(e){var t=this,n=e[0],r=n+"s/"+e[1]+"/objs/mget",i="workspace"===n||void 0;return new s.gh((function(e){return ee(t,void 0,void 0,(function(){return te(this,(function(t){switch(t.label){case 0:return[4,U.get(r,{ids:e.map((function(e){var t=e[0];return"full"===e[1]?t:[t]})),include_deleted:i})];case 1:return[2,t.sent().results.map((function(t,n){return t||Z(e[n][0])}))]}}))}))}),{batchSize:17})}(e),ne[t]=n),n}var oe=new s.gh((function(e){return U.get("blobs/mget",{blobs:e}).then((function(e){return e.results.map((function(e){return function(e){var t=e.public_access.get;if(!t.url)throw new s.AQ;var n={public_access:{get:{url:t.url}}},r=e.private_access;if(r){var i=r.get;i.url&&(n.private_access={get:{url:i.url}})}return n}(e)}))}))})),ae={retrieveObjQuery:function(e,t){return function(e,t){return U.get("workspaces/"+e+"/objs/search",t).then((function(e){var t=e.results,n=e.total,r=e.continuation,i=e.objs;return{results:t.map((function(e){return e.id})),continuation:r,total:n,objs:i}})).catch((function(e){if(e instanceof R)return{results:[],total:0};throw e}))}(e,t)},retrieveFacetQuery:function(e,t){return function(e,t){return U.get("workspaces/"+e+"/objs/search",t).then((function(e){return e})).catch((function(e){if(e instanceof R)return{facets:[[]]};throw e}))}(e,t)},retrieveSuggest:function(e,t){return function(e,t){return U.put("workspaces/"+e+"/objs/search/suggest",t).then((function(e){return e})).catch((function(e){if(e instanceof R)return{results:[]};throw e}))}(e,t)},retrieveBinaryMetadata:function(e,t){return function(e,t){var n={};return(null==t?void 0:t.accessVia)&&(n.access_via=J(t.accessVia)),U.get("blobs/"+encodeURIComponent(e||"")+"/meta_data",n)}(e,t)},retrieveBinaryUrls:function(e,t,n){return function(e,t,n){var r={id:e};return t&&(r.transformation=t),(null==n?void 0:n.accessVia)&&(r.access_via=J(n.accessVia)),oe.retrieve(r)}(e,t,n)},retrieveObjFieldDiffs:function(e,t,n){return function(e,t,n){return U.get("objs/"+n+"/diff",{from:J(e),to:J(t)}).then((function(e){return e})).catch((function(e){if(e instanceof R)return{};throw e}))}(e,t,n)}};function se(e){return!!Array.isArray(e)&&2===e.length&&e.every(X)}function ce(e,t){return U.get("workspaces/"+e+"/changes",{from:t})}function le(e,t){q(e)&&Object.keys(e).forEach((function(n){if((0,s.mb)(n)){if("_widget_pool"===n){var r=e._widget_pool;r&&Object.keys(r).forEach((function(e){var n=r[e];n&&Object.keys(n).forEach((function(r){if(!(0,s.mb)(r)){var i=n[r];i&&t(i,r,e)}}))}))}}else{var i=e[n];if(!i)return;t(i,n)}}))}!function(){function e(){this.sessionId=(0,s.kb)(),this.idToken=new s.BH,this.state="waiting for token",this.sessionRequest=this.fetchSession()}e.prototype.setToken=function(e){this.idToken.isPending()||(this.idToken=new s.BH,this.renewSession()),this.idToken.resolve(e),this.state="active - token: "+e.substr(0,3)+"..."},e.prototype.currentState=function(){return this.state},e.prototype.perform=function(e){var t=this,n=this.sessionRequest;return n.then((function(r){return e("Session "+r.token).catch((function(r){if(!(r instanceof E))throw r;return t.sessionRequest===n&&t.renewSession(),t.perform(e)}))}),(function(t){return j(e)}))},e.prototype.renewSession=function(){this.sessionRequest=this.fetchSession()},e.prototype.fetchSession=function(){var e=this;return this.idToken.promise.then((function(t){return U.requestVisitorSession(e.sessionId,t)})).catch((function(e){throw(0,s.a6)(new s.Ix("Failed to establish visitor session: "+e.message)),e}))}}();function ue(e){var t,n,r,i,o=e.fromObjSpaceId,a=e.fromObjId,c=e.toObjSpaceId,l=e.toObjId;return t=this,n=void 0,i=function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:if(!Q(o)||!Q(c))throw new s.AQ;return[4,U.put("workspaces/"+c[1]+"/objs/"+l,{copy_from:{workspace_id:o[1],obj_id:a}})];case 1:return e.sent(),[2]}}))},new((r=Promise)||(r=Promise))((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(t.value).then(a,s)}c((i=i.apply(t,n||[])).next())}))}},39671:function(e,t,n){"use strict";function r(e,t){var n,r=!1;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];n=i,r||(e((function(){r=!1;var e=n;n=void 0,t.apply(void 0,e)})),r=!0)}}function i(e,t){var n=[],r=!1;return function(e){n.push(e),i()};function i(){r||(r=!0,e((function(){try{!function(){var e=[];try{for(;n.length>0;){var r=n;n=[],t(r).forEach((function(t){return e.push(t)}))}}finally{n.forEach((function(t){return e.push(t)})),n=e}}()}finally{r=!1,n.length>0&&i()}})))}}n.d(t,{ir:function(){return u},gh:function(){return Pe},Xe:function(){return He},R0:function(){return W},AY:function(){return k},Am:function(){return Ve},BH:function(){return E},dL:function(){return Fe},Tv:function(){return U},AQ:function(){return d},tT:function(){return S},Ix:function(){return l},s8:function(){return _e},fU:function(){return Re},xQ:function(){return Ue},h0:function(){return ze},$f:function(){return De},eV:function(){return F},PJ:function(){return b},xk:function(){return B},jQ:function(){return X},jB:function(){return Me},Xq:function(){return r},W0:function(){return i},mz:function(){return Ae},VC:function(){return Xe},RO:function(){return Ye},r2:function(){return ie},ld:function(){return te},lg:function(){return Q},KL:function(){return Ge},m0:function(){return w},qw:function(){return G},fS:function(){return de},Fe:function(){return fe},W:function(){return Z},Kw:function(){return Ze},xH:function(){return ae},Lg:function(){return C},Me:function(){return ot},ux:function(){return O},aZ:function(){return ut},WS:function(){return at},q2:function(){return L},EN:function(){return j},mb:function(){return H},ix:function(){return se},RY:function(){return re},eZ:function(){return ne},Vp:function(){return T},H:function(){return a},Fi:function(){return qe},Y3:function(){return f},xw:function(){return Je},bY:function(){return st},XO:function(){return ct},sp:function(){return oe},xr:function(){return h},sH:function(){return ge},o8:function(){return $e},Q4:function(){return V},kb:function(){return K},gB:function(){return nt},H5:function(){return et},sy:function(){return tt},g_:function(){return rt},fX:function(){return x},M0:function(){return it},X5:function(){return lt},G8:function(){return z},u3:function(){return q},pC:function(){return g},P2:function(){return J},dg:function(){return y},a6:function(){return p},It:function(){return R},th:function(){return Y},Dc:function(){return le},OH:function(){return ue},k9:function(){return Qe}});var o=n(80254);function a(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window&&window.console&&(e=window.console).error.apply(e,t)}var s,c=(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},s(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this,i=n.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i,r}return c(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this.constructor.name},enumerable:!1,configurable:!0}),t}(Error),u=function(e){function t(t){return e.call(this,t)||this}return c(t,e),t}(l),d=function(e){function t(t){return e.call(this,null!=t?t:"Scrivito internal error")||this}return c(t,e),t}(l);function f(e){setTimeout(e,0)}function p(e){f((function(){throw e}))}function h(e){try{return(0,o.mf)(e)?function(e){return!!e._scrivitoPrivateSchema}(r=e)?"[class "+r._scrivitoPrivateSchema.name+"]":function(e){var t=e.prototype;return t&&t.isReactComponent}(r)?'[class React.Component "'+(r.displayName||r.name)+'"]':v(r.toString()):(0,o.Kn)(e)?(n=(t=e)._scrivitoPrivateContent)&&(0,o.mf)(n.toPrettyPrint)?n.toPrettyPrint():(0,o.kK)(t)?"[object HTMLElement "+m(t.outerHTML)+"]":m(t):m(e)}catch(e){return""}var t,n,r}function m(e){var t=JSON.stringify(e);return t?v(t):t}function v(e){return e.length>100?e.slice(0,100)+"...":e}var g=n(54030);function _(){}function b(e,t,n){return _}function y(e,t,n){var r=n.docPermalink,i=n.severity,o="Invalid arguments for '"+e+"': "+t+" Visit "+w(r)+" for more information.";if("warning"!==i)throw new u(o);a(o)}function w(e){return"https://scrivito.com/"+e}g.struct.strict=!0,g.interface.strict=!0,g.fail=function(e){throw new TypeError(e)};var k=function(){function e(){}return e.prototype.current=function(){return this.currentContext},e.prototype.runWith=function(e,t){var n=this.currentContext;try{return this.currentContext=e,t()}finally{this.currentContext=n}},e}(),E=function(){function e(){var e=this;this.promise=new _e((function(t,n){e.resolve=function(n){e.settled=!0,t(n)},e.reject=function(t){e.settled=!0,n(t)}}))}return e.prototype.isPending=function(){return!this.settled},e}();function C(e,t){return"/"===e?"/"+t:e+"/"+t}g.refinement(g.Integer,(function(e){return e>0}),"PositiveInteger");var S=g.refinement(g.Integer,(function(e){return e>=0}),"NonNegativeInteger");function x(e){try{return{errorThrown:!1,result:e()}}catch(e){return{errorThrown:!0,error:e}}}function O(){return"1.20.0-rc1-4143-g9c17cc301ec1"}function T(e,t){void 0===t&&(t=window.document);var n,r,i=t.createElement("script");i.src=e,n=t.head,r=i,n.appendChild(r)}function j(e){return null!=e}var D=/(_+)(\w)/g,N=/([A-Z])/g,P=/[A-Z]+|\d+/g,A=/^_?(_+[A-Z0-9]|[^_])+$/,I=/[_\s]+/g,M=/[A-Z][a-z]+/g;function L(e){return A.test(e)}function R(e){return e.replace(N,(function(e,t){return"_"+t.toLowerCase()}))}function F(e){return e.replace(D,(function(e,t,n,r){return r?n.toUpperCase()===n?e:""+t.substr(1)+n.toUpperCase():e}))}function B(e){var t=F(e);return t.charAt(0).toUpperCase()+t.slice(1)}function z(e){return e.replace(I," ").replace(M,(function(e){return" "+e.toLowerCase()})).replace(P,(function(e){return" "+e})).trim().replace(/./,(function(e){return e.toUpperCase()}))}var W=g.interface({size:g.Number,type:g.String},{name:"Blob",strict:!1}),U=W.extend({name:g.String},{name:"File",strict:!1});function H(e){return"_"===e[0]}function Z(e,t){for(var n=[];n.length!==t;){var r=e.next();if(r.done)return n;n.push(r.value)}return n}function q(e,t,n){var r=void 0===t?e.iterator():e.iteratorFromContinuation(t);return{values:Z(r,n),continuation:r.continuation()}}function V(){for(var e=Math.floor(Math.random()*Math.pow(16,8)).toString(16);e.length<8;)e="0"+e;return e}function K(){return V()+V()}var $=!1;function G(){$=!0}function Y(e){return $?e+" #HoneybadgerUnique":e}function Q(e){var t=e.match(/^(.*) #HoneybadgerUnique$/);return t?t[1]:void 0}function X(e){var t;return null!==(t=Q(e))&&void 0!==t?t:e}function J(e,t,n){return(0,o.P2)(e,t,n)}var ee=/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)$/;function te(e){return"string"==typeof e&&e.match(/^-?\d+$/)||"number"==typeof e?0===(t=parseInt(e.toString(),10))?0:ne(t)?t:null:null;var t}function ne(e){return function(e){return re(e)&&Math.floor(e)===e}(e)&&-9007199254740991<=e&&e<=9007199254740991}function re(e){return"number"==typeof e&&(0,o.xV)(e)}function ie(e){if("string"!=typeof e)return null;if(!se(e))throw new d;return oe(e)}function oe(e){if(!e)return null;var t=e.match(ee);if(!t)return null;var n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=parseInt(n,10),l=parseInt(r,10),u=parseInt(i,10),d=parseInt(o,10),f=parseInt(a,10),p=parseInt(s,10);return new Date(Date.UTC(c,l-1,u,d,f,p))}function ae(e){return""+e.getUTCFullYear()+ce(e.getUTCMonth()+1)+ce(e.getUTCDate())+ce(e.getUTCHours())+ce(e.getUTCMinutes())+ce(e.getUTCSeconds())}function se(e){return"string"==typeof e&&!!e.match(/^\d{14}$/)}function ce(e){return e<10?"0"+e:e}function le(e){return ue(1e3*e)}function ue(e){return new _e((function(t){setTimeout(t,e)}))}function de(e,t){return e===t||(he(e)&&he(t)?e.equals(t):ve(e)&&ve(t)?de(e._scrivitoPrivateContent,t._scrivitoPrivateContent):Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return de(e,t[n])})):!(!me(e)||!me(t))&&e.valueOf()===t.valueOf())}function fe(e,t){return pe(e,t)}function pe(e,t,n){return void 0===n&&(n=1),e===t||(he(e)&&he(t)?e.equals(t):ve(e)&&ve(t)?pe(e._scrivitoPrivateContent,t._scrivitoPrivateContent,n):Array.isArray(e)&&Array.isArray(t)&&n<=3&&e.length<=3&&t.length<=3&&e.length===t.length?e.every((function(e,r){return pe(e,t[r],n+1)})):!(!me(e)||!me(t))&&e.valueOf()===t.valueOf())}function he(e){return!!e&&"function"==typeof e.equals}function me(e){return!!e&&"function"==typeof e.valueOf}function ve(e){return!!e&&e.hasOwnProperty("_scrivitoPrivateContent")}function ge(e,t){return e.then((function(e){return t(),e}),(function(e){throw t(),e}))}var _e,be=setTimeout;function ye(e){return Boolean(e&&void 0!==e.length)}function we(){}function ke(e){if(!(this instanceof ke))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Te(e,this)}function Ee(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,ke._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void Se(t.promise,e)}Ce(t.promise,r)}else(1===e._state?Ce:Se)(t.promise,e._value)}))):e._deferreds.push(t)}function Ce(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof ke)return e._state=3,e._value=t,void xe(e);if("function"==typeof n)return void Te((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,xe(e)}catch(t){Se(e,t)}var r,i}function Se(e,t){e._state=2,e._value=t,xe(e)}function xe(e){2===e._state&&0===e._deferreds.length&&ke._immediateFn((function(){e._handled||ke._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)Ee(e,e._deferreds[t]);e._deferreds=null}function Oe(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function Te(e,t){var n=!1;try{e((function(e){n||(n=!0,Ce(t,e))}),(function(e){n||(n=!0,Se(t,e))}))}catch(e){if(n)return;n=!0,Se(t,e)}}ke.prototype.catch=function(e){return this.then(null,e)},ke.prototype.then=function(e,t){var n=new this.constructor(we);return Ee(this,new Oe(e,t,n)),n},ke.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},ke.all=function(e){return new ke((function(t,n){if(!ye(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(e,t)}),n)}r[e]=a,0==--i&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},ke.allSettled=function(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(t){o(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--i&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--i&&t(r)}for(var a=0;a<r.length;a++)o(a,r[a])}))},ke.resolve=function(e){return e&&"object"==typeof e&&e.constructor===ke?e:new ke((function(t){t(e)}))},ke.reject=function(e){return new ke((function(t,n){n(e)}))},ke.race=function(e){return new ke((function(t,n){if(!ye(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)ke.resolve(e[r]).then(t,n)}))},ke._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){be(e,0)},ke._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},_e="undefined"!=typeof Promise?Promise:ke;var je=n(92471);function De(e){var t=new je(e),n=t.segment(0);if(!Ne(n))return null;for(;Ne(n);)t.segment(0,""),n=t.segment(0);return t.toString()}function Ne(e){return"scrivito"===(null==e?void 0:e.toLowerCase())}var Pe=function(){function e(e,t){var n=this,r=(void 0===t?{}:t).batchSize;this.scheduleItem=i(f,(function(e){var t=e.splice(0,n.batchSize),r=t.map((function(e){return e.key}));return n.mget(r).then((function(e){t.forEach((function(t,r){var i=t.key,o=t.deferred;if(r<e.length){var a=e[r];o.resolve(a)}else n.retrieve(i).then(o.resolve,o.reject)}))}),(function(e){t.forEach((function(t){return t.deferred.reject(e)}))})),e})),this.mget=e,this.batchSize=r||100}return e.prototype.retrieve=function(e){var t=new E;return this.scheduleItem({key:e,deferred:t}),t.promise},e}();function Ae(e){var t=Ie(e);return JSON.stringify(t)}function Ie(e){return Array.isArray(e)?e.map(Ie):function(e){return"object"==typeof e&&null!==e}(e)?Object.keys(e).sort().map((function(t){return[t,Ie(e[t])]})):e}function Me(e,t){var n=e.clientX,r=e.clientY,i=t.getBoundingClientRect();return{x:n-i.left,y:r-i.top}}var Le=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Re=function(){function e(e){this.subscribeFunction=e}return e.prototype.subscribe=function(e){var t=new Be("object"==typeof e?e:{next:e}),n=this.subscribeFunction(t);return t.setUnsubscribeCallback("object"==typeof n?function(){return n.unsubscribe()}:n),t},e.prototype.map=function(t){var n=this;return new e((function(e){return n.subscribe({next:function(n){return e.next(t(n))},complete:function(){return e.complete()}})}))},e.prototype.filter=function(t){var n=this;return new e((function(e){return n.subscribe({next:function(n){t(n)&&e.next(n)},complete:function(){return e.complete()}})}))},e.prototype.toPromise=function(){var e=this;return new _e((function(t){var n;e.subscribe({next:function(e){n=e},complete:function(){t(n)}})}))},e.prototype.takeOne=function(){var t=this;return new e((function(e){var n=t.subscribe({next:function(t){n&&n.unsubscribe(),e.next(t),e.complete()},complete:function(){e.complete()}});return e.isClosed()&&n.unsubscribe(),n}))},e.prototype.waitForFirst=function(){var e=this;return new _e((function(t,n){var r=!1;e.takeOne().subscribe({next:function(e){r=!0,t(e)},complete:function(){r||n(new Fe)}})}))},e.prototype.takeUntil=function(t){var n=this;return new e((function(e){var r,i;if((i=n.subscribe({next:function(t){e.next(t)},complete:function(){o()}})).isClosed())return function(){};function o(){e.complete(),a()}function a(){i&&i.unsubscribe(),r&&r.unsubscribe()}return r=t.subscribe({next:function(){o()},complete:function(){o()}}),a}))},e}(),Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Le(t,e),t}(l),Be=function(){function e(e){this.subscriber=e}return e.prototype.next=function(e){this.subscriber&&this.subscriber.next&&this.subscriber.next(e)},e.prototype.complete=function(){this.subscriber&&this.subscriber.complete&&this.subscriber.complete(),this.subscriber=void 0},e.prototype.unsubscribe=function(){this.subscriber&&(this.subscriber=void 0,this.unsubscribeCallback&&this.unsubscribeCallback.apply(void 0))},e.prototype.isClosed=function(){return!this.subscriber},e.prototype.setUnsubscribeCallback=function(e){this.unsubscribeCallback=e},e}();function ze(e){return new Re((function(t){var n;return e.then((function(e){t.isClosed()||(n=e.subscribe(t))})).catch((function(e){throw t.complete(),e})),function(){n&&n.unsubscribe()}}))}var We=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ue=function(e){function t(){var t=e.call(this,(function(e){if(t.isCompleted)return e.complete(),function(){};var n=(t.subscriberIdCounter++).toString();return t.subscribers[n]=e,t.onNewSubscriber(e),function(){delete t.subscribers[n]}}))||this;return t.subscribers={},t.subscriberIdCounter=1,t.isCompleted=!1,t}return We(t,e),t.prototype.next=function(e){var t=this;Object.keys(this.subscribers).forEach((function(n){t.subscribers[n].next(e)}))},t.prototype.complete=function(){var e=this;Object.keys(this.subscribers).forEach((function(t){return e.subscribers[t].complete()})),this.subscribers={},this.isCompleted=!0},t.prototype.subscriberCount=function(){return Object.keys(this.subscribers).length},t.prototype.isClosed=function(){return this.isCompleted},t.prototype.onNewSubscriber=function(e){},t}(Re),He=function(e){function t(t){var n=e.call(this)||this;return n.value=t,n}return We(t,e),t.prototype.next=function(t){this.value=t,e.prototype.next.call(this,t)},t.prototype.onNewSubscriber=function(e){e.next(this.value)},t}(Ue);function Ze(e){var t=/^([\s\S]+?[.!?])\s+([\s\S]+)/.exec(e);return t?[t[1],t[2]||void 0]:[e,void 0]}function qe(){return new _e((function(){}))}var Ve="api.scrivito.com",Ke=/\s+/g;function $e(e){return e.trim().replace(Ke," ")}function Ge(e){return void 0===e&&(e=window),e.devicePixelRatio||1}function Ye(){return dt().href}function Qe(){return dt().origin}function Xe(){return dt().hash}function Je(e,t){return window.open(e,t)}function et(){dt().reload()}function tt(e){window.name=e}function nt(e){dt().assign(e)}function rt(e,t,n){window.history.replaceState(e,t,n)}function it(){return window.screen}function ot(){return document}function at(){return window.innerHeight}function st(){return window.pageXOffset}function ct(){return window.pageYOffset}function lt(e,t){window.scrollTo(e,t)}function ut(){return ot().body.scrollHeight}function dt(){return window.location}},91190:function(e,t,n){"use strict";n.d(t,{hO:function(){return $},kt:function(){return re},zE:function(){return a},rc:function(){return _},VJ:function(){return q},ZN:function(){return J},Wv:function(){return fe},Xm:function(){return l},Dv:function(){return u},Id:function(){return k},uw:function(){return Q},Dk:function(){return R},Mu:function(){return xe},L7:function(){return ee},N1:function(){return Ee},lY:function(){return ne},mG:function(){return je},rK:function(){return d},LG:function(){return De},zQ:function(){return Z},P3:function(){return Oe},vr:function(){return b},qe:function(){return E},D7:function(){return Y},PD:function(){return F},x0:function(){return B},Lo:function(){return y}});var r=n(90457),i=n(39671),o=n(80254),a=new(function(){function e(){}return e.prototype.toJSON=function(){return null},e}());function s(e){return e===a}function c(e,t){return e?g(e,t):t}function l(e,t){return e?v(e,t):t}function u(e,t){return v(e,t)}function d(e,t){var n=l(e,t);return Object.keys(n).some(f)}function f(e){return p(e)||"_path"===e||"_permalink"===e}function p(e){return!(0,i.mb)(e)||"_obj_class"===e}function h(e,t,n){var r=Object.keys(e),i=Object.keys(t);(0,o.e5)(r,i).forEach((function(r){n(r,e[r],t[r],!1)})),i.forEach((function(r){n(r,e[r],t[r],!0)}))}function m(e,t,n){return void 0===e?t:void 0===t?a:n()}function v(e,t){var n={};return h(e,t,(function(e,t,r){if("_widget_pool"===e){var i=function(e,t){if(e!==t){if(!e)return t;var n={};return h(e,t||{},(function(e,t,r){var i=m(t,r,(function(){var e,n,i=(n=r,(e=t)?n?v(e,n):null:n||null);if(!(0,o.xb)(i))return i}));void 0!==i&&(n[e]=i)})),n}}(t,r);(0,o.xb)(i)||(n._widget_pool=i)}else{var a=m(t,r,(function(){if(!(0,o.Xy)(t,r))return r}));void 0!==a&&(n[e]=a)}})),n}function g(e,t){var n={};return h(e,t,(function(e,t,r,i){if("_widget_pool"===e)n._widget_pool=function(e,t){if(!t||(0,o.xb)(t))return e;var n={};return h(e,t,(function(e,t,r,i){if(i){if(s(r))return;r&&(t?n[e]=g(t,r):function(e){return"string"==typeof e._obj_class}(r)&&(n[e]=r))}else n[e]=t})),n}(t||{},r);else if(i){var a=r;void 0===(c=a)||s(c)||(n[e]=a)}else n[e]=t;var c})),n}var _=function(){function e(e){this.factory=e,this.cache={}}return e.prototype.get=function(e,t){var n=this.getObjSpaceCache(e),r=n[t];if(r)return r;var i=this.factory(e,t);return n[t]=i,i},e.prototype.clear=function(){this.cache={}},e.prototype.getObjSpaceCache=function(e){var t=e.join(":"),n=this.cache[t];if(n)return n;var r={};return this.cache[t]=r,r},e}(),b=new(function(){function e(){this.replicationCache=new _((function(){throw new i.AQ})),this.writeCallbacks={},this.subscriptionToken=0}return e.prototype.setReplicationStrategy=function(e){this.replicationCache=new _((function(t,n){return new e(t,n)}))},e.prototype.get=function(e,t){return this.replicationCache.get(e,t)},e.prototype.subscribeWrites=function(e){return this.subscriptionToken+=1,this.writeCallbacks[this.subscriptionToken]=e,this.subscriptionToken},e.prototype.unsubscribeWrites=function(e){delete this.writeCallbacks[e]},e.prototype.writeStarted=function(e){var t=this;Object.keys(this.writeCallbacks).forEach((function(n){(0,t.writeCallbacks[n])(e)}))},e.prototype.clearWriteCallbacks=function(){this.writeCallbacks={}},e.prototype.clearCache=function(){this.replicationCache.clear()},e}());function y(e){b.setReplicationStrategy(e)}var w=new i.AY;function k(e){if(w.current())throw new i.AQ(e)}function E(e){return w.runWith(!0,e)}var C=n(36358),S=n(37227),x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},x.apply(this,arguments)},O=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},T=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},j=new C.X2({recordedAs:"widgetdata",loadElement:function(e){var t=e[0],n=e[1];return{loader:function(){return b.get(t,n).start(),(0,i.Fi)()}}}}),D=new C.X2({recordedAs:"baseobj",loadElement:function(e){var t=e[0],n=e[1];return{loader:function(){return O(void 0,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,(0,C.zD)((function(){return j.get([t,n]).get()}))];case 1:return e.sent(),[2,(0,i.Fi)()];case 2:return[2,(0,r.AL)(t,n,"widgetless")]}}))}))}}}}),N=function(){function e(e,t){this._objSpaceId=e,this._id=t,this.baseData=D.get([e,t]),this.widgetData=j.get([e,t])}return e.prototype.id=function(){return this._id},e.prototype.get=function(){k("for performance reasons, avoid this method when rendering");var e=this.widgetData.get();if(e){var t=this.baseData.get();if(t)return(0,r.gg)(t)?this.joinDataWithCaching(t,e):t}},e.prototype.getWidgetPoolWithBadPerformance=function(){return A("_widget_pool",this.widgetData).get()},e.prototype.getWidget=function(e){return k("for performance reasons, avoid this method when rendering"),P(e,this.widgetData).get()},e.prototype.getWidgetWithBadPerformance=function(e){return P(e,this.widgetData).get()},e.prototype.getAttribute=function(e){if((0,i.mb)(e))return this.getNonWidgetAttribute(e);if(this.ensureAvailable()){var t=A(e,this.baseData).get();return void 0!==t?t:A(e,this.widgetData).get()}},e.prototype.getNonWidgetAttribute=function(e){if("_widget_pool"===e)throw new i.AQ;return A(e,this.baseData).get()},e.prototype.getWidgetlistAttribute=function(e){return A(e,this.widgetData).get()},e.prototype.getWidgetAttribute=function(e,t){return P(e,this.widgetData).subState(t).get()},e.prototype.getIfExistent=function(){if(!this.isUnavailable())return this.get()},e.prototype.isForbidden=function(){return!!this.getNonWidgetAttribute("_forbidden")},e.prototype.isUnavailable=function(){return!!this.getNonWidgetAttribute("_deleted")},e.prototype.setBaseData=function(e){this.baseData.set(e)},e.prototype.set=function(e){(0,S.un)("Changing CMS content");var t=function(e){var t={},n={_id:e._id};return Object.keys(e).forEach((function(r){var o=e[r],a=function(e,t){return"_widget_pool"===e||!(0,i.mb)(e)&&Array.isArray(t)&&"widgetlist"===t[0]}(r,o)?n:t;a[r]=o})),[t,n]}(e),n=t[0],r=t[1];this.baseData.set(n),this.widgetData.set(r),this._replication().notifyLocalState(e)},e.prototype.ensureAvailable=function(){return this.baseData.ensureAvailable()&&this.widgetData.ensureAvailable()},e.prototype.isAvailable=function(){return this.baseData.isAvailable()},e.prototype.update=function(e){var t=c(this.get(),e);this.set(t)},e.prototype.finishSaving=function(){return this._replication().finishSaving()},e.prototype.objSpaceId=function(){return this._objSpaceId},e.prototype.equals=function(t){return t instanceof e&&this._id===t._id&&(0,i.fS)(this._objSpaceId,t._objSpaceId)},e.prototype.widgetExists=function(e){return!!this.getWidgetAttribute(e,"_obj_class")},e.prototype.isBeingLoaded=function(){return this.baseData.numSubscribers()+this.widgetData.numSubscribers()>0},e.prototype.unload=function(){this.baseData.reset(),this.widgetData.reset()},e.prototype.joinDataWithCaching=function(e,t){var n=this.lastJoin;if(n&&n.baseObjJson===e&&n.widgetObjJson===t)return n.joined;var r=x(x({},e),t);return this.lastJoin={baseObjJson:e,widgetObjJson:t,joined:r},r},e.prototype._replication=function(){return b.get(this._objSpaceId,this._id)},e}();function P(e,t){return A("_widget_pool",t).subState(e)}function A(e,t){return t.reader().subState(e)}function I(e){return e.dangerouslyGetRawValues().map((function(e){return e._id})).filter(i.EN)}var M=function(){function e(e,t){this.workspaceId=e,this.contentState=t}return e.prototype.setContentStateIdOrThrowIfTracking=function(e){if(this.initialization)throw new i.AQ;this.setContentStateId(e)},e.prototype.trackContentStateId=function(){return this.initialization||(this.initialization=this.initializeContentStateId()),this.initialization},e.prototype.updateContent=function(){var e=this;if(this.updating)return this.updating;var t=this.getContentStateId();return t?(this.updating=(0,i.sH)((0,r.H0)(this.workspaceId,t).then((function(t){var n=t.to,i=t.current,o=t.objs;"*"===o||n&&n!==i?function(e){var t=this,n={},i=I(j),o=I(D);i.forEach((function(t){n[t]||(n[t]=!0,b.get(e,t).start())})),o.forEach((function(i){return O(t,void 0,void 0,(function(){var t,o;return T(this,(function(a){switch(a.label){case 0:return n[i]?[2]:(n[i]=!0,o=(t=D.get([e,i])).set,[4,(0,r.AL)(e,i,"widgetless")]);case 1:return o.apply(t,[a.sent()]),[2]}}))}))}))}(["workspace",e.workspaceId]):Array.isArray(o)&&e.applyChanges(o),e.setContentStateId(i)})),(function(){e.updating=void 0})),this.updating):i.s8.resolve()},e.prototype.applyChanges=function(e){var t=this;e.forEach((function(e){var n=(0,r.J8)(e)?e._deleted:e._id;b.get(["workspace",t.workspaceId],n).notifyBackendState(e)}))},e.prototype.initializeContentStateId=function(){var e=this;return this.getContentStateId()?i.s8.resolve():(0,r.H0)(this.workspaceId).then((function(t){e.setContentStateId(t.current)}))},e.prototype.getContentStateId=function(){return this.contentState.get()},e.prototype.setContentStateId=function(e){this.contentState.set(e)},e}(),L={};function R(e){if((0,r.P7)(e))return"";var t=(0,r.cm)(e);return W(t).get()||""}function F(e){return z(e).trackContentStateId()}function B(e){return z(e).updateContent()}function z(e){return L[e]||(L[e]=new M(e,W(e))),L[e]}function W(e){return S.n2.subState("contentStateId").subState(e)}var U,H=(U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},U(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function Z(){return false}function q(e){false}!function(e){function t(t){return e.call(this,t+" is not supported when using the in-memory tenant")||this}H(t,e)}(i.Ix);var V=new C.X2({recordedAs:"facetquery",loadElement:function(e){var t=e[0],n=e[1],i=e[2];return{loader:function(){return r.Qw.retrieveFacetQuery((0,r.cm)(t),function(e,t){var n={facets:[e],options:{site_aware:!0},size:0};return(0,o.xb)(t)||(n.query=t),n}(n,i))},invalidation:function(){return(0,C.qu)(void 0,(function(){return R(t)}))||""}}}}),K={facets:[[]]},$=function(){function e(e,t,n,i){(0,r.P7)(e)||(this.loadableData=function(e,t,n,r){var i={attribute:t,include_objs:n.includeObjs||0,limit:n.limit||10};return V.get([e,i,r||[]])}(e,t,n,i))}return e.prototype.result=function(){q();var e=this.loadableData?this.loadableData.get():K;return e?e.facets[0].map((function(e){return{name:e.value,count:e.total,includedObjIds:e.results.map((function(e){return e.id}))}})):[]},e}();var G=new C.X2({recordedAs:"suggest",loadElement:function(e){var t=e[0],n=e[1];return{loader:function(){return r.Qw.retrieveSuggest((0,r.cm)(t),n)},invalidation:function(){return(0,C.qu)("",(function(){return R(t)}))}}}});function Y(e,t,n,i){q();var o=[];return(0,r.Hn)(e)?function(e,t,n,r){var i=n.attributes,o=n.limit,a={prefix:t,options:{site_aware:!0}};return r&&(a.from_search=r),i&&(a.fields=i),"number"==typeof o&&(a.limit=o),G.get([e,a])}(e,t,n,i).getWithDefault({results:o}).results:o}function Q(e,t){var n=X(e,t);return n||((0,o.sE)(e._widget_pool,(function(e,r){if(e&&(n=X(e,t)))return n.parentWidgetId=r,!0})),n)}function X(e,t){var n;return(0,o.sE)(e,(function(e,o){if(e&&!(0,i.mb)(o)){var a=e;if((0,r.O6)(a)){var s=a[1];if(s){var c=s.indexOf(t);return-1!==c?(n={attributeName:o,index:c},!0):void 0}}}})),n}function J(e,t,n){var r=te(e,t);return r.set(n),r}function ee(e,t){var n=te(e,t);if(n.ensureAvailable())return n}function te(e,t){return new N(e,t)}function ne(e,t){return(0,C.vk)((function(){return te(e,t).getAttribute("_version")||""}))}var re=function(){function e(e,t){var n=this;this.objSpaceId=e,this.objId=t,this.replicationActive=!1,this.scheduledReplication=!1,this.performThrottledReplication=(0,i.P2)((function(){return n.performReplication()}),1e3)}return e.prototype.start=function(){var e=this;(0,r.AL)(this.objSpaceId,this.objId,"full").then((function(t){(0,S.NB)((function(){e.notifyBackendState(t)}))}))},e.prototype.notifyLocalState=function(e){ie(this.localState,e)||(this.localState=e,this.startReplication())},e.prototype.notifyBackendState=function(e){if(!this.localState)return this.backendState=e,void this.updateLocalState(e);var t=this.bufferedBackendState||this.backendState;(!t||oe(e,t)>0)&&(this.replicationActive?this.bufferedBackendState=e:((0,r.J8)(e)?this.updateLocalState(e):this.updateLocalState(c(this.localState,l(this.backendState,e))),this.backendState=e))},e.prototype.finishSaving=function(){var e;if(this.nextRequestDeferred)e=this.nextRequestDeferred.promise;else{if(!this.currentRequestDeferred)return i.s8.resolve();e=this.currentRequestDeferred.promise}return e.catch((function(){return i.s8.reject()}))},e.prototype.finishReplicating=function(){throw new i.AQ},e.prototype.replicationMessageStream=function(){throw new i.AQ},e.prototype.getLocalState=function(){return this.localState},e.prototype.getBackendState=function(){return this.backendState},e.prototype.startReplication=function(){var e=this;ie(this.backendState,this.getLocalObjJson())?this.nextRequestDeferred&&(this.nextRequestDeferred.resolve(),this.nextRequestDeferred=void 0):this.replicationActive?this.nextRequestDeferred||(this.nextRequestDeferred=new i.BH):this.scheduledReplication||(this.scheduledReplication=!0,this.initDeferredForRequest(),b.writeStarted(this.currentRequestDeferred.promise),(0,i.Y3)((function(){return e.performThrottledReplication()})))},e.prototype.performReplication=function(){var e=this,t=this.getLocalObjJson();this.scheduledReplication=!1,this.replicationActive=!0,this.replicateLocalStateToBackend(t).then((function(n){e.handleBackendUpdate(t,n),e.currentRequestDeferred.resolve(),e.currentRequestDeferred=void 0,e.replicationActive=!1,e.startReplication()}),(function(t){e.currentRequestDeferred.reject(t),e.currentRequestDeferred=void 0,e.replicationActive=!1}))},e.prototype.replicateLocalStateToBackend=function(e){var t=l(this.backendState,e);return(0,o.xb)(t)?i.s8.resolve(this.backendState):this.replicatePatchToBackend(t)},e.prototype.replicatePatchToBackend=function(e){var t=(0,r.cm)(this.objSpaceId);if("published"===t)throw new i.AQ;return r.i3.put("workspaces/"+t+"/objs/"+this.objId,{obj:e})},e.prototype.initDeferredForRequest=function(){if(this.nextRequestDeferred){var e=this.nextRequestDeferred;this.nextRequestDeferred=void 0,this.currentRequestDeferred=e}else this.currentRequestDeferred=new i.BH},e.prototype.handleBackendUpdate=function(e,t){var n,r;this.backendState=(n=t,(r=this.bufferedBackendState)?oe(n,r)>0?n:r:n),this.bufferedBackendState=void 0,this.updateLocalState(c(this.backendState,l(e,this.getLocalObjJson())))},e.prototype.updateLocalState=function(e){var t;this.localState=e,t=e,te(this.objSpaceId,this.objId).set(t)},e.prototype.getLocalObjJson=function(){if(void 0===this.localState)throw new i.AQ;return this.localState},e.prototype.isRequestInFlight=function(){return this.replicationActive},e}();function ie(e,t){return(0,o.xb)(l(e,t))}function oe(e,t){return function(e,t){if(void 0!==e&&void 0!==t){if(e>t)return 1;if(t>e)return-1}return 0}(e._version,t._version)}var ae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),se=function(){function e(){this.archive={}}return e.prototype.versionForData=function(e){if(void 0===this.currentVersion)this.currentVersion=1,this.oldestVersion=1;else{if(e===this.archive[this.currentVersion])return this.currentVersion;this.currentVersion++}var t=this.currentVersion;return this.archive[t]=e,t},e.prototype.retrieveVersion=function(e){if(!this.archive.hasOwnProperty(e))throw new ce;return this.archive[e]},e.prototype.validVersion=function(e){return void 0!==this.currentVersion&&e>=1&&e<=this.currentVersion},e.prototype.versionCount=function(){return Object.keys(this.archive).length},e.prototype.purgeVersionsOlderThan=function(e){if(!(void 0===this.currentVersion||e>this.currentVersion||void 0===this.oldestVersion||e<=this.oldestVersion)){for(var t=this.oldestVersion;t<e;t++)delete this.archive[t];this.oldestVersion=e}},e}(),ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t}(i.Ix),le=function(){function e(e,t,n){this.localState=e,this.mergeFunction=t,this.currentlyMyTurn=n,this.outgoingMessages=new i.xQ,this.acknowledgedVersions=new i.xQ,this.localVersionArchive=new se}return e.prototype.currentVersion=function(){return this.localDataAndVersion().currentVersion},e.prototype.replicatedVersions=function(){return this.acknowledgedVersions},e.prototype.myTurn=function(){return this.currentlyMyTurn},e.prototype.versionArchiveSize=function(){return this.localVersionArchive.versionCount()},e.prototype.handleLocalChange=function(){this.sendCurrentState()},e.prototype.replicationMessages=function(){return this.outgoingMessages},e.prototype.handleIncomingMessage=function(e){var t,n,r=e.containedReceiverVersion;if(void 0!==r){if(!this.localVersionArchive.validVersion(r))return;this.localVersionArchive.purgeVersionsOlderThan(r),this.acknowledgedVersions.next(r)}void 0===this.lastRemoteMove&&this.currentlyMyTurn||(n=e,(void 0===(t=this.lastRemoteMove)||!(n.senderVersion<t.senderVersion)&&(void 0===t.containedReceiverVersion||void 0!==n.containedReceiverVersion&&n.containedReceiverVersion>=t.containedReceiverVersion))&&(this.incomingMessageAlreadyContained(e)||ue(this.myLastMove,e)&&(this.performMerge(e),this.currentlyMyTurn=!0,this.lastRemoteMove=e,this.sendCurrentState())))},e.prototype.performMerge=function(e){var t=this.localDataAndVersion(),n=t.localData,r=t.currentVersion;e.containedReceiverVersion===r?this.localState.set(e.data):this.localState.set(this.threeWayMerge(n,e)),this.containedRemoteVersion=e.senderVersion},e.prototype.threeWayMerge=function(e,t){var n=t.containedReceiverVersion;return n?this.mergeFunction(e,t.data,this.localVersionArchive.retrieveVersion(n)):this.mergeFunction(e,t.data)},e.prototype.sendCurrentState=function(){var e=this.messageForCurrentState();this.currentlyMyTurn&&ue(this.lastRemoteMove,e)&&(this.myLastMove=e,this.currentlyMyTurn=!1),this.outgoingMessages.next(e)},e.prototype.messageForCurrentState=function(){var e=this.localDataAndVersion(),t=e.localData,n=e.currentVersion;return this.containedRemoteVersion?{data:t,senderVersion:n,containedReceiverVersion:this.containedRemoteVersion}:{data:t,senderVersion:n}},e.prototype.incomingMessageAlreadyContained=function(e){return void 0!==this.containedRemoteVersion&&e.senderVersion<=this.containedRemoteVersion},e.prototype.localDataAndVersion=function(){var e=this.localState.get();return{localData:e,currentVersion:this.localVersionArchive.versionForData(e)}},e}();function ue(e,t){if(void 0===e)return!0;var n=void 0!==t.containedReceiverVersion&&t.containedReceiverVersion>=e.senderVersion,r=void 0===e.containedReceiverVersion||e.containedReceiverVersion<t.senderVersion;return n&&r}var de=function(){function e(e,t,n,r){var o=this;this.localState=e,this.remoteMessages=t,this.outgoingMessages=new i.Xe(void 0),this.stateChangeCausedByAgent=new i.AY,this.replicatedVersions=new i.Xe(void 0),this.agent=new le({get:e.get,set:function(e){o.stateChangeCausedByAgent.runWith(!0,(function(){return o.localState.set(e)}))}},n,r),this.agent.replicationMessages().subscribe(this.outgoingMessages),this.agent.replicatedVersions().subscribe(this.replicatedVersions)}return e.prototype.myTurn=function(){return this.agent.myTurn()},e.prototype.versionArchiveSize=function(){return this.agent.versionArchiveSize()},e.prototype.subscriberCount=function(){return this.outgoingMessages.subscriberCount()},e.prototype.finishReplicating=function(){var e=this.agent.currentVersion();return this.replicatedVersions.filter(i.EN).filter((function(t){return t>=e})).waitForFirst().then((function(){}))},e.prototype.replicationMessages=function(){var e=this;return new i.fU((function(t){e.ensureStarted();var n=e.outgoingMessages.filter(i.EN).subscribe(t);return function(){n.unsubscribe(),0===e.outgoingMessages.subscriberCount()&&e.ensureStopped()}}))},e.prototype.ensureStarted=function(){var e=this;this.activeSubscriptions||(this.activeSubscriptions=[this.localState.changes.subscribe((function(){e.stateChangeCausedByAgent.current()||e.agent.handleLocalChange()})),this.remoteMessages.subscribe((function(t){return e.agent.handleIncomingMessage(t)}))],this.agent.handleLocalChange())},e.prototype.ensureStopped=function(){this.activeSubscriptions&&(this.activeSubscriptions.forEach((function(e){return e.unsubscribe()})),this.activeSubscriptions=void 0)},e}();function fe(e,t,n,r){var o=new i.fU((function(e){return n.subscribe((function(t){return(0,S.NB)((function(){return e.next(t)}))}))}));return new de(function(e,t){var n=te(e,t);return{get:function(){return(0,C.qu)(void 0,(function(){return n.get()}))},set:function(e){void 0!==e&&n.set(e)},changes:(0,C.DU)((function(){return n.get()})).map((function(){}))}}(e,t),o,function(e){return"consumer"===e?pe:he}(r),"source"===r)}function pe(e,t,n){return void 0===t?e:void 0===e?t:c(t,l(n,e))}function he(e,t,n){return pe(t,e,n)}var me={results:[],total:0},ve=new C.X2({recordedAs:"objquery",loadElement:function(e,t){return{loader:function(n){return function(e,t,n){var o=e[0],a=e[1],s=e[2],c=t.push,l=t.wasCancelled;return function(e,t,n,r){if(r>0){var o=new ge(e,t,n,r-1);return(0,C.zD)((function(){return o.continuationForNextBatch()}))}return i.s8.resolve(void 0)}(o,a,n,s).then((function(e){if(l())throw new Error;var t=a.query,i=a.boost,s=a.offset,u=a.orderBy,d=a.includeDeleted,f=a.includeEditingAssets,p={query:t,options:{site_aware:!0},size:n,continuation:e,include_objs:_e,boost:i,offset:s,order_by:u};d&&(p.options.include_deleted=!0),f&&(p.options.include_editing_assets=!0);var h=(0,r.cm)(o);return r.Qw.retrieveObjQuery(h,p).then((function(e){_e=!1;var t=e.objs;return c((function(){t&&t.forEach((function(e){b.get(o,e._id).notifyBackendState(e)})),e.results.forEach((function(e){return function(e,t){(0,C.zD)((function(){return ee(e,t)}))}(o,e)}))})),{results:e.results,total:e.total,continuation:e.continuation}}))}))}(e,n,t)},invalidation:function(){return(0,C.qu)(void 0,(function(){return R(e[0])}))||""}}}}),ge=function(){function e(e,t,n,i){(0,r.P7)(e)||(this.data=ve.get([e,t,i],n))}return e.prototype.objIds=function(){return this.response().results},e.prototype.count=function(){return this.response().total||0},e.prototype.continuationForNextBatch=function(){return this.response().continuation},e.prototype.response=function(){return this.data?this.fakeData&&!this.data.isAvailable()?this.fakeData:this.data.getWithDefault(me):me},e}(),_e=!0,be=function(){function e(e,t,n){this.objSpaceId=e,this.params=t,this.batchSize=n}return e.prototype.count=function(){return new ge(this.objSpaceId,this.params,0,0).count()},e.prototype.iterator=function(){return new ye(this.objSpaceId,this.params,this.batchSize)},e.prototype.iteratorFromContinuation=function(e){return new ye(this.objSpaceId,this.params,this.batchSize,e)},e}(),ye=function(){function e(e,t,n,r){this.objSpaceId=e,this.params=t,this.batchSize=n,this.batchNumber=0,this.currentIndex=0,r&&(this.batchNumber=r[0],this.currentIndex=r[1]),this.currentBatch=this.getObjIdQueryBatch()}return e.prototype.next=function(){if(!this.currentBatch)return{done:!0};if(this.currentObjIds||(this.currentObjIds=this.currentBatch.objIds()),this.currentIndex>=this.currentObjIds.length)return this.currentObjIds=void 0,this.currentIndex=0,this.currentBatch.continuationForNextBatch()?(this.batchNumber=this.batchNumber+1,this.currentBatch=this.getObjIdQueryBatch()):this.currentBatch=void 0,this.next();if(!this.priorObjIndex){var e={};this.batchNumber>0&&this.getObjIdQueryBatch(this.batchNumber-1).objIds().forEach((function(t){e[t]=!0})),this.currentBatch.objIds().slice(0,this.currentIndex).forEach((function(t){e[t]=!0})),this.priorObjIndex=e}var t=this.currentObjIds[this.currentIndex];return this.currentIndex++,this.priorObjIndex[t]?this.next():(this.priorObjIndex[t]=!0,{value:t,done:!1})},e.prototype.continuation=function(){return this.currentBatch?[this.batchNumber,this.currentIndex]:void 0},e.prototype.getObjIdQueryBatch=function(e){return void 0===e&&(e=this.batchNumber),new ge(this.objSpaceId,this.params,this.batchSize,e)},e}(),we=function(){function e(e,t,n){this.objSpaceId=e,this.idQuery=new be(e,t,n)}return e.prototype.count=function(){return this.idQuery.count()},e.prototype.iterator=function(){return this.objDataQueryIterator(this.idQuery.iterator())},e.prototype.iteratorFromContinuation=function(e){var t=this.idQuery.iteratorFromContinuation(e);return this.objDataQueryIterator(t)},e.prototype.objDataQueryIterator=function(e){return new ke(this.objSpaceId,e)},e}(),ke=function(){function e(e,t){this.objSpaceId=e,this.iterator=t}return e.prototype.next=function(){if(this.done)return this.done;var e=this.iterator.next().value;if(!e)return this.stop();var t=ee(this.objSpaceId,e);return void 0===t?this.stop():t.isUnavailable()?this.next():{value:t,done:!1}},e.prototype.continuation=function(){var e;return null===(e=this.iterator)||void 0===e?void 0:e.continuation()},e.prototype.stop=function(){return this.done={done:!0},this.done},e}();function Ee(e,t,n){return q(),new we(e,t,n)}function Ce(){throw new i.AQ}!function(){function e(e,t){this.objSpaceId=e,this.objId=t,this.runningEnsured=!1,this.replicationProcess=fe(e,t,Ce().objReplicationMessageStream(e,t),"consumer")}e.prototype.processSubscriberCount=function(){return this.replicationProcess.subscriberCount()},e.prototype.notifyLocalState=function(){this.ensureRunning()},e.prototype.notifyBackendState=function(e){},e.prototype.finishReplicating=function(){return this.replicationProcess.finishReplicating()},e.prototype.finishSaving=function(){var e=this;return this.finishReplicating().then((function(){return Ce().finishSavingObj(e.objSpaceId,e.objId)}))},e.prototype.replicationMessageStream=function(){return this.replicationProcess.replicationMessages()},e.prototype.start=function(){this.ensureRunning()},e.prototype.ensureRunning=function(){this.runningEnsured||(this.replicationProcess.replicationMessages().subscribe((function(){return 0})),this.runningEnsured=!0)}}();var Se=new C.X2({loadElement:function(e){var t=e[0],n=e[1],i=e[2];return{loader:function(){return r.Qw.retrieveObjFieldDiffs(t,n,i)},invalidation:function(){return Te(t,i)+":"+Te(n,i)}}}});function xe(e,t,n,r,o){var a=function(e,t,n,r){if((0,i.fS)(e,t))return{};var o=Se.get([e,t,n]).getWithDefault({});if(r){var a=o._widget_pool;return a&&a[r]||{}}return o}(e,t,r,o),s=a[(0,i.It)(n)];return s?s[1]:null}function Oe(e){return!!e&&"widgetlist_diff"===e.format}function Te(e,t){return(0,r.Hn)(e)?ne(e,t):""}function je(e,t,n,r){var i=ee(e,n),o=ee(t,n);return i&&o?i.isUnavailable()&&o.isUnavailable()?null:i.isUnavailable()&&!o.isUnavailable()?"new":!i.isUnavailable()&&o.isUnavailable()?"deleted":function(e,t,n){var r=e.getWidgetWithBadPerformance(n),i=t.getWidgetWithBadPerformance(n);return r?i?function(e,t){var n=u(e,t);return Object.keys(n).some(p)}(r,i)?"edited":null:"deleted":i?"new":null}(i,o,r):null}function De(e,t,n,r){return r?function(e,t,n,r){var i=t[0],a=t[1],s=Ne(i,n),c=Ne(a,n);return!(!s||!c)&&(!(!s.widgetExists(r)||!c.widgetExists(r))&&!(0,o.Xy)(s.getWidgetAttribute(r,e),c.getWidgetAttribute(r,e)))}(e,t,n,r):function(e,t,n){var r=t[0],i=t[1],a=Ne(r,n),s=Ne(i,n);return!(!a||!s||(0,o.Xy)(a.getAttribute(e),s.getAttribute(e)))}(e,t,n)}function Ne(e,t){var n=ee(e,t);if(n&&!n.isUnavailable()&&!n.isForbidden())return n}},92385:function(e,t,n){"use strict";n.r(t),n.d(t,{editorRegistrationFor:function(){return f},getCachedValidationReportEntries:function(){return N},installDndHandler:function(){return o},installScrollHandler:function(){return _},isAttributeValidationReportEntry:function(){return k.i},openContentBrowser:function(){return g},registerEditor:function(){return d},reloadIfContextChangesFrom:function(){return L},runValidationsFor:function(){return P},setModeIndicators:function(){return m},titleForBasicWidget:function(){return w},validationResultsFor:function(){return D}});var r=n(76494),i=n(39671);function o(){var e=(0,i.Me)();e.addEventListener("dragover",(function(e){return function(e){e.dataTransfer.dropEffect="move",e.preventDefault();var t={x:e.pageX,y:e.pageY};(0,r.K)().dragTo(t)}(e)})),e.addEventListener("drop",(function(){(0,r.K)().drop()}))}var a=n(80254),s=n(37227),c=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},l=0,u={};function d(e){var t=(++l).toString();u[t]=e;var n=p(),r=n.get()||[];n.set(c(c([],r,!0),[t],!1))}function f(e){var t=e.type,n=e.tag,r=p().get();if(r){var i=(0,a.sE)(r,(function(e){return u[e]&&u[e].canEdit({type:t,tag:n})}));if(i)return{id:i,editorClass:u[i]}}}function p(){return s.n2.subState("editors")}var h=n(56487);function m(){var e=(0,i.Me)().body;e.classList.add("scrivito_editing_active"),(0,h.DG)()&&e.setAttribute("data-scrivito-editing",""),(0,h.rl)()&&e.setAttribute("data-scrivito-comparison","")}var v=n(7624);function g(e){return void 0===e&&(e={}),(0,r.K)().openContentBrowser((0,v.f)(e))}function _(){(0,i.Me)().addEventListener("dragover",(function(e){var t=e.clientY,n=(0,i.bY)(),r=(0,i.XO)();r>0&&t<30?(0,i.X5)(n,r-25):(0,i.aZ)()>r+(0,i.WS)()&&t>(0,i.WS)()-30&&(0,i.X5)(n,r+25)}))}var b=n(27401),y=n(92402);function w(e){return function(e){var t=e.objClass(),n=(0,b.xk)(t,"titleForContent");if("function"==typeof n)try{return n((0,y.pz)(e))}catch(e){(0,i.a6)(e)}}(e)||(t=e.objClass(),(0,b.xk)(t,"title")||(0,i.G8)(t));var t}var k=n(90619),E=n(4182),C=n(36358),S=n(98728),x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},x.apply(this,arguments)},O=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},T={error:0,warning:1,info:2},j=(0,i.PJ)("validationResultsFor",[["model",i.pC.union([S.Bt,S.l9])],["attributeName",i.pC.String]],{docPermalink:"js-sdk/validationResultsFor"});function D(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return j.apply(void 0,O([e,t],n,!1)),N(e._scrivitoPrivateContent).filter((function(e){return(0,k.i)(e)&&e.attributeName===t})).sort((function(e,t){var n=e.severity,r=t.severity;return T[n]-T[r]})).map((function(e){return{message:e.message,severity:e.severity}}))}var N=(0,C.wV)([],(function(e){return e instanceof S.Jj?e.id():e.obj().id()+"/"+e.id()}),P);function P(e){var t=e instanceof S.Jj?e:e.obj();if(!t.isEdited()&&!t.isNew())return[];var n=e.objClass(),r=(0,b.Gc)(n);if(!r)return[];var o=(0,y.pz)(e);return(0,a.xH)(r.map((function(e){return(0,E.eK)(e)?function(e,t){return I("Please check validations for the model "+t._scrivitoPrivateContent.objClass()+". ",e,t).map(A)}(e,o):function(e,t){var n=e[0],r=e.slice(1),o=t._scrivitoPrivateContent.objClass();if((0,i.mb)(n))return(0,i.a6)(new i.ir("Found an attribute validation callback for the system attribute "+n+" of the model "+o+". Attribute validations can only be used for custom attributes. For system attributes please use content validations. Visit https://scrivito.com/js-sdk/provideEditingConfig#validations for more information.")),[];var s=y.V_.basicFieldFor(t,n);if(!s)return[];var c=(0,y.pz)(s.get()),l=x({name:n},t._scrivitoPrivateContent instanceof S.Jj?{content:t,obj:t}:{content:t,widget:t}),u="Please check validations for the attribute "+n+" of the model "+o+". ";return(0,a.xH)(r.map((function(e){var t,r=(0,E.np)(e),i=(0,E.tj)(e)&&(null===(t=e[0])||void 0===t?void 0:t.severity);return I(u,r,c,l).map((function(e){return{attributeName:n,message:e.message,severity:i||e.severity||"error"}}))})))}(e,o)})),!0)}function A(e){return{message:e.message,severity:e.severity||"error"}}function I(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{n=t.apply(void 0,r)}catch(e){return(0,i.a6)(e),[]}return n?(0,a.HD)(n)?[{message:n}]:Array.isArray(n)&&n.every(a.HD)?n.map((function(e){return{message:e}})):M(n)?[n]:((0,i.a6)(new i.ir("A validation must return a validation result or a falsy value. "+e+"Visit https://scrivito.com/js-sdk/provideEditingConfig#validations for more information.")),[]):[]}function M(e){return!!e&&"object"==typeof e&&!!e.message&&"string"==typeof(t=e.severity)&&-1!==E.bI.indexOf(t);var t}function L(e){(0,C.DU)((function(){return(0,r.K)().currentEditingContext()})).subscribe((function(t){var n=null==t?void 0:t.windowName;n&&n!==e&&((0,i.sy)(n),(0,i.H5)())}))}},90619:function(e,t,n){"use strict";function r(e){return!!e.attributeName}n.d(t,{i:function(){return r}})},86994:function(e,t,n){"use strict";n.d(t,{u$:function(){return s}});var r=n(9679),i=n(36358),o={reactEditing:function(){return Promise.resolve().then(n.bind(n,29060))},editingSupport:function(){return Promise.resolve().then(n.bind(n,92385))}},a=new i.X2({loadElement:function(e){return{loader:o[e]}}});function s(e,t){if(r.k){var n=a.get(e).get();if(n)return n[t]}}},12861:function(e,t,n){"use strict";n.d(t,{RY:function(){return i},gu:function(){return E},fq:function(){return a},Md:function(){return u},Gf:function(){return y},J2:function(){return k}});var r=n(92471),i=/\bobjid:[a-f0-9]{16}\b/g,o=new RegExp(i.source+"[^\"']*","g");function a(e,t){return e.replace(o,(function(e){var n;return null!==(n=t(function(e){var t=new r(e);return{obj_id:e.slice(6,22),query:t.query(),hash:t.fragment()}}(e)))&&void 0!==n?n:e}))}var s,c=n(39671);function l(e){if(!s)throw new c.AQ;return s(e)}function u(e){s=e}var d=n(90457),f=n(91190),p=n(80254),h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)};function m(e){if(!e.url)return e;var t=l(e.url);return null===t?e:h(h({},e),{url:null,obj_id:t.obj_id,fragment:t.fragment||null,query:t.query||null})}function v(e,t,n){var i=new RegExp("<"+t+"\\s+(?:[^>]*?\\s+)?"+n+"=([\"'])(.*?)\\1","gi");return e.replace(i,(function(e,t,n){if(!n)return e;var i=n.charAt(0);if("#"===i||"?"===i)return e;if("objid:"===n.substr(0,6))return e;var o=function(e){var t=l((0,p.AK)(e));if(!t)return null;var n=new r("objid:"+t.obj_id);return t.fragment&&n.fragment(t.fragment),t.query&&n.query(t.query),(0,p.YU)(n.href())}(n);return o?e.replace(n,o):e}))}var g,_=n(36358);function b(e,t,n,r){var i,o,a=((i={})[t]=r,i);n?e.update({_widget_pool:(o={},o[n]=a,o)}):e.update(a)}function y(e){if(g)throw new c.AQ;g=e}var w={};function k(e,t){C(e).start(t)}function E(e,t){return C(e).finish(t)}function C(e){return w[e]||(w[e]=new S(["workspace",e])),w[e]}var S=function(){function e(e){this.objSpaceId=e,this.cache={}}return e.prototype.start=function(e){var t=this,n=(0,_.zD)((function(){return(0,f.L7)(t.objSpaceId,e)})).then(x),r=this.cache[e],i=r?c.s8.all([r,n]).then((function(){})):n;this.cache[e]=i,function(e){if(!g)throw new c.AQ;g(e)}(i)},e.prototype.finish=function(e){return this.cache[e]||c.s8.resolve()},e}();function x(e){if(e){var t=e.get();if(t){var n=[];if((0,d.dx)(t,(function(t,r,i){var o;o=t,(0,p.r3)(["html","link","linklist"],o[0])&&n.push(function(e,t,n,r){var i=function(e){switch(e[0]){case"html":var t=e[1];return function(){return["html",(e=t,v(v(e,"a","href"),"img","src"))];var e};case"link":var n=e[1];return function(){return["link",m(n)]};case"linklist":var r=e[1];return function(){return["linklist",(e=r,e.map(m))];var e}}}(e),o=(0,_.qu)(void 0,i);return void 0!==o?((0,p.Xy)(o,e)||b(t,n,r,o),c.s8.resolve()):(0,_.zD)(i).then((function(i){(0,p.Xy)(i,e)||function(e,t,n,r){var i=r?t.getWidgetAttribute(r,n):t.getAttribute(n);return!(0,p.Xy)(e,i)}(e,t,n,r)||b(t,n,r,i)}))}(t,e,r,i))})),n.length)return c.s8.all(n).then((function(){}))}}}},36358:function(e,t,n){"use strict";n.d(t,{X2:function(){return Z},of:function(){return I},aj:function(){return f},cu:function(){return A},IE:function(){return s},_$:function(){return l},zD:function(){return b},cw:function(){return r.c},DU:function(){return V},rt:function(){return K},n4:function(){return R},wV:function(){return B},bR:function(){return z},qu:function(){return W},zL:function(){return U},vk:function(){return $}});var r=n(62657),i=n(39671),o=new i.AY,a=function(){return o.current()};function s(e){var t={datas:[],incomplete:!1,outdated:!1},n=o.runWith(t,e);return new d(t,n)}function c(){throw new i.Ix("Content not yet loaded. Forgot to use Scrivito.load or Scrivito.connect? See https://scrivito.com/content-not-yet-loaded-error")}function l(){return void 0!==a()}function u(e,t){var n=a();n&&(n.datas.push(t),"outdated"===e?n.outdated=!0:"incomplete"===e&&(n.incomplete=!0))}var d=function(){function e(e,t){this.captureList=e,this.outdated=e.outdated,this.incomplete=e.incomplete,this.result=t}return e.prototype.forwardToCurrent=function(){var e,t,n=a();n?(e=n,(t=this.captureList).datas.forEach((function(t){return e.datas.push(t)})),e.incomplete=e.incomplete||t.incomplete,e.outdated=e.outdated||t.outdated):this.incomplete&&c()},e.prototype.getRequiredDatas=function(){return this.captureList.datas},e.prototype.isAllDataLoaded=function(){return!this.incomplete},e.prototype.isAllDataUpToDate=function(){return!this.incomplete&&!this.outdated},e.prototype.subscribeLoading=function(e){var t=this.captureList.datas.map((function(e){return e.subscribeLoading()}));e.unsubscribe(),e.storeUnsubscribe((function(){t.forEach((function(e){return e()}))}))},e}(),f=function(){function e(){}return e.prototype.storeUnsubscribe=function(e){this.unsubscribeCallback=e},e.prototype.unsubscribe=function(){this.unsubscribeCallback&&this.unsubscribeCallback()},e}();function p(e){return function(e){m(e.meta)}(e),e.value}function h(e){return void 0===e.meta.error}function m(e){if(void 0!==e.error)throw e.error}var v=n(37227);function g(e){return new i.fU((function(t){var n=new f,r=(0,v.N7)((function(){return s((function(){return(0,i.fX)(e)}))})).subscribe((function(e){e.subscribeLoading(n);var r=e.result;t.next(r.errorThrown?{meta:{error:r.error,incomplete:e.incomplete,outdated:e.outdated}}:{value:r.result,meta:{incomplete:e.incomplete,outdated:e.outdated}})}));return function(){r.unsubscribe(),n.unsubscribe()}}))}var _=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function b(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return y.apply(void 0,_([e],t,!1)),g((function(){return(0,v.sc)({contextName:"Scrivito.load",message:"Use an async callback: Scrivito.load(/* ... */).then(/* ... */)."},e)})).filter((function(e){return!e.meta.incomplete&&!e.meta.outdated})).waitForFirst().then(p)}var y=(0,i.PJ)("load",[["loadableFunction",i.pC.Function]],{docPermalink:"js-sdk/load"}),w=0,k=function(){function e(e,t,n){this.stateContainer=e,this.loader=t,this.invalidation=n}return e.prototype.notifyDataRequired=function(){this.triggerLoadingIfNeeded()},e.prototype.notifyDataNoLongerRequired=function(){},e.prototype.notifyDataWasSet=function(){this.currentLoad=void 0},e.prototype.setTidyCallback=function(){},e.prototype.triggerLoadingIfNeeded=function(){var e=this;if(!this.isLoading()){var t=E(this.invalidation);if(this.loadingNeeded(t)){var n=w++,r=function(){return e.currentLoad===n},i=function(t){r()&&(0,v.NB)((function(){t(),e.currentLoad=void 0,a()}))},o=[],a=function(){return o.forEach((function(e){return e()}))};this.loader({push:function(e){return o.push(e)},wasCancelled:function(){return!r()}}).then((function(n){return i((function(){return e.stateContainer.set({value:n,meta:{version:t}})}))}),(function(n){return i((function(){return e.stateContainer.set({meta:{error:n,version:t}})}))})),this.currentLoad=n}}},e.prototype.loadingNeeded=function(e){var t=this.stateContainer.subState("meta").get();return void 0===t||void 0!==e&&e!==t.version},e.prototype.isLoading=function(){return void 0!==this.currentLoad},e}();function E(e){if(e){var t=e();if("number"==typeof t&&isNaN(t))throw new i.AQ;return t}}var C=n(80254),S=function(){function e(e,t){var n=this;this.stateContainer=e,this.stream=t,this.notifyRequiredCounter=0,this.scheduleNextState=(0,i.Xq)(v.NB,(function(e){n.isStreamOpen()&&n.stateContainer.set(e)})),this.enqueueStreamRequired=(0,i.Xq)(i.Y3,(function(e){return e?n.ensureStreamIsOpen():n.ensureStreamIsClosed()}))}return e.prototype.notifyDataRequired=function(){this.notifyRequiredCounter++,this.enqueueStreamRequired(!0)},e.prototype.notifyDataNoLongerRequired=function(){var e,t,n=this,r=this.notifyRequiredCounter;e=function(){r===n.notifyRequiredCounter&&n.enqueueStreamRequired(!1)},t=(0,C.IH)(e),(0,i.OH)(1e4).then(t),x.waitForFirst().then(t)},e.prototype.notifyDataWasSet=function(){},e.prototype.setTidyCallback=function(e){this.tidyCallback=e},e.prototype.isStreamOpen=function(){return!!this.subscription},e.prototype.ensureStreamIsOpen=function(){var e=this;this.subscription||(this.subscription=this.stream.subscribe((function(t){return e.scheduleNextState(t)})))},e.prototype.ensureStreamIsClosed=function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0,this.tidyCallback&&this.tidyCallback()),this.stateContainer.set(void 0)},e}(),x=new i.xQ,O={},T={};function j(e,t){var n=(T[e]||0)+t;return T[e]=n,n}function D(e){var t=O[e];t&&t.notifyDataWasSet()}var N,P=(N=function(e,t){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},N(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),A=function(e){function t(){return e.call(this,"Data is not yet loaded.")||this}return P(t,e),t}(i.Ix),I=function(){function e(e){var t=this;this.stateContainer=e.state,this.id=e.state.id(),this.affiliation=e.affiliation,this.invalidation=e.invalidation,this.processFactory=function(){return function(e,t){return e.stream?new S(t,e.stream.map((function(e){return{meta:{},value:e}}))):e.loadableStream?new S(t,e.loadableStream):new k(t,e.loader,e.invalidation)}(e,t.stateContainer)}}return e.prototype.ensureAvailable=function(){return L(this.id,this),this.checkIfAvailableMeta(this.getMeta())},e.prototype.get=function(){var e=this.stateContainer.get();if(this.checkIfAvailableState(e))return L(this.id,this),e.value},e.prototype.getAffiliation=function(){return this.affiliation},e.prototype.getWithDefault=function(e){var t=this.stateContainer.get();return this.checkIfAvailableState(t)?(L(this.id,this),t.value):e},e.prototype.getOrThrow=function(){var e=this.stateContainer.get();if(!this.checkIfAvailableState(e))throw new A;return L(this.id,this),e.value},e.prototype.reader=function(){return this.ensureAvailable(),this.stateContainer.reader().subState("value")},e.prototype.set=function(e){this.stateContainer.set({value:e,meta:{version:this.currentVersion()}}),D(this.id)},e.prototype.setError=function(e){this.stateContainer.set({meta:{error:e,version:this.currentVersion()}}),D(this.id)},e.prototype.reset=function(){this.stateContainer.set(void 0)},e.prototype.isMissing=function(){return void 0===this.getMeta()},e.prototype.isAvailable=function(){var e=this.getMeta();return void 0!==e&&void 0===e.error},e.prototype.isError=function(){var e;return void 0!==(null===(e=this.getMeta())||void 0===e?void 0:e.error)},e.prototype.numSubscribers=function(){return e=this.id,T[e]||0;var e},e.prototype.subscribeLoading=function(){return function(e,t){var n=!0;j(e,1);var r=function(e,t){var n=O[e];if(n)return n;var r=t();return O[e]=r,r.setTidyCallback((function(){O[e]===r&&delete O[e]})),r}(e,t);return r.notifyDataRequired(),function(){n&&(n=!1,j(e,-1)<1&&r.notifyDataNoLongerRequired())}}(this.id,this.processFactory)},e.prototype.getMeta=function(){return this.stateContainer.subState("meta").get()},e.prototype.checkIfAvailableState=function(e){return this.checkIfAvailableMeta(null==e?void 0:e.meta)},e.prototype.checkIfAvailableMeta=function(e){return void 0===e?(l()||(this.subscribeLoading(),c()),u("incomplete",this),!1):(u(function(e,t){return function(e,t){return!(!t||void 0===e)&&E(t)!==e.version}(e,t)?"outdated":e.incomplete?"incomplete":"available"}(e,this.invalidation),this),m(e),!0)},e.prototype.currentVersion=function(){return E(this.invalidation)},e}(),M=new i.AY;function L(e,t){var n=M.current();n&&(n[e]=t)}function R(e,t){var n=U(t);return n.allDataLoaded?n.result:e}function F(e){return new i.fU((function(t){var n=!1;return e.subscribe((function(e){if(!0===e.meta.incomplete){if(n)return}else n=!0;t.next(e)}))}))}function B(e,t,n){var r=(0,v.JH)();return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=new I({state:r.subState(t.apply(void 0,i)),loadableStream:F(g((function(){return n.apply(void 0,i)})))});return a.getWithDefault(e)}}function z(e,t,n,r,o){function a(e){return function(t,r){var i=s((function(){return c(e)}));i.forwardToCurrent();var o=s((function(){return function(t){var r=t.value;return t.continuation?n(r,a(e+1)):r}(i.result)}));return i.isAllDataLoaded()&&o.forwardToCurrent(),o.result}()}void 0===o&&(o=20);var c=B({value:r},(function(e){return e.toString()}),(function(a){var s=0===a?void 0:c(a-1).continuation,l=(0,i.u3)(e,s,o);return{value:l.values.map(t).reduce(n,r),continuation:l.continuation}}));return function(){return a(0)}}function W(e,t){var n=s((function(){return R(e,t)}));return l()&&n.forwardToCurrent(),n.result}function U(e){var t=s((function(){return(0,i.fX)(e)}));t.forwardToCurrent();var n=t.result,r=t.isAllDataLoaded(),o=t.isAllDataUpToDate();if(!n.errorThrown)return{success:!0,result:n.result,allDataLoaded:r,allDataUpToDate:o};if(!r)return{success:!1,allDataLoaded:!1,allDataUpToDate:o};throw n.error}var H=function(){return H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},H.apply(this,arguments)},Z=function(){function e(e){var t=e.recordedAs,n=e.loadElement;this.recordedAs=t,this.state=(0,v.JH)(),this.loadElement=n,t&&function(e,t){if(q[e])throw new i.AQ;q[e]=t}(t,this)}return e.prototype.get=function(e,t){var n=function(e){return"string"==typeof e?e:(0,i.mz)(e)}(e),r=this.loadElement(e,t);return new I(H(H({},r),{state:this.state.subState(n),affiliation:this.recordedAs?{collectionName:this.recordedAs,key:e}:void 0}))},e.prototype.clear=function(){this.state.clear()},e.prototype.dangerouslyGetRawValues=function(){var e=this.state.get();return e?Object.keys(e).map((function(t){return e[t]})).filter(i.EN).filter(h).map((function(e){return e.value})):[]},e}(),q={};function V(e){return g(e).filter((function(e){return!e.meta.incomplete})).map(p)}function K(e){return t=this,n=void 0,o=function(){var t,n,r;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){switch(o.label){case 0:t=[],o.label=1;case 1:return[4,b((function(){return(0,i.u3)(e,n,1)}))];case 2:r=o.sent(),n=r.continuation,r.values.forEach((function(e){return t.push(e)})),o.label=3;case 3:if(n)return[3,1];o.label=4;case 4:return[2,t]}}))},new((r=Promise)||(r=Promise))((function(e,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(t){t.done?e(t.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(t.value).then(a,s)}c((o=o.apply(t,n||[])).next())}));var t,n,r,o}function $(e){return s(e).result}},62657:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var r=n(36358);function i(e,t,n){void 0===n&&(n=[]);var o=(0,r.zL)((function(){return e.next()}));if(!o.allDataLoaded)return{done:!1,objs:n};var a=o.result;return a.done||0===t?{done:a.done,objs:n}:i(e,t-1,n.concat([a.value]))}},98728:function(e,t,n){"use strict";n.d(t,{cO:function(){return O},AM:function(){return Me},Jj:function(){return De},be:function(){return M},E8:function(){return ot},Kb:function(){return ce},pf:function(){return $},jS:function(){return N},Un:function(){return V},LG:function(){return re},fP:function(){return P},d4:function(){return K},Bt:function(){return Z},AZ:function(){return c},l9:function(){return q},T8:function(){return ht},Yz:function(){return he},f_:function(){return pe},EZ:function(){return me},GD:function(){return we},tV:function(){return Ee},Ti:function(){return mt},E2:function(){return a},U2:function(){return vt},TW:function(){return S},HG:function(){return C},R2:function(){return k},nl:function(){return E},Wd:function(){return xt},cS:function(){return x},f$:function(){return ke},hA:function(){return u},$u:function(){return p},Ce:function(){return Pt},rA:function(){return _t},lD:function(){return St},mz:function(){return xe},L8:function(){return yt},kO:function(){return lt},EX:function(){return J},P6:function(){return Ce},Nv:function(){return kt},OW:function(){return jt},s1:function(){return Tt}});var r=n(80254),i=n(90457),o=n(39671),a={isInScope:function(e){return!e.isDeleted()},applyToSearch:function(e){return e.excludeDeleted()},applyToCreate:function(e){return e}},s=n(91190),c=function(){function e(e,t){this._id=e,this._reason=t}return e.prototype.id=function(){return this._id},e.prototype.isForbidden=function(){return"forbidden"===this._reason},e.prototype.isNonexistent=function(){return"nonexistent"===this._reason},e.prototype.isNotLoaded=function(){return"notLoaded"===this._reason},e.prototype.reason=function(){return this._reason},e}(),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)};function u(e){return new d(e)}var d=function(){function e(e){this.objSpaceId=e}return e.prototype.get=function(e){var t=(0,s.L7)(this.objSpaceId,e);return t?t.isUnavailable()?t.isForbidden()?new c(e,"forbidden"):new c(e,"nonexistent"):new De(t):new c(e,"notLoaded")},e.prototype.search=function(){if((0,i.Hn)(this.objSpaceId)||(0,i.P7)(this.objSpaceId))return new M(this.objSpaceId).includeDeleted();throw new o.AQ},e.prototype.create=function(e,t){var n=t._obj_class;if(!n)throw new o.AQ;if((0,i.P7)(this.objSpaceId))throw new o.Ix("Cannot create an obj, because the current site is not yet determined.");var r=l({_obj_class:n,_id:e,_site_id:null},t);return new De((0,s.ZN)(this.objSpaceId,e,r))},e.prototype.and=function(e){return new f(this,e)},e}(),f=function(){function e(e,t){this.originalScope=e,this.transformation=t}return e.prototype.get=function(e){var t=this.originalScope.get(e);return t instanceof De&&!this.transformation.isInScope(t)?new c(e,"nonexistent"):t},e.prototype.search=function(){var e=this.originalScope.search();return this.transformation.applyToSearch(e),e},e.prototype.create=function(e,t){return this.originalScope.create(e,this.transformation.applyToCreate(t))},e.prototype.and=function(t){return new e(this,t)},e}();function p(e){return u(e).and(a)}function h(e,t,n){switch(n[0]){case"binary":return function(e,t){return b("binary",e)?new ce(e[1].id,t.objSpaceId()):null}(t,e);case"boolean":return function(e){return!!b("boolean",e)&&e[1]}(t);case"date":case"datetime":return function(e){return b("date",e)?(0,o.r2)(e[1]):null}(t);case"float":return function(e){if(b("number",e))return v(e[1].toString());if(b("string",e)){var t=e[1];if(t.match(/^-?\d+(\.\d+)?$/))return v(t)}return null}(t);case"enum":return function(e,t){if(b("string",e)){var n=e[1],i=t[1].values;if((0,r.r3)(i,n))return n}return null}(t,n);case"html":return m(t);case"integer":return function(e){return b("number",e)||b("string",e)?(0,o.ld)(e[1]):null}(t);case"link":return function(e){return b("link",e)?g(e[1]):null}(t);case"linklist":return function(e){return b("linklist",e)?e[1].map(g):[]}(t);case"multienum":return function(e,t){if(b("stringlist",e)){var n=t[1].values;return(0,r.jV)(e[1],n)}return[]}(t,n);case"reference":return function(e,t){return b("reference",e)?_(e[1],t):null}(t,e);case"referencelist":return function(e,t){return b("referencelist",e)?e[1].map((function(e){return _(e,t)})):[]}(t,e);case"string":return m(t);case"stringlist":return function(e){return b("stringlist",e)?e[1]:[]}(t);case"widgetlist":return function(e,t){return b("widgetlist",e)?e[1].map((function(e){return t.widget(e)})):[]}(t,e);default:throw new o.AQ}}function m(e){return b("html",e)||b("string",e)?e[1]:""}function v(e){var t=parseFloat(e);return(0,o.RY)(t)?t:null}function g(e){var t=(0,r.ei)(e,"query","rel","target","title","url");return"fragment"in e&&(t.hash=e.fragment),"obj_id"in e&&(t.objId=e.obj_id),new Me(t)}function _(e,t){return E(p(t.objSpaceId()),e)}function b(e,t){return Array.isArray(t)&&t[0]===e}var y=n(92471),w=n(12861);function k(e,t){var n=e.get(t);return n instanceof De?n:null}function E(e,t){return e.get(t)}function C(e,t,n){var r,i=e.search().and(t,"equals",n),o=i.first();return o&&o.isDeleted()&&null!==(r=i.excludeDeleted().first())&&void 0!==r?r:o}function S(e,t,n){return e.search().and(t,"equals",n).dangerouslyUnboundedTake()}function x(e){return C(e.and(vt),"_path","/")}var O=function(){function e(e,t,n){this.container=e,this.attributeName=t,this.typeInfo=n,e instanceof ot&&(this.widgetId=e.id())}return e.prototype.get=function(){return st(this.container,this.attributeName,this.typeInfo)},e.prototype.update=function(e){var t;this.container.update(((t={})[this.attributeName]=[e,this.typeInfo],t))},e.prototype.getContainer=function(){return this.container},e.prototype.obj=function(){return this.container.obj()},e.prototype.objSpaceId=function(){return this.container.objSpaceId()},e.prototype.name=function(){return this.attributeName},e.prototype.type=function(){return this.typeInfo[0]},e.prototype.equals=function(t){return t instanceof e&&this.container.equals(t.getContainer())&&this.attributeName===t.name()},e.prototype.validClasses=function(){var e=this.typeInfo[1];return null==e?void 0:e.validClasses},e.prototype.getDiff=function(e){var t=e[0],n=e[1],r=this.obj();return(0,s.Mu)(t,n,this.attributeName,r.id(),this.widgetId)},e.prototype.getHtmlDiffContent=function(e){var t=this.getDiff(e);return"html"===(null==t?void 0:t.format)?t.content:null},e.prototype.toString=function(){var e=this.obj().id(),t=this.name();return this.widgetId?"<BasicField name="+t+" objId="+e+" widgetId="+this.widgetId+">":"<BasicField name="+t+" objId="+e+">"},e.prototype.id=function(){return this.widgetId?this.attributeName+"|"+this.obj().id()+"|"+this.widgetId:this.attributeName+"|"+this.obj().id()},e.prototype.inObjSpace=function(e){return this.inObjScope(p(e))},e.prototype.inObjScope=function(t){var n=k(t,this.obj().id());if(!n)return null;var r=this.getContainer()instanceof De?n:n.widget(this.getContainer().id());return r?new e(r,this.name(),this.typeInfo):null},e}(),T=function(){function e(e,t){this.objSpaceId=e,this.facet=t}return e.prototype.name=function(){return this.facet.name},e.prototype.count=function(){return this.facet.count},e.prototype.includedObjs=function(){var e=p(this.objSpaceId);return(0,r.oA)(this.facet.includedObjIds.map((function(t){return k(e,t)})))},e}(),j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},j.apply(this,arguments)},D=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},N=["contains","containsPrefix"],P=["contains","containsPrefix","matches","equals","startsWith","isGreaterThan","isLessThan","linksTo","refersTo"],A=["equals","startsWith","isGreaterThan","isLessThan"],I=["contains","containsPrefix"],M=function(){function e(e,t){this._objSpaceId=e,this._query=t?D([],t.query,!0):[],this._boost=(null==t?void 0:t.boost)||[],this._batchSize=null==t?void 0:t.batchSize,this._offset=null==t?void 0:t.offset,this._orderBy=null==t?void 0:t.orderBy,this._includeDeleted=null==t?void 0:t.includeDeleted,this._includeEditingAssets=null==t?void 0:t.includeEditingAssets}return e.fromParams=function(t,n){return new e(["workspace",t],n)},e.prototype.and=function(t,n,i,a){if(t instanceof e)this._query=D(D([],this._query,!0),t._query,!0);else{if(void 0===n)throw new o.ir("Missing operator to search with");if(void 0===i)throw new o.ir('Missing value to search (specify "null" for missing)');var s=R(t,n,i);a&&(function(e){if(!(0,r.r3)(I,e))throw new o.ir('Boosting operator "'+e+'" is invalid. '+B(I))}(n),s.boost=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n],i=z(n);t[i]=r})),t}(a)),this._query.push(s)}return this},e.prototype.andNot=function(e,t,n){var i=R(e,t,n);return function(e){if(!(0,r.r3)(A,e))throw new o.ir('Negating operator "'+e+'" is invalid. '+B(A))}(t),i.negate=!0,this._query.push(i),this},e.prototype.boost=function(e,t,n,r){var i=R(e,t,n);return this._boost.push({condition:[i],factor:r}),this},e.prototype.offset=function(e){return this._offset=e||void 0,this},e.prototype.order=function(e,t){var n=Array.isArray(e)?e:[[e,t]];return this._orderBy=n.map((function(e){return Array.isArray(e)?W(e[0],e[1]):W(e)})),this},e.prototype.batchSize=function(e){return this._batchSize=e,this},e.prototype.includeDeleted=function(){return this._includeDeleted=!0,this},e.prototype.excludeDeleted=function(){return this._includeDeleted=void 0,this},e.prototype.includeEditingAssets=function(){return this._includeEditingAssets=!0,this},e.prototype.count=function(){return this.getObjDataQuery().count()},e.prototype.first=function(){return this.take(1)[0]||null},e.prototype.take=function(e){return this.internalTake(e)},e.prototype.dangerouslyUnboundedTake=function(){return this.internalTake(void 0)},e.prototype.iterator=function(){return L(this.getObjDataQuery().iterator())},e.prototype.iteratorFromContinuation=function(e){return L(this.getObjDataQuery().iteratorFromContinuation(e))},e.prototype.getObjDataQuery=function(){return(0,s.N1)(this.objSpaceId(),this.queryParams(),this.getBatchSize())},e.prototype.getBatchSize=function(){return this._batchSize||100},e.prototype.suggest=function(e,t){var n=j({attributes:["*"],limit:5},t),r=n.attributes,i=n.limit;return(0,s.D7)(this.objSpaceId(),e,{attributes:r,limit:i},this.queryParams())},e.prototype.facet=function(e,t){var n,i=this;return n=void 0===t?{}:function(e){var t=r.zu.apply(void 0,D([Object.keys(e)],U,!1));if(t.length)throw new o.ir("Invalid facet options: "+(0,o.xr)(t)+". Valid options: "+U);return e}(t),new s.hO(this.objSpaceId(),z(e),n,this._query).result().map((function(e){return new T(i.objSpaceId(),e)}))},e.prototype.objSpaceId=function(){return this._objSpaceId},e.prototype.params=function(){return j(j({},this.queryParams()),{batchSize:this._batchSize})},e.prototype.queryParams=function(){var e={query:this._query};return void 0!==this._boost&&this._boost.length&&(e.boost=this._boost),void 0!==this._offset&&(e.offset=this._offset),void 0!==this._orderBy&&(e.orderBy=this._orderBy),void 0!==this._includeDeleted&&(e.includeDeleted=this._includeDeleted),void 0!==this._includeEditingAssets&&(e.includeEditingAssets=this._includeEditingAssets),e},e.prototype.internalTake=function(e){var t=this._batchSize;try{return this._batchSize=void 0===e?1e3:e,(0,o.W)(this.iterator(),e)}finally{this._batchSize=t}},e}();function L(e){return{next:function(){var t=e.next();return t.done?{done:!0}:{done:!1,value:new De(t.value)}},continuation:function(){return e.continuation()}}}function R(e,t,n){var i,a=(i=e,Array.isArray(i)?i.map((function(e){return z(e)})):z(i)),s=function(e){if(!(0,r.r3)(P,e))throw new o.ir('Operator "'+e+'" is invalid. '+B(P));return(0,o.It)(e)}(t),c=function(e,t){return Array.isArray(e)?e.map((function(e){return F(e,t)})):F(e,t)}(n,s);return{field:a,operator:s,value:c}}function F(e,t){return(0,r.J_)(e)?function(e,t){if("is_greater_than"!==t&&"is_less_than"!==t)return(0,o.xH)(e);var n=function(e){return new Date(6e4*Math.round(e.getTime()/6e4))}(e),r=Math.abs(Date.now()-e.getTime())<3e4;return(0,o.xH)(r?n:e)}(e,t):e instanceof De?e.id():e}function B(e){return"Valid operators are "+e.join(", ")+"."}function z(e){if(!(0,o.q2)(e))throw new o.ir('Attribute name "'+e+'" is not camel case.');return(0,o.It)(e)}function W(e,t){return void 0===t&&(t="asc"),[z(e),t]}var U=["limit","includeObjs"],H=n(36358),Z=o.pC.irreducible("Obj",(function(e){return G(e,De)})),q=o.pC.irreducible("Widget",(function(e){return G(e,ot)})),V=o.pC.irreducible("Link",(function(e){return G(e,Me)})),K=o.pC.irreducible("ObjSearch",(function(e){return G(e,M)})),$=o.pC.irreducible("Binary",(function(e){return e instanceof ce}));function G(e,t){return!!e&&e._scrivitoPrivateContent instanceof t}var Y,Q=n(37227),X=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function J(e){Y=e}var ee,te=function(){function e(e,t){void 0===t&&(t={});var n=t.filename;if(this.contentType=t.contentType,e.idToCopy)this.idToCopy=e.idToCopy;else{var r=e.source;this.source=r,this.contentType||(this.contentType=r.type),n||(n=r.name)}n&&(this.filename=n.replace(/[^\w\-_\.$]/g,"-"))}return e.prototype.into=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return ne.apply(void 0,X([e],t,!1)),(0,Q.un)("Changing CMS content"),this.intoId(e._scrivitoPrivateContent.id())},e.prototype.intoId=function(e){if(!Y)throw new o.AQ;var t;if(this.idToCopy)t=Y.copyBinary(this.idToCopy,e,this.filename,this.contentType);else{if(!this.source)throw new o.AQ;t=Y.uploadBinary(e,this.source,this.filename,this.contentType)}return t.then((function(e){var t=e.id;return new ce(t,we())}))},e}(),ne=(0,o.PJ)("FutureBinary#into",[["target",Z]],{docPermalink:"js-sdk/FutureBinary-into"});!function(e){e.Date="date",e.Number="number",e.String="string",e.Stringlist="stringlist"}(ee||(ee={}));var re=function(){function e(e,t){void 0===t&&(t=i.Bm),this._binaryId=e,this.objSpaceId=t,this._binaryId&&(this.loadableData=ie.get(this._binaryId,this.objSpaceId))}return e.prototype.get=function(e){(0,s.VJ)("MetadataCollection#get"),function(e){if(!(0,o.q2)(e))throw new o.ir('Metadata key "'+e+'" is not in camel case.')}(e);var t=this.getData();if(t){var n=(0,o.It)(e);return t.hasOwnProperty(n)?t[n]:null}return null},e.prototype.keys=function(){var e=this.getData();return e?Object.keys(e).map(o.eV):[]},e.prototype.contentLength=function(){var e=this.get("contentLength");return"number"!=typeof e?0:e},e.prototype.contentType=function(){var e=this.get("contentType");return"string"!=typeof e?"":e},e.prototype.binaryId=function(){return this._binaryId},e.prototype.getData=function(){if(this.loadableData){var e=this.loadableData.get();if(e)return function(e){for(var t=e.meta_data,n={},r=0,i=Object.keys(t);r<i.length;r++){var a=i[r],s=t[a],c=s[0],l=s[1];if(null==l)throw new o.AQ;var u=void 0;if(c===ee.Date){if("string"!=typeof l)throw new o.AQ;u=(0,o.r2)(l)}else u=l;n[a]=u}return n}(e)}},e}(),ie=new H.X2({recordedAs:"metadata",loadElement:function(e,t){return{loader:function(){return i.Qw.retrieveBinaryMetadata(e,{accessVia:t})}}}});var oe=function(){return oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oe.apply(this,arguments)},ae=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},se=new H.X2({recordedAs:"binary",loadElement:function(e,t){var n=e[0],r=e[1];return{loader:function(){return i.Qw.retrieveBinaryUrls(n,r,{accessVia:t})}}}}),ce=function(){function e(e,t,n){void 0===t&&(t=i.Bm),void 0===n&&(n={}),this._id=e,this._objSpaceId=t,this._transformation=n||void 0,this._loadableData=se.get([this._id,this._transformation],this._objSpaceId)}return e.upload=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(de.apply(void 0,ae([e,t],n,!1)),!(o.Tv.is(e)||t&&t.filename))throw new o.ir("Expected a filename to be passed with Blob as the source.");return new te({source:e},t)},e.prototype.id=function(){return this._id},e.prototype.copy=function(e){return new te({idToCopy:this._id},e)},e.prototype.isPrivate=function(){return!(0,o.fS)(this._objSpaceId,i.Bm)},e.prototype.optimizeFor=function(t){return new e(this._id,this._objSpaceId,oe(oe({},this._transformation),t))},e.prototype.original=function(){return new e(this._id,this._objSpaceId,{})},e.prototype.raw=function(){return new e(this._id,this._objSpaceId,null)},e.prototype.isExplicitlyTransformed=function(){return this.isTransformed()&&!(0,r.xb)(this._transformation)},e.prototype.isRaw=function(){return!this.isTransformed()},e.prototype.url=function(){return(0,s.VJ)("Binary#url"),this.urlWithoutPlaceholder()||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},e.prototype.urlWithoutPlaceholder=function(){var e=this._loadableData.get();if(e){var t=e[this.accessType()];if(!t)throw new o.AQ;return t.get.url}},e.prototype.filename=function(){var e=this.url();return!e||e.match(/^data:/)?"":y(e).path().split("/").pop()||""},e.prototype.metadata=function(){return this.assertNotTransformed("Metadata"),new re(this._id,this._objSpaceId)},e.prototype.contentType=function(){return this.assertNotTransformed("Content type"),this.metadata().contentType()},e.prototype.contentLength=function(){return this.assertNotTransformed("Content length"),this.metadata().contentLength()},e.prototype.extname=function(){if(this.raw().filename().indexOf(".")>-1){var e=/[^.\\]*$/.exec(this.raw().filename());if(e)return e[0].toLowerCase()}return""},e.prototype.equals=function(e){return this.id()===e.id()&&(0,o.fS)(this._objSpaceId,e.objSpaceId())&&(0,r.Xy)(this.definition(),e.definition())},e.prototype.isImage=function(){var e=this.raw().contentType();return!!e&&"image"===e.split("/")[0]},e.prototype.definition=function(){return this._transformation||null},e.prototype.objSpaceId=function(){return this._objSpaceId},e.prototype.accessType=function(){return this.isPrivate()?"private_access":"public_access"},e.prototype.assertNotTransformed=function(e){if(this.isTransformed())throw new o.Ix('"'+e+'" is not available for transformed images. Use "Scrivito.Binary#raw" to access the untransformed version of the image.')},e.prototype.isTransformed=function(){return!!this._transformation},e}(),le=o.pC.interface({contentType:o.pC.maybe(o.pC.String),filename:o.pC.maybe(o.pC.String)}),ue=o.pC.refinement(o.pC.Object,(function(e){return o.R0.is(e)||o.Tv.is(e)}),"Blob or File"),de=(0,o.PJ)("Binary.upload",[["source",ue],["options",o.pC.maybe(le)]],{docPermalink:"js-sdk/Binary-static-upload"}),fe=function(){return fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fe.apply(this,arguments)};function pe(e,t){var n=t._id,r=t._objClass,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["_id","_objClass"]),o=ge(r);return ve(e,ge(n)||De.generateId(),{_obj_class:o},i)}function he(e,t,n){var r=ge(n._id)||De.generateId();return ce.upload(t).intoId(r).then((function(t){var i=pe(e,fe(fe({},n),{_id:[r],blob:[t,["binary"]]}));return i.finishSaving().then((function(){return i}))}))}function me(e,t){var n=function(e){var t=fe({},e),n={};return Object.keys(e).forEach((function(r){var i=e[r];if(function(e){return Array.isArray(e)&&"widgetlist"===e[0]}(i)){var a=i[1].map((function(e){return ot.newWithSerializedAttributes(e)})),s=(0,o.eV)(r);n[s]=[a,["widgetlist"]],delete t[r]}})),[t,n]}(t),r=n[0],i=n[1];return ve(e,r._id,r,i)}function ve(e,t,n,r){var i=e.create(t,n);return i.update(r),i}function ge(e){var t=Array.isArray(e)?e[0]:e;return"string"==typeof t?t:void 0}var _e=/\b\/?[^/]*$/,be=n(29428),ye=i.Bm;function we(){return ye}function ke(){return ye===i.Bm}function Ee(){return ye[1]}function Ce(e){ye="published"===e?i.Bm:["workspace",e]}var Se=function(){return Se=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Se.apply(this,arguments)};function xe(e){return{isInScope:function(t){return t.siteId()===e},applyToSearch:function(t){return t.and("_siteId","equals",e)},applyToCreate:function(t){return Se(Se({},t),{_site_id:e})}}}var Oe=function(){return Oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Oe.apply(this,arguments)},Te=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},je=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},De=function(){function e(e){this.objData=e}return e.get=function(e){return k(Ne(),e)},e.getIncludingDeleted=function(e){return k(u(we()),e)},e.createInObjSpace=function(e,t){return pe(u(e),t)},e.generateId=function(){return(0,o.kb)()},e.all=function(){return new M(we()).batchSize(1e3)},e.where=function(e,t,n,r){return new M(we()).and(e,t,n,r)},e.getByPermalink=function(e){return C(Ne(),"_permalink",e)},e.getAllByPermalink=function(e){return S(Ne(),"_permalink",e)},e.generateWidgetId=function(){return(0,o.Q4)()},e.prototype.id=function(){return this.objData.id()},e.prototype.objClass=function(){return this.getAttributeData("_obj_class")},e.prototype.obj=function(){return this},e.prototype.createdAt=function(){return(0,o.sp)(this.getAttributeData("_created_at"))},e.prototype.createdBy=function(){return this.getAttributeData("_created_by")||null},e.prototype.lastChanged=function(){var e=this.getAttributeData("_last_changed");return e?(0,o.sp)(e):null},e.prototype.lastChangedBy=function(){return this.getAttributeData("_last_changed_by")||null},e.prototype.firstPublishedAt=function(){return(0,o.sp)(this.getAttributeData("_first_published_at"))},e.prototype.publishedAt=function(){return(0,o.sp)(this.getAttributeData("_published_at"))},e.prototype.firstPublishedBy=function(){return this.getAttributeData("_first_published_by")||null},e.prototype.publishedBy=function(){return this.getAttributeData("_published_by")||null},e.prototype.objSpaceId=function(){return this.objData.objSpaceId()},e.prototype.version=function(){return this.getAttributeData("_version")},e.prototype.path=function(){return this.getAttributeData("_path")||null},e.prototype.permalink=function(){return this.getAttributeData("_permalink")||null},e.prototype.siteId=function(){var e;return null!==(e=this.getAttributeData("_site_id"))&&void 0!==e?e:null},e.prototype.language=function(){var e;return null!==(e=this.getAttributeData("_language"))&&void 0!==e?e:null},e.prototype.parentPath=function(){return(e=this.path())&&"/"!==e?e.replace(_e,""):null;var e},e.prototype.parent=function(){var e=this.parentPath(),t=this.siteId();return null===e||null===t?null:Pe(this.objSpaceId(),t,e)},e.prototype.hasConflicts=function(){return!!this.getAttributeData("_conflicts")},e.prototype.modification=function(){return this.objData.isUnavailable()||this.getAttributeData("_marked_deleted")?"deleted":this.getAttributeData("_modification")||null},e.prototype.get=function(e,t){return st(this,e,t)},e.prototype.isModified=function(){return!!this.modification()},e.prototype.isNew=function(){return"new"===this.modification()},e.prototype.isEdited=function(){return"edited"===this.modification()},e.prototype.isEditingAsset=function(){return!0===this.getAttributeData("_editing_asset")},e.prototype.isDeleted=function(){return"deleted"===this.modification()},e.prototype.contentLength=function(){return this.metadata().contentLength()},e.prototype.contentType=function(){return this.metadata().contentType()},e.prototype.contentUrl=function(){var e;return(null===(e=this.blob())||void 0===e?void 0:e.url())||""},e.prototype.contentId=function(){return this.getAttributeData("_content_id")||this.id()},e.prototype.metadata=function(){var e=this.blob();return e?new re(e.id(),this.objSpaceId()):new re},e.prototype.children=function(){var e=this.getChildrenSearch();return e?e.dangerouslyUnboundedTake():[]},e.prototype.hasChildren=function(){var e=this.getChildrenSearch();return!!e&&e.batchSize(0).count()>0},e.prototype.orderedChildren=function(){var t=this.children(),n=this.get("childOrder","referencelist");if(!Array.isArray(n))return t;var i=n.map((function(t){return t instanceof e&&t.id()}));return(0,r.MR)(t,(function(e){var t=i.indexOf(e.id());return-1===t?n.length:t}))},e.prototype.backlinks=function(){return p(this.objSpaceId()).search().and("*","linksTo",this).dangerouslyUnboundedTake()},e.prototype.ancestors=function(){var e=this,t=this.parentPath(),n=this.siteId();return null===t||null===n?[]:function(e){var t=["/"];if("/"===e)return t;var n=e.split("/").slice(1),r="";return n.forEach((function(e){r=r+"/"+e,t.push(r)})),t}(t).map((function(t){return Pe(e.objSpaceId(),n,t)}))},e.prototype.restriction=function(){return(e=this.getAttributeData("_restriction"))?e[0]:"_public";var e},e.prototype.restrict=function(e){void 0===e&&(e="_auth"),this.update({_restriction:"_public"===e?null:[[e]]})},e.prototype.unrestrict=function(){this.restrict("_public")},e.prototype.isRestricted=function(){return"_public"!==this.restriction()},e.prototype.update=function(e){var t=ft(e);this.updateWithUnknownValues(t)},e.prototype.updateWithUnknownValues=function(e){var t=this;if(ke()&&!(0,s.zQ)())throw new o.Ix("The published content cannot be modified.");(0,Q.tH)((function(){ut(t,e);var n=Le(e);t.objData.update(n)})),this.startLinkResolution()},e.prototype.destroy=function(){this.update({_markedDeleted:[!0]})},e.prototype.insertWidget=function(e,t){var n,r=function(e){return function(e){return!!e.before}(e)?e.before.id():e.after.id()}(t),i=this.widgetPlacementFor(r);if(i){var o=i.attributeValue,a=i.attributeName,s=i.container,c=i.index,l=t.before?c:c+1,u=je(je(je([],o.slice(0,l),!0),[e],!1),o.slice(l),!0);s.update(((n={})[a]=[u,["widgetlist"]],n))}},e.prototype.removeWidget=function(e){var t=this.fieldContainingWidget(e);if(t){var n=t.get(),i=(0,r.d1)(n,(function(t){return t.equals(e)}));t.update(i)}},e.prototype.siblingWidget=function(e,t){var n=this.widgetPlacementFor(e.id());if(n)return n.attributeValue[n.index+t]},e.prototype.copyAsync=function(t){void 0===t&&(t={});var n,r,o,a,s=t._id,c=t._path,l=Te(t,["_id","_path"]);return n=this,r=void 0,a=function(){var t,n,r;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){switch(o.label){case 0:return t=we(),n=s?function(e){return"string"==typeof e?e:e[0]}(s):e.generateId(),[4,(r=pe(u(t),{_id:n,_objClass:this.objClass()})).finishSaving()];case 1:return o.sent(),[4,(0,i.KP)({fromObjSpaceId:this.objSpaceId(),fromObjId:this.id(),toObjSpaceId:t,toObjId:n})];case 2:return o.sent(),r.update(Oe(Oe({},l),{_path:void 0===c&&this.path()?this.parentPath()+"/"+n:c||null})),[4,r.objData.finishSaving()];case 3:return o.sent(),[2,r]}}))},new((o=Promise)||(o=Promise))((function(e,t){function i(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){t.done?e(t.value):function(e){return e instanceof o?e:new o((function(t){t(e)}))}(t.value).then(i,s)}c((a=a.apply(n,r||[])).next())}))},e.prototype.markResolvedAsync=function(){return this.update({_conflicts:[null]}),this.finishSaving()},e.prototype.finishSaving=function(){var e=this;return this.finishLinkResolution().then((function(){return e.objData.finishSaving()}))},e.prototype.equals=function(t){return t instanceof e&&this.id()===t.id()&&(0,o.fS)(this.objSpaceId(),t.objSpaceId())},e.prototype.widget=function(e){return this.getWidgetAttribute(e,"_obj_class")?ot.build(e,this):null},e.prototype.getWidgetAttribute=function(e,t){return this.objData.getWidgetAttribute(e,t)},e.prototype.widgets=function(){var e=this.objData.getIfExistent();if(!e)return[];var t=e._widget_pool;if(!t)return[];var n=[];return this.collectWidgets(n,e,t,{}),n},e.prototype.widgetClassNamesWithBadPerformance=function(){var e=this.objData.getWidgetPoolWithBadPerformance();return e?(0,r.jj)((0,r.oA)((0,r.VO)(e)).map((function(e){return e._obj_class}))):[]},e.prototype.fieldContainingWidget=function(e){var t=e.id(),n=this.widgetPlacementFor(t);if(n){var r=n.container,i=n.attributeName;return new O(r,i,["widgetlist"])}},e.prototype.generateWidgetId=function(){for(var t=0;t<10;t++){var n=e.generateWidgetId();if(!this.widget(n))return n}throw new o.AQ},e.prototype.serializeAttributes=function(){var e=lt(this);return e._conflicts,e._modification,e._created_at,e._created_by,e._last_changed,e._last_changed_by,Te(e,["_conflicts","_modification","_created_at","_created_by","_last_changed","_last_changed_by"])},e.prototype.slug=function(){var e;return"string"!=typeof(e=this.get("title","string"))?"":be(e)},e.prototype.getWidgetData=function(e){return this.objData.getWidget(e)},e.prototype.startLinkResolution=function(){(0,s.zQ)()||(0,w.J2)(Ee(),this.id())},e.prototype.finishLinkResolution=function(){return(0,w.gu)(Ee(),this.id())},e.prototype.toPrettyPrint=function(){return"[object "+this.objClass()+' id="'+this.id()+'"]'},e.prototype.getAttributeData=function(e,t){return"widgetlist"===t?this.objData.getWidgetlistAttribute(e):this.objData.getNonWidgetAttribute(e)},e.prototype.getData=function(){return this.objData.get()},e.prototype.blob=function(){return this.get("blob",["binary"])},e.prototype.collectWidgets=function(e,t,n,r){var a=this;Object.keys(t).map((function(e){var n=t[e];if(n&&!(0,o.mb)(e)){var r=n;return(0,i.O6)(r)?r[1]:void 0}})).forEach((function(t){t&&t.forEach((function(t){if(!r[t]){r[t]=!0;var i=a.widget(t);if(i){e.push(i);var o=n[t];a.collectWidgets(e,o,n,r)}}}))}))},e.prototype.widgetPlacementFor=function(e){var t=this.objData.getIfExistent();if(t){var n=(0,s.uw)(t,e);if(n){var r,i=(0,o.eV)(n.attributeName),a=n.parentWidgetId;if(a){if(!(r=this.widget(a)))return}else r=this;return{container:r,attributeName:i,attributeValue:r.get(i,["widgetlist"]),index:n.index,parentWidgetId:a}}}},e.prototype.getChildrenSearch=function(){var e=this.path(),t=this.siteId();if(e&&null!==t)return Ae(this.objSpaceId(),t).search().and("_parentPath","equals",e)},e}();function Ne(){return p(we())}function Pe(e,t,n){return C(Ae(e,t),"_path",n)}function Ae(e,t){return p(e).and(xe(t))}var Ie=function(){return Ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ie.apply(this,arguments)},Me=function(){function e(e){this.attributes=Ie({},e)}return e.prototype.title=function(){return this.attributes.title||null},e.prototype.query=function(){return this.attributes.query||null},e.prototype.hash=function(){return this.attributes.hash||null},e.prototype.rel=function(){return this.attributes.rel||null},e.prototype.target=function(){return this.attributes.target||null},e.prototype.url=function(){return this.attributes.url||null},e.prototype.objId=function(){return this.attributes.objId||null},e.prototype.obj=function(){var e=this.objId();return e?E(p(we()),e):null},e.prototype.queryParameters=function(){return y.parseQuery(this.query()||"")},e.prototype.isExternal=function(){return!!this.url()},e.prototype.isInternal=function(){return!this.isExternal()},e.prototype.equals=function(t){return t instanceof e&&(this.isExternal()?this.hash()===t.hash()&&this.query()===t.query()&&this.rel()===t.rel()&&this.target()===t.target()&&this.title()===t.title()&&this.url()===t.url():this.objId()===t.objId()&&this.title()===t.title())},e.prototype.copy=function(t){void 0===t&&(t={});var n=Ie(Ie({},this.attributes),t);if(t.objId&&t.url)throw new o.ir('Link#copy refused: both "objId" and "url" have been specified with truthy values');return t.objId?n.url=null:t.url&&(n.objId=null),new e(n)},e.prototype.isEmpty=function(){return!this.isExternal()&&!this.objId()},e.prototype.hasDestination=function(){return this.isExternal()||this.obj()instanceof De},e.prototype.toPrettyPrint=function(){return this.isInternal()?'[object Link objId="'+this.objId()+'"]':'[object Link url="'+this.url()+'"]'},e}();function Le(e){var t={};return Object.keys(e).forEach((function(n){var i=function(e){if(!(0,o.q2)(e))throw new o.ir("Attribute names have to be in camel case.");return(0,o.It)(e)}(n);if((0,o.mb)(i)){var a=e[n][0];t[i]=a}else{var s=e[n],c=(a=s[0],s[1]);t[i]=function(e,t,n){if(null===e)return null;var i=function(e,t,n){switch(n[0]){case"binary":return["binary",Fe(e,t)];case"boolean":return["boolean",Be(e,t)];case"date":case"datetime":return["date",ze(e,t)];case"enum":return["string",We(e,t,n[1])];case"float":return["number",Ue(e,t)];case"html":return["html",He(e,t)];case"integer":return["number",Ze(e,t)];case"link":return["link",qe(e,t)];case"linklist":return["linklist",Ve(e,t)];case"multienum":return["stringlist",Ke(e,t,n[1])];case"reference":return["reference",$e(e,t)];case"referencelist":return["referencelist",Ge(e,t)];case"string":return["string",Xe(e,t)];case"stringlist":return["stringlist",Je(e,t)];case"widgetlist":return["widgetlist",tt(e,t)];default:throw new o.ir('Attribute "'+t+'" is of unsupported type "'+n[0]+'".')}}(e,t,n);return function(e){return((0,r.HD)(e)||Array.isArray(e))&&(0,r.xb)(e)}(i[1])?null:i}(a,n,c)}})),t}function Re(e,t,n){throw new o.ir("Unexpected value "+(0,o.xr)(e)+' for attribute "'+t+'". Expected: '+n)}function Fe(e,t){if(e instanceof ce)return{id:e.id()};Re(e,t,"A Binary.")}function Be(e,t){if(!1===e||!0===e)return e;Re(e,t,"A Boolean.")}function ze(e,t){return(0,r.J_)(e)?(0,o.xH)(e):(0,o.ix)(e)?e:void Re(e,t,"A Date.")}function We(e,t,n){var i=n.values;if((0,r.r3)(i,e))return e;Re(e,t,'Valid attribute values are contained in its "values" array ['+i+"].")}function Ue(e,t){if((0,o.RY)(e))return e;var n=e;(0,r.hj)(e)&&(n=String(e)),Re(n,t,"A Number, that is #isFinite().")}function He(e,t){if((0,r.HD)(e))return e;Re(e,t,"A String.")}function Ze(e,t){if((0,o.eZ)(e))return e;Re(e,t,"A Number, that is #isSafeInteger().")}function qe(e,t){if(nt(e))return rt(e);Re(e,t,"A Link instance with a destination.")}function Ve(e,t){if(Array.isArray(e)&&e.every(nt))return e.map(rt);Re(e,t,"An array of Link instances with destinations set.")}function Ke(e,t,n){var i=n.values;(function(e){return Array.isArray(e)&&e.every(r.HD)})(e)||Re(e,t,"An array with values from "+(0,o.xr)(i)+".");var a=(0,r.e5)(e,i);return a.length&&Re(e,t,"An array with values from "+(0,o.xr)(i)+". Forbidden values: "+(0,o.xr)(a)+"."),e}function $e(e,t){if(Qe(e))return Ye(e);Re(e,t,"An Obj.")}function Ge(e,t){if(function(e){return Array.isArray(e)&&e.every((function(e){return Qe(e)}))}(e))return e.map(Ye);Re(e,t,"An array with Objs.")}function Ye(e){return"string"==typeof e?e:e.id()}function Qe(e){return(0,r.HD)(e)||e instanceof De||e instanceof c}function Xe(e,t){if(et(e))return e.toString();Re(e,t,"A String.")}function Je(e,t){if(function(e){return Array.isArray(e)&&e.every((function(e){return et(e)}))}(e))return e.map((function(e){return e.toString()}));Re(e,t,"An array of strings.")}function et(e){return(0,r.HD)(e)||(0,r.hj)(e)}function tt(e,t){return e instanceof ot?tt([e],t):Array.isArray(e)&&e.every((function(e){return e instanceof ot}))?e.map((function(e){return e.id()})):void Re(e,t,"An array of BasicWidget instances.")}function nt(e){if(e instanceof Me)return!e.isEmpty();if(!(0,r.Kn)(e))return!1;if((0,r.xb)((0,r.oA)((0,r.VO)(e))))return!1;var t=(0,r.zu)(Object.keys(e),"hash","obj_id","query","rel","target","title","url");return(0,r.xb)(t)}function rt(e){var t,n=e instanceof Me?{rel:(t=e).rel()||void 0,query:t.query(),target:t.target(),title:t.title(),url:t.url(),obj_id:t.objId(),fragment:t.hash()}:function(e){return{obj_id:e.obj_id||null,query:e.query||null,rel:e.rel||void 0,target:e.target||null,title:e.title||null,url:e.url||null,fragment:e.hash||null}}(e);return n.rel||delete n.rel,n}var it=function(){return it=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},it.apply(this,arguments)},ot=function(){function e(e,t,n,r){if(this._id=e,this._obj=t,this.preserializedAttributes=r,!t){if(!n||!function(e){var t=e._objClass;return!!t&&"string"==typeof t[0]}(n))throw new o.ir('Please provide a widget class as the "_objClass" property.');this.attributesToBeSaved=n}}return e.build=function(t,n){return new e(t,n)},e.newWithSerializedAttributes=function(t){var n={},r={};return Object.keys(t).forEach((function(i){var a=t[i];if("_obj_class"!==i){if(Array.isArray(a)){var s=a[0],c=a[1];if("widgetlist"===s){var l=c.map((function(t){return e.newWithSerializedAttributes(t)})),u=(0,o.eV)(i);return void(n[u]=[l,["widgetlist"]])}}r[i]=a}else n._objClass=[a]})),new e(void 0,void 0,n,r)},e.create=function(t){return new e(void 0,void 0,ft(t))},e.createWithUnknownValues=function(t){return new e(void 0,void 0,t)},e.prototype.id=function(){return this.failIfNotPersisted(),this._id},e.prototype.objClass=function(){return this.isPersisted()?this.getAttributeData("_obj_class"):this.attributesToBeSaved._objClass[0]},e.prototype.obj=function(){return this.failIfNotPersisted(),this._obj},e.prototype.objSpaceId=function(){return this.obj().objSpaceId()},e.prototype.widget=function(e){return this.obj().widget(e)},e.prototype.modification=function(e){var t=e[0],n=e[1];return(0,s.mG)(t,n,this.obj().id(),this.id())},e.prototype.get=function(e,t){return st(this,e,t)},e.prototype.container=function(){return(0,s.Id)("for performance reasons, avoid this method when rendering"),this.containingField().getContainer()},e.prototype.update=function(e){var t=ft(e);this.updateWithUnknownValues(t)},e.prototype.updateWithUnknownValues=function(e){var t=this;(0,Q.tH)((function(){ut(t.obj(),e);var n=Le(e);t.updateSelf(n)}))},e.prototype.insertBefore=function(e){e.obj().insertWidget(this,{before:e})},e.prototype.insertAfter=function(e){e.obj().insertWidget(this,{after:e})},e.prototype.remove=function(){this.obj().removeWidget(this)},e.prototype.copy=function(){return this.isPersisted()?this.copyPersisted():this.copyUnpersisted()},e.prototype.persistInObjIfNecessary=function(e){if(!this.isPersisted()){var t=this.attributesToBeSaved;ut(e,t);var n=it(it({},Le(t)),this.preserializedAttributes);this._obj=e,this._id=e.generateWidgetId(),this.updateSelf(n),this.executeDidPersistCallback()}},e.prototype.isPersisted=function(){return!!this._obj},e.prototype.onDidPersist=function(e){if(this.isPersisted())throw new o.Ix('Cannot call "onDidPersist" of an already persisted widget');this.onDidPersistCallback=e},e.prototype.hasOnDidPersistCallback=function(){return!!this.onDidPersistCallback},e.prototype.finishSaving=function(){return this.obj().finishSaving()},e.prototype.equals=function(t){return t instanceof e&&this.id()===t.id()&&this.obj().equals(t.obj())},e.prototype.containingField=function(){return this.obj().fieldContainingWidget(this)},e.prototype.toPrettyPrint=function(){return"[object "+this.objClass()+' id="'+this.id()+'" objId="'+this.obj().id()+'"]'},e.prototype.getAttributeData=function(e){return this.obj().getWidgetAttribute(this.id(),e)},e.prototype.getData=function(){return this.obj().getWidgetData(this.id())},e.prototype.failIfNotPersisted=function(){if(!this.isPersisted())throw new o.Ix("Can not access a new widget before it has been saved.")},e.prototype.updateSelf=function(e){var t,n={_widgetPool:[(t={},t[this.id()]=e,t)]};this.obj().update(n)},e.prototype.executeDidPersistCallback=function(){this.onDidPersistCallback&&(this.onDidPersistCallback(this),delete this.onDidPersistCallback)},e.prototype.copyPersisted=function(){var t=lt(this);return e.newWithSerializedAttributes(t)},e.prototype.copyUnpersisted=function(){var t=new e(void 0,void 0,(0,r.Xc)(this.attributesToBeSaved,at));return this.onDidPersistCallback&&t.onDidPersist(this.onDidPersistCallback),t},e}();function at(e){if(dt(e)){var t=e[0],n=e[1];return[(Array.isArray(t)?t:[t]).map((function(e){return e.copy()})),n]}return e.slice(0)}function st(e,t,n){return"string"==typeof n?st(e,t,[n]):ct(e,(0,o.It)(t),n)}function ct(e,t,n){var r=e.getAttributeData(t,n[0]);return h(e,r,n)}function lt(e){return(0,r.Xc)(e.getData(),(function(t,n){return t&&!(0,o.mb)(n)&&(0,i.O6)(t)?["widgetlist",ct(e,n,["widgetlist"]).map(lt)]:t}))}function ut(e,t){Object.keys(t).forEach((function(n){var r=t[n];if(dt(r)){var i=r[0];(Array.isArray(i)?i:[i]).forEach((function(t){t.persistInObjIfNecessary(e)}))}}))}function dt(e){if(e.length<2)return!1;var t=e[0];return"widgetlist"===e[1][0]&&(t instanceof ot||!!Array.isArray(t)&&t.every((function(e){return e instanceof ot})))}function ft(e){return(0,r.Xc)(e,(function(e,t){if((0,o.mb)(t))return Array.isArray(e)?e:[e];if(!Array.isArray(e))throw new o.AQ;var n=e[0],r=e[1];return"string"==typeof r?[n,[r]]:[n,r]}))}var pt=function(){return pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pt.apply(this,arguments)},ht={isInScope:function(){return!0},applyToSearch:function(e){return e},applyToCreate:function(e){return pt({_site_id:null},e)}};function mt(){return u(["empty"])}var vt={isInScope:function(e){return null!==e.siteId()},applyToSearch:function(e){return e.andNot("_siteId","equals",null)},applyToCreate:function(){throw new o.AQ}},gt=function(){return gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gt.apply(this,arguments)},_t={isInScope:function(e){return null===e.siteId()},applyToSearch:function(e){return e.and("_siteId","equals",null)},applyToCreate:function(e){return gt(gt({},e),{_site_id:null})}},bt=function(){return bt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},bt.apply(this,arguments)};function yt(e){return{isInScope:function(t){var n=t.siteId();return n===e||null===n},applyToSearch:function(t){return t.and("_siteId","equals",[e,null])},applyToCreate:function(t){return bt(bt({},t),{_site_id:e})}}}var wt=function(){return wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wt.apply(this,arguments)};function kt(e,t){return function(e,t){return n=this,r=void 0,s=function(){var n,r;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return[4,(0,H.zD)((function(){return e.getData()}))];case 1:return(n=a.sent())?(r=function(e,t,n){var r=[];return(0,i.dx)(e,(function(e,i,a){var s=Et[e[0]];if(s){var c=(0,H.zD)((function(){return s(e,n)})).then((function(n){var r,s,c=a?t.getWidgetAttribute(a,i):t.getAttributeData(i);if((0,o.fS)(c,e)){var l=((r={})[i]=n,r);a?t.objData.update({_widget_pool:(s={},s[a]=l,s)}):t.objData.update(l)}}));r.push(c)}})),r}(n,e,t),r.length?[4,o.s8.all(r)]:[2]):[2];case 2:return a.sent(),[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{c(s.next(e))}catch(e){t(e)}}function o(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){t.done?e(t.value):function(e){return e instanceof a?e:new a((function(t){t(e)}))}(t.value).then(i,o)}c((s=s.apply(n,r||[])).next())}));var n,r,a,s}(e,(function(e){var n;try{n=(0,H.qu)(void 0,(function(){return t(e)}))}catch(e){(0,o.a6)(e)}if(void 0!==n)if("string"!=typeof n)(0,o.a6)(new o.Ix("Unexpected result from mapping function passed to updateReferences (must be string or undefined): "+n));else{if(n.match(/^[a-f0-9]{16}$/))return n;(0,o.a6)(new o.Ix("Unexpected result from mapping function passed to updateReferences (not a valid obj id): "+n))}return e}))}var Et={html:function(e,t){return["html",e[1].replace(w.RY,(function(e){return"objid:"+t(e.slice(6,22))}))]},link:function(e,t){var n=e[1],r=n.obj_id;return r?["link",wt(wt({},n),{obj_id:t(r)})]:e},linklist:function(e,t){return["linklist",e[1].map((function(e){var n=e.obj_id;return n?wt(wt({},e),{obj_id:t(n)}):e}))]},reference:function(e,t){return["reference",t(e[1])]},referencelist:function(e,t){return["referencelist",e[1].map(t)]}},Ct=function(){return Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ct.apply(this,arguments)};function St(e){return{isInScope:function(t){return t.objClass()===e},applyToSearch:function(t){return t.and("_objClass","equals",e)},applyToCreate:function(t){return Ct(Ct({},t),{_obj_class:e})}}}function xt(e,t){var n=e.get(),r=e.getDiff(t);if(!(0,s.P3)(r)||!r.content)return n.map((function(e){return{widget:e,modification:null}}));var i=[];return r.content.forEach((function(n){var r=n[0],o=n[1],a=function(e,t,n,r){if("-"===n){var i=function(e,t,n){var r=e[0],i=k(p(e[1]),t);if(i){var o=i.widget(n);if(o)return o}var a=k(p(r),t);return null==a?void 0:a.widget(n)}(t,e.obj().id(),r);return i?{modification:e.getContainer()instanceof ot&&"deleted"===e.getContainer().modification(t)?null:"deleted",widget:i}:null}var o=e.get().find((function(e){return e.id()===r}));return o?{modification:"="===n?null:"new",widget:o}:null}(e,t,r,o);a&&i.push(a)})),i}var Ot=function(){function e(e){this.teamData=e}return e.prototype.id=function(){return this.teamData.id},e.prototype.name=function(){return this.teamData.name},e.prototype.description=function(){return this.teamData.description||""},e}();function Tt(e){return e.contentId()?Dt(e).search().dangerouslyUnboundedTake():[]}function jt(e,t){return e.contentId()&&Dt(e).and(xe(t)).search().take(1)[0]||null}function Dt(e){return p(e.objSpaceId()).and(Pt(e.contentId())).and(vt)}!function(){function e(e,t){this.editorData=e,this.teamsData=t}e.prototype.id=function(){return this.editorData.id},e.prototype.name=function(){return this.editorData.name},e.prototype.teams=function(){return this.teamsData.map((function(e){return new Ot(e)}))}}();var Nt=function(){return Nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nt.apply(this,arguments)};function Pt(e){return{isInScope:function(t){return t.contentId()===e},applyToSearch:function(t){return t.and("_contentId","equals",e)},applyToCreate:function(t){return Nt(Nt({},t),{_content_id:e})}}}!function(){function e(e){this.workspaceData=e}e.prototype.id=function(){return this.workspaceData.id},e.prototype.title=function(){return this.workspaceData.title}}()},45329:function(e,t,n){"use strict";n.d(t,{$g:function(){return i},YK:function(){return o}});var r={};function i(e){return r[e]||null}function o(e){return i(function(e){return"appClass-"+e}(e))}},31764:function(e,t,n){"use strict";n.d(t,{x:function(){return h},R:function(){return v}});var r,i,o=n(27378),a=n(56487),s=n(39671),c=n(45329),l=n(40313),u=n(80435),d=n(92402),f=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)},h=(0,u.$)((i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasError:!1},n}return f(t,e),t.prototype.componentDidCatch=function(e){(0,s.a6)(e),this.setState({hasError:!0})},t.prototype.shouldComponentUpdate=function(e){return this.props.widget.equals(e.widget)},t.prototype.render=function(){if(this.state.hasError){var e=void 0;return(0,a.DG)()&&(e=o.createElement("div",{className:"content_error"},"Widget could not be rendered due to application error.")),g(this.props.widget,o.createElement(l.D,{children:e}),this.props.placementModification)}return o.createElement(m,{widget:this.props.widget,widgetProps:this.props.widgetProps,placementModification:this.props.placementModification})},t}(o.Component),i.displayName="Scrivito.ContentTag.WidgetContent",i)),m=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.render=function(){return g(this.props.widget,o.createElement(this.getAppWidgetComponent(),this.getWidgetComponentProps()),this.props.placementModification)},t.prototype.getAppWidgetComponent=function(){var e=this.props.widget.objClass(),t=(0,c.YK)(e);if(!t)throw new s.ir('No component registered for widget class "'+e+'"');return t},t.prototype.getWidgetComponentProps=function(){var e={widget:(0,d.pz)(this.props.widget)};if(this.props.widgetProps&&this.props.widgetProps.hasOwnProperty("widget")){(0,s.a6)(new s.ir('The prop "widget" is not allowed inside "widgetProps"'));var t=this.props.widgetProps,n=(t.widget,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["widget"]));return p(p({},e),n)}return p(p({},e),this.props.widgetProps)},t}(o.Component),v=o.createContext({});function g(e,t,n){return o.createElement(v.Provider,{value:{widget:e,placementModification:n},children:t})}},40313:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var r=n(27378),i=n(86994),o=n(80435),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},s=(0,o.$)((function(e){var t=e.tag,n=void 0===t?"div":t,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["tag"]),s=(0,i.u$)("reactEditing","WidgetTagWithEditing");return s?r.createElement(s,a({tag:n},o)):r.createElement(n,a({},o))}))},80435:function(e,t,n){"use strict";n.d(t,{$:function(){return g}});var r,i=n(27378),o=n(39671),a=0;function s(){r&&0===a&&(r.resolve(),r=void 0)}var c,l=n(91190),u=n(36358),d=n(4644),f=n(7274),p=n(50864),h=n(37227),m=(c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(){return v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)};function g(e){if("function"!=typeof e)throw new o.ir("Scrivito.connect expects either a plain function or a subclass of React.Component");return function(e){return!0===e._isScrivitoConnectedComponent}(e)?e:function(e){return"function"==typeof e&&e.prototype&&e.prototype.isReactComponent}(e)?((n=function(e){function t(t){var n=e.call(this,t)||this;return n._scrivitoPrivateConnector=new b(n),n}return m(t,e),t.prototype.componentDidMount=function(){this._scrivitoPrivateConnector.componentDidMount(),e.prototype.componentDidMount&&e.prototype.componentDidMount.call(this)},t.prototype.componentWillUnmount=function(){this._scrivitoPrivateConnector.componentWillUnmount(),e.prototype.componentWillUnmount&&e.prototype.componentWillUnmount.call(this)},t.prototype.render=function(){var t=this;return this._scrivitoPrivateConnector.render((function(){return e.prototype.render.call(t)}))},t}(t=e))._isScrivitoConnectedComponent=!0,(r=n).displayName=(0,d.r)(t),r):function(e){var t=function(t){return function(n){var r=(0,p.N)(),o=i.useRef();o.current||(o.current=new b({forceUpdate:r}));var a=o.current;return i.useEffect((function(){return a.componentDidMount(),function(){return a.componentWillUnmount()}}),[]),a.render((function(){return e(t)}))}()};return t._isScrivitoConnectedComponent=!0,t.displayName=(0,d.r)(e),t}(e);var t,n,r}var _=i.createContext(0),b=function(){function e(e){this.component=e,this.isMounted=!1,this.loadingSubscriber=new u.aj}return e.prototype.componentDidMount=function(){var e=this;if(void 0===this.hierachyLevel)throw new o.AQ;if(this.stateSubscriber=(0,h.GS)((function(){return e.component.forceUpdate()}),this.hierachyLevel),this.isMounted=!0,this.onMount){var t=this.onMount.bind(this);delete this.onMount,t()}},e.prototype.componentWillUnmount=function(){this.stateSubscriber&&this.stateSubscriber.unsubscribe(),this.unregisterLoadingActivity(),this.isMounted=!1,this.loadingSubscriber.unsubscribe()},e.prototype.render=function(e){var t=this,n=this.renderLoadingAware(e);return i.createElement(_.Consumer,v({},(0,f.B)(n)),(function(e){return t.grabHierarchyLevel(e,i.createElement(_.Provider,{value:e+1},n))}))},e.prototype.grabHierarchyLevel=function(e,t){return this.hierachyLevel=e,t},e.prototype.renderLoadingAware=function(e){var t=this;if((0,u._$)())return y(e);var n=(0,u.IE)((function(){return(0,h.cC)((function(){return(0,l.qe)((function(){return y(e)}))}))})),r=n.result,i=r.accessedState,c=r.result;return this.whenMounted((function(){if(!t.stateSubscriber)throw new o.AQ;var e;t.stateSubscriber.subscribeChanges(i),n.subscribeLoading(t.loadingSubscriber),n.isAllDataLoaded()?t.unregisterLoadingActivity():t.unregisterLoadingActivityCallback||(t.unregisterLoadingActivityCallback=(a+=1,e=!1,function(){if(e)throw new o.AQ;e=!0,0==(a-=1)&&(0,o.Y3)(s)}))})),n.isAllDataLoaded()?c:this.handleLoading(c)},e.prototype.whenMounted=function(e){this.isMounted?e():this.onMount=e},e.prototype.handleLoading=function(e){return this.component._scrivitoRenderWhileLoading?this.component._scrivitoRenderWhileLoading():e},e.prototype.unregisterLoadingActivity=function(){var e=this.unregisterLoadingActivityCallback;e&&(delete this.unregisterLoadingActivityCallback,e())},e}();function y(e){var t=(0,u.zL)((function(){return(0,h.sc)({contextName:"React.Component#render",message:"Use one of the React lifecycle hooks."},e)}));return t.success?t.result:null}},4644:function(e,t,n){"use strict";function r(e){return e.displayName||e.name}n.d(t,{r:function(){return r}})},7274:function(e,t,n){"use strict";n.d(t,{B:function(){return o}});var r=n(27378);function i(e){if(r.isValidElement(e))return e.props.__scrivitoForwardElementType||e.type}function o(e){return{__scrivitoForwardElementType:i(e)}}},50864:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(27378);function i(){var e=r.useState(0)[1];return function(){return e((function(e){return e+1}))}}},24184:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var r,i=n(27378),o=n(80435);var a=(r=function(e){var t,n,r=i.createContext(!0);return{Provider:r.Provider,Consumer:(t=r.Consumer,n=(0,o.$)((function(e){return(0,e.callback)(e.value)})),function(e){var r=e.children;return i.createElement(t,null,(function(e){return i.createElement(n,{callback:r,value:e})}))})}}()).Consumer;r.Provider},83774:function(e,t,n){"use strict";n.d(t,{gH:function(){return De},Du:function(){return Ze},xp:function(){return Se.x},$j:function(){return i.$},r0:function(){return o.r},$g:function(){return c.$g},t0:function(){return l}});var r,i=n(80435),o=n(4644),a=n(27378),s=n(39671),c=n(45329);function l(e,t){return Object.keys(e).every((function(n){return(0,s.Fe)(e[n],t[n])}))}n(40313),n(7274),r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};var u=n(80254);function d(e){var t=document.createElement("canvas");return t.height=e.height,t.width=e.width,f(e,t.getContext("2d")),t}function f(e,t){t.drawImage(e,0,0)}function p(e,t,n,r){if(!h())throw new Error("Browser does not support getCSSCanvasContext!");return h()(e,t,n,r)}function h(){return document.getCSSCanvasContext&&document.getCSSCanvasContext.bind(document)}function m(){return!!v()}function v(){return document.mozSetImageElement&&document.mozSetImageElement.bind(document)}function g(e){var t=new Image;return _(t)?function(e,t){if(!_(e))throw new Error("Browser does not support decode!");return e.src=t,function(e){return e.decode&&e.decode.bind(e)}(e)().then((function(){return e}))}(t,e):function(e,t){return new s.s8((function(n,r){e.onload=function(){return n(e)},e.onerror=function(e){return r(e)},e.src=t}))}(t,e)}function _(e){return!!e.decode}var b=0;function y(){return b+=1}var w=function(){function e(e){this.decodedUrls={},this.loadingRegistry={},this.clears=[],this.onUpdateCallback=e}return e.prototype.getBackgroundImage=function(e){var t=this.decodedUrls[e];return t||this.ensureLoading(e),t},e.prototype.clear=function(){this.clears.map((function(e){return e()})),this.onUpdateCallback=void 0},e.prototype.ensureLoading=function(e){var t=this;if(!this.decodedUrls[e]&&!this.loadingRegistry[e]){var n=function(e){return g(e).then((function(t){return m()?function(e){var t=d(e),n="ScrivitoBackgroundImage"+y();return function(e,t){if(!m())throw new Error("Browser does not support mozSetImageElement!");v()(e,t)}(n,t),{decodedBackgroundUrl:"-moz-element(#"+n+")",clear:function(){return function(e){if(!m())throw new Error("Browser does not support mozSetImageElement!");v()(e,null)}(n)}}}(t):h()?function(e){var t="ScrivitoBackgroundImage"+y();return f(e,p("2d",t,e.width,e.height)),{decodedBackgroundUrl:"-webkit-canvas("+t+")",clear:function(){p("2d",t,0,0)}}}(t):_(t)?{decodedBackgroundUrl:"url("+e+")"}:function(e){return d(e),{decodedBackgroundUrl:"url("+e.src+")"}}(t)})).catch((function(){return{decodedBackgroundUrl:"url("+e+")"}}))}(e).then((function(n){var r=n.decodedBackgroundUrl,i=n.clear;i&&t.clears.push(i),t.decodedUrls[e]=r,t.onUpdateCallback&&t.onUpdateCallback()}));this.loadingRegistry[e]=(0,s.sH)(n,(function(){return delete t.loadingRegistry[e]}))}},e}(),k=new s.AY;function E(e){if(e.isRaw()||e.isExplicitlyTransformed())return{initialUrl:e.url()};var t=C(e).url();if(k.current())return{initialUrl:t};var n=function(e){var t=Math.max((0,s.M0)().width*(0,s.KL)(),128);return e.optimizeFor({width:t})}(e).urlWithoutPlaceholder();return n&&t!==n?{initialUrl:t,highResUrlToDecode:n}:{initialUrl:t}}function C(e){return e.optimizeFor({width:128})}var S,x=n(98728),O=n(35732),T=n(92402),j=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},D.apply(this,arguments)},N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},P=s.pC.interface({image:s.pC.String,attachment:s.pC.maybe(s.pC.String),clip:s.pC.maybe(s.pC.String),color:s.pC.maybe(s.pC.String),origin:s.pC.maybe(s.pC.String),position:s.pC.maybe(s.pC.String),repeat:s.pC.maybe(s.pC.String),size:s.pC.maybe(s.pC.String)}),A=s.pC.interface({image:s.pC.union([x.pf,x.Bt,s.pC.String,s.pC.Nil]),attachment:s.pC.maybe(s.pC.enums.of(["fixed","scroll"])),clip:s.pC.maybe(s.pC.enums.of(["border-box"])),color:s.pC.maybe(s.pC.enums.of(["transparent"])),origin:s.pC.maybe(s.pC.enums.of(["padding-box"])),position:s.pC.maybe(s.pC.enums.of(["center","left","right","top","bottom"])),repeat:s.pC.maybe(s.pC.enums.of(["no-repeat"])),size:s.pC.maybe(s.pC.enums.of(["contain","cover"]))}),I=s.pC.union([P,A]);I.dispatch=function(e){return H(e)?P:A};var M=s.pC.list(I),L=s.pC.union([I,M]);function R(e,t){if((0,u.Kn)(e)){var n=e,r=n.background,i=N(n,["background"]);return D(D({},i),function(e,t){return void 0===e?{}:Array.isArray(e)?{backgroundImage:F(n=e.map((function(e){return z(e,t)})),"backgroundImage"),backgroundAttachment:F(n,"backgroundAttachment"),backgroundClip:F(n,"backgroundClip"),backgroundOrigin:F(n,"backgroundOrigin"),backgroundPosition:F(n,"backgroundPosition"),backgroundRepeat:F(n,"backgroundRepeat"),backgroundSize:F(n,"backgroundSize"),backgroundColor:B(n)}:z(e,t);var n}(r,t))}return{}}function F(e,t){return e.map((function(e){return e[t]})).join(", ")}function B(e){var t=(0,u.Z$)(e);if(t)return t.backgroundColor}function z(e,t){return H(e)?W(e):function(e,t){var n=e.image;if(n instanceof x.Kb)return U(n,e,t);if(n instanceof T.eG){var r=(0,T.bM)(n);if((0,T.Gf)(r)){var i=r.get("blob",["binary"]);if(i)return U(i,e,t)}}return W({image:"none"})}(e,t)}function W(e){return{backgroundImage:e.image,backgroundAttachment:e.attachment||"scroll",backgroundClip:e.clip||"border-box",backgroundColor:e.color||"transparent",backgroundOrigin:e.origin||"padding-box",backgroundPosition:e.position||"0% 0%",backgroundRepeat:e.repeat||"repeat",backgroundSize:e.size||"auto"}}function U(e,t,n){return{backgroundImage:n(e),backgroundAttachment:t.attachment||"scroll",backgroundClip:t.clip||"border-box",backgroundColor:t.color||"transparent",backgroundOrigin:t.origin||"padding-box",backgroundPosition:t.position||"center center",backgroundRepeat:t.repeat||"no-repeat",backgroundSize:t.size||"cover"}}function H(e){return(0,u.HD)(e.image)}L.dispatch=function(e){return Array.isArray(e)?M:I},(0,i.$)(((S=function(e){function t(t){var n=e.call(this,t)||this;return n.decoder=new w((function(){return n.forceUpdate()})),n.binaryToUrl=n.binaryToUrl.bind(n),n}return j(t,e),t.prototype.componentWillUnmount=function(){this.decoder.clear()},t.prototype.render=function(){var e=this.props,t=e.style,n=e.tag,r=N(e,["style","tag"]),i=n;return function(e){if((0,u.Kn)(e))for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];r.match(/^background.+/)&&(0,s.a6)(new s.ir('Invalid background related CSS property "'+r+'". Expected property "background" alongside with any non-background propertiesFor further details, see https://www.scrivito.com/js-sdk/BackgroundImageTag'))}}(t),a.createElement(i,D({},r,{style:R(t,this.binaryToUrl)}))},t.prototype.binaryToUrl=function(e){var t=E(e),n=t.initialUrl,r=t.highResUrlToDecode;return r&&this.decoder.getBackgroundImage(r)||"url("+n+")"},t}(a.Component)).displayName="Scrivito.BackgroundImageTag",S.propTypes=(0,O.propTypes)({tag:s.pC.maybe(s.pC.String),style:s.pC.maybe(s.pC.interface({background:s.pC.maybe(L)},{strict:!1}))},{strict:!1}),S.defaultProps={tag:"div",style:{}},S));var Z=n(87826),q=n(86994),V=n(18333),K=n(84149),$=n(69057),G=n(703),Y=n(36358),Q=n(37227),X=function(){return X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},X.apply(this,arguments)},J=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ee=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function te(e,t,n){return e instanceof x.AM?function(e,t,n){if(e.isExternal())return{url:e.url()};var r=n||e.hash(),i=t&&!(0,u.xb)(t)?t:e.queryParameters(),o=e.obj(),a=o instanceof x.Jj?o.id():e.objId();return a?{objId:a,query:i,hash:r}:void 0}(e,t,n):{objId:e.id(),query:t,hash:n}}var ne=s.pC.union([x.Bt,x.Un]),re=s.pC.union([s.pC.Function,ne]),ie=s.pC.dict(s.pC.String,s.pC.maybe(s.pC.union([s.pC.String,s.pC.list(s.pC.String),s.pC.Nil]))),oe=(0,s.PJ)("navigateTo",[["target",re],["options",s.pC.maybe(s.pC.interface({hash:s.pC.maybe(s.pC.String),params:s.pC.maybe(ie)},{strict:!1}))]],{docPermalink:"js-sdk/navigateTo"}),ae=(0,s.PJ)("navigateTo",[["target",re],["options",s.pC.maybe(ie)]],{docPermalink:"js-sdk/navigateTo"}),se=(0,s.PJ)("navigateTo",[["target",ne]],{docPermalink:"js-sdk/navigateTo"}),ce=n(9679),le=function(){return le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},le.apply(this,arguments)},ue=(0,i.$)((function(e){de(e);var t=le({},e);return delete t.children,delete t.to,delete t.params,a.createElement("a",le({},t,{href:function(){var e;return(null===(e=i())||void 0===e?void 0:e.href)||"#"}(),target:n(),rel:"rel"in e?e.rel:e.to instanceof T.rU&&(0,T.bM)(e.to).rel()||void 0,onClick:function(t){if(!e.onClick||(e.onClick(t),!t.defaultPrevented)){t.preventDefault();var o=i();if(o){var a=n(),c=o.to,l=o.href,u=o.queryParameters;return"_blank"===a||(0,$.D)(t)?(0,K.o)(l):"_top"===a&&ce.k?r(c,u):a?(0,s.xw)(l,a):void r(c,u)}}}}),e.children);function n(){return e.target?e.target:e.to instanceof T.rU&&(0,T.bM)(e.to).target()||void 0}function r(e,t){!function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=(0,G.oA)();if((0,Q.un)("navigateTo"),null!==e){var o;oe.apply(void 0,ee([e,t],n,!1));var a=null;if(t){var c=t.hash,l=t.params,d=J(t,["hash","params"]);ae(e,d),o=X(X({},d),l),a=c||null}var f=function(){return(0,u.mf)(e)?e():e};(0,Y.zD)(f).then((function(e){se(e);var t=(0,T.bM)(e);if(t instanceof x.Jj||t instanceof x.AM)return(0,Y.zD)((function(){return te(t,o,a)})).then((function(e){if(!e)throw new s.ir("The link provided to navigateTo has no destination.");return(0,G._i)(e,i)}))})).catch((function(e){(0,G.jc)(i)&&(0,s.a6)(e)}))}else(0,s.Y3)((function(){return oe.apply(void 0,ee([e,t],n,!1))}))}(e,t&&{params:t})}function i(){if(e.to){var t=(0,T.bM)(e.to);if(t instanceof x.AM||t instanceof x.Jj){var n=e.params||void 0;return{to:e.to,href:(0,V.M)(t,{queryParameters:n,withoutOriginIfLocal:!0}),queryParameters:n}}}return null}})),de=(0,s.PJ)("Scrivito.LinkTag",[["props",s.pC.interface({to:s.pC.maybe(s.pC.union([x.Bt,x.Un])),params:s.pC.union([s.pC.dict(s.pC.String,s.pC.union([s.pC.Nil,s.pC.String,s.pC.list(s.pC.String)])),s.pC.maybe(s.pC.irreducible("false",(function(e){return!1===e})))]),onClick:s.pC.maybe(s.pC.Function)},{strict:!1})]],{docPermalink:"js-sdk/LinkTag",severity:"warning"}),fe=(0,i.$)((function(e){var t=(0,T.pz)(e.child);return e.renderChild?e.renderChild(t):a.createElement("li",null,a.createElement(ue,{to:t},e.child.get("title","string")))}));function pe(e,t){return t.displayName=e,t}fe.displayName="Scrivito.ChildListTag.ChildItem";var he=function(){return he=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},he.apply(this,arguments)},me=((0,i.$)(pe("Scrivito.ChildListTag",(function(e){var t=e.parent,n=void 0===t?(0,Z.lo)():t,r=e.tag,i=void 0===r?"ul":r,o=e.renderChild,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["parent","tag","renderChild"]);if(!n)return null;var c=n._scrivitoPrivateContent,l=c.orderedChildren().map((function(e){return a.createElement(fe,{key:e.id(),child:e,renderChild:o})})),u=(0,q.u$)("reactEditing","ChildListTagWithEditing");return u?a.createElement(u,he({tag:i,basicParent:c},s),l):a.createElement(i,he({},s),l)}))),n(56487)),ve=n(3647),ge=n(28251),_e=n(92471),be=n(79439);function ye(e){return we(e.target,e.currentTarget,(0,$.D)(e))}function we(e,t,n){if(e===t)return null;if("A"===e.nodeName){var r=e.href,i=_e(r);return(0,be.m4)(i)?n||"_blank"===e.getAttribute("target")?{openInNewWindow:r}:{openInCurrentWindow:i.resource()}:null}return e.parentNode?we(e.parentNode,t,n):null}var ke=n(25947),Ee=n(41724),Ce=n(81784),Se=n(31764),xe=n(24184),Oe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Te=(0,i.$)(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oe(t,e),t.prototype.render=function(){var e=this;if((0,me.rl)())return this.widgetlistChildrenForComparison();var t=this.props.field;return(0,me.DG)()&&(0,Ce.r)(t.obj().id())?a.createElement(xe.d,null,(function(n){return e.renderWidgets(t,n)})):this.renderWidgets(t,!1)},t.prototype.renderWidgets=function(e,t){var n=this,r=this.props.field.get();if(r.length)return a.createElement(a.Fragment,null,r.map((function(e){return a.createElement(Se.x,{key:e.id(),widget:e,widgetProps:n.props.widgetProps})})));if(!t)return null;var i=(0,q.u$)("reactEditing","WidgetlistPlaceholder");return i?a.createElement(i,{field:e}):null},t.prototype.widgetlistChildrenForComparison=function(){var e=this;return(0,x.Wd)(this.props.field,(0,ve.N)()).map((function(t){return a.createElement(Se.x,{key:t.widget.id()+"-"+t.modification,widget:t.widget,widgetProps:e.props.widgetProps,placementModification:t.modification})}))},t}(a.Component)),je=function(){return je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},je.apply(this,arguments)},De=(0,i.$)(pe("Scrivito.ContentTag.AttributeValue",(function(e){var t=a.useRef();a.useEffect((function(){if(t.current){var n=e.field.obj().id(),r=e.field.name();return(0,Ee.aL)({objId:n,attributeName:r},t.current)}}),[e.field.obj().id(),e.field.name(),t.current]);var n=e.customProps,r=n.children,i=n.dangerouslySetInnerHTML,o=n.onClick,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(n,["children","dangerouslySetInnerHTML","onClick"]),c=function(e,t,n,r,i){var o=t||n?{children:t,dangerouslySetInnerHTML:n?{__html:(0,ke.q)(n.__html)}:void 0}:void 0;switch(e.type()){case"html":return function(e,t,n){var r=(0,me.rl)()?e.getHtmlDiffContent((0,ve.N)()):void 0;return t&&!r?je(je({},t),{onClick:n||Ne}):{dangerouslySetInnerHTML:{__html:(0,ke.q)(r||e.get())},onClick:Ne}}(e,o,r);case"string":return function(e,t){if((0,me.rl)()){var n=e.getHtmlDiffContent((0,ve.N)());if(n)return{dangerouslySetInnerHTML:{__html:n}}}return null!=t?t:{children:e.get()}}(e,o);case"float":case"integer":return null!=o?o:function(e){var t=e.get();return{children:0===t?"0":t}}(e);case"widgetlist":return{children:a.createElement(Te,{field:e,widgetProps:i})};default:return null!=o?o:{}}}(e.field,r,function(e){return(0,u.Kn)(e)&&"string"==typeof e.__html}(i)?i:void 0,o,e.widgetProps),l=e.onClick?{onClick:e.onClick,"data-scrivito-is-clickable":!0}:{};return a.createElement(e.tag,je(je(je(je({},s),c),l),{ref:function(n){t.current=n,e.elementCallback&&e.elementCallback(n)}}))})));function Ne(e){var t,n=ye(e);n&&((t=n)&&t.openInNewWindow?function(e,t){var n=t.openInNewWindow;ce.k&&(e.preventDefault(),(0,K.o)(n))}(e,n):function(e,t){var n=t.openInCurrentWindow;e.preventDefault(),ge.VF(n)}(e,n))}var Pe=function(){return Pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pe.apply(this,arguments)},Ae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ie=(0,i.$)(Le);Ie.displayName="Scrivito.ContentTag";var Me=(0,i.$)((function(e){var t=e.elementCallback;return Le(Ae(e,["elementCallback"]),t)}));function Le(e,t){var n=e.content,r=e.attribute,i=e.tag,o=e.widgetProps,c=Ae(e,["content","attribute","tag","widgetProps"]);if(!n)return null;var l=T.V_.basicFieldFor(n,r);if(!l)return(0,s.a6)(new s.ir('Component "Scrivito.ContentTag" received prop "attribute" with invalid value: Attribute "'+r+'" is not defined for content specified in prop "content".')),null;if((0,me.rl)()){var u=(0,ve.N)(),d=u[0],f=u[1];if(!(l=l.inObjSpace(f)||l.inObjSpace(d)))return null}o&&"widgetlist"!==l.type()&&(0,s.a6)(new s.ir('The prop "widgetProps" is only allowed for widgetlist attributes'));var p={elementCallback:t,field:l,tag:i||"div",customProps:c,widgetProps:o},h=(0,q.u$)("reactEditing","AttributeValueWithEditing");return h?a.createElement(h,Pe({},p)):a.createElement(De,Pe({},p))}var Re,Fe=n(89507);var Be=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Be(t,e),t.prototype.componentDidMount=function(){this.notifyScrollWindow()},t.prototype.componentDidUpdate=function(){this.notifyScrollWindow()},t.prototype.render=function(){return null},t.prototype.notifyScrollWindow=function(){var e;e=this.props.navigationState,(0,ge.XB)(e.historyState)&&(function(e){if(e.historyState.isRevisit)return!1;if(-1!==e.historyState.location.indexOf("#"))return!1;var t=e.locationRoute;return!!(0,be.Kh)(t)||!(0,be.QF)(t)&&e.historyState.historyChangesCount!==(null==Re?void 0:Re.historyState.historyChangesCount)}(e)&&(0,s.X5)(0,0),Re=e)},t}(a.Component),We=(0,i.$)((function(){var e,t,n=(0,Fe.if)();if(!n)return null;var r=n.currentPage,i=n.navigationState;if(!r)return null;var o=a.createElement(function(e){var t=(0,c.YK)(e);if(!t)throw new s.ir('No component registered for obj class "'+e+'"');return t}(r.objClass()),{page:(0,T.pz)(r),params:_e.parseQuery(null!==(t=null===(e=null==i?void 0:i.locationRoute)||void 0===e?void 0:e.query)&&void 0!==t?t:"")});return a.createElement(a.Fragment,null,a.createElement(ze,{navigationState:i}),o)}));We.displayName="Scrivito.CurrentPage";var Ue=function(){function e(e){this.decodedUrls={},this.loadingRegistry={},this.onUpdateCallback=e}return e.prototype.getImage=function(e){var t=this.decodedUrls[e];return t||this.ensureLoading(e),t},e.prototype.cancelUpdateCallback=function(){this.onUpdateCallback=void 0},e.prototype.ensureLoading=function(e){var t=this;if(!this.decodedUrls[e]&&!this.loadingRegistry[e]){var n=function(e){return g(e).then((function(t){return _(t)||d(t),e})).catch((function(){return e}))}(e).then((function(n){t.decodedUrls[e]=n,t.onUpdateCallback&&t.onUpdateCallback()}));this.loadingRegistry[e]=(0,s.sH)(n,(function(){return delete t.loadingRegistry[e]}))}},e}(),He=function(){return He=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},He.apply(this,arguments)},Ze=(0,i.$)((function(e){var t=e.content,n=e.attribute,r=void 0===n?"blob":n,i=e.width,o=e.onLoad,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["content","attribute","width","onLoad"]),l=a.useState("lazy"===c.loading),u=l[0],d=l[1],f=a.useCallback((function(e){return d(!1),null==o?void 0:o.call(null,e)}),[o]),p=a.useCallback((function(e){(function(e){return e&&e.complete})(e)&&d(!1)}),[]),h=a.useState(0)[1],m=a.useMemo((function(){return u?void 0:new Ue((function(){return h((function(e){return e+1}))}))}),[u]);if(a.useEffect((function(){return function(){return null==m?void 0:m.cancelUpdateCallback()}}),[m]),!t)return null;if(t instanceof x.Kb){var v=Ve(t,i,u);return null===v?null:a.createElement("img",He({src:qe(m,t),width:v},c,{onLoad:f,ref:p}))}var g=function(e,t){var n=T.V_.basicFieldFor(e,t);if(n){var r=n.type();if("binary"===r)return n.get();if("reference"===r){var i=n.get();return i instanceof x.Jj&&i.get("blob","binary")||null}(0,s.a6)(new s.ir('Component "Scrivito.ImageTag" received prop "content" with an object, whose attribute "'+t+'" is of unexpected type "'+r+'". Valid attribute types are "binary" and "reference".'))}else T.V_.forInstance(e)&&(0,s.a6)(new s.ir('Component "Scrivito.ImageTag" received prop "content" with an object missing attribute "'+t+'".'))}(t,r);if(void 0===g)return null;if(null===g)return a.createElement(Ie,He({attribute:r,content:t,tag:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIAQMAAACXljzdAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAABxJREFUWMPtwYEAAAAAw6D5U1/hAFUBAAAAAHwGFFAAAQCfIxUAAAAASUVORK5CYII","data-scrivito-image-placeholder":!0,width:i},c));var _=Ve(g,i,u);return null===_?null:a.createElement(Me,He({attribute:r,content:t,width:_,tag:"img",src:qe(m,g)},c,{onLoad:f,elementCallback:p}))}));function qe(e,t){var n=E(t),r=n.initialUrl,i=n.highResUrlToDecode;return i&&(null==e?void 0:e.getImage(i))||r}function Ve(e,t,n){if(n&&!function(e){return e.isRaw()||e.isExplicitlyTransformed()?!!e.urlWithoutPlaceholder():!!C(e).urlWithoutPlaceholder()}(e))return null;if(void 0!==t)return t;if(!e.isRaw()&&!e.isExplicitlyTransformed()){var r=e.raw().metadata();if("image/svg+xml"!==r.contentType()){var i=r.get("width");return(0,u.hj)(i)?i:null}}}var Ke=(0,i.$)((function(e){var t=e.children,n=(0,Fe.fW)();return n&&(0,ge.XB)(n.historyState)?a.createElement("div",null,a.createElement(ze,{navigationState:n}),t||a.createElement(a.Fragment,null,a.createElement("h1",null,"The page you were looking for doesn't exist."),a.createElement("p",null,"You may have mistyped the address or the page may have moved."))):null}));Ke.displayName="Scrivito.NotFoundErrorPage",n(50864)},29060:function(e,t,n){"use strict";n.r(t),n.d(t,{AttributeValueWithEditing:function(){return E},ChildListTagWithEditing:function(){return pe},OptionMarker:function(){return G},WidgetTagWithEditing:function(){return re},WidgetlistPlaceholder:function(){return ve}});var r,i,o=n(27378),a=n(81784),s=n(56487),c=n(92385),l=n(83774),u=n(24184),d=n(31542),f=n(27401),p=n(41724),h=n(39671),m=n(36358),v=n(25947),g=n(37227),_=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=function(){return b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},b.apply(this,arguments)},y=(0,l.$j)((i=function(e){function t(t){var n=e.call(this,t)||this;n.stateChangeCausedByEditor=new h.AY,n.field=n.props.field,n.state={domMode:"None"};var r=n.props.editorClass;if(r){var i={getContent:n.getContent.bind(n),options:n.options.bind(n),setContent:n.setContent.bind(n),setDomMode:n.setDomMode.bind(n),validObjClasses:n.validObjClasses.bind(n)};n.editor=new r({controller:i})}return n}return _(t,e),t.prototype.componentDidMount=function(){var e=this;if(this.editor){var t=this.editor;t.editorWillBeActivated();var n=(0,g.M5)((function(){return e.getContent()}),(function(){e.stateChangeCausedByEditor.current()||t.contentDidChange()}));this.unsubscribe=n.unsubscribe,"Replace"===this.state.domMode&&this.editorDomWasMounted()}},t.prototype.componentDidUpdate=function(e,t){var n=t.domMode,r=this.state.domMode;n!==r&&("Replace"===r?this.editorDomWasMounted():this.editorDomWasUnmounted())},t.prototype.componentWillUnmount=function(){this.editor&&this.editor.editorWillBeDeactivated(),this.unsubscribe&&this.unsubscribe(),this.unregisterScrollTarget&&this.unregisterScrollTarget()},t.prototype.render=function(){var e,t=this;if("Replace"===this.state.domMode){var n=this.props.customProps,r=(n.children,n.dangerouslySetInnerHTML,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(n,["children","dangerouslySetInnerHTML"]));return o.createElement(this.props.tag,b(b({},r),{ref:function(e){t.editorComponent=e}}))}var i=this.editor;return i&&i.onClick&&(e=function(e){var t={stopPropagation:e.stopPropagation.bind(e),preventDefault:e.preventDefault.bind(e)};i.onClick(t)}),o.createElement(l.gH,{elementCallback:function(e){t.editorComponent=e},widgetProps:this.props.widgetProps,customProps:this.props.customProps,field:this.props.field,key:this.state.domMode,tag:this.props.tag,onClick:e})},t.prototype.editorDomWasMounted=function(){if(this.editor&&this.editorComponent){var e=(0,d.findDOMNode)(this.editorComponent);this.editor.editorDomWasMounted(e);var t=this.props.field.obj().id(),n=this.props.field.name();this.unregisterScrollTarget=(0,p.aL)({objId:t,attributeName:n},e)}},t.prototype.editorDomWasUnmounted=function(){this.editor&&this.editor.editorDomWasUnmounted()},t.prototype.setDomMode=function(e){this.setState({domMode:e})},t.prototype.getContent=function(){var e=this;return(0,m.IE)((function(){var t;return"html"===e.field.type()?(t=e.field.get(),(0,v.q)(t,{preserveObjId:!0})):e.field.get()})).result},t.prototype.setContent=function(e){var t=this;this.stateChangeCausedByEditor.runWith(!0,(function(){return t.field.update(e)}))},t.prototype.options=function(){return(0,f.k0)(this.field.getContainer().objClass(),this.field.name(),this.field.type())},t.prototype.validObjClasses=function(){return this.field.validClasses()},t}(o.Component),i.displayName="Scrivito.ContentTag.Editor",i)),w=n(98728),k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},k.apply(this,arguments)},E=(0,l.$j)((function(e){return(0,s.DG)()&&(0,a.r)(e.field.obj().id())?o.createElement(u.d,null,(function(t){if(t){var n=e.field,r=e.tag,i=(0,c.editorRegistrationFor)({type:n.type(),tag:r});if(i){var a=i.id,s=i.editorClass,u=[r,(d=n.getContainer(),d instanceof w.Jj?d.id():d.obj().id()+"|"+d.id()),n.name(),a].join("|");return o.createElement(y,k({},e,{key:u,editorClass:s}))}}var d;return o.createElement(l.gH,k({},e))})):o.createElement(l.gH,k({},e))})),C=n(3647),S=n(9679),x=n(31764),O=n(76494),T=n(12188),j=n(90070),D=n(4644),N=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},P.apply(this,arguments)};function A(e){var t;return(t=function(t){function n(e){var n=t.call(this,e)||this;return n.registeredElement=new R,n}return N(n,t),n.prototype.render=function(){return o.createElement(e,P(P({},this.props),{registeredElement:this.registeredElement}))},n}(o.Component)).displayName=(0,D.r)(e)+"WithRegisteredElement",t}function I(e,t){var n;return(n=function(n){function r(e){var t=n.call(this,e)||this;return t.registeredElement=new R,t}return N(r,n),r.prototype.componentDidMount=function(){this.unregisterContentZone=(0,T.Z)(this.registeredElement.id(),e(this.props),this.context)},r.prototype.componentWillUnmount=function(){this.unregisterContentZone&&this.unregisterContentZone()},r.prototype.render=function(){return o.createElement(L.Provider,{value:this.registeredElement.id()},o.createElement(t,P(P({},this.props),{registeredElement:this.registeredElement})))},r}(o.Component)).displayName=(0,D.r)(t)+"WithContentZone",n.contextType=L,n}var M,L=o.createContext(void 0),R=function(){function e(){this.elementId=e.generateId()}return e.generateId=function(){return this.currentId++,this.currentId},e.prototype.id=function(){return this.elementId},e.prototype.set=function(e){e?(0,j.ui)(this.elementId,e):(0,j.so)(this.elementId)},e.currentId=0,e}(),F=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=A((0,l.$j)((M=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return F(t,e),t.prototype.render=function(){var e=this,t=function(e){switch(e.modification){case"new":return{tooltip:W("widget_is_new")};case"edited":switch(e.placementModification){case"new":return{markerClassName:"scrivito_widget_moved_icon",tooltip:W("widget_is_edited_and_dragged_here")};case"deleted":return{markerClassName:"scrivito_widget_moved_icon",tooltip:W("widget_is_edited_and_dragged_away"),disableMenu:!0};default:return{tooltip:W("widget_is_edited")}}case"deleted":return{tooltip:W("widget_is_deleted")};default:switch(e.placementModification){case"new":return{tooltip:W("widget_is_dragged_here")};case"deleted":return{tooltip:W("widget_is_dragged_away")}}}}(this.props.widgetModification),n=t.markerClassName,r=t.tooltip,i=t.disableMenu?void 0:this.onClick;return o.createElement("span",{ref:function(t){return e.props.registeredElement.set(t)},className:"scrivito_editing_marker "+n+" "+(i?"":"scrivito_disabled"),title:r,onClick:i,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut},o.createElement("i",{className:"scrivito_icon "+z(this.props.widgetModification)}),o.createElement("span",{className:"scrivito_editing_marker_title"},(0,c.titleForBasicWidget)(this.props.widget)))},t.prototype.onClick=function(e){e.preventDefault(),e.stopPropagation(),(0,O.K)().showWidgetMenu(this.props.registeredElement.id(),this.props.widget.obj().id(),this.props.widget.id(),{objSpaceId:this.props.widget.objSpaceId()})},t}(o.Component),M.displayName="Scrivito.ContentTag.ComparisonMenuMarker",M)));function z(e){switch(e.modification){case"new":return"scrivito_icon_inv_plus";case"edited":return"scrivito_icon_edited";case"deleted":return"scrivito_icon_trash";default:return"scrivito_icon_moved"}}function W(e){return function(e){if(S.k)return S.k.translate(e)}("widget_marker."+e)}var U,H,Z,q,V=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=A((0,l.$j)((U=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDragEnd=n.onDragEnd.bind(n),n}return V(t,e),t.prototype.render=function(){var e=this;return o.createElement("span",{ref:function(t){return e.props.registeredElement.set(t)},className:"scrivito_editing_marker",title:this.props.tooltip,onClick:this.onClick,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut,draggable:!0,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},o.createElement("i",{className:"scrivito_icon"}),o.createElement("span",{className:"scrivito_editing_marker_title"},(0,c.titleForBasicWidget)(this.props.widget)))},t.prototype.onClick=function(e){e.preventDefault(),e.stopPropagation(),(0,O.K)().showWidgetMenu(this.props.registeredElement.id(),this.props.widget.obj().id(),this.props.widget.id(),{objSpaceId:this.props.widget.objSpaceId()})},t.prototype.onDragStart=function(e){var t=e.dataTransfer,n=e.target;t.effectAllowed="move";try{t.setData("text/plain",n.id)}catch(e){}(0,O.K)().startDrag(this.props.widget.obj().id(),this.props.widget.id()),this.props.setDragState(!0)},t.prototype.onDragEnd=function(){(0,O.K)().endDrag(),this.props.setDragState(!1)},t}(o.Component),U.displayName="Scrivito.ContentTag.EditingMenuMarker",U))),$=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=(0,l.$j)((H=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return $(t,e),t.prototype.render=function(){var e="scrivito_option_marker scrivito_"+this.props.position;return this.props.isAlwaysShown&&(e+=" scrivito_visible"),o.createElement("span",{className:e,onClick:this.onClick,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut},o.createElement("i",{className:"scrivito_icon scrivito_icon_marker_plus"}))},t.prototype.onClick=function(e){e.stopPropagation(),this.props.insertWidget(this.props.widget,this.props.position)},t}(o.Component),H.displayName="Scrivito.OptionMarker",H)),Y=0,Q={},X=n(92402),J=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(){return ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ee.apply(this,arguments)},te=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ne=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},re=function(e){return o.createElement(x.R.Consumer,null,(function(t){return o.createElement(ie,ee({},t,e))}))},ie=I((function(e){var t=e.widget;if(!t)throw new h.AQ;return{type:"widget",objId:t.obj().id(),widgetId:t.id()}}),(0,l.$j)((q=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasFocus:!1,isDragging:!1,isFocusFadedOut:!0,isRevealed:!1,isRevealedOdd:!1},n.onMouseOver=n.onMouseOver.bind(n),n.onMouseOut=n.onMouseOut.bind(n),n.onWidgetFocus=n.onWidgetFocus.bind(n),n.onWidgetBlur=n.onWidgetBlur.bind(n),n.lockFocus=n.lockFocus.bind(n),n.unlockFocus=n.unlockFocus.bind(n),n.setDragState=n.setDragState.bind(n),n}return J(t,e),t.prototype.componentDidMount=function(){var e,t,n=this,r=this.getWidget(),i=this.widgetTagElement;i&&(this.unregisterScrollTarget=(0,p.aL)({objId:r.obj().id(),widgetId:r.id()},i,(function(){return n.setRevealed()}))),this.focusToken=(e={onFocus:this.onWidgetFocus,onBlur:this.onWidgetBlur},Q[t=Y]=e,Y+=1,t)},t.prototype.componentWillUnmount=function(){var e;e=this.focusToken,delete Q[e],this.unregisterScrollTarget&&this.unregisterScrollTarget()},t.prototype.render=function(){var e=this;if((0,s.DG)()){var t=this.getWidget().obj();if((0,a.r)(t.id()))return o.createElement(u.d,null,(function(t){return t?e.renderWithEditingMarker():e.renderWithoutMarker()}))}if((0,s.rl)()){var n=this.getWidgetModification();if(n&&!this.isChildOfDeletedWidget(n))return this.renderWithComparisonMarker(n)}return this.renderWithoutMarker()},t.prototype.getWidgetModification=function(){var e=this.getWidget().modification((0,C.N)()),t=this.props.placementModification;return e?{modification:e,placementModification:t}:t?{placementModification:t}:void 0},t.prototype.isChildOfDeletedWidget=function(e){var t=e.modification,n=e.placementModification;return"deleted"===t&&!n},t.prototype.renderWithEditingMarker=function(){var e,t=this,n=this.getWidget(),r=(0,c.getCachedValidationReportEntries)(n);return o.createElement(this.props.tag,ee(ee(ee({},this.forwardedPropsWithMarker()),{ref:function(e){t.props.registeredElement.set(e),t.widgetTagElement=e},className:this.className(),style:this.style(),onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,children:ne(ne([o.createElement(K,{key:"menuMarker",widget:n,tooltip:(e=r,e.map((function(e){return(0,h.Kw)(e.message)[0]})).join("\n")),setDragState:this.setDragState,onMouseOver:this.lockFocus,onMouseOut:this.unlockFocus})],o.Children.toArray(this.props.children),!0),[this.renderOptionMarker("top"),this.renderOptionMarker("bottom")],!1)}),this.dataProps({validationResults:r})))},t.prototype.renderWithComparisonMarker=function(e){var t=this;return o.createElement(this.props.tag,ee(ee(ee({},this.forwardedPropsWithMarker()),{ref:function(e){t.widgetTagElement=e},className:this.className(),style:this.style(),onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,children:ne([o.createElement(B,{key:"menuMarker",widget:this.getWidget(),widgetModification:e,onMouseOver:this.lockFocus,onMouseOut:this.unlockFocus})],o.Children.toArray(this.props.children),!0)}),this.dataProps({modification:e.modification||e.placementModification})))},t.prototype.renderWithoutMarker=function(){var e=this;return o.createElement(this.props.tag,ee(ee({},this.forwardedProps()),{ref:function(t){e.widgetTagElement=t}}))},t.prototype.getWidget=function(){var e=this.props.widget;if(!e)throw new h.Ix("Detected inappropriate placing of Scrivito.WidgetTag: It is intended to be used exclusively as top-level element inside a Widget component.");return e},t.prototype.forwardedProps=function(){var e=this.props;return e.tag,e.widget,e.placementModification,e.registeredElement,te(e,["tag","widget","placementModification","registeredElement"])},t.prototype.forwardedPropsWithMarker=function(){var e=this.forwardedProps();return e.className,e.style,te(e,["className","style"])},t.prototype.setDragState=function(e){this.setState({isDragging:e})},t.prototype.className=function(){var e=this.props.className||"";return(0,s.DG)()&&this.hasVisibleFocus()&&(e+=" scrivito_active scrivito_entered"),(0,s.rl)()&&this.isDeleted()&&(e+=" scrivito_modification_opacity"),this.state.isRevealed&&(e+=this.state.isRevealedOdd?" scrivito_wiggle_odd":" scrivito_wiggle_even"),e},t.prototype.hasVisibleFocus=function(){return this.state.hasFocus&&!this.state.isFocusFadedOut},t.prototype.isDeleted=function(){return"deleted"===this.props.placementModification||"deleted"===this.getWidget().modification((0,C.N)())},t.prototype.dataProps=function(e){var t=e.modification,n=e.validationResults,r={"data-scrivito-private-widget":"true","data-scrivito-private-dropzone":"true"};return this.isStructureWidget()&&(r["data-scrivito-private-structure-widget"]="true"),t&&(r["data-scrivito-private-widget-modification"]=t),this.hasValidationResultsFor("error",n)?r["data-scrivito-private-widget-validation-error"]="true":this.hasValidationResultsFor("warning",n)?r["data-scrivito-private-widget-validation-warning"]="true":this.hasValidationResultsFor("info",n)&&(r["data-scrivito-private-widget-validation-info"]="true"),r},t.prototype.hasValidationResultsFor=function(e,t){return!!t&&t.some((function(t){return t.severity===e}))},t.prototype.style=function(){return this.state.isDragging?this.props.style?ee(ee({},this.props.style),{opacity:.5}):{opacity:.5}:this.props.style},t.prototype.isStructureWidget=function(){var e=this.getWidget();if(e){var t=(0,X.pz)(e),n=X.V_.forInstance(t);if(n)return Object.keys(n.attributes).some((function(e){return"widgetlist"===n.attributes[e][0]}))}return!1},t.prototype.onMouseOver=function(e){var t,n;e.stopPropagation(),t=this.focusToken,(n=Q[Z=t])&&n.onFocus()},t.prototype.onMouseOut=function(e){e.stopPropagation(),function(e){if(e===Z){var t=Q[e];t&&t.onBlur()}}(this.focusToken)},t.prototype.onWidgetFocus=function(){var e=this;this.setState({hasFocus:!0,isFocusFadedOut:!1}),this.fadeOutFocusTimeout&&window.clearTimeout(this.fadeOutFocusTimeout),this.isStructureWidget()||(this.fadeOutFocusTimeout=window.setTimeout((function(){return e.fadeOutFocus()}),1e3))},t.prototype.fadeOutFocus=function(){this.state.isFocusFadedOut||this.isFocusLocked||this.setState({isFocusFadedOut:!0})},t.prototype.setRevealed=function(){this.setState({isRevealed:!0,isRevealedOdd:!this.state.isRevealedOdd})},t.prototype.lockFocus=function(){this.isFocusLocked=!0},t.prototype.unlockFocus=function(){this.isFocusLocked=!1},t.prototype.onWidgetBlur=function(){this.setState({hasFocus:!1})},t.prototype.renderOptionMarker=function(e){return o.createElement(G,{key:"optionMarker-"+e,position:e,widget:this.getWidget(),insertWidget:oe,isAlwaysShown:false,onMouseOver:this.lockFocus,onMouseOut:this.unlockFocus})},t}(o.Component),q.displayName="Scrivito.WidgetTag",q)));function oe(e,t){S.k.insertWidget(e.obj().id(),e.id(),t)}var ae,se,ce=n(80435),le=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ue=A((0,ce.$)((ae=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return le(t,e),t.prototype.render=function(){var e=this;return o.createElement("span",{ref:function(t){return e.props.registeredElement.set(t)},className:"scrivito_editing_marker",onClick:this.onClick},o.createElement("i",{className:"scrivito_icon"}),o.createElement("span",{className:"scrivito_editing_marker_title"},this.props.parent.objClass()))},t.prototype.onClick=function(e){e.preventDefault(),e.stopPropagation(),(0,O.K)().showChildListMenu(this.props.registeredElement.id(),this.props.parent.id())},t}(o.Component),ae.displayName="Scrivito.ChildListTag.MenuMarker",ae))),de=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fe=function(){return fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fe.apply(this,arguments)},pe=(0,ce.$)(function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasFocus:!1},n.onMouseOver=n.onMouseOver.bind(n),n.onMouseOut=n.onMouseOut.bind(n),n}return de(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.basicParent,r=t.tag,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["basicParent","tag"]);return o.createElement(u.d,null,(function(t){var a=(0,s.DG)()&&t,c=o.Children.toArray(e.props.children),l=a?function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([o.createElement(ue,{parent:n,key:"menuMarker"})],c,!0):c,u=a&&e.getPropsForEditing();return o.createElement(r,fe({},fe(fe({},u),i)),l)}))},t.prototype.getPropsForEditing=function(){return{onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,"data-scrivito-private-child-list-path":!0,className:this.state.hasFocus?"scrivito_active scrivito_entered "+this.props.className:this.props.className}},t.prototype.onMouseOver=function(e){e.stopPropagation(),this.setState({hasFocus:!0})},t.prototype.onMouseOut=function(e){e.stopPropagation(),this.setState({hasFocus:!1})},t}(o.Component)),he=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),me=function(){return me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},me.apply(this,arguments)},ve=I((function(e){return me({type:"widgetlist"},ge(e.field))}),(0,ce.$)((se=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return he(t,e),t.prototype.render=function(){var e=this;return o.createElement("div",{ref:function(t){e.widgetlistPlaceholder=t,e.props.registeredElement.set(t)},className:"scrivito_empty_widget_field","data-scrivito-private-dropzone":"true",onClick:this.onClick})},t.prototype.onClick=function(e){if(e.preventDefault(),e.stopPropagation(),this.widgetlistPlaceholder){var t=ge(this.props.field),n=t.objId,r=t.widgetId,i=t.attributeName;(0,O.K)().showWidgetlistMenu(this.props.registeredElement.id(),(0,h.jB)(e,this.widgetlistPlaceholder),n,i,r)}},t}(o.Component),se.displayName="Scrivito.ContentTag.WidgetlistPlaceholder",se)));function ge(e){var t=e.getContainer();return t instanceof w.Jj?{objId:t.id(),attributeName:e.name()}:{objId:t.obj().id(),widgetId:t.id(),attributeName:e.name()}}},92402:function(e,t,n){"use strict";n.d(t,{rU:function(){return V},eG:function(){return W},V_:function(){return u},Cn:function(){return _},OY:function(){return b},ll:function(){return m},Gf:function(){return Q},cv:function(){return Y},dz:function(){return k},bM:function(){return w},pz:function(){return y}});var r=n(39671),i=n(98728),o=n(80254);function a(e){if(!(0,r.q2)(e))throw new r.ir("Attribute names have to be in camel case.");if((0,r.mb)(e))throw new r.ir('Attribute name "'+e+'" is not a valid custom attribute name.')}function s(e,t,n){var r={};return Object.keys(t.attributes).forEach((function(t){if(!Object.prototype.hasOwnProperty.call(e,t));})),r}var c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=function(){function e(e,t){var n=t._scrivitoPrivateSchema,r=n?c({},n.attributes):{},i=e.attributes;i&&Object.keys(i).forEach((function(e){var t=i[e];r[e]=function(e){if("string"==typeof e)return[e];if("enum"===e[0]||"multienum"===e[0])return[e[0],e[1]];var t=e[1],n=t.only,r=l(t,["only"]),i="string"==typeof n?[n]:n;return[e[0],c(c({},r),{validClasses:i})]}(t)}));var o=e.onlyInside,a=e.onlyChildren,s=l(e,["onlyInside","onlyChildren"]),u=d(a),f=d(o);this.definition=c(c({},s),u?{attributes:r,onlyChildren:u,onlyInside:f}:{attributes:r,onlyInside:f})}return e.forInstance=function(t){return e.forClass(t.constructor)},e.forClass=function(e){return e._scrivitoPrivateSchema},e.basicFieldFor=function(t,n){var r=e.forInstance(t);if(!r)return null;var o=r.attribute(n);return o?new i.cO(t._scrivitoPrivateContent,n,o):null},Object.defineProperty(e.prototype,"attributes",{get:function(){return this.definition.attributes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extractTextAttributes",{get:function(){return this.definition.extractTextAttributes||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.definition.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onlyInside",{get:function(){return this.definition.onlyInside},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onlyChildren",{get:function(){return this.definition.onlyChildren},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validAsRoot",{get:function(){return this.definition.validAsRoot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onlyAsRoot",{get:function(){return this.definition.onlyAsRoot},enumerable:!1,configurable:!0}),e.prototype.attribute=function(e){return this.attributes[e]},e.prototype.isBinary=function(){var e=this.attribute("blob");return!!e&&"binary"===e[0]},e}();function d(e){return"string"==typeof e?[e]:(null==e?void 0:e.length)?e:void 0}var f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)},p=function(){function e(e){void 0===e&&(e={});var t=v(this.constructor);if(!t)throw new r.ir("Use a specific class (like TextWidget or ImageWidget) to create a Widget.");!function(e){if(e.constructor!==Object)throw new r.ir("The provided attributes are invalid. They have to be an Object with valid Scrivito attribute values.");if(e._objClass)throw new r.ir('Invalid attribute "_objClass". "new '+e._objClass+'" will automatically set the CMS object class correctly.')}(e);var n=u.forInstance(this);if(!n)throw new r.AQ;var o=k(f(f({},e),{_objClass:t}),n,t),a=i.E8.createWithUnknownValues(o);a.onDidPersist((function(e){S(y(e),s(o,n))})),this._scrivitoPrivateContent=a}return e.prototype.id=function(){return this._scrivitoPrivateContent.id()},e.prototype.objClass=function(){return this._scrivitoPrivateContent.objClass()},e.prototype.get=function(e){return a(e),C(this,e)},e.prototype.update=function(e){S(this,e)},e.prototype.obj=function(){return y(this._scrivitoPrivateContent.obj())},e.prototype.copy=function(){return y(this._scrivitoPrivateContent.copy())},e.prototype.destroy=function(){this._scrivitoPrivateContent.remove()},e.prototype.container=function(){return y(this._scrivitoPrivateContent.container())},e}(),h={};function m(e){return h[e]||null}function v(e){return(0,o.w_)(h,(function(t){return t===e}))||null}function g(e,t){var n=m(e);return n&&t.isPrototypeOf(n)?n:t}function _(){return(0,o.ei)(h,(function(e){return W.isPrototypeOf(e)}))}function b(){return(0,o.ei)(h,(function(e){return p.isPrototypeOf(e)}))}function y(e){return Array.isArray(e)?e.map((function(e){return y(e)})).filter((function(e){return null!==e})):e instanceof i.Jj?E(e,g(e.objClass(),W)):e instanceof i.E8?E(e,g(e.objClass(),p)):e instanceof i.AM?e.hasDestination()?E(e,V):null:e instanceof i.AZ?null:e}function w(e){return Array.isArray(e)?e.map((function(e){return w(e)})):function(e){return!!e&&!!e._scrivitoPrivateContent}(e)?e._scrivitoPrivateContent:e}function k(e,t,n){return(0,o.Xc)(e,(function(e,i){if((0,r.mb)(i))return[e];var o=t.attribute(i);if(!o)throw new r.ir('Attribute "'+i+'" is not defined for CMS object class "'+n+'".');return[w(e),o]}))}function E(e,t){var n=Object.create(t.prototype);return n._scrivitoPrivateContent=e,n}function C(e,t){var n=u.basicFieldFor(e,t);return n&&y(n.get())}function S(e,t){var n=v(e.constructor);if(!n){var i;throw i=e.constructor===W?"Obj":"Widget",new r.ir('Updating is not supported on the base class "'+i+'".')}if(t.constructor!==Object)throw new r.ir("The provided attributes are invalid. They have to be an Object with valid Scrivito attribute values.");var o=k(t,u.forInstance(e),n);e._scrivitoPrivateContent.updateWithUnknownValues(o)}var x=function(){function e(e){this._basicObjFacetValue=e}return e.prototype.name=function(){return this._basicObjFacetValue.name()},e.prototype.count=function(){return this._basicObjFacetValue.count()},e.prototype.includedObjs=function(){return y(this._basicObjFacetValue.includedObjs())},e}();var O=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},T=function(){function e(e){this._scrivitoPrivateContent=e}return e.prototype.and=function(t,n,i,o){if(t instanceof e){var a=t;this._scrivitoPrivateContent.and(a._scrivitoPrivateContent)}else{if(void 0===n)throw new r.ir("Missing operator to search with");if(void 0===i)throw new r.ir('Missing value to search (specify "null" for missing)');var s=t,c=D(i);this._scrivitoPrivateContent.and(s,n,c,o)}return this},e.prototype.andFullTextOf=function(e,t,n,r){N("objSearch.andFullTextOf",t,"js-sdk/ObjSearch-andFullTextOf");var i=D(n);return this._scrivitoPrivateContent.and(e,t,i,r),this},e.prototype.andNot=function(e,t,n){var r=D(n);return this._scrivitoPrivateContent.andNot(e,t,r),this},e.prototype.boost=function(e,t,n,r){return this._scrivitoPrivateContent.boost(e,t,D(n),r),this},e.prototype.facet=function(e,t){return this._scrivitoPrivateContent.facet(e,t).map((function(e){return new x(e)}))},e.prototype.suggest=function(e,t){return this._scrivitoPrivateContent.suggest(e,t)},e.prototype.first=function(){var e=this._scrivitoPrivateContent.first();return e?y(e):null},e.prototype.take=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];P.apply(void 0,O([e],t,!1));var r=void 0===e?this._scrivitoPrivateContent.dangerouslyUnboundedTake():this._scrivitoPrivateContent.take(e);return r.map((function(e){return y(e)}))},e.prototype.toArray=function(){return this._scrivitoPrivateContent.dangerouslyUnboundedTake().map((function(e){return y(e)}))},e.prototype.offset=function(e){return this._scrivitoPrivateContent.offset(e),this},e.prototype.order=function(e,t){if(Array.isArray(e)){if(void 0!==t)throw new r.ir("Direction can not be set independent of attributes.");return this._scrivitoPrivateContent.order(e),this}return this._scrivitoPrivateContent.order(e,t),this},e.prototype.count=function(){return this._scrivitoPrivateContent.count()},e}();if("function"==typeof Symbol){var j=Symbol.iterator;j&&(T.prototype[j]=function(){var e=this._scrivitoPrivateContent.iterator();return{next:function(){var t=e.next();return t.done?{done:t.done}:{done:t.done,value:y(t.value)}}}})}function D(e){return Array.isArray(e)?e.map((function(e){return w(e)})):w(e)}r.pC.refinement(r.pC.String,(function(e){return"contains"!==e&&"containsPrefix"!==e}),'Search operators except "contains" and "containsPrefix"');function N(e,t,n){return(0,r.PJ)(e,[["operator",r.pC.maybe(r.pC.enums.of(i.jS))]],{docPermalink:n})(t)}var P=(0,r.PJ)("objSearch.take",[["count",r.pC.maybe(r.tT)]],{docPermalink:"js-sdk/ObjSearch-take"}),A=function(){return A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},A.apply(this,arguments)},I=function(){function e(e,t){this.objClass=e,this.scopeIncludingDeletedObjs=t}return e.prototype.get=function(e){return this.getObj(e,this.scope())},e.prototype.getIncludingDeleted=function(e){return this.getObj(e,this.scopeIncludingDeletedObjs)},e.prototype.getByPath=function(e){return y((0,i.HG)(this.scope().and(i.U2),"_path",e))},e.prototype.getByPermalink=function(e){return y((0,i.HG)(this.scope(),"_permalink",e))},e.prototype.root=function(){return y((0,i.cS)(this.scope()))},e.prototype.all=function(){return this.getSearch(1e3)},e.prototype.where=function(e,t,n,r){return this.getSearch().and(e,t,n,r)},e.prototype.whereFullTextOf=function(e,t,n,r){return this.getSearch().andFullTextOf(e,t,n,r)},e.prototype.create=function(e){void 0===e&&(e={});var t=this.objClassNameForCreate();L(e);var n=M(e,t,u.forClass(this.objClass));return y((0,i.f_)(this.scope().and((0,i.lD)(t)),n))},e.prototype.createFromFile=function(e,t){void 0===t&&(t={});var n=this.objClassNameForCreate();if(function(e){if(!r.Tv.is(e)){if(r.R0.is(e))throw new r.ir('Creating CMS objects from file is only available with instances of "File", but an instance of "Blob" is given');throw new r.ir('Creating CMS objects from file is only available with instances of "File"')}}(e),L(t),Object.prototype.hasOwnProperty.call(t,"blob"))throw new r.ir('Setting attribute "blob" is not allowed when creating CMS objects from file, because the file will be assigned to that attribute');var o=u.forClass(this.objClass);if(!o.isBinary())throw new r.ir('Creating CMS objects from file is only available for classes with a binary attribute "blob"');var a=M(t,n,o);return(0,i.Yz)(this.scope().and((0,i.lD)(n)),e,a).then((function(e){return y(e)}))},e.prototype.toSiteContext=function(){return{get:this.get.bind(this),getIncludingDeleted:this.getIncludingDeleted.bind(this),getByPath:this.getByPath.bind(this),getByPermalink:this.getByPermalink.bind(this),root:this.root.bind(this),all:this.all.bind(this),where:this.where.bind(this),whereFullTextOf:this.where.bind(this),create:this.create.bind(this),createFromFile:this.createFromFile.bind(this)}},e.prototype.getObj=function(e,t){return y((0,i.R2)(this.getScopeRestrictedToSameClass(t),e))},e.prototype.getSearch=function(e){var t=this.getScopeRestrictedToSameClass(this.scope()).search();return void 0!==e&&t.batchSize(e),new T(t)},e.prototype.getScopeRestrictedToSameClass=function(e){var t=this.objClassName();return t?e.and((0,i.lD)(t)):e},e.prototype.objClassName=function(){return v(this.objClass)},e.prototype.objClassNameForCreate=function(){var e=this.objClassName();if(!e)throw new r.ir("Use a specific class (like Page or Image) in order to create an Obj.");return e},e.prototype.scope=function(){return this.scopeIncludingDeletedObjs.and(i.E2)},e}();function M(e,t,n){var r=s(e,n);return k(A(A({},e),r),n,t)}function L(e){if(e.constructor!==Object)throw new r.ir("The provided attributes are invalid. They have to be an Object with valid Scrivito attribute values.");if(e._objClass)throw new r.ir('Invalid attribute "_objClass". "'+e._objClass+'.create" will automatically set the CMS object class correctly.')}var R=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function F(e){var t=undefined();return t?z(e,(0,i.L8)(t)):new I(e,(0,i.Ti)())}function B(e,t){return z(e,t).toSiteContext()}function z(e,t){var n=(0,i.hA)((0,i.GD)()).and(t);return new I(e,n)}var W=function(){function e(){}return e.get=function(e){return F(this).get(e)},e.getIncludingDeleted=function(e){return F(this).getIncludingDeleted(e)},e.getByPath=function(e){return F(this).getByPath(e)},e.getByPermalink=function(e){return F(this).getByPermalink(e)},e.all=function(){return F(this).all()},e.root=function(){return F(this).root()},e.where=function(e,t,n,r){return F(this).where(e,t,n,r)},e.whereFullTextOf=function(e,t,n,r){return N("Obj.whereFullTextOf",t,"js-sdk/Obj-whereFullTextOf"),F(this).whereFullTextOf(e,t,n,r)},e.create=function(e){return F(this).create(e)},e.createFromFile=function(e,t){return F(this).createFromFile(e,t)},e.onAllSites=function(){return B(this,i.T8)},e.onSite=function(e){return U(e),B(this,(0,i.L8)(e))},e.prototype.id=function(){return this._scrivitoPrivateContent.id()},e.prototype.objClass=function(){return this._scrivitoPrivateContent.objClass()},e.prototype.get=function(e){return a(e),C(this,e)},e.prototype.update=function(e){S(this,e)},e.prototype.versionsOnAllSites=function(){return y((0,i.s1)(this._scrivitoPrivateContent))},e.prototype.versionOnSite=function(e){return Z(e),y((0,i.OW)(this._scrivitoPrivateContent,e))},e.prototype.createdAt=function(){return this._scrivitoPrivateContent.createdAt()},e.prototype.firstPublishedAt=function(){return this._scrivitoPrivateContent.firstPublishedAt()},e.prototype.publishedAt=function(){return this._scrivitoPrivateContent.publishedAt()},e.prototype.lastChanged=function(){return this._scrivitoPrivateContent.lastChanged()},e.prototype.path=function(){return this._scrivitoPrivateContent.path()},e.prototype.parent=function(){return y(this._scrivitoPrivateContent.parent())},e.prototype.ancestors=function(){return this._scrivitoPrivateContent.ancestors().map((function(e){return y(e)}))},e.prototype.finishSaving=function(){return this._scrivitoPrivateContent.finishSaving()},e.prototype.modification=function(){return this._scrivitoPrivateContent.modification()},e.prototype.backlinks=function(){return y(this._scrivitoPrivateContent.backlinks())},e.prototype.children=function(){return y(this._scrivitoPrivateContent.children())},e.prototype.permalink=function(){return this._scrivitoPrivateContent.permalink()},e.prototype.siteId=function(){return this._scrivitoPrivateContent.siteId()},e.prototype.language=function(){return this._scrivitoPrivateContent.language()},e.prototype.slug=function(){return this._scrivitoPrivateContent.slug()},e.prototype.isBinary=function(){var e=u.forInstance(this);return!!e&&e.isBinary()},e.prototype.isRestricted=function(){return this._scrivitoPrivateContent.isRestricted()},e.prototype.contentLength=function(){return this.isBinary()?this._scrivitoPrivateContent.contentLength():0},e.prototype.contentType=function(){return this.isBinary()?this._scrivitoPrivateContent.contentType():""},e.prototype.contentUrl=function(){return this.isBinary()?this._scrivitoPrivateContent.contentUrl():""},e.prototype.contentId=function(){return this._scrivitoPrivateContent.contentId()},e.prototype.metadata=function(){return this.isBinary()?this._scrivitoPrivateContent.metadata():new i.LG},e.prototype.restrict=function(){this._scrivitoPrivateContent.restrict()},e.prototype.unrestrict=function(){this._scrivitoPrivateContent.unrestrict()},e.prototype.updateReferences=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return H.apply(void 0,R([e],t,!1)),(0,i.Nv)(this._scrivitoPrivateContent,e)},e.prototype.widget=function(e){var t=this._scrivitoPrivateContent.widget(e);return t&&y(t)},e.prototype.widgets=function(){return y(this._scrivitoPrivateContent.widgets())},e.prototype.copy=function(){return this._scrivitoPrivateContent.copyAsync({_path:null}).then((function(e){return y(e)}))},e.prototype.destroy=function(){this._scrivitoPrivateContent.destroy()},e}(),U=(0,r.PJ)("Obj.onSite",[["siteId",r.pC.String]],{docPermalink:"js-sdk/Obj-static-onSite"}),H=(0,r.PJ)("obj.updateReferences",[["mapping",r.pC.Function]],{docPermalink:"js-sdk/Obj-updateReferences"}),Z=(0,r.PJ)("obj.versionOnSite",[["siteId",r.pC.String]],{docPermalink:"js-sdk/Obj-versionOnSite"}),q=function(){return q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},q.apply(this,arguments)},V=function(){function e(e){var t=$(e);this._scrivitoPrivateContent=new i.AM(t)}return e.prototype.title=function(){return this._scrivitoPrivateContent.title()},e.prototype.query=function(){return this._scrivitoPrivateContent.query()},e.prototype.hash=function(){return this._scrivitoPrivateContent.hash()},e.prototype.rel=function(){return this._scrivitoPrivateContent.rel()},e.prototype.target=function(){return this._scrivitoPrivateContent.target()},e.prototype.url=function(){return this._scrivitoPrivateContent.url()},e.prototype.obj=function(){var e=this._scrivitoPrivateContent.obj();return e instanceof i.Jj?y(e):null},e.prototype.queryParameters=function(){return this._scrivitoPrivateContent.queryParameters()},e.prototype.copy=function(t){var n=this._scrivitoPrivateContent.copy($(t)),r=Object.create(e.prototype);return r._scrivitoPrivateContent=n,r},e.prototype.isExternal=function(){return this._scrivitoPrivateContent.isExternal()},e.prototype.isInternal=function(){return this._scrivitoPrivateContent.isInternal()},e}(),K=["hash","obj","query","rel","target","title","url"];function $(e){return function(e){var t=o.zu.apply(void 0,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([Object.keys(e)],K,!1));if(!(0,o.xb)(t))throw new r.ir("Unexpected attributes "+(0,r.xr)(t)+". Available attributes: "+(0,r.xr)(K))}(e),(0,o.e$)(e,"obj")?q(q({},e),{objId:(t=e.obj,t?w(t).id():null)}):e;var t}var G;function Y(e){var t=e.objClass();if(t){var n=m(t);if(n)return u.forClass(n)}}function Q(e){var t=Y(e);return!!t&&t.isBinary()}G=function(e,t){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},G(e,t)}},37227:function(e,t,n){"use strict";n.d(t,{NB:function(){return I},dF:function(){return _},JH:function(){return F},GS:function(){return b},un:function(){return u},n2:function(){return A},N7:function(){return M},M5:function(){return L},cC:function(){return x},tH:function(){return k},sc:function(){return l}});var r=n(39671);function i(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||(t=e,n=Object.getPrototypeOf(t),null!==n&&null!==Object.getPrototypeOf(n)));var t,n}function o(e,t){return e===t?t:i(t)?function(e,t){var n={},r=!1;void 0===e&&(r=!0);var i=Object.keys(t),a=new Set;return e&&Object.keys(e).forEach((function(e){return a.add(e)})),a.size!==i.length&&(r=!0),i.forEach((function(i){a.has(i)||(r=!0);var s=e?e[i]:void 0,c=o(s,t[i]);c!==s&&(r=!0),n[i]=c})),r?Object.freeze(n):e}(i(e)?e:void 0,t):Array.isArray(t)?function(e,t){var n=!1;void 0!==e&&e.length===t.length||(n=!0);var r=t.map((function(t,r){var i=e?e[r]:void 0,a=o(i,t);return a!==i&&(n=!0),a}));return n?Object.freeze(r):e}(Array.isArray(e)?e:void 0,t):t}var a,s=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=new r.AY;function l(e,t){return c.runWith(e,t)}function u(e){var t=c.current();if(t){var n=e+" is not permitted inside '"+t.contextName+"'. "+(t.message||"");throw new d(n)}}var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(r.Ix),f=n(80254),p=function(){function e(e,t){this.value=e,this.copy=t,this.valueForReading=new r.AY}return e.prototype.read=function(e){var t=this.value;return this.valueForReading.runWith(t,(function(){return e(t)}))},e.prototype.write=function(e){this.valueForReading.current()===this.value&&(this.value=this.copy(this.value)),e(this.value)},e}(),h=function(){function e(){this.subscribersStore=new p([],(function(e){return e.slice()}))}return e.prototype.create=function(e,t){return void 0===t&&(t=0),new m(this,e,t)},e.prototype.count=function(){return this.subscribersStore.read((function(e){return e.length}))},e.prototype.reset=function(){this.subscribersStore.write((function(e){e.length=0}))},e.prototype.forEach=function(e){this.subscribersStore.read((function(t){return t.forEach(e)}))},e.prototype.add=function(e){this.subscribersStore.write((function(t){var n=(0,f.e1)(t,e,"rank");t.splice(n,0,e)}))},e.prototype.remove=function(e){this.subscribersStore.write((function(t){var n=t.indexOf(e);n>=0&&t.splice(n,1)}))},e}(),m=function(){function e(e,t,n){var i=this;void 0===n&&(n=0),this.subscriberSet=e,this.listener=t,this.rank=n,this.scheduleNotify=(0,r.Xq)(r.Y3,(function(){return i.notify()}))}return e.prototype.subscribeChanges=function(e){this.activeReference||this.subscriberSet.add(this),this.activeReference=e,this.hasChanges()&&this.listener()},e.prototype.unsubscribe=function(){this.activeReference&&(this.subscriberSet.remove(this),this.activeReference=void 0)},e.prototype.notify=function(){this.activeReference&&this.listener()},e.prototype.hasChanges=function(){var e;return!!(null===(e=this.activeReference)||void 0===e?void 0:e.hasChanges())},e}(),v=new h,g=new h;function _(e){return g.create(e)}function b(e,t){return void 0===t&&(t=0),v.create(e,t)}var y=new r.AY,w=!1;function k(e){try{y.runWith(!0,e)}finally{!y.current()&&w&&(w=!1,E())}}function E(){y.current()?w=!0:l({contextName:"state listeners"},(function(){v.forEach((function(e){e.hasChanges()&&e.notify()})),C()}))}var C=(0,r.Xq)(r.Y3,(function(){return g.forEach((function(e){e.hasChanges()&&e.scheduleNotify()}))})),S=function(){function e(e){this.detector=e}return e.prototype.hasChanges=function(){return this.detector()},e}();function x(e){var t=function(e){var t=function(e){var t=[],n=O.runWith(t,e),r=O.current();return void 0!==r&&t.forEach((function(e){return r.push(e)})),{result:n,detectors:t}}(e),n=t.result,r=t.detectors;return{result:n,detector:function(){return r.some((function(e){return e()}))},accessCount:r.length}}(e),n=t.detector,r=t.result,i=t.accessCount;return{result:r,accessedState:new S(n),accessCount:i}}var O=new r.AY,T=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},j.apply(this,arguments)},D=function(){function e(){}return e.prototype.get=function(){var e,t,n=this,r=this.untrackedGet();return e=function(){return r!==n.untrackedGet()},void 0!==(t=O.current())&&t.push(e),r},e.prototype.set=function(e){var t=this.untrackedGet(),n=o(t,e);n!==t&&this.uncheckedSet(n)},e.prototype.clear=function(){this.set(void 0)},e.prototype.subState=function(e){return new P(this,e)},e.prototype.reader=function(){return this},e.prototype.setSubState=function(e,t){var n,i=this.untrackedGet();if(void 0!==i){if(void 0===t){var o=Object.keys(i);if(1===o.length&&o[0]===e)return void this.uncheckedSet(void 0)}if(null===i)throw new r.AQ;var a=j({},i),s=a;void 0===t?delete s[e]:s[e]=t,this.uncheckedSet(Object.freeze(a))}else{var c=Object.freeze(((n={})[e]=t,n));this.uncheckedSet(c)}},e.prototype.getSubState=function(e){var t=this.untrackedGet();if(null!=t)return t[e]},e}(),N=function(e){function t(){return e.call(this)||this}return T(t,e),t.prototype.untrackedGet=function(){return this.state},t.prototype.uncheckedSet=function(e){u("Changing state"),this.state=e,E()},t.prototype.id=function(){return""},t}(D),P=function(e){function t(t,n){var r=e.call(this)||this;return r.parentState=t,r.key=n,r}return T(t,e),t.prototype.untrackedGet=function(){return this.parentState.getSubState(this.key)},t.prototype.uncheckedSet=function(e){this.parentState.setSubState(this.key,e)},t.prototype.id=function(){if(void 0===this.cachedId){var e=this.key.replace(/\\/g,"\\\\").replace(/\//g,"\\/");this.cachedId=this.parentState.id()+"/"+e}return this.cachedId},t}(D),A=new N,I=(0,r.W0)(r.Y3,(function(e){return k((function(){return e.forEach((function(e){return e()}))})),[]}));function M(e){return new r.fU((function(t){var n,i=!0,o=!1,a=_(s);function s(){if(i){var s=x((function(){return l({contextName:"observe",message:"Extract all side-effects into the listener function"},e)}));a.subscribeChanges(s.accessedState);var c=s.result;o&&(0,r.Fe)(c,n)||(t.next(c),n=c,o=!0)}}return(0,r.Y3)(s),function(){i=!1,a.unsubscribe()}}))}function L(e,t){var n=x((function(){return l({contextName:"observeSync",message:"Use non-sync observe or nextTick"},e)})),i=n.result,o=b((function(){var n=x(e);o.subscribeChanges(n.accessedState);var a=n.result;(0,r.Fe)(a,i)||(t(a),i=a)}));return o.subscribeChanges(n.accessedState),{initialValue:i,unsubscribe:function(){o.unsubscribe()}}}var R=0;function F(){return R++,A.subState("dynamic").subState(R.toString())}},86649:function(e,t,n){"use strict";n.d(t,{oY:function(){return i}});var r=n(46672),i={getAdapterSpec:r.HT,getCapabilities:r.HT,getPreviewSizes:r.HT,descriptionForObj:r.HT,getClasses:r.HT,getContentBrowserConfiguration:r.HT,getHomepageId:r.HT,getSiteIdForObj:r.HT,titleForObj:r.HT,titleForWidget:r.HT,thumbnailForObj:r.HT,getAuthGroups:r.HT,getContentZoneData:r.HT,getCurrentAppLocation:r.HT,getCustomComponentDimensions:r.HT,getDocumentTitle:r.HT,getElementBoundaries:r.HT,getMenuPatch:r.HT,getObjClassForContentTypeMapping:r.HT,getResolvedUrl:r.HT,getScrollPosition:r.HT,getValidationReport:r.HT,getUrlFor:r.HT,getForcedEditorLanguage:r.HT,generalPropertiesForObj:r.HT,generalPropertiesForWidget:r.HT,propertiesGroupsForObj:r.HT,propertiesGroupsForWidget:r.HT,objReplicationMessageStream:r.M,executeCustomCommand:r.H8,initializeContentForObj:r.H8,initializeContentForWidget:r.H8,initializeCopy:r.H8,navigateTo:r.H8,scrollIntoView:r.H8,showCustomComponent:r.H8,showWidgetContent:r.H8},o=n(80254),a=n(39671),s=n(37227),c=(0,s.JH)();(0,a.PJ)("provideAuthGroups",[["authGroups",a.pC.dict(a.pC.String,a.pC.String)]],{docPermalink:"js-sdk/provideAuthGroups"});var l=n(703),u=n(18333),d=n(28251),f=n(7624),p=n(98728),h=a.pC.union([a.pC.String,a.pC.list(a.pC.String)]),m=a.pC.enums.of((0,o.jV)(p.fP,["contains","containsPrefix","equals","startsWith","isGreaterThan","isLessThan"])),v=a.pC.union([a.pC.String,a.pC.Date,a.pC.Nil,a.pC.Number,a.pC.list(a.pC.union([a.pC.String,a.pC.Nil])),a.pC.list(a.pC.union([a.pC.Date,a.pC.Nil])),a.pC.list(a.pC.union([a.pC.Number,a.pC.Nil]))],"SearchValue"),g=a.pC.interface({title:a.pC.maybe(a.pC.String)}),_=g.extend({field:a.pC.maybe(h),operator:a.pC.maybe(m),expanded:a.pC.maybe(a.pC.Boolean)}),b=g.extend({value:a.pC.maybe(v),query:a.pC.maybe(p.d4),selected:a.pC.maybe(a.pC.Boolean)}),y=_.extend({type:a.pC.enums.of(["radioButton"]),options:a.pC.dict(a.pC.String,b)},"RadioFilterDefinition"),w=g.extend({value:a.pC.maybe(v),selected:a.pC.maybe(a.pC.Boolean)}),k=_.extend({type:a.pC.enums.of(["checkbox"]),options:a.pC.dict(a.pC.String,w)},"CheckboxFilterDefinition"),E=a.pC.declare("TreeFilterDefinition");E.define(g.extend({type:a.pC.maybe(a.pC.enums.of(["tree"])),icon:a.pC.maybe(a.pC.String),query:a.pC.maybe(p.d4),expanded:a.pC.maybe(a.pC.Boolean),value:a.pC.maybe(v),field:a.pC.maybe(h),operator:a.pC.maybe(m),selected:a.pC.maybe(a.pC.Boolean),options:a.pC.maybe(a.pC.dict(a.pC.String,E))}));var C={tree:E,radioButton:y,checkbox:k},S=a.pC.union([C.tree,C.checkbox,C.radioButton]);S.dispatch=function(e){return C[e.type||"tree"]};var x=a.pC.dict(a.pC.String,S),O=a.pC.union([a.pC.Function,x]);O.dispatch=function(e){return a.pC.Function.is(e)?O.meta.types[0]:O.meta.types[1]};var T=a.pC.interface({query:p.d4}),j=a.pC.interface({filters:a.pC.maybe(O),baseFilter:a.pC.maybe(T)},"Configuration"),D=((0,a.PJ)("configureContentBrowser",[["configuration",j]],{docPermalink:"js-sdk/configureContentBrowser"}),(0,s.JH)()),N=a.pC.refinement(a.pC.String,(function(e){return/^(\*\/\*|[^\/\*]+\/(\*|[^\*;]+))$/.test(e)}),"Content Type"),P=a.pC.dict(N,a.pC.String),A=((0,a.PJ)("configureObjClassForContentType",[["configuration",P]],{docPermalink:"js-sdk/configureObjClassForContentType"}),n(12188)),I=(0,s.JH)(),M=n(27401),L=n(90070),R=(0,s.JH)(),F=n(76494),B=n(36358),z=n(92402);function W(e){return!!e&&e._scrivitoPrivateContent instanceof p.E8}function U(e){var t=e.objClass(),n=(0,z.cv)(e);if(n){var r={};Object.keys(n.attributes).forEach((function(i){var a=n.attributes[i],s=e.get(i,a);if((0,o.xb)(s)){var c=function(e,t){var n,r=(0,M.xk)(e,"initialContent");if(r){var i=r[t];return(0,o.mf)(i)?i():(n=i,Array.isArray(n)&&n.every(W)?i.map((function(e){var t=e._scrivitoPrivateContent.copy();return(0,z.pz)(t)})):i)}}(t,i);c&&(r[i]=c)}}));var i=(0,z.dz)(r,n,t);e.update(i)}}function H(e){var t=(0,M.xk)(e.objClass(),"initialize");t&&t((0,z.pz)(e))}var Z=function(){function e(e){this.id=e}return e.prototype.insert=function(e){e&&e.id===this.id&&(this.onClick=e.onClick)},e.prototype.modify=function(){},e.prototype.remove=function(){},e.prototype.getHandler=function(){return this.onClick},e}(),q=n(92471);function V(e){var t=q(e);return"data"===t.normalizeProtocol().protocol()?e:t.absoluteTo((0,a.RO)()).toString()}var K=function(){return K=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},K.apply(this,arguments)},$=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},G=function(){function e(){this.patch={insertIds:[],removeIds:[],items:{},modifyItems:{}}}return e.prototype.insert=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Q.apply(void 0,$([e],t,!1)),this.patch.insertIds=(0,o.Tw)($($([],this.patch.insertIds,!0),[e.id],!1)),this.patch.items[e.id]=K(K(K({},(0,o.ei)(e,"description","group","position","title")),(0,o.Xc)((0,o.ei)(e,"enabled"),(function(e){return!!e}))),ee(e.icon))},e.prototype.modify=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];X.apply(void 0,$([e],t,!1)),this.patch.modifyItems[e.id]=K(K(K({},this.patch.modifyItems[e.id]),(0,o.ei)(e,"group","position","title")),ee(e.icon))},e.prototype.remove=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];J.apply(void 0,$([e],t,!1)),this.patch.removeIds.push(e)},e.prototype.getPatch=function(){return this.patch},e}(),Y=a.pC.interface({after:a.pC.maybe(a.pC.String),before:a.pC.maybe(a.pC.String)}),Q=(0,a.PJ)("menu.insert",[["options",a.pC.interface({id:a.pC.String,description:a.pC.maybe(a.pC.String),enabled:a.pC.maybe(a.pC.Boolean),group:a.pC.maybe(a.pC.String),icon:a.pC.maybe(a.pC.String),onClick:a.pC.maybe(a.pC.Function),position:a.pC.maybe(Y),title:a.pC.maybe(a.pC.String)})]],{docPermalink:"js-sdk/extendMenu"}),X=(0,a.PJ)("menu.modify",[["options",a.pC.interface({id:a.pC.String,group:a.pC.maybe(a.pC.String),icon:a.pC.maybe(a.pC.String),position:a.pC.maybe(Y),title:a.pC.maybe(a.pC.String)})]],{docPermalink:"js-sdk/extendMenu"}),J=(0,a.PJ)("menu.remove",[["id",a.pC.String]],{docPermalink:"js-sdk/extendMenu"});function ee(e){return e?{icon:V(e)}:{}}var te=[],ne=(0,s.JH)();function re(e){te.forEach((function(t){return t.call(null,e)}))}var ie=(0,s.JH)(),oe=a.pC.interface({title:a.pC.String,width:a.pC.maybe(a.pC.Number),description:a.pC.maybe(a.pC.String),icon:a.pC.maybe(a.pC.String)},"PreviewSize"),ae=((0,a.PJ)("configurePreviewSizes",[["previewSizes",a.pC.list(oe)]],{docPermalink:"js-sdk/configurePreviewSizes"}),n(56421)),se=n(41724),ce=n(82640),le=n(91190),ue=n(92385),de=function(){return de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},de.apply(this,arguments)};function fe(e,t){var n,r,i=(0,M.xk)(e,"thumbnail"),o=(0,M.xk)(e,"properties"),a=(0,M.xk)(e,"propertiesGroups");return{attributes:(n=t.attributes,r=(0,M.q3)(e),Object.keys(n).map((function(e){var t=n[e],i=t[0],o=t[1],a=r[e];if(!a)return de({name:e,type:i},o);var s=a.values,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(a,["values"]);return de(de(de({name:e,type:i},o),{valuesLocalization:s}),c)}))),description:(0,M.xk)(e,"description"),hideInSelectionDialogs:(0,M.xk)(e,"hideInSelectionDialogs"),name:e,onlyInside:t.onlyInside,properties:Array.isArray(o)?o:void 0,propertiesGroups:Array.isArray(a)?a:void 0,thumbnail:i&&V(i),title:(0,M.xk)(e,"title")}}var pe=n(82644),he=n(86243),me=function(){return me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},me.apply(this,arguments)};function ve(){var e=window.navigator.userAgent;return e.indexOf("MSIE")>=0||e.indexOf("Trident")>=0}function ge(e){if(!e.target)throw new a.AQ;_e(e.target)}function _e(e){if(e._scrivitoObservedElement){var t=e._scrivitoObservedElement;t&&t._scrivitoResizeListeners.forEach((function(e){return e()}))}}function be(e){return function(e){return new B.of({state:s.n2.subState("customComponentDimensions"),stream:new a.fU((function(t){var n=function(){var n=e.getBoundingClientRect(),r=n.width,i=n.height;t.next({width:r,height:i})};return n(),function(e,t){var n=e;if(!n._scrivitoResizeListeners){n._scrivitoResizeListeners=[],e.style.position="relative",e.style.height="auto";var r=function(e){var t=document.createElement("object");return t.observedElement=e,t.type="text/html",t.onload=function(){return function(e){var t=e.contentDocument;if(!t)throw new a.AQ;var n=t.defaultView;n&&(n._scrivitoObservedElement=e.observedElement,n.addEventListener("resize",ge),_e(n))}(t)},t.style.display="block",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.zIndex="-1",t}(n);n._scrivitoResizeTrigger=r,ve()&&e.appendChild(r),r.data="about:blank",ve()||e.appendChild(r)}return n._scrivitoResizeListeners.push(t),function(){n._scrivitoResizeListeners.splice(n._scrivitoResizeListeners.indexOf(t),1)}}(e,n)}))})}(e).getWithDefault(null)}var ye=n(79439);function we(e){var t=e.objClass(),n="properties",r=(0,M.xk)(t,n);if(Array.isArray(r))return r;if("function"==typeof r){var i=void 0;try{i=r((0,z.pz)(e))}catch(t){Oe(t,e,n)}if(xe(i))return i;throw Te(t,n,"Properties must be an array of strings")}}function ke(e){var t=e.objClass(),n="propertiesGroups",r=(0,M.xk)(t,n);if(Array.isArray(r))return r;if("function"==typeof r){var i=void 0;try{i=r((0,z.pz)(e))}catch(t){Oe(t,e,n)}if(!Array.isArray(i))throw Te(t,n,"The callback return value must be an array");if(!i.every(Se))throw Te(t,n,"A group must be an Object that contains title (string), key (string) and component (string) or properties (array of strings) property");if(!function(e){return!e.some((function(e){return!e.key}))&&(0,o.jj)(e,"key").length===e.length}(i))throw Te(t,n,"A group returned from the callback must contain a unique key property for faster rendering (like React do)");return i}}function Ee(e,t){return(0,p.R2)((0,p.hA)(e),t)}function Ce(e,t,n){var r;return null===(r=Ee(e,t))||void 0===r?void 0:r.widget(n)}function Se(e){return function(e){var t=e,n=t.title,r=t.key,i=t.component;return"string"==typeof n&&"string"==typeof r&&"string"==typeof i}(e)||function(e){var t=e,n=t.title,r=t.key,i=t.properties;return"string"==typeof n&&"string"==typeof r&&xe(i)}(e)}function xe(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}function Oe(e,t,n){throw new a.ir('An error "'+e+'" was thrown during execution of "'+n+'" callback. Please check the editing config of "'+t.objClass()+'" or '+(t instanceof p.Jj?"Obj":"Widget")+' with ID: "'+t.id()+'" that might cause the error.')}function Te(e,t,n){var r=n+'. Please check the editing config of "'+e+'".';return(0,a.dg)(t,r,{docPermalink:"js-sdk/provideEditingConfig"})}var je,De=n(27378),Ne=n(31542),Pe=n(56487),Ae=n(3647),Ie=n(83774);function Me(e,t,n){var r=Le(e,t);if(r)return r.widget(n)}function Le(e,t){return(0,p.R2)((0,p.hA)(e),t)}var Re;function Fe(e,t,n){return{obj:t.filter((function(t){return t.severity===e})),widgets:n.map((function(t){return{widgetId:t.widgetId,entries:t.entries.filter((function(t){return t.severity===e}))}}))}}function Be(e){var t=(0,p.R2)((0,p.hA)((0,p.GD)()),e);return t&&(0,z.pz)(t)}!function(){function e(){}e.prototype.getAdapterSpec=function(){return(0,o.Xc)(i,(function(){return!0}))},e.prototype.getCapabilities=function(){return{useComparisonRange:!0,reloadOnEditingContextChange:!0,uiContext:!0}},e.prototype.getContentBrowserConfiguration=function(e){return(0,f.f)(void 0)},e.prototype.getObjClassForContentTypeMapping=function(){return D.get()},e.prototype.getAuthGroups=function(){return c.get()},e.prototype.titleForObj=function(e){var t=Be(e);if(t){var n=(0,M.xk)(t.objClass(),"titleForContent");return"function"==typeof n?n(t):void 0}},e.prototype.descriptionForObj=function(e){var t=Be(e);if(t){var n=(0,M.xk)(t.objClass(),"descriptionForContent");return"function"==typeof n?n(t):void 0}},e.prototype.thumbnailForObj=function(e){return function(e){var t=(0,p.R2)((0,p.hA)((0,p.GD)()),e);if(t){var n=t.objClass(),r=(0,M.xk)(n,"thumbnailForContent");if("function"==typeof r)try{return function(e){if(null!=e){if(e instanceof p.Kb&&e.isImage())return{blob:e.id()};if(e instanceof z.eG&&e.isBinary()){var t=(0,z.bM)(e).get("blob",["binary"]);if(t&&t.isImage())return{blob:t.id()}}throw new a.ir("The thumbnail must be either an instance of an image Obj, an image Binary, null or undefined.")}}(r((0,z.pz)(t)))}catch(e){(0,a.a6)(e)}}}(e)},e.prototype.generalPropertiesForObj=function(e,t){return function(e,t){var n=Ee(e,t);return n&&we(n)||[]}(e,t)},e.prototype.generalPropertiesForWidget=function(e,t,n){return function(e,t,n){var r=Ce(e,t,n);return r&&we(r)||[]}(e,t,n)},e.prototype.propertiesGroupsForObj=function(e,t){return function(e,t){var n=Ee(e,t);return n&&ke(n)||[]}(e,t)},e.prototype.propertiesGroupsForWidget=function(e,t,n){return function(e,t,n){var r=Ce(e,t,n);return r&&ke(r)||[]}(e,t,n)},e.prototype.executeCustomCommand=function(e){var t;null===(t=function(e){var t=new Z(e);return re(t),t.getHandler()}(e))||void 0===t||t.call(null)},e.prototype.titleForWidget=function(e,t){return function(e,t){var n=p.Jj.getIncludingDeleted(e);if(null!==n){var r=n.widget(t);if(null!==r)return(0,ue.titleForBasicWidget)(r)}}(e,t)},e.prototype.initializeContentForObj=function(e){!function(e){(0,B.zD)((function(){return p.Jj.get(e)})).then((function(e){e&&(U(e),H(e))}))}(e)},e.prototype.initializeContentForWidget=function(e,t){!function(e,t){(0,B.zD)((function(){return p.Jj.get(e)})).then((function(n){if(n)return(0,F.K)().finishReplicatingObj((0,p.GD)(),e).then((function(){var e=n.widget(t);e&&(U(e),H(e))}))}))}(e,t)},e.prototype.initializeCopy=function(e){!function(e){(0,B.zD)((function(){return(0,p.R2)((0,p.$u)((0,p.GD)()),e)})).then((function(e){if(e){var t=(0,M.xk)(e.objClass(),"initializeCopy");t&&t((0,z.pz)(e))}}))}(e)},e.prototype.getClasses=function(){return function(){var e=[],t=(0,z.Cn)();Object.keys(t).forEach((function(n){var r=t[n];e.push(function(e,t){var n=z.V_.forClass(t);return de({type:"Obj",onlyChildren:n.onlyChildren,validAsRoot:n.validAsRoot,onlyAsRoot:n.onlyAsRoot},fe(e,n))}(n,r))}));var n=(0,z.OY)();return Object.keys(n).forEach((function(t){var r=n[t];e.push(function(e,t){var n=z.V_.forClass(t);return de({type:"Widget"},fe(e,n))}(t,r))})),e.map((function(e){return(0,o.ei)(e,o.yR)}))}()},e.prototype.navigateTo=function(e){return(0,l._i)({objId:e}).then((function(){return{version:(0,d.pj)()}}))},e.prototype.showCustomComponent=function(e,t){!function(e,t){var n=(0,Ie.$g)(e);if(null===n)throw new a.ir('Component with ID "'+e+'" not found. Please make sure you registered it using "Scrivito.registerComponent".');(function(e){return e?function(e){return!!e.widgetId}(e)?(n=(t=e).objId,r=t.widgetId,(0,B.zD)((function(){return function(e,t){if((0,Pe.rl)()){var n=(0,Ae.N)(),r=n[0];return Me(n[1],e,t)||Me(r,e,t)}return Me((0,p.GD)(),e,t)}(n,r)})).then((function(e){if(!e)throw new a.Ix("Missing widget with ID "+r);return{widget:(0,z.pz)(e)}}))):function(e){var t=e.objId;return(0,B.zD)((function(){return function(e){if((0,Pe.rl)()){var t=(0,Ae.N)(),n=t[0];return Le(t[1],e)||Le(n,e)}return Le((0,p.GD)(),e)}(t)})).then((function(e){if(!e)throw new a.Ix("Missing obj with ID "+t);var n=(0,z.pz)(e);return{obj:n,page:n}}))}(e):a.s8.resolve({});var t,n,r})(t).then((function(e){je?Ne.render(De.createElement(n,e),je):je=function(e,t,n){var r=e.createElement("div");return e.body.innerHTML="",e.body.appendChild(r),Ne.render(De.createElement(t,n),r),r}((0,a.Me)(),n,e)}))}(e,t)},e.prototype.showWidgetContent=function(e,t){!function(e,t){var n,r,i,o;n=this,r=void 0,o=function(){var n,r,i;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){switch(o.label){case 0:return[4,(0,B.zD)((function(){return p.Jj.getIncludingDeleted(e)}))];case 1:return(n=o.sent())&&(r=n.widget(t))?(Re?Ne.unmountComponentAtNode(Re):(i=(0,a.Me)(),Re=i.createElement("div"),i.body.innerHTML="",i.body.appendChild(Re)),Ne.render(De.createElement(Ie.xp,{widget:r}),Re),[2]):[2]}}))},new((i=Promise)||(i=Promise))((function(e,t){function a(e){try{c(o.next(e))}catch(e){t(e)}}function s(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){t.done?e(t.value):function(e){return e instanceof i?e:new i((function(t){t(e)}))}(t.value).then(a,s)}c((o=o.apply(n,r||[])).next())}))}(e,t)},e.prototype.objReplicationMessageStream=function(e,t){return le.vr.get(e,t).replicationMessageStream()},e.prototype.getDocumentTitle=function(){return I.get()||""},e.prototype.getMenuPatch=function(){return function(){ne.get();var e=new G;return re(e),e.getPatch()}()},e.prototype.getUrlFor=function(e,t){void 0===t&&(t={});var n=p.Jj.getIncludingDeleted(e);return n?(0,u.M)(n,t):null},e.prototype.getResolvedUrl=function(e){return function(e){var t=q(e),n=(0,ye.jh)(t);if(!n||!n.objId||"/"===n.sitePath)return null;var r={obj_id:n.objId},i=t.fragment();i&&(r.fragment=i);var o=t.search();return o&&(r.query=o),r}(e)},e.prototype.getHomepageId=function(){var e=(0,ae.R)();return e?e.id():null},e.prototype.getSiteIdForObj=function(e){return(0,ce.iY)(e)},e.prototype.getElementBoundaries=function(e){return(0,L.st)(e)},e.prototype.getContentZoneData=function(){return(0,A.$)()},e.prototype.getCustomComponentDimensions=function(){return be((0,a.Me)().querySelector("html"))},e.prototype.getScrollPosition=function(){return function(e){return new B.of({state:s.n2.subState("scrollPosition"),stream:new a.fU((function(t){var n=function(){t.next({x:e.scrollLeft,y:e.scrollTop})};n();var r=window.setInterval(n,1e3);return function(){return window.clearInterval(r)}}))})}((0,a.Me)().querySelector("html")).getWithDefault(null)},e.prototype.getCurrentAppLocation=function(){return function(){var e=(0,he.lT)();if(void 0===e)return null;var t,n,r,i=e.locationRoute,o=e.historyState,s=(0,pe.Z)();if(void 0===s)throw new a.AQ;return me(me({},(t=i).sitePath?t.objId?{type:"page",siteId:t.siteData.siteId,objId:t.objId}:{type:"not found",siteId:t.siteData.siteId}:{type:"not responsible",siteId:null!==(r=null===(n=t.siteData)||void 0===n?void 0:n.siteId)&&void 0!==r?r:null}),{url:s+o.location,version:o.historyChangesCount})}()},e.prototype.getValidationReport=function(e){var t=p.Jj.get(e);if(t){var n=(0,ue.runValidationsFor)(t),r=function(e){var t=[];return e.forEach((function(e){var n=(0,ue.runValidationsFor)(e);n.length>0&&t.push({widgetId:e.id(),entries:n})})),t}(t.widgets());return{error:Fe("error",n,r),warning:Fe("warning",n,r),info:Fe("info",n,r)}}},e.prototype.scrollIntoView=function(e){(0,se.zT)(e)},e.prototype.getForcedEditorLanguage=function(){return R.get()},e.prototype.getPreviewSizes=function(){return ie.get()}}()},22192:function(e,t,n){"use strict";var r,i;i=n(27378),r=n(52898)({displayName:"DialogHeader",render:function(){return i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon scrivito_icon_error"}),i.createElement("h3",{className:"scrivito_title"},this.props.title),this.props.subtitle?i.createElement("p",{className:"scrivito_description"},this.props.subtitle):void 0)}}),e.exports={DialogHeader:r}},74343:function(e,t,n){"use strict";var r,i,o,a,s,c,l;s=n(27378),l=n(52898),c=n(31542),a=n(22192).DialogHeader,o=n(44582).a,r=n(48217).E,i=l({displayName:"DialogApp",dialogClassName:function(){return"scrivito_prompt_dialog scrivito_modal_prompt scrivito_show scrivito_red"},closeButtonText:function(){return"Close"},resolveAndClose:function(e){return this.props.promise.resolve(),this.closeDialog(e)},rejectAndClose:function(e){return this.props.promise.reject(),this.closeDialog(e)},closeDialog:function(e){return e.preventDefault(),c.unmountComponentAtNode(c.findDOMNode(this.props.container)),this.props.container.remove()},render:function(){return s.createElement("div",null,s.createElement("div",{className:"scrivito_overlay two scrivito_show"}),s.createElement(r,{className:this.dialogClassName()},s.createElement(a,{title:this.props.title,subtitle:this.props.subtitle}),s.createElement(o,{body:this.props.body}),s.createElement("div",{className:"scrivito_modal_footer"},s.createElement("a",{className:"scrivito_button scrivito_cancel",onClick:this.rejectAndClose},this.closeButtonText()))))}}),e.exports={DialogApp:i}},7559:function(e,t,n){"use strict";var r,i,o,a,s,c,l;c=n(27378),l=n(52898),a=n(66890).ExpandableFilterNodeMixin,o=n(93331).DeselectAllRadioOptionFilter,s=n(92807).RadioOptionFilter,i=n(54410).CheckBoxOptionFilter,r=l({displayName:"AdditionalOptionFilter",mixins:[a],getInitialState:function(){return this.defaultExpansionState()},getAdditionalLableClasses:function(){return this.openClassSetOptions()},createDeselctAllRadioOption:function(){return c.createElement(o,{filter:this.props.filter})},renderSubRadioOptionFilters:function(){var e,t,n,r,o,a,l;for(l=[],n=r=0,o=(a=this.props.filter.children).length;r<o;n=++r)e=(t=a[n]).title+"-"+n,"radio"===this.props.filter.type?l.push(c.createElement(s,{key:e,filter:t})):"checkbox"===this.props.filter.type?l.push(c.createElement(i,{key:e,filter:t})):l.push(void 0);return l},render:function(){var e;return e=this.getAdditionalLableClasses(),c.createElement("li",{className:e},this.renderArrowTag(),c.createElement("div",{className:"scrivito-content-browser-hierarchy-label",onClick:this.arrowHandleClick},c.createElement("span",null,this.props.filter.title)),c.createElement("ul",null,"radio"===this.props.filter.type?this.createDeselctAllRadioOption():void 0,this.renderSubRadioOptionFilters()))}}),e.exports={AdditionalOptionFilter:r}},54410:function(e,t,n){"use strict";var r,i;i=n(27378),r=n(52898)({displayName:"CheckBoxOptionFilter",mixins:[n(10465).OptionFilterMixin],render:function(){return i.createElement("li",{className:this.activeClassName(),onClick:this.optionLabelToggleClick},i.createElement("div",{className:"scrivito-content-browser-hierarchy-checkbox"}),this.renderOptionFilterTitle())}}),e.exports={CheckBoxOptionFilter:r}},93331:function(e,t,n){"use strict";var r,i;i=n(27378),r=n(52898)({displayName:"DeselectAllRadioOptionFilter",mixins:[n(91156).OptionFilterLabelRenderMixin],getActiveClass:function(){return this.props.filter.hasActiveChildren()?"":"active"},deselectAllRadioOption:function(){return this.props.filter.deactivateAll()},render:function(){return i.createElement("li",{className:this.getActiveClass(),onClick:this.deselectAllRadioOption,"data-display-name":"DeselectAllRadioOption"},i.createElement("div",{className:"scrivito-content-browser-hierarchy-radio"}),this.renderHierarchyLabelTitle("All"))}}),e.exports={DeselectAllRadioOptionFilter:r}},77138:function(e,t,n){"use strict";var r,i,o,a;o=n(27378),a=n(52898),r=n(38722),i=a({displayName:"LastAddedFilter",filterClass:function(){var e;return e="scrivito-content-browser-filter-item",this.props.active&&(e+=" active"),e},render:function(){return o.createElement("div",{className:this.filterClass(),onClick:this.props.activateLastAddedFilter},o.createElement("i",{className:"scrivito-content-browser-icon scrivito-content-browser-icon-ok-box"}),o.createElement("span",{className:"scrivito-content-browser-filter-label"},r.translate("content_browser.last_added.filter_name"),o.createElement("span",{className:"scrivito-content-browser-counter selected-total"},this.props.addedCount)))}}),e.exports={LastAddedFilter:i}},92807:function(e,t,n){"use strict";var r,i;i=n(27378),r=n(52898)({displayName:"RadioOptionFilter",mixins:[n(10465).OptionFilterMixin],labelToggleClick:function(){if(!this.props.filter.isActive())return this.props.filter.setActive()},render:function(){return i.createElement("li",{className:this.activeClassName(),onClick:this.labelToggleClick},i.createElement("div",{className:"scrivito-content-browser-hierarchy-radio"}),this.renderOptionFilterTitle())}}),e.exports={RadioOptionFilter:r}},74980:function(e,t,n){"use strict";var r,i,o,a,s;a=n(27378),s=n(52898),o=n(23615),i=n(53859).MoreItemsSpinner,r=s({displayName:"InfiniteScrollLoader",propTypes:{isLoading:o.bool.isRequired,hasMore:o.bool.isRequired,fetch:o.func.isRequired,tag:o.string.isRequired,className:o.string.isRequired,style:o.object},componentDidUpdate:function(){return this._fullyFillContainer(),this._ensureFullPageIsPreloaded()},componentDidMount:function(){return this._fullyFillContainer()},render:function(){var e,t,n=this;return(e={className:this.props.className,ref:function(e){return n.container=e},style:this.props.style,onScroll:function(){return n._ensureFullPageIsPreloaded()}})["data-display-name"]="InfiniteScrollLoader",t=e,a.createElement(this.props.tag,t,this._childrenAndLoader())},_ensureFullPageIsPreloaded:function(){if(this._isViewportAtBottom()&&this.props.hasMore&&!this.props.isLoading)return this.props.fetch()},_fullyFillContainer:function(){if(this.props.hasMore&&!this.props.isLoading&&!this._isFullViewPort())return this.props.fetch()},_isFullViewPort:function(){return this.container.scrollHeight>this.container.offsetHeight},_isViewportAtBottom:function(){return this.container.scrollTop>=this.container.scrollHeight-2*this.container.offsetHeight},_childrenAndLoader:function(){var e;return e=[this.props.children],this.props.isLoading&&e.push(a.createElement(i,{key:"spinner"})),e}}),e.exports={InfiniteScrollLoader:r}},99253:function(e,t,n){"use strict";var r,i,o,a;r=n(27378),o=n(57099).q9t,i=n(52898),a=function(e){return i({displayName:"InspectedItem",isSelectedItem:function(e){return o(this.props.selectedObjs,e)},getItemClasses:function(){var e;return e="content-browser-item ",this.isSelectedItem(this.props.objId)&&(e+="active"),e},selectClass:function(){var e;return e=this.props.baseSelectClass,this.isSelectedItem(this.props.objId)&&(e+=" active"),e},handleSelectClick:function(){return this.props.toggleObjSelection(this.props.objId)},render:function(){return r.createElement(e,{itemClasses:this.getItemClasses(),handleSelectClick:this.handleSelectClick,selectClasses:this.selectClass(),selectedObjs:this.props.selectedObjs,objId:this.props.objId,selectionMode:this.props.selectionMode})}})},e.exports={inspectComponentWrapper:a}},17418:function(e,t,n){"use strict";var r,i;i=n(27378),r=n(52898)({displayName:"LastAddedTableViewItem",mixins:[n(25181).LastAddedItemMixin],getUploadTitle:function(){return"uploading file "+this.props.addedItem.filename+" ..."},render:function(){return i.createElement("tr",null,i.createElement("td",{colSpan:"6"},this.renderUploadStateProgress(),i.createElement("div",{className:"scrivito-content-browser-add upload",title:this.getUploadTitle()},i.createElement("span",{className:"scrivito_icon scrivito_icon_generic"},this.getUploadTitle()))))}}),e.exports={LastAddedTableViewItem:r}},1774:function(e,t,n){"use strict";var r,i;i=n(27378),r=n(52898)({displayName:"LastAddedThumbnailItem",mixins:[n(25181).LastAddedItemMixin],addedItemClassName:function(){var e;return e="content-browser-item",this.uploadInProgress()&&(e+=" upload"),e},render:function(){return i.createElement("li",{className:this.addedItemClassName()},this.renderUploadStateProgress(),i.createElement("div",{className:"scrivito-content-browser-item-wrapper"},i.createElement("div",{className:"scrivito-content-browser-preview"}),i.createElement("span",{className:"scrivito-content-browser-thumbnails-name"},this.props.addedItem.filename)))}}),e.exports={LastAddedThumbnailItem:r}},96737:function(e,t,n){"use strict";var r,i,o,a,s,c,l,u,d,f;s=n(27378),l=n(52898),i=n(89965).p,o=n(1774).LastAddedThumbnailItem,c=n(74170).l,r=n(19742),f=r.isCompleted,d=r.isActive,u=r.failed,a=l({displayName:"LastAddedThumbnailItems",renderedLastAddedErrorThumbComponent:function(){var e;if((e=u(this.props.additions)).length)return s.createElement(i,{failedAdditions:e})},getSizeClassName:function(){return"items scrivito-content-browser-thumbnails small"},baseSelectClass:function(){return"scrivito-content-browser-meta "},buildItems:function(){var e=this;return this.props.additions.map((function(t){return d(t)?s.createElement(o,{key:t.additionId,addedItem:t}):f(t)?s.createElement(c,{key:t.objId,selectedObjs:e.props.selectedObjs,baseSelectClass:e.baseSelectClass(),toggleObjSelection:e.props.toggleObjSelection,selectionMode:e.props.selectionMode,objId:t.objId}):void 0}))},render:function(){return s.createElement("ul",{className:this.getSizeClassName()},this.renderedLastAddedErrorThumbComponent(),this.buildItems())}}),e.exports={LastAddedThumbnailItems:a}},86946:function(e,t,n){"use strict";var r,i;i=n(27378),r=n(52898)({displayName:"MaximizeInspectorToggle",_toggleMaximized:function(){return this.props.toggleInspectorMaximized()},render:function(){return i.createElement("span",{className:"scrivito_move_left",title:"Maximize details view",onClick:this._toggleMaximized},i.createElement("span",{className:"scrivito_icon scrivito_icon_chevron_left"}))}}),e.exports={MaximizeInspectorToggle:r}},53859:function(e,t,n){"use strict";var r,i;i=n(27378),r=n(52898)({displayName:"MoreItemsSpinner",render:function(){return i.createElement("div",{className:"scrivito-content-browser-endless-loader"},i.createElement("i",{className:"scrivito_icon scrivito_icon_refresh"}))}}),e.exports={MoreItemsSpinner:r}},81713:function(e,t,n){"use strict";var r,i,o,a,s,c,l,u,d;s=n(27378),a=n(23615),i=n(38722),d=n(52898),r=n(71073),u=r.changeSelectionMode,o=r.MULTI_SELECTION_MODE,c=r.SINGLE_SELECTION_MODE,l=d({displayName:"SelectionModeToggle",propTypes:{dispatch:a.func.isRequired,selectionMode:a.string.isRequired},multiToggleModeChange:function(e){return e.target.checked?this.props.dispatch(u(o)):this.props.dispatch(u(c))},render:function(){return s.createElement("div",{className:"cb_toggle"},s.createElement("input",{type:"checkbox",checked:this.props.selectionMode===o,id:"toggly",onChange:this.multiToggleModeChange}),s.createElement("label",{htmlFor:"toggly"},s.createElement("i",null)),s.createElement("span",null,i.translate("content_browser.search_bar.multi_selection_toggle")))}}),e.exports={SelectionModeToggle:l}},10610:function(e,t,n){"use strict";var r,i;r=n(27378),i=n(52898)({displayName:"SortMenuItem",basicIcon:"scrivito_icon  ",_ascIconSortClass:function(){return this.basicIcon+"scrivito_icon_sort_down"},_descIconSortClass:function(){return this.basicIcon+"scrivito_icon_sort_up"},getSortLiClassName:function(e){var t;return t="scrivito_menu_item",this.props.activeTitle===e&&(t+=" active"),t},_getAscSortLiClassName:function(){return this.getSortLiClassName(this.currentSortItem().ascCriteriaTitle)},_getDescSortLiClassName:function(){return this.getSortLiClassName(this.currentSortItem().descCriteriaTitle)},currentSortItem:function(){return this.props.sortItem},_sortInAscOrder:function(){return this.props.setAscSortCriteria(this.currentSortItem().sortItemType)},_sortInDescOrder:function(){return this.props.setDescSortCriteria(this.currentSortItem().sortItemType)},render:function(){return r.createElement("div",null,r.createElement("li",{className:"scrivito_menu_separator"},r.createElement("span",null,this.currentSortItem().itemTitle)),this.currentSortItem().descCriteriaTitle?r.createElement("li",{className:this._getDescSortLiClassName(),onClick:this._sortInDescOrder},r.createElement("span",null,r.createElement("i",{className:this._descIconSortClass()}," "),this.currentSortItem().descCriteriaTitle)):void 0,this.currentSortItem().ascCriteriaTitle?r.createElement("li",{className:this._getAscSortLiClassName(),onClick:this._sortInAscOrder},r.createElement("span",null,r.createElement("i",{className:this._ascIconSortClass()}," "),this.currentSortItem().ascCriteriaTitle)):void 0)}}),e.exports={SortMenuItem:i}},40484:function(e,t,n){"use strict";var r,i,o,a,s,c,l,u,d;l=n(61826).$j,r=n(27378),u=n(52898),c=n(80067).ViewModeBar,a=n(88564).z,i=n(20215).E,o=n(81713).SelectionModeToggle,s=u({displayName:"TopBar",render:function(){return r.createElement("div",{className:"scrivito-content-browser-topbar"},r.createElement(i,{filter:this.props.filter}),this.props.standAlone?r.createElement(o,{selectionMode:this.props.selectionMode,dispatch:this.props.dispatch}):void 0,r.createElement(c,{viewMode:this.props.viewMode,dispatch:this.props.dispatch}),r.createElement(a,{dispatch:this.props.dispatch,sortCriteria:this.props.sortCriteria}))}}),d=function(e){return{selectionMode:e.selection.selectionMode,sortCriteria:e.sortCriteria,viewMode:e.objDisplay.viewMode}},e.exports={TopBar:l(d)(s)}},80067:function(e,t,n){"use strict";var r,i,o,a,s,c,l,u;i=n(27378),l=n(52898),c=n(24969).ViewModeBarItem,r=n(58611),a=r.THUMBNAIL_VIEW,o=r.TABLE_VIEW,u=r.setViewMode,s=l({displayName:"ViewModeBar",setViewMode:function(e){return this.props.dispatch(u(e))},render:function(){return i.createElement("div",null,i.createElement(c,{setViewMode:this.setViewMode,viewMode:this.props.viewMode,mode:o}),i.createElement(c,{setViewMode:this.setViewMode,viewMode:this.props.viewMode,mode:a}))}}),e.exports={ViewModeBar:s}},24969:function(e,t,n){"use strict";var r,i;r=n(27378),i=n(52898)({displayName:"ViewModeBarItem",viewModeButtonsData:{THUMBNAIL_VIEW:{iconTitle:"Thumbnails",iconClassName:"scrivito_icon_th_small"},TABLE_VIEW:{iconTitle:"List",iconClassName:"scrivito_icon_list_medium"}},getIconClassName:function(){return"scrivito_icon "+this.viewModeButtonsData[this.props.mode].iconClassName},getIconTitle:function(){return this.viewModeButtonsData[this.props.mode].iconTitle},getLabelClasses:function(){var e;return e="",this.props.viewMode===this.props.mode&&(e+="active "),e+"editing-button-view"},changeViewMode:function(){return this.props.setViewMode(this.props.mode)},render:function(){return r.createElement("span",{"data-size":this.props.mode,className:this.getLabelClasses(),onClick:this.changeViewMode},r.createElement("i",{title:this.getIconTitle(),className:this.getIconClassName()}))}}),e.exports={ViewModeBarItem:i}},66890:function(e,t,n){"use strict";var r,i;i=n(27378),r={defaultExpansionState:function(){return{open:this.props.filter.isExpanded()}},arrowHandleClick:function(){return this.setState({open:!this.state.open})},renderArrowTag:function(){return i.createElement("div",{className:"scrivito-content-browser-hierarchy-arrow",onClick:this.arrowHandleClick})},openClassSetOptions:function(){return this.state.open?"open":"closed"}},e.exports={ExpandableFilterNodeMixin:r}},25181:function(e,t,n){"use strict";var r,i,o;i=n(27378),o=n(19742).isActive,r={uploadInProgress:function(){return o(this.props.addedItem)},renderUploadStateProgress:function(){if(this.uploadInProgress())return i.createElement("div",{className:"upload_state",style:{width:this.props.addedItem.progress+"%"}})}},e.exports={LastAddedItemMixin:r}},91156:function(e,t,n){"use strict";var r,i;i=n(27378),r={renderHierarchyLabelTitle:function(e){return i.createElement("div",{className:"scrivito-content-browser-hierarchy-label"},i.createElement("span",null,e))}},e.exports={OptionFilterLabelRenderMixin:r}},10465:function(e,t,n){"use strict";var r;r={mixins:[n(91156).OptionFilterLabelRenderMixin],optionLabelToggleClick:function(){return this.props.filter.toggleActive()},activeClassName:function(){return this.props.filter.isActive()?"active":""},renderOptionFilterTitle:function(){return this.renderHierarchyLabelTitle(this.props.filter.title)}},e.exports={OptionFilterMixin:r}},12088:function(e,t,n){"use strict";var r,i,o,a,s,c,l,u,d,f;i=n(36891),s=n(90248).inspectorReducer,r=n(35961).b,c=n(6596).e,l=n(68206).C,f=n(42049).o,o=n(19651).s,u=n(76819).T,d=n(40078).o,a=i.combineReducers({objDisplay:c,objLoad:l,inspector:s,lastAdded:r,sortCriteria:f,tags:o,selection:u,sites:d}),e.exports={combinedReducer:a}},90248:function(e,t,n){"use strict";var r,i,o,a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};i=n(18067).x,r=n(91116).qB,o=function(e,t){switch(null==e&&(e={isMaximized:!1}),t.type){case i:return a(a({},e),{isMaximized:!e.isMaximized});case r:return a(a({},e),{isMaximized:!1});default:return e}},e.exports={inspectorReducer:o}},80254:function(e,t,n){"use strict";n.d(t,{oA:function(){return On},r3:function(){return nn},e5:function(){return jn},YU:function(){return at},sE:function(){return qt},w_:function(){return Rt},xH:function(){return Tn},e$:function(){return Ze},yR:function(){return qe},jV:function(){return An},J_:function(){return A},kK:function(){return j},xb:function(){return ce},Xy:function(){return me},xV:function(){return Y},mf:function(){return z},hj:function(){return P},Kn:function(){return S},HD:function(){return N},Z$:function(){return xn},Xc:function(){return Xe},IH:function(){return Lt},ei:function(){return wn},d1:function(){return Jt},MR:function(){return dn},e1:function(){return Wt},P2:function(){return jt},AK:function(){return st},jj:function(){return Nn},Tw:function(){return Nn},VO:function(){return Te},zu:function(){return Dn}});var r={};n.r(r),n.d(r,{VERSION:function(){return i},after:function(){return It},all:function(){return en},allKeys:function(){return ve},any:function(){return tn},assign:function(){return Ie},before:function(){return Mt},bind:function(){return kt},bindAll:function(){return St},chain:function(){return _t},chunk:function(){return Fn},clone:function(){return Fe},collect:function(){return $t},compact:function(){return On},compose:function(){return At},constant:function(){return X},contains:function(){return nn},countBy:function(){return mn},create:function(){return Re},debounce:function(){return Dt},default:function(){return Wn},defaults:function(){return Me},defer:function(){return Tt},delay:function(){return Ot},detect:function(){return qt},difference:function(){return jn},drop:function(){return Sn},each:function(){return Kt},escape:function(){return at},every:function(){return en},extend:function(){return Ae},extendOwn:function(){return Ie},filter:function(){return Xt},find:function(){return qt},findIndex:function(){return Bt},findKey:function(){return Rt},findLastIndex:function(){return zt},findWhere:function(){return Vt},first:function(){return Cn},flatten:function(){return Tn},foldl:function(){return Yt},foldr:function(){return Qt},forEach:function(){return Kt},functions:function(){return Ne},get:function(){return He},groupBy:function(){return pn},has:function(){return Ze},head:function(){return Cn},identity:function(){return qe},include:function(){return nn},includes:function(){return nn},indexBy:function(){return hn},indexOf:function(){return Ht},initial:function(){return En},inject:function(){return Yt},intersection:function(){return An},invert:function(){return De},invoke:function(){return rn},isArguments:function(){return G},isArray:function(){return V},isArrayBuffer:function(){return R},isBoolean:function(){return T},isDataView:function(){return q},isDate:function(){return A},isElement:function(){return j},isEmpty:function(){return ce},isEqual:function(){return me},isError:function(){return M},isFinite:function(){return Y},isFunction:function(){return z},isMap:function(){return Ce},isMatch:function(){return le},isNaN:function(){return Q},isNull:function(){return x},isNumber:function(){return P},isObject:function(){return S},isRegExp:function(){return I},isSet:function(){return xe},isString:function(){return N},isSymbol:function(){return L},isTypedArray:function(){return ie},isUndefined:function(){return O},isWeakMap:function(){return Se},isWeakSet:function(){return Oe},iteratee:function(){return Ye},keys:function(){return se},last:function(){return xn},lastIndexOf:function(){return Zt},map:function(){return $t},mapObject:function(){return Xe},matcher:function(){return Ve},matches:function(){return Ve},max:function(){return sn},memoize:function(){return xt},methods:function(){return Ne},min:function(){return cn},mixin:function(){return zn},negate:function(){return Pt},noop:function(){return Je},now:function(){return rt},object:function(){return Ln},omit:function(){return kn},once:function(){return Lt},pairs:function(){return je},partial:function(){return wt},partition:function(){return vn},pick:function(){return wn},pluck:function(){return on},property:function(){return Ke},propertyOf:function(){return et},random:function(){return nt},range:function(){return Rn},reduce:function(){return Yt},reduceRight:function(){return Qt},reject:function(){return Jt},rest:function(){return Sn},restArguments:function(){return C},result:function(){return mt},sample:function(){return ln},select:function(){return Xt},shuffle:function(){return un},size:function(){return bn},some:function(){return tn},sortBy:function(){return dn},sortedIndex:function(){return Wt},tail:function(){return Sn},take:function(){return Cn},tap:function(){return Be},template:function(){return ht},templateSettings:function(){return ct},throttle:function(){return jt},times:function(){return tt},toArray:function(){return _n},toPath:function(){return ze},transpose:function(){return In},unescape:function(){return st},union:function(){return Pn},uniq:function(){return Nn},unique:function(){return Nn},uniqueId:function(){return gt},unzip:function(){return In},values:function(){return Te},where:function(){return an},without:function(){return Dn},wrap:function(){return Nt},zip:function(){return Mn}});var i="1.12.1",o="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},a=Array.prototype,s=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,l=a.push,u=a.slice,d=s.toString,f=s.hasOwnProperty,p="undefined"!=typeof ArrayBuffer,h="undefined"!=typeof DataView,m=Array.isArray,v=Object.keys,g=Object.create,_=p&&ArrayBuffer.isView,b=isNaN,y=isFinite,w=!{toString:null}.propertyIsEnumerable("toString"),k=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],E=Math.pow(2,53)-1;function C(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}function S(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function x(e){return null===e}function O(e){return void 0===e}function T(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)}function j(e){return!(!e||1!==e.nodeType)}function D(e){var t="[object "+e+"]";return function(e){return d.call(e)===t}}var N=D("String"),P=D("Number"),A=D("Date"),I=D("RegExp"),M=D("Error"),L=D("Symbol"),R=D("ArrayBuffer"),F=D("Function"),B=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof B&&(F=function(e){return"function"==typeof e||!1});var z=F,W=D("Object"),U=h&&W(new DataView(new ArrayBuffer(8))),H="undefined"!=typeof Map&&W(new Map),Z=D("DataView"),q=U?function(e){return null!=e&&z(e.getInt8)&&R(e.buffer)}:Z,V=m||D("Array");function K(e,t){return null!=e&&f.call(e,t)}var $=D("Arguments");!function(){$(arguments)||($=function(e){return K(e,"callee")})}();var G=$;function Y(e){return!L(e)&&y(e)&&!isNaN(parseFloat(e))}function Q(e){return P(e)&&b(e)}function X(e){return function(){return e}}function J(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=E}}function ee(e){return function(t){return null==t?void 0:t[e]}}var te=ee("byteLength"),ne=J(te),re=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,ie=p?function(e){return _?_(e)&&!q(e):ne(e)&&re.test(d.call(e))}:X(!1),oe=ee("length");function ae(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=k.length,r=e.constructor,i=z(r)&&r.prototype||s,o="constructor";for(K(e,o)&&!t.contains(o)&&t.push(o);n--;)(o=k[n])in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function se(e){if(!S(e))return[];if(v)return v(e);var t=[];for(var n in e)K(e,n)&&t.push(n);return w&&ae(e,t),t}function ce(e){if(null==e)return!0;var t=oe(e);return"number"==typeof t&&(V(e)||N(e)||G(e))?0===t:0===oe(se(e))}function le(e,t){var n=se(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0}function ue(e){return e instanceof ue?e:this instanceof ue?void(this._wrapped=e):new ue(e)}function de(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,te(e))}ue.VERSION=i,ue.prototype.value=function(){return this._wrapped},ue.prototype.valueOf=ue.prototype.toJSON=ue.prototype.value,ue.prototype.toString=function(){return String(this._wrapped)};var fe="[object DataView]";function pe(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&he(e,t,n,r)}function he(e,t,n,r){e instanceof ue&&(e=e._wrapped),t instanceof ue&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;if(U&&"[object Object]"==i&&q(e)){if(!q(t))return!1;i=fe}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return c.valueOf.call(e)===c.valueOf.call(t);case"[object ArrayBuffer]":case fe:return he(de(e),de(t),n,r)}var o="[object Array]"===i;if(!o&&ie(e)){if(te(e)!==te(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(z(a)&&a instanceof a&&z(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!pe(e[l],t[l],n,r))return!1}else{var u,f=se(e);if(l=f.length,se(t).length!==l)return!1;for(;l--;)if(!K(t,u=f[l])||!pe(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0}function me(e,t){return pe(e,t)}function ve(e){if(!S(e))return[];var t=[];for(var n in e)t.push(n);return w&&ae(e,t),t}function ge(e){var t=oe(e);return function(n){if(null==n)return!1;var r=ve(n);if(oe(r))return!1;for(var i=0;i<t;i++)if(!z(n[e[i]]))return!1;return e!==ke||!z(n[_e])}}var _e="forEach",be=["clear","delete"],ye=["get","has","set"],we=be.concat(_e,ye),ke=be.concat(ye),Ee=["add"].concat(be,_e,"has"),Ce=H?ge(we):D("Map"),Se=H?ge(ke):D("WeakMap"),xe=H?ge(Ee):D("Set"),Oe=D("WeakSet");function Te(e){for(var t=se(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function je(e){for(var t=se(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function De(e){for(var t={},n=se(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function Ne(e){var t=[];for(var n in e)z(e[n])&&t.push(n);return t.sort()}function Pe(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,c=0;c<s;c++){var l=a[c];t&&void 0!==n[l]||(n[l]=o[l])}return n}}var Ae=Pe(ve),Ie=Pe(se),Me=Pe(ve,!0);function Le(e){if(!S(e))return{};if(g)return g(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Re(e,t){var n=Le(e);return t&&Ie(n,t),n}function Fe(e){return S(e)?V(e)?e.slice():Ae({},e):e}function Be(e,t){return t(e),e}function ze(e){return V(e)?e:[e]}function We(e){return ue.toPath(e)}function Ue(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function He(e,t,n){var r=Ue(e,We(t));return O(r)?n:r}function Ze(e,t){for(var n=(t=We(t)).length,r=0;r<n;r++){var i=t[r];if(!K(e,i))return!1;e=e[i]}return!!n}function qe(e){return e}function Ve(e){return e=Ie({},e),function(t){return le(t,e)}}function Ke(e){return e=We(e),function(t){return Ue(t,e)}}function $e(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}}function Ge(e,t,n){return null==e?qe:z(e)?$e(e,t,n):S(e)&&!V(e)?Ve(e):Ke(e)}function Ye(e,t){return Ge(e,t,1/0)}function Qe(e,t,n){return ue.iteratee!==Ye?ue.iteratee(e,t):Ge(e,t,n)}function Xe(e,t,n){t=Qe(t,n);for(var r=se(e),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=t(e[s],s,e)}return o}function Je(){}function et(e){return null==e?Je:function(t){return He(e,t)}}function tt(e,t,n){var r=Array(Math.max(0,e));t=$e(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function nt(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ue.toPath=ze,ue.iteratee=Ye;var rt=Date.now||function(){return(new Date).getTime()};function it(e){var t=function(t){return e[t]},n="(?:"+se(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}}var ot={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},at=it(ot),st=it(De(ot)),ct=ue.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},lt=/(.)^/,ut={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},dt=/\\|'|\r|\n|\u2028|\u2029/g;function ft(e){return"\\"+ut[e]}var pt=/^\s*(\w|\$)+\s*$/;function ht(e,t,n){!t&&n&&(t=n),t=Me({},t,ue.templateSettings);var r=RegExp([(t.escape||lt).source,(t.interpolate||lt).source,(t.evaluate||lt).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,(function(t,n,r,a,s){return o+=e.slice(i,s).replace(dt,ft),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t})),o+="';\n";var a,s=t.variable;if(s){if(!pt.test(s))throw new Error(s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(s,"_",o)}catch(e){throw e.source=o,e}var c=function(e){return a.call(this,e,ue)};return c.source="function("+s+"){\n"+o+"}",c}function mt(e,t,n){var r=(t=We(t)).length;if(!r)return z(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=z(o)?o.call(e):o}return e}var vt=0;function gt(e){var t=++vt+"";return e?e+t:t}function _t(e){var t=ue(e);return t._chain=!0,t}function bt(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=Le(e.prototype),a=e.apply(o,i);return S(a)?a:o}var yt=C((function(e,t){var n=yt.placeholder,r=function(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return bt(e,r,this,this,a)};return r}));yt.placeholder=ue;var wt=yt,kt=C((function(e,t,n){if(!z(e))throw new TypeError("Bind must be called on a function");var r=C((function(i){return bt(e,r,t,this,n.concat(i))}));return r})),Et=J(oe);function Ct(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,o=0,a=oe(e);o<a;o++){var s=e[o];if(Et(s)&&(V(s)||G(s)))if(t>1)Ct(s,t-1,n,r),i=r.length;else for(var c=0,l=s.length;c<l;)r[i++]=s[c++];else n||(r[i++]=s)}return r}var St=C((function(e,t){var n=(t=Ct(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=kt(e[r],e)}return e}));function xt(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return K(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}var Ot=C((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),Tt=wt(Ot,ue,1);function jt(e,t,n){var r,i,o,a,s=0;n||(n={});var c=function(){s=!1===n.leading?0:rt(),r=null,a=e.apply(i,o),r||(i=o=null)},l=function(){var l=rt();s||!1!==n.leading||(s=l);var u=t-(l-s);return i=this,o=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),s=l,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,u)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l}function Dt(e,t,n){var r,i,o,a,s,c=function(){var l=rt()-i;t>l?r=setTimeout(c,t-l):(r=null,n||(a=e.apply(s,o)),r||(o=s=null))},l=C((function(l){return s=this,o=l,i=rt(),r||(r=setTimeout(c,t),n&&(a=e.apply(s,o))),a}));return l.cancel=function(){clearTimeout(r),r=o=s=null},l}function Nt(e,t){return wt(t,e)}function Pt(e){return function(){return!e.apply(this,arguments)}}function At(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function It(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Mt(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var Lt=wt(Mt,2);function Rt(e,t,n){t=Qe(t,n);for(var r,i=se(e),o=0,a=i.length;o<a;o++)if(t(e[r=i[o]],r,e))return r}function Ft(e){return function(t,n,r){n=Qe(n,r);for(var i=oe(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}var Bt=Ft(1),zt=Ft(-1);function Wt(e,t,n,r){for(var i=(n=Qe(n,r,1))(t),o=0,a=oe(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o}function Ut(e,t,n){return function(r,i,o){var a=0,s=oe(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(u.call(r,a,s),Q))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}}var Ht=Ut(1,Bt,Wt),Zt=Ut(-1,zt);function qt(e,t,n){var r=(Et(e)?Bt:Rt)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function Vt(e,t){return qt(e,Ve(t))}function Kt(e,t,n){var r,i;if(t=$e(t,n),Et(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=se(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}function $t(e,t,n){t=Qe(t,n);for(var r=!Et(e)&&se(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o}function Gt(e){var t=function(t,n,r,i){var o=!Et(t)&&se(t),a=(o||t).length,s=e>0?0:a-1;for(i||(r=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var c=o?o[s]:s;r=n(r,t[c],c,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,$e(n,i,4),r,o)}}var Yt=Gt(1),Qt=Gt(-1);function Xt(e,t,n){var r=[];return t=Qe(t,n),Kt(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function Jt(e,t,n){return Xt(e,Pt(Qe(t)),n)}function en(e,t,n){t=Qe(t,n);for(var r=!Et(e)&&se(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0}function tn(e,t,n){t=Qe(t,n);for(var r=!Et(e)&&se(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1}function nn(e,t,n,r){return Et(e)||(e=Te(e)),("number"!=typeof n||r)&&(n=0),Ht(e,t,n)>=0}var rn=C((function(e,t,n){var r,i;return z(t)?i=t:(t=We(t),r=t.slice(0,-1),t=t[t.length-1]),$t(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=Ue(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))}));function on(e,t){return $t(e,Ke(t))}function an(e,t){return Xt(e,Ve(t))}function sn(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=Et(e)?e:Te(e)).length;s<c;s++)null!=(r=e[s])&&r>o&&(o=r);else t=Qe(t,n),Kt(e,(function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)}));return o}function cn(e,t,n){var r,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=Et(e)?e:Te(e)).length;s<c;s++)null!=(r=e[s])&&r<o&&(o=r);else t=Qe(t,n),Kt(e,(function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)}));return o}function ln(e,t,n){if(null==t||n)return Et(e)||(e=Te(e)),e[nt(e.length-1)];var r=Et(e)?Fe(e):Te(e),i=oe(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=nt(a,o),c=r[a];r[a]=r[s],r[s]=c}return r.slice(0,t)}function un(e){return ln(e,1/0)}function dn(e,t,n){var r=0;return t=Qe(t,n),on($t(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")}function fn(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=Qe(r,i),Kt(n,(function(t,i){var a=r(t,i,n);e(o,t,a)})),o}}var pn=fn((function(e,t,n){K(e,n)?e[n].push(t):e[n]=[t]})),hn=fn((function(e,t,n){e[n]=t})),mn=fn((function(e,t,n){K(e,n)?e[n]++:e[n]=1})),vn=fn((function(e,t,n){e[n?0:1].push(t)}),!0),gn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function _n(e){return e?V(e)?u.call(e):N(e)?e.match(gn):Et(e)?$t(e,qe):Te(e):[]}function bn(e){return null==e?0:Et(e)?e.length:se(e).length}function yn(e,t,n){return t in n}var wn=C((function(e,t){var n={},r=t[0];if(null==e)return n;z(r)?(t.length>1&&(r=$e(r,t[1])),t=ve(e)):(r=yn,t=Ct(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];r(s,a,e)&&(n[a]=s)}return n})),kn=C((function(e,t){var n,r=t[0];return z(r)?(r=Pt(r),t.length>1&&(n=t[1])):(t=$t(Ct(t,!1,!1),String),r=function(e,n){return!nn(t,n)}),wn(e,r,n)}));function En(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Cn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:En(e,e.length-t)}function Sn(e,t,n){return u.call(e,null==t||n?1:t)}function xn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:Sn(e,Math.max(0,e.length-t))}function On(e){return Xt(e,Boolean)}function Tn(e,t){return Ct(e,t,!1)}var jn=C((function(e,t){return t=Ct(t,!0,!0),Xt(e,(function(e){return!nn(t,e)}))})),Dn=C((function(e,t){return jn(e,t)}));function Nn(e,t,n,r){T(t)||(r=n,n=t,t=!1),null!=n&&(n=Qe(n,r));for(var i=[],o=[],a=0,s=oe(e);a<s;a++){var c=e[a],l=n?n(c,a,e):c;t&&!n?(a&&o===l||i.push(c),o=l):n?nn(o,l)||(o.push(l),i.push(c)):nn(i,c)||i.push(c)}return i}var Pn=C((function(e){return Nn(Ct(e,!0,!0))}));function An(e){for(var t=[],n=arguments.length,r=0,i=oe(e);r<i;r++){var o=e[r];if(!nn(t,o)){var a;for(a=1;a<n&&nn(arguments[a],o);a++);a===n&&t.push(o)}}return t}function In(e){for(var t=e&&sn(e,oe).length||0,n=Array(t),r=0;r<t;r++)n[r]=on(e,r);return n}var Mn=C(In);function Ln(e,t){for(var n={},r=0,i=oe(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function Rn(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i}function Fn(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(u.call(e,r,r+=t));return n}function Bn(e,t){return e._chain?ue(t).chain():t}function zn(e){return Kt(Ne(e),(function(t){var n=ue[t]=e[t];ue.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),Bn(this,n.apply(ue,e))}})),ue}Kt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];ue.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Bn(this,n)}})),Kt(["concat","join","slice"],(function(e){var t=a[e];ue.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Bn(this,e)}}));var Wn=ue,Un=zn(r);Un._=Un},86436:function(e,t,n){var r,i;!function(o,a){"use strict";e.exports?e.exports=a():void 0===(i="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)}(0,(function(e){"use strict";var t=e&&e.IPv6;return{best:function(e){var t,n,r=e.toLowerCase().split(":"),i=r.length,o=8;for(""===r[0]&&""===r[1]&&""===r[2]?(r.shift(),r.shift()):""===r[0]&&""===r[1]?r.shift():""===r[i-1]&&""===r[i-2]&&r.pop(),-1!==r[(i=r.length)-1].indexOf(".")&&(o=7),t=0;t<i&&""!==r[t];t++);if(t<o)for(r.splice(t,1,"0000");r.length<o;)r.splice(t,0,"0000");for(var a=0;a<o;a++){n=r[a].split("");for(var s=0;s<3&&"0"===n[0]&&n.length>1;s++)n.splice(0,1);r[a]=n.join("")}var c=-1,l=0,u=0,d=-1,f=!1;for(a=0;a<o;a++)f?"0"===r[a]?u+=1:(f=!1,u>l&&(c=d,l=u)):"0"===r[a]&&(f=!0,d=a,u=1);u>l&&(c=d,l=u),l>1&&r.splice(c,l,""),i=r.length;var p="";for(""===r[0]&&(p=":"),a=0;a<i&&(p+=r[a],a!==i-1);a++)p+=":";return""===r[i-1]&&(p+=":"),p},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}}))},75134:function(e,t,n){var r,i;!function(o,a){"use strict";e.exports?e.exports=a():void 0===(i="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)}(0,(function(e){"use strict";var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return!1;var i=n.list[e.slice(t+1)];return!!i&&i.indexOf(" "+e.slice(r+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var r=n.list[e.slice(t+1)];return!!r&&r.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return null;var i=n.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(r+1,t)+" ")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n}))},92471:function(e,t,n){var r,i,o;!function(a,s){"use strict";e.exports?e.exports=s(n(51069),n(86436),n(75134)):(i=[n(51069),n(86436),n(75134)],void 0===(o="function"==typeof(r=s)?r.apply(t,i):r)||(e.exports=o))}(0,(function(e,t,n,r){"use strict";var i=r&&r.URI;function o(e,t){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof o))return n?r?new o(e,t):new o(e):new o;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}o.version="1.19.7";var a=o.prototype,s=Object.prototype.hasOwnProperty;function c(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function l(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function u(e){return"Array"===l(e)}function d(e,t){var n,r,i={};if("RegExp"===l(t))i=null;else if(u(t))for(n=0,r=t.length;n<r;n++)i[t[n]]=!0;else i[t]=!0;for(n=0,r=e.length;n<r;n++)(i&&void 0!==i[e[n]]||!i&&t.test(e[n]))&&(e.splice(n,1),r--,n--);return e}function f(e,t){var n,r;if(u(t)){for(n=0,r=t.length;n<r;n++)if(!f(e,t[n]))return!1;return!0}var i=l(t);for(n=0,r=e.length;n<r;n++)if("RegExp"===i){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function p(e,t){if(!u(e)||!u(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function h(e){return e.replace(/^\/+|\/+$/g,"")}function m(e){return escape(e)}function v(e){return encodeURIComponent(e).replace(/[!'()*]/g,m).replace(/\*/g,"%2A")}o._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:o.preventInvalidHostname,duplicateQueryParameters:o.duplicateQueryParameters,escapeQuerySpace:o.escapeQuerySpace}},o.preventInvalidHostname=!1,o.duplicateQueryParameters=!1,o.escapeQuerySpace=!0,o.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,o.idn_expression=/[^a-z0-9\._-]/i,o.punycode_expression=/(xn--)/i,o.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,o.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,o.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},o.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},o.hostProtocols=["http","https"],o.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,o.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},o.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return o.domAttributes[t]}},o.encode=v,o.decode=decodeURIComponent,o.iso8859=function(){o.encode=escape,o.decode=unescape},o.unicode=function(){o.encode=v,o.decode=decodeURIComponent},o.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},o.encodeQuery=function(e,t){var n=o.encode(e+"");return void 0===t&&(t=o.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},o.decodeQuery=function(e,t){e+="",void 0===t&&(t=o.escapeQuerySpace);try{return o.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var g,_={encode:"encode",decode:"decode"},b=function(e,t){return function(n){try{return o[t](n+"").replace(o.characters[e][t].expression,(function(n){return o.characters[e][t].map[n]}))}catch(e){return n}}};for(g in _)o[g+"PathSegment"]=b("pathname",_[g]),o[g+"UrnPathSegment"]=b("urnpath",_[g]);var y=function(e,t,n){return function(r){var i;i=n?function(e){return o[t](o[n](e))}:o[t];for(var a=(r+"").split(e),s=0,c=a.length;s<c;s++)a[s]=i(a[s]);return a.join(e)}};function w(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function k(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&(n+="").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!r),this)}}o.decodePath=y("/","decodePathSegment"),o.decodeUrnPath=y(":","decodeUrnPathSegment"),o.recodePath=y("/","encodePathSegment","decode"),o.recodeUrnPath=y(":","encodeUrnPathSegment","decode"),o.encodeReserved=b("reserved","encode"),o.parse=function(e,t){var n;return t||(t={preventInvalidHostname:o.preventInvalidHostname}),(n=e.indexOf("#"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf("?"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===(e=e.replace(/^(https?|ftp|wss?)?:[/\\]*/,"$1://")).substring(0,2)?(t.protocol=null,e=e.substring(2),e=o.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(o.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3).replace(/\\/g,"/")?(e=e.substring(n+3),e=o.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},o.parseHost=function(e,t){e||(e="");var n,r,i=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===i&&(i=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,i)||null,"/"===t.port&&(t.port=null);else{var a=e.indexOf(":"),s=e.indexOf("/"),c=e.indexOf(":",a+1);-1!==c&&(-1===s||c<s)?(t.hostname=e.substring(0,i)||null,t.port=null):(r=e.substring(0,i).split(":"),t.hostname=r[0]||null,t.port=r[1]||null)}return t.hostname&&"/"!==e.substring(i).charAt(0)&&(i++,e="/"+e),t.preventInvalidHostname&&o.ensureValidHostname(t.hostname,t.protocol),t.port&&o.ensureValidPort(t.port),e.substring(i)||"/"},o.parseAuthority=function(e,t){return e=o.parseUserinfo(e,t),o.parseHost(e,t)},o.parseUserinfo=function(e,t){var n=e;-1!==e.indexOf("\\")&&(e=e.replace(/\\/g,"/"));var r,i=e.indexOf("/"),a=e.lastIndexOf("@",i>-1?i:e.length-1);return a>-1&&(-1===i||a<i)?(r=e.substring(0,a).split(":"),t.username=r[0]?o.decode(r[0]):null,r.shift(),t.password=r[0]?o.decode(r.join(":")):null,e=n.substring(a+1)):(t.username=null,t.password=null),e},o.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,r,i,a={},c=e.split("&"),l=c.length,u=0;u<l;u++)n=c[u].split("="),r=o.decodeQuery(n.shift(),t),i=n.length?o.decodeQuery(n.join("="),t):null,"__proto__"!==r&&(s.call(a,r)?("string"!=typeof a[r]&&null!==a[r]||(a[r]=[a[r]]),a[r].push(i)):a[r]=i);return a},o.build=function(e){var t="",n=!1;return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//",n=!0),t+=o.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&n&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},o.buildHost=function(e){var t="";return e.hostname?(o.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},o.buildAuthority=function(e){return o.buildUserinfo(e)+o.buildHost(e)},o.buildUserinfo=function(e){var t="";return e.username&&(t+=o.encode(e.username)),e.password&&(t+=":"+o.encode(e.password)),t&&(t+="@"),t},o.buildQuery=function(e,t,n){var r,i,a,c,l="";for(i in e)if("__proto__"!==i&&s.call(e,i))if(u(e[i]))for(r={},a=0,c=e[i].length;a<c;a++)void 0!==e[i][a]&&void 0===r[e[i][a]+""]&&(l+="&"+o.buildQueryParameter(i,e[i][a],n),!0!==t&&(r[e[i][a]+""]=!0));else void 0!==e[i]&&(l+="&"+o.buildQueryParameter(i,e[i],n));return l.substring(1)},o.buildQueryParameter=function(e,t,n){return o.encodeQuery(e,n)+(null!==t?"="+o.encodeQuery(t,n):"")},o.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)s.call(t,r)&&o.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),u(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},o.setQuery=function(e,t,n){if("object"==typeof t)for(var r in t)s.call(t,r)&&o.setQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},o.removeQuery=function(e,t,n){var r,i,a;if(u(t))for(r=0,i=t.length;r<i;r++)e[t[r]]=void 0;else if("RegExp"===l(t))for(a in e)t.test(a)&&(e[a]=void 0);else if("object"==typeof t)for(a in t)s.call(t,a)&&o.removeQuery(e,a,t[a]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===l(n)?!u(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=d(e[t],n):e[t]!==String(n)||u(n)&&1!==n.length?u(e[t])&&(e[t]=d(e[t],n)):e[t]=void 0:e[t]=void 0}},o.hasQuery=function(e,t,n,r){switch(l(t)){case"String":break;case"RegExp":for(var i in e)if(s.call(e,i)&&t.test(i)&&(void 0===n||o.hasQuery(e,i,n)))return!0;return!1;case"Object":for(var a in t)if(s.call(t,a)&&!o.hasQuery(e,a,t[a]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(l(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(u(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return!!u(e[t])&&(r?f:p)(e[t],n);case"RegExp":return u(e[t])?!!r&&f(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return u(e[t])?!!r&&f(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},o.joinPaths=function(){for(var e=[],t=[],n=0,r=0;r<arguments.length;r++){var i=new o(arguments[r]);e.push(i);for(var a=i.segment(),s=0;s<a.length;s++)"string"==typeof a[s]&&t.push(a[s]),a[s]&&n++}if(!t.length||!n)return new o("");var c=new o("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||c.path("/"+c.path()),c.normalize()},o.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},o.withinString=function(e,t,n){n||(n={});var r=n.start||o.findUri.start,i=n.end||o.findUri.end,a=n.trim||o.findUri.trim,s=n.parens||o.findUri.parens,c=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var l=r.exec(e);if(!l)break;var u=l.index;if(n.ignoreHtml){var d=e.slice(Math.max(u-3,0),u);if(d&&c.test(d))continue}for(var f=u+e.slice(u).search(i),p=e.slice(u,f),h=-1;;){var m=s.exec(p);if(!m)break;var v=m.index+m[0].length;h=Math.max(h,v)}if(!((p=h>-1?p.slice(0,h)+p.slice(h).replace(a,""):p.replace(a,"")).length<=l[0].length||n.ignore&&n.ignore.test(p))){var g=t(p,u,f=u+p.length,e);void 0!==g?(g=String(g),e=e.slice(0,u)+g+e.slice(f),r.lastIndex=u+g.length):r.lastIndex=f}}return r.lastIndex=0,e},o.ensureValidHostname=function(t,n){var r=!!t,i=!1;if(!!n&&(i=f(o.hostProtocols,n)),i&&!r)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(o.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(o.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},o.ensureValidPort=function(e){if(e){var t=Number(e);if(!(function(e){return/^[0-9]+$/.test(e)}(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},o.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=i),this},a.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=o.build(this._parts),this._deferred_build=!1),this},a.clone=function(){return new o(this)},a.valueOf=a.toString=function(){return this.build(!1)._string},a.protocol=w("protocol"),a.username=w("username"),a.password=w("password"),a.hostname=w("hostname"),a.port=w("port"),a.query=k("query","?"),a.fragment=k("fragment","#"),a.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},a.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},a.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?o.decodeUrnPath:o.decodePath)(n):n}return this._parts.urn?this._parts.path=e?o.recodeUrnPath(e):"":this._parts.path=e?o.recodePath(e):"/",this.build(!t),this},a.path=a.pathname,a.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=o._parts();var r=e instanceof o,i="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName&&(e=e[o.getDomAttribute(e)]||"",i=!1),!r&&i&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=o.parse(String(e),this._parts);else{if(!r&&!i)throw new TypeError("invalid input");var a=r?e._parts:e;for(n in a)"query"!==n&&s.call(this._parts,n)&&(this._parts[n]=a[n]);a.query&&this.query(a.query,!1)}return this.build(!t),this},a.is=function(e){var t=!1,r=!1,i=!1,a=!1,s=!1,c=!1,l=!1,u=!this._parts.urn;switch(this._parts.hostname&&(u=!1,r=o.ip4_expression.test(this._parts.hostname),i=o.ip6_expression.test(this._parts.hostname),s=(a=!(t=r||i))&&n&&n.has(this._parts.hostname),c=a&&o.idn_expression.test(this._parts.hostname),l=a&&o.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return a;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return i;case"idn":return c;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var E=a.protocol,C=a.port,S=a.hostname;a.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(o.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return E.call(this,e,t)},a.scheme=a.protocol,a.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),o.ensureValidPort(e))),C.call(this,e,t))},a.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==o.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&o.ensureValidHostname(e,this._parts.protocol)}return S.call(this,e,t)},a.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var r=o(e);return this.protocol(r.protocol()).authority(r.authority()).build(!t),this},a.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?o.buildHost(this._parts):"";if("/"!==o.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?o.buildAuthority(this._parts):"";if("/"!==o.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=o.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),o.parseUserinfo(e,this._parts),this.build(!t),this},a.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=o.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},a.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,r),a=new RegExp("^"+c(i));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&o.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},a.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(o.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var i=new RegExp(c(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},a.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(r+1);return!0!==t&&n&&n.list[i.toLowerCase()]&&n.get(this._parts.hostname)||i}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');o=new RegExp(c(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(c(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},a.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?o.decodePath(r):r}var i=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,i),s=new RegExp("^"+c(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=o.recodePath(e),this._parts.path=this._parts.path.replace(s,e),this.build(!t),this},a.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return e?o.decodePathSegment(r):r}var i=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(i=!0);var a=new RegExp(c(this.filename())+"$");return e=o.recodePath(e),this._parts.path=this._parts.path.replace(a,e),i?this.normalizePath(t):this.build(!t),this},a.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,i=this.filename(),a=i.lastIndexOf(".");return-1===a?"":(n=i.substring(a+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",e?o.decodePathSegment(r):r)}"."===e.charAt(0)&&(e=e.substring(1));var s,l=this.suffix();if(l)s=e?new RegExp(c(l)+"$"):new RegExp(c("."+l)+"$");else{if(!e)return this;this._parts.path+="."+o.recodePath(e)}return s&&(e=o.recodePath(e),this._parts.path=this._parts.path.replace(s,e)),this.build(!t),this},a.segment=function(e,t,n){var r=this._parts.urn?":":"/",i=this.path(),o="/"===i.substring(0,1),a=i.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(o&&a.shift(),e<0&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(u(t)){a=[];for(var s=0,c=t.length;s<c;s++)(t[s].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(h(t[s])))}else(t||"string"==typeof t)&&(t=h(t),""===a[a.length-1]?a[a.length-1]=t:a.push(t));else t?a[e]=h(t):a.splice(e,1);return o&&a.unshift(""),this.path(a.join(r),n)},a.segmentCoded=function(e,t,n){var r,i,a;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(u(r=this.segment(e,t,n)))for(i=0,a=r.length;i<a;i++)r[i]=o.decode(r[i]);else r=void 0!==r?o.decode(r):void 0;return r}if(u(t))for(i=0,a=t.length;i<a;i++)t[i]=o.encode(t[i]);else t="string"==typeof t||t instanceof String?o.encode(t):t;return this.segment(e,t,n)};var x=a.query;return a.query=function(e,t){if(!0===e)return o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=o.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=o.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):x.call(this,e,t)},a.setQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var i in e)s.call(e,i)&&(r[i]=e[i])}return this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},a.addQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.addQuery(r,e,void 0===t?null:t),this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},a.removeQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.removeQuery(r,e,t),this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},a.hasQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.hasQuery(r,e,t,n)},a.setSearch=a.setQuery,a.addSearch=a.addQuery,a.removeSearch=a.removeQuery,a.hasSearch=a.hasQuery,a.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},a.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},a.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},a.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===o.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},a.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=o.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var r,i,a="";for("/"!==(n=o.recodePath(n)).charAt(0)&&(t=!0,n="/"+n),"/.."!==n.slice(-3)&&"/."!==n.slice(-2)||(n+="/"),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(a=n.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);-1!==(r=n.search(/\/\.\.(\/|$)/));)0!==r?(-1===(i=n.substring(0,r).lastIndexOf("/"))&&(i=r),n=n.substring(0,i)+n.substring(r+3)):n=n.substring(3);return t&&this.is("relative")&&(n=a+n.substring(1)),this._parts.path=n,this.build(!e),this},a.normalizePathname=a.normalizePath,a.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(o.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},a.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},a.normalizeSearch=a.normalizeQuery,a.normalizeHash=a.normalizeFragment,a.iso8859=function(){var e=o.encode,t=o.decode;o.encode=escape,o.decode=decodeURIComponent;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},a.unicode=function(){var e=o.encode,t=o.decode;o.encode=v,o.decode=unescape;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},a.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",i=0,a=t._parts.query.split("&"),s=a.length;i<s;i++){var c=(a[i]||"").split("=");r+="&"+o.decodeQuery(c[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==c[1]&&(r+="="+o.decodeQuery(c[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+o.decodeQuery(t.hash(),!0)},a.absoluteTo=function(e){var t,n,r,i=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof o||(e=new o(e)),i._parts.protocol)return i;if(i._parts.protocol=e._parts.protocol,this._parts.hostname)return i;for(n=0;r=a[n];n++)i._parts[r]=e._parts[r];return i._parts.path?(".."===i._parts.path.substring(-2)&&(i._parts.path+="/"),"/"!==i.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),i._parts.path=(t?t+"/":"")+i._parts.path,i.normalizePath())):(i._parts.path=e._parts.path,i._parts.query||(i._parts.query=e._parts.query)),i.build(),i},a.relativeTo=function(e){var t,n,r,i,a,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new o(e).normalize(),t=s._parts,n=e._parts,i=s.path(),a=e.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==n.hostname||t.port!==n.port)return s.build();if(t.hostname=null,t.port=null,i===a)return t.path="",s.build();if(!(r=o.commonPath(i,a)))return s.build();var c=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=c+t.path.substring(r.length)||"./",s.build()},a.equals=function(e){var t,n,r,i,a,c=this.clone(),l=new o(e),d={};if(c.normalize(),l.normalize(),c.toString()===l.toString())return!0;if(r=c.query(),i=l.query(),c.query(""),l.query(""),c.toString()!==l.toString())return!1;if(r.length!==i.length)return!1;for(a in t=o.parseQuery(r,this._parts.escapeQuerySpace),n=o.parseQuery(i,this._parts.escapeQuerySpace),t)if(s.call(t,a)){if(u(t[a])){if(!p(t[a],n[a]))return!1}else if(t[a]!==n[a])return!1;d[a]=!0}for(a in n)if(s.call(n,a)&&!d[a])return!1;return!0},a.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},a.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},a.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},o}))},51069:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof global&&global;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,c=36,l=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function m(e){throw new RangeError(f[e])}function v(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+v((e=e.replace(d,".")).split("."),t).join(".")}function _(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return v(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+h(e)})).join("")}function y(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=c)e=p(e/35);return p(r+36*e/(e+38))}function k(e){var t,n,r,i,o,a,l,u,d,f,h,v=[],g=e.length,_=0,y=128,k=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),v.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=_,a=1,l=c;i>=g&&m("invalid-input"),((u=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:c)>=c||u>p((s-_)/a))&&m("overflow"),_+=u*a,!(u<(d=l<=k?1:l>=k+26?26:l-k));l+=c)a>p(s/(f=c-d))&&m("overflow"),a*=f;k=w(_-o,t=v.length+1,0==o),p(_/t)>s-y&&m("overflow"),y+=p(_/t),_%=t,v.splice(_++,0,y)}return b(v)}function E(e){var t,n,r,i,o,a,l,u,d,f,v,g,b,k,E,C=[];for(g=(e=_(e)).length,t=128,n=0,o=72,a=0;a<g;++a)(v=e[a])<128&&C.push(h(v));for(r=i=C.length,i&&C.push("-");r<g;){for(l=s,a=0;a<g;++a)(v=e[a])>=t&&v<l&&(l=v);for(l-t>p((s-n)/(b=r+1))&&m("overflow"),n+=(l-t)*b,t=l,a=0;a<g;++a)if((v=e[a])<t&&++n>s&&m("overflow"),v==t){for(u=n,d=c;!(u<(f=d<=o?1:d>=o+26?26:d-o));d+=c)E=u-f,k=c-f,C.push(h(y(f+E%k,0))),u=p(E/k);C.push(h(y(u,0))),o=w(n,b,r==i),n=0,++r}++n,++t}return C.join("")}a={version:"1.3.2",ucs2:{decode:_,encode:b},decode:k,encode:E,toASCII:function(e){return g(e,(function(e){return u.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return g(e,(function(e){return l.test(e)?k(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},91895:function(e){"use strict";e.exports=function(){}},30787:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(1)),a=i(n(2)),s=i(n(3)),c=n(4),l=i(n(5)),u="2.0.0-2",d=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===t)throw new Error("No options given.");if((t=l.default.defaults(t,{assetsUrl:"assets",container:null,renderOnWindowResize:!1,versionCheck:!0})).ui=t.ui||{},t.ui=l.default.defaults(t.ui,{enabled:!0}),void 0===t.image&&!t.ui.enabled)throw new Error("`options.image` needs to be set when UI is disabled.");this._options=t,this.operationsStack=[],this._registeredUIs={},this._registerUIs(),this._registeredOperations={},this._registerOperations(),"undefined"!=typeof window&&this._options.versionCheck&&(this._versionChecker=new s.default(u)),this._options.ui.enabled&&(this._initUI(),this._options.renderOnWindowResize&&this._handleWindowResize())}return r(e,[{key:"render",value:function(e,t,n,r){var i=this,s=a.default.validateSettings(e,t);e=s.renderType,t=s.imageFormat;for(var c=new o.default(this._options.image,this.operationsStack,n,this._options.renderer),l=0;l<this.operationsStack.length;l++){var u=this.operationsStack[l];u&&(u.dirty=!0)}return c.render().then((function(){var n=c.getRenderer().getCanvas();return a.default.export(i._options.image,n,e,t,r)}))}},{key:"reset",value:function(){}},{key:"getAssetPath",value:function(e){return"undefined"!=typeof window?this._options.assetsUrl+"/"+e:n(51).resolve(this._options.assetsUrl,e)}},{key:"_handleWindowResize",value:function(){var e=this,t=null;window.addEventListener("resize",(function(){null!==t&&clearTimeout(t),t=setTimeout((function(){t=null,e.ui.render()}),300)}))}},{key:"_registerUIs",value:function(){this.registerUI(e.NightUI)}},{key:"_registerOperations",value:function(){for(var t in e.Operations)this.registerOperation(e.Operations[t])}},{key:"registerOperation",value:function(e){this._registeredOperations[e.prototype.identifier]=e,this.ui&&this.ui.addOperation(e)}},{key:"registerUI",value:function(e){this._registeredUIs[e.prototype.identifier]=e}},{key:"_initUI",value:function(){var e;!0===this._options.ui.enabled&&(e=l.default.values(this._registeredUIs)[0]),e&&(this.ui=new e(this,this._options))}},{key:"getOperationFromStack",value:function(e){return this.operationsStack.filter((function(t){return t.identifier===e}))[0]}},{key:"run",value:function(){void 0!==this.ui&&this.ui.run()}},{key:"registeredOperations",get:function(){return this._registeredOperations}}]),e}();d.version=u,d.RenderImage=o.default,d.Color=n(6),d.Filter=n(7),d.Operation=n(8),d.Operations={},d.Operations.Filters=n(9),d.Operations.Crop=n(10),d.Operations.Rotation=n(11),d.Operations.Saturation=n(12),d.Operations.Contrast=n(13),d.Operations.Brightness=n(14),d.Operations.Flip=n(15),d.Operations.TiltShift=n(16),d.Operations.RadialBlur=n(17),d.Operations.Text=n(18),d.Operations.Stickers=n(19),d.Operations.Frames=n(20),d.Filters={},d.Filters.A15=n(21),d.Filters.Breeze=n(22),d.Filters.BW=n(23),d.Filters.BWHard=n(24),d.Filters.Celsius=n(25),d.Filters.Chest=n(26),d.Filters.Fixie=n(27),d.Filters.Food=n(28),d.Filters.Fridge=n(29),d.Filters.Front=n(30),d.Filters.Glam=n(31),d.Filters.Gobblin=n(32),d.Filters.K1=n(33),d.Filters.K2=n(34),d.Filters.K6=n(35),d.Filters.KDynamic=n(36),d.Filters.Lenin=n(37),d.Filters.Lomo=n(38),d.Filters.Mellow=n(39),d.Filters.Morning=n(40),d.Filters.Orchid=n(41),d.Filters.Pola=n(42),d.Filters.Pola669=n(43),d.Filters.Quozi=n(44),d.Filters.Semired=n(45),d.Filters.Sunny=n(46),d.Filters.Texas=n(47),d.Filters.X400=n(48),d.RenderType=c.RenderType,d.ImageFormat=c.ImageFormat,d.Vector2=n(49),d.NightUI=n(50),t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(53)),a=i(n(49)),s=i(n(54)),c=i(n(55)),l=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._options={preferredRenderer:i},this._webglEnabled=!1,this._renderer=null,this._image=t,this._stack=n,this._dimensions=new o.default(r),this._initialDimensions=new a.default(this._image.width,this._image.height),this._initRenderer()}return r(e,[{key:"_initRenderer",value:function(){if(c.default.isSupported()&&"canvas"!==this._options.preferredRenderer?(this._renderer=new c.default(this._initialDimensions),this._webglEnabled=!0):s.default.isSupported()&&(this._renderer=new s.default(this._initialDimensions),this._webglEnabled=!1),null===this._renderer)throw new Error("Neither Canvas nor WebGL renderer are supported.");this._renderer.drawImage(this._image)}},{key:"render",value:function(){for(var e=this,t=this.sanitizedStack,n=[],r=0;r<t.length;r++){var i=t[r];n.push(i.validateSettings())}return Promise.all(n).then((function(){for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(i.render(e._renderer))}return Promise.all(n)})).then((function(){return e._renderer.renderFinal()})).then((function(){var t=e._renderer.getSize(),n=e._dimensions.calculateFinalDimensions(t);if(!n.equals(t))return e._renderer.resizeTo(n)}))}},{key:"getRenderer",value:function(){return this._renderer}},{key:"sanitizedStack",get:function(){for(var e=[],t=0;t<this._stack.length;t++){var n=this._stack[t];n&&e.push(n)}return e}}]),e}();t.default=l,e.exports=t.default},function(e,t,n){(function(r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=n(4),s=o(n(56)),c=o(n(5)),l=o(n(57)),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"validateSettings",value:function(e,t){var n={renderType:e,imageFormat:t};if(void 0!==n.renderType&&null!==n.renderType&&-1===c.default.values(a.RenderType).indexOf(n.renderType))throw new Error("Invalid render type: "+n.renderType);if(void 0===e&&(n.renderType=a.RenderType.DATAURL),void 0!==n.imageFormat&&null!==n.imageFormat&&-1===c.default.values(a.ImageFormat).indexOf(n.imageFormat))throw new Error("Invalid image format: "+n.imageFormat);if(void 0===t&&(n.imageFormat=a.ImageFormat.PNG),n.renderType===a.RenderType.BUFFER&&void 0===r)throw new Error("Render type 'buffer' is only available when using node.js");return n}},{key:"export",value:function(e,t,r,i){var o=void 0===arguments[4]?.8:arguments[4];return new l.default((function(c,l){var u=void 0;if(r===a.RenderType.IMAGE||r===a.RenderType.DATAURL){u="undefined"==typeof window?t.toDataURL(i):t.toDataURL(i,o);var d=/^data:image\/jpeg/i;e.src.match(d)&&u.match(d)&&(u=s.default.restore(e.src,u))}if(r===a.RenderType.IMAGE){var f=void 0;(f="undefined"==typeof window?new(0,n(52).Image):new Image).src=u,c(f)}else r===a.RenderType.DATAURL?c(u):r===a.RenderType.BUFFER?c(t.toBuffer()):r===a.RenderType.MSBLOB?c(t.msToBlob()):r===a.RenderType.BLOB&&t.toBlob((function(e){c(e)}),i,o)}))}}]),e}();t.default=u,e.exports=t.default}).call(t,n(74))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._version=t,this._check()}return r(e,[{key:"_check",value:function(){var e=this;window.imglySDKVersionCallback=function(t){t.outdated&&(console.warn("imgly-sdk-html5: Your version "+e._version+" is outdated."),console.warn("imgly-sdk-html5: Current version is "+t.version+"."))};var t=document.createElement("script");t.src="http://sdk.img.ly/version.json?sdk=html5&jsoncallback=imglySDKVersionCallback&version="+this._version,t.async=!0,document.getElementsByTagName("head")[0].appendChild(t)}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderType={IMAGE:"image",DATAURL:"data-url",BUFFER:"buffer",BLOB:"blob",MSBLOB:"ms-blob"},t.ImageFormat={PNG:"image/png",JPEG:"image/jpeg"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(r=n(49))&&r.__esModule?r:{default:r},a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"isArray",value:function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{key:"select",value:function(t){var n=void 0===arguments[1]?null:arguments[1];if(null===n)return t;if("string"==typeof n&&(n=n.split(",").map((function(e){return e.trim()}))),e.isArray(n)&&(n={only:n}),void 0!==n.only)return"string"==typeof n.only&&(n.only=n.only.split(",").map((function(e){return e.trim()}))),t.filter((function(e){return-1!==n.only.indexOf(e)}));if(void 0!==n.except)return"string"==typeof n.except&&(n.except=n.except.split(",").map((function(e){return e.trim()}))),t.filter((function(e){return-1===n.except.indexOf(e)}));throw new Error("Utils#select failed to filter items.")}},{key:"values",value:function(e){var t=[];for(var n in e)t.push(e[n]);return t}},{key:"isDOMElement",value:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}},{key:"getEventPosition",value:function(e){var t=e.pageX,n=e.pageY;return-1!==e.type.indexOf("touch")&&(t=e.touches[0].pageX,n=e.touches[0].pageY),new o.default(t,n)}},{key:"resizeVectorToFit",value:function(e,t){var n=Math.min(t.x/e.x,t.y/e.y);return e.clone().multiply(n)}},{key:"defaults",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i={};for(var o in e)i[o]=e[o];for(var a=0;a<n.length;a++){var s=n[a];for(var o in s)void 0===i[o]&&(i[o]=s[o])}return i}},{key:"extend",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i={};for(var o in e)i[o]=e[o];for(var a=0;a<n.length;a++){var s=n[a];for(var o in s)i[o]=s[o]}return i}},{key:"fetch",value:function(e,t,n){for(var r=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0;i<r.length&&(e=e[r[i]]);i++);return void 0===e&&(e=n),e}}]),e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=1),this.r=t,this.g=n,this.b=r,this.a=i}return r(e,[{key:"toRGBA",value:function(){return"rgba("+[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b),this.a].join(",")+")"}},{key:"toHex",value:function(){return"#"+[this._componentToHex(Math.round(255*this.r)),this._componentToHex(Math.round(255*this.g)),this._componentToHex(Math.round(255*this.b))].join("")}},{key:"toGLColor",value:function(){return[this.r,this.g,this.b,this.a]}},{key:"toRGBGLColor",value:function(){return[this.r,this.g,this.b]}},{key:"toHSV",value:function(){var e,t=Math.max(this.r,this.g,this.b),n=Math.min(this.r,this.g,this.b),r=void 0,i=t,o=t-n;if(e=0===t?0:o/t,t===n)r=0;else{switch(t){case this.r:r=(this.g-this.b)/o+(this.g<this.b?6:0);break;case this.g:r=(this.b-this.r)/o+2;break;case this.b:r=(this.r-this.g)/o+4}r/=6}return[r,e,i]}},{key:"fromHSV",value:function(e,t,n){var r=this.r,i=this.g,o=this.b,a=Math.floor(6*e),s=6*e-a,c=n*(1-t),l=n*(1-s*t),u=n*(1-(1-s)*t);switch(a%6){case 0:r=n,i=u,o=c;break;case 1:r=l,i=n,o=c;break;case 2:r=c,i=n,o=u;break;case 3:r=c,i=l,o=n;break;case 4:r=u,i=c,o=n;break;case 5:r=n,i=c,o=l}this.r=r,this.g=i,this.b=o}},{key:"clone",value:function(){return new e(this.r,this.g,this.b,this.a)}},{key:"_componentToHex",value:function(e){var t=e.toString(16);return 1===t.length?"0"+t:t}},{key:"toString",value:function(){return"Color("+this.r+", "+this.g+", "+this.b+", "+this.a+")"}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"render",value:function(e){throw new Error("Filter#render is abstract and not implemented in inherited class.")}}],[{key:"identifier",get:function(){return null}}]),e}();i.extend=n(58),i.PrimitivesStack=n(59),i.Primitives={},i.Primitives.Saturation=n(60),i.Primitives.LookupTable=n(61),i.Primitives.ToneCurve=n(62),i.Primitives.SoftColorOverlay=n(63),i.Primitives.Desaturation=n(64),i.Primitives.X400=n(65),i.Primitives.Grayscale=n(66),i.Primitives.Contrast=n(67),i.Primitives.Glow=n(68),i.Primitives.Gobblin=n(69),i.Primitives.Brightness=n(70),t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(49)),a=i(n(6)),s=i(n(5)),c=i(n(72)),l=i(n(57)),u=i(n(58)),d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._kit=e,this.availableOptions=s.default.extend(this.availableOptions||{},{numberFormat:{type:"string",default:"relative",available:["absolute","relative"]}}),this._dirty=!0,this._glslPrograms={},this._uuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),this._initOptions(n||{})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"validateSettings",value:function(){var e=this,t=this.identifier;return new l.default((function(n,r){for(var i in e.availableOptions)if(e.availableOptions[i].required&&void 0===e._options[i])return r(new Error("Operation `"+t+"`: Option `"+i+"` is required."));n()}))}},{key:"render",value:function(e){var t=void 0;t="webgl"===e.identifier?this._renderWebGL.bind(this):this._renderCanvas.bind(this),this._dirty?(t(e),e.cache(this._uuid),this._dirty=!1):e.drawCached(this._uuid)}},{key:"_renderWebGL",value:function(){throw new Error("Operation#_renderWebGL is abstract and not implemented in inherited class.")}},{key:"_renderCanvas",value:function(){throw new Error("Operation#_renderCanvas is abstract and not implemented in inherited class.")}},{key:"_initOptions",value:function(e){var t,n,r;this._options={};var i=this;for(t in this.availableOptions)r=t.charAt(0).toUpperCase()+t.slice(1),n=this.availableOptions[t],function(e,t){i["set"+r]=function(t){i._setOption(e,t)},i["get"+r]=function(){return i._getOption(e)}}(t),void 0!==n.default&&this["set"+r](n.default);for(t in e){if(void 0===this.availableOptions[t])throw new Error("Invalid option: "+t);this["set"+(r=t.charAt(0).toUpperCase()+t.slice(1))](e[t])}}},{key:"set",value:function(e){for(var t in e)this._setOption(t,e[t],!1);this.emit("update")}},{key:"_getOption",value:function(e){return this._options[e]}},{key:"_setOption",value:function(e,t){var n=void 0===arguments[2]||arguments[2],r=this.availableOptions[e],i=this.identifier;switch(void 0!==r.setter&&(t=r.setter.call(this,t)),void 0!==r.validation&&r.validation(t),r.type){case"string":if("string"!=typeof t)throw new Error("Operation `"+i+"`: Option `"+e+"` has to be a string.");var s=r.available;if(void 0!==s&&-1===s.indexOf(t))throw new Error("Operation `"+i+"`: Invalid value for `"+e+"` (valid values are: "+r.available.join(", ")+")");this._options[e]=t;break;case"number":if("number"!=typeof t)throw new Error("Operation `"+i+"`: Option `"+e+"` has to be a number.");this._options[e]=t;break;case"boolean":if("boolean"!=typeof t)throw new Error("Operation `"+i+"`: Option `"+e+"` has to be a boolean.");this._options[e]=t;break;case"vector2":if(!(t instanceof o.default))throw new Error("Operation `"+i+"`: Option `"+e+"` has to be an instance of ImglyKit.Vector2.");this._options[e]=t.clone();break;case"color":if(!(t instanceof a.default))throw new Error("Operation `"+i+"`: Option `"+e+"` has to be an instance of ImglyKit.Color.");this._options[e]=t;break;case"object":this._options[e]=t}this._dirty=!0,n&&this.emit("update")}},{key:"getNewDimensions",value:function(e,t){var n=e.getCanvas();return t||new o.default(n.width,n.height)}},{key:"dirty",set:function(e){this._dirty=e},get:function(){return this._dirty}}]),t}(c.default);d.prototype.identifier=null,d.extend=u.default,t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(8)),s=i(n(71)),c=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_renderWebGL",value:function(e){this._render(e)}},{key:"_renderCanvas",value:function(e){this._render(e)}},{key:"_render",value:function(e){this._selectedFilter.render(e)}}]),t}(a.default);c.prototype.identifier="filters",c.prototype.availableOptions={filter:{type:"object",default:s.default,setter:function(e){return this._selectedFilter=new e,e}}},t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(8)),c=o(n(49)),l=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this.fragmentShader="\n      precision mediump float;\n      uniform sampler2D u_image;\n      varying vec2 v_texCoord;\n      uniform vec2 u_cropStart;\n      uniform vec2 u_cropEnd;\n\n      void main() {\n        vec2 size = u_cropEnd - u_cropStart;\n        gl_FragColor = texture2D(u_image, v_texCoord * size + u_cropStart);\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_renderWebGL",value:function(e){var t=e.getCanvas(),n=new c.default(t.width,t.height),r=this._options.start.clone(),i=this._options.end.clone();"absolute"===this._options.numberFormat&&(r.divide(n),i.divide(n));var o=r.y;r.y=1-i.y,i.y=1-o;var a=this.getNewDimensions(e);t.width=a.x,t.height=a.y,e.runShader(null,this.fragmentShader,{uniforms:{u_cropStart:{type:"2f",value:[r.x,r.y]},u_cropEnd:{type:"2f",value:[i.x,i.y]}}})}},{key:"_renderCanvas",value:function(e){var t=e.getCanvas(),n=new c.default(t.width,t.height),r=this.getNewDimensions(e),i=e.createCanvas();i.width=r.x,i.height=r.y;var o=i.getContext("2d"),a=this._options.start.clone();"relative"===this._options.numberFormat&&a.multiply(n),o.drawImage(t,a.x,a.y,r.x,r.y,0,0,r.x,r.y),e.setCanvas(i)}},{key:"getNewDimensions",value:function(e,t){var n=e.getCanvas();t=t||new c.default(n.width,n.height);var r=this._options.end.clone().subtract(this._options.start);return"relative"===this._options.numberFormat&&r.multiply(t),r}}]),t}(s.default);l.prototype.identifier="crop",l.prototype.availableOptions={start:{type:"vector2",required:!0,default:new c.default(0,0)},end:{type:"vector2",required:!0,default:new c.default(1,1)}},t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(8)),c=o(n(49)),l=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this.vertexShader="\n      attribute vec2 a_position;\n      attribute vec2 a_texCoord;\n      varying vec2 v_texCoord;\n      uniform mat3 u_matrix;\n\n      void main() {\n        gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);\n        v_texCoord = a_texCoord;\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_renderWebGL",value:function(e){var t=e.getCanvas(),n=this._options.degrees%360;if(n%180!=0){var r=this.getNewDimensions(e);t.width=r.x,t.height=r.y}var i=n*(Math.PI/180),o=Math.cos(i),a=Math.sin(i),s=[o,-a,0,a,o,0,0,0,1];e.runShader(this.vertexShader,null,{uniforms:{u_matrix:{type:"mat3fv",value:s}}})}},{key:"_renderCanvas",value:function(e){var t=e.getCanvas(),n=this._options.degrees%360,r=this.getNewDimensions(e),i=e.createCanvas();i.width=r.x,i.height=r.y;var o=i.getContext("2d");o.save(),o.translate(i.width/2,i.height/2),o.rotate(n*(Math.PI/180));var a=e.cloneCanvas();o.drawImage(a,-t.width/2,-t.height/2),o.restore(),e.setCanvas(i)}},{key:"getNewDimensions",value:function(e,t){var n=e.getCanvas();if(t=t||new c.default(n.width,n.height),this._options.degrees%360%180!=0){var r=t.x;t.x=t.y,t.y=r}return t}}]),t}(s.default);l.prototype.identifier="rotation",l.prototype.availableOptions={degrees:{type:"number",default:0,validation:function(e){if(e%90!=0)throw new Error("RotationOperation: `rotation` has to be a multiple of 90.")}}},t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(8)),s=i(n(59)),c=i(n(60)),l=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_renderWebGL",value:function(e){this._render(e)}},{key:"_renderCanvas",value:function(e){this._render(e)}},{key:"_render",value:function(e){this._stack||(this._stack=new s.default,this._primitive=new c.default({saturation:this._options.saturation}),this._stack.add(this._primitive)),this._primitive.options.saturation=this._options.saturation,this._stack.render(e)}}]),t}(a.default);l.prototype.identifier="saturation",l.prototype.availableOptions={saturation:{type:"number",default:1}},t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(8)),s=i(n(59)),c=i(n(67)),l=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_renderWebGL",value:function(e){this._render(e)}},{key:"_renderCanvas",value:function(e){this._render(e)}},{key:"_render",value:function(e){this._stack||(this._stack=new s.default,this._primitive=new c.default({contrast:this._options.contrast}),this._stack.add(this._primitive)),this._primitive.options.contrast=this._options.contrast,this._stack.render(e)}}]),t}(a.default);l.prototype.identifier="contrast",l.prototype.availableOptions={contrast:{type:"number",default:1}},t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(8)),s=i(n(59)),c=i(n(70)),l=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_renderWebGL",value:function(e){this._render(e)}},{key:"_renderCanvas",value:function(e){this._render(e)}},{key:"_render",value:function(e){this._stack||(this._stack=new s.default,this._primitive=new c.default({brightness:this._options.brightness}),this._stack.add(this._primitive)),this._primitive.options.brightness=this._options.brightness,this._stack.render(e)}}]),t}(a.default);l.prototype.identifier="brightness",l.prototype.availableOptions={brightness:{type:"number",default:0}},t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a,s=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this.fragmentShader="\n      precision mediump float;\n      uniform sampler2D u_image;\n      varying vec2 v_texCoord;\n      uniform bool u_flipVertical;\n      uniform bool u_flipHorizontal;\n\n      void main() {\n        vec2 texCoord = vec2(v_texCoord);\n        if (u_flipVertical) {\n          texCoord.y = 1.0 - texCoord.y;\n        }\n        if (u_flipHorizontal) {\n          texCoord.x = 1.0 - texCoord.x;\n        }\n        gl_FragColor = texture2D(u_image, texCoord);\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_renderWebGL",value:function(e){e.runShader(null,this.fragmentShader,{uniforms:{u_flipVertical:{type:"f",value:this._options.vertical},u_flipHorizontal:{type:"f",value:this._options.horizontal}}})}},{key:"_renderCanvas",value:function(e){var t=e.getCanvas(),n=e.getContext(),r=1,i=1,o=0,a=0;this._options.horizontal&&(r=-1,o=t.width),this._options.vertical&&(i=-1,a=t.height),n.save(),n.translate(o,a),n.scale(r,i);var s=e.cloneCanvas();n.drawImage(s,0,0),n.restore()}}]),t}(((a=n(8))&&a.__esModule?a:{default:a}).default);s.prototype.identifier="flip",s.prototype.availableOptions={horizontal:{type:"boolean",default:!1},vertical:{type:"boolean",default:!1}},t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r},o=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=a(n(8)),l=a(n(49)),u=a(n(73)),d=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];s(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._fragmentShader="\n      precision mediump float;\n      uniform sampler2D u_image;\n      uniform float blurRadius;\n      uniform float gradientRadius;\n      uniform vec2 start;\n      uniform vec2 end;\n      uniform vec2 delta;\n      uniform vec2 texSize;\n      varying vec2 v_texCoord;\n\n      float random(vec3 scale, float seed) {\n        return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n      }\n\n      void main() {\n          vec4 color = vec4(0.0);\n          float total = 0.0;\n\n          float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n          vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n          float radius = smoothstep(0.0, 1.0, abs(dot(v_texCoord * texSize - start, normal)) / gradientRadius) * blurRadius;\n          for (float t = -30.0; t <= 30.0; t++) {\n              float percent = (t + offset - 0.5) / 30.0;\n              float weight = 1.0 - abs(percent);\n              vec4 sample = texture2D(u_image, v_texCoord + delta * percent * radius / texSize);\n\n              sample.rgb *= sample.a;\n\n              color += sample * weight;\n              total += weight;\n          }\n\n          gl_FragColor = color / total;\n          gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n      }\n    ",this._cachedBlurredCanvas=null,this._lastBlurRadius=this._options.blurRadius,this._lastGradientRadius=this._options.gradientRadius}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_renderWebGL",value:function(e){var t=e.getCanvas(),n=new l.default(t.width,t.height),r=this._options.start.clone(),i=this._options.end.clone();"relative"===this._options.numberFormat&&(r.multiply(n),i.multiply(n)),r.y=n.y-r.y,i.y=n.y-i.y;var o=i.clone().subtract(r),a=Math.sqrt(o.x*o.x+o.y*o.y),s={blurRadius:{type:"f",value:this._options.blurRadius},gradientRadius:{type:"f",value:this._options.gradientRadius},start:{type:"2f",value:[r.x,r.y]},end:{type:"2f",value:[i.x,i.y]},delta:{type:"2f",value:[o.x/a,o.y/a]},texSize:{type:"2f",value:[t.width,t.height]}};this._glslPrograms[e.id]||(this._glslPrograms[e.id]=e.setupGLSLProgram(null,this._fragmentShader)),e.runProgram(this._glslPrograms[e.id],{uniforms:s}),s.delta.value=[-o.y/a,o.x/a],e.runProgram(this._glslPrograms[e.id],{uniforms:s})}},{key:"_renderCanvas",value:function(e){var t=e.getCanvas(),n=void 0;this._options.blurRadius!==this._lastBlurRadius||this._options.gradientRadius!==this._lastGradientRadius||null===this._cachedBlurredCanvas?(n=this._blurCanvas(e),this._cachedBlurredCanvas=n,this._lastBlurRadius=this._options.blurRadius,this._lastGradientRadius=this._options.gradientRadius):n=this._cachedBlurredCanvas;var r=this._createMask(e);this._applyMask(t,n,r)}},{key:"_blurCanvas",value:function(e){var t=e.cloneCanvas(),n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height);return u.default.stackBlurCanvasRGBA(r,0,0,t.width,t.height,this._options.blurRadius),n.putImageData(r,0,0),t}},{key:"_createMask",value:function(e){var t=e.getCanvas(),n=new l.default(t.width,t.height),r=this._options.gradientRadius,i=e.createCanvas(t.width,t.height),o=i.getContext("2d"),a=this._options.start.clone(),s=this._options.end.clone();"relative"===this._options.numberFormat&&(a.multiply(n),s.multiply(n));var c=s.clone().subtract(a),u=a.clone().add(c.clone().divide(2)),d=Math.sqrt(Math.pow(c.x,2)+Math.pow(c.y,2)),f=c.clone().divide(d),p=u.clone().add(r*f.y,-r*f.x),h=u.clone().add(-r*f.y,r*f.x),m=o.createLinearGradient(p.x,p.y,h.x,h.y);return m.addColorStop(0,"#000000"),m.addColorStop(.5,"#FFFFFF"),m.addColorStop(1,"#000000"),o.fillStyle=m,o.fillRect(0,0,t.width,t.height),i}},{key:"_applyMask",value:function(e,t,n){for(var r=e.getContext("2d"),i=t.getContext("2d"),o=n.getContext("2d"),a=r.getImageData(0,0,e.width,e.height),s=a.data,c=i.getImageData(0,0,e.width,e.height).data,l=o.getImageData(0,0,e.width,e.height).data,u=0;u<l.length;u++){var d=l[u]/255;s[u]=d*s[u]+(1-d)*c[u]}r.putImageData(a,0,0)}},{key:"dirty",set:function(e){i(Object.getPrototypeOf(t.prototype),"dirty",e,this),this._cachedBlurredCanvas=null},get:function(){return o(Object.getPrototypeOf(t.prototype),"dirty",this)}}]),t}(c.default);d.prototype.identifier="tilt-shift",d.prototype.availableOptions={start:{type:"vector2",default:new l.default(0,.5)},end:{type:"vector2",default:new l.default(1,.5)},blurRadius:{type:"number",default:30},gradientRadius:{type:"number",default:50}},t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r},o=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=a(n(8)),l=a(n(49)),u=a(n(73)),d=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];s(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._fragmentShader="\n      precision mediump float;\n      uniform sampler2D u_image;\n      uniform float blurRadius;\n      uniform float gradientRadius;\n      uniform vec2 position;\n      uniform vec2 delta;\n      uniform vec2 texSize;\n      varying vec2 v_texCoord;\n\n      float random(vec3 scale, float seed) {\n        return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n      }\n\n      void main() {\n          vec4 color = vec4(0.0);\n          float total = 0.0;\n\n          float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n          float radius = smoothstep(0.0, 1.0, abs(distance(v_texCoord * texSize, position)) / (gradientRadius * 2.0)) * blurRadius;\n          for (float t = -30.0; t <= 30.0; t++) {\n              float percent = (t + offset - 0.5) / 30.0;\n              float weight = 1.0 - abs(percent);\n              vec4 sample = texture2D(u_image, v_texCoord + delta * percent * radius / texSize);\n\n              sample.rgb *= sample.a;\n\n              color += sample * weight;\n              total += weight;\n          }\n\n          gl_FragColor = color / total;\n          gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n      }\n    ",this._cachedBlurredCanvas=null,this._lastBlurRadius=this._options.blurRadius,this._lastGradientRadius=this._options.gradientRadius}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_renderWebGL",value:function(e){var t=e.getCanvas(),n=new l.default(t.width,t.height),r=this._options.position.clone();r.y=1-r.y,"relative"===this._options.numberFormat&&r.multiply(n);var i={blurRadius:{type:"f",value:this._options.blurRadius},gradientRadius:{type:"f",value:this._options.gradientRadius},position:{type:"2f",value:[r.x,r.y]},texSize:{type:"2f",value:[t.width,t.height]},delta:{type:"2f",value:[1,1]}};this._glslPrograms[e.id]||(this._glslPrograms[e.id]=e.setupGLSLProgram(null,this._fragmentShader)),e.runProgram(this._glslPrograms[e.id],{uniforms:i}),i.delta.value=[-1,1],e.runProgram(this._glslPrograms[e.id],{uniforms:i})}},{key:"_renderCanvas",value:function(e){var t=e.getCanvas(),n=void 0;this._options.blurRadius!==this._lastBlurRadius||null===this._cachedBlurredCanvas?(n=this._blurCanvas(e),this._cachedBlurredCanvas=n,this._lastBlurRadius=this._options.blurRadius,this._lastGradientRadius=this._options.gradientRadius):n=this._cachedBlurredCanvas;var r=this._createMask(e);this._applyMask(t,n,r)}},{key:"_blurCanvas",value:function(e){var t=e.cloneCanvas(),n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height);return u.default.stackBlurCanvasRGBA(r,0,0,t.width,t.height,this._options.blurRadius),n.putImageData(r,0,0),t}},{key:"_createMask",value:function(e){var t=e.getCanvas(),n=new l.default(t.width,t.height),r=this._options.gradientRadius,i=e.createCanvas(t.width,t.height),o=i.getContext("2d"),a=this._options.position.clone();"relative"===this._options.numberFormat&&a.multiply(n);var s=o.createRadialGradient(a.x,a.y,0,a.x,a.y,r);return s.addColorStop(0,"#FFFFFF"),s.addColorStop(1,"#000000"),o.fillStyle=s,o.fillRect(0,0,t.width,t.height),i}},{key:"_applyMask",value:function(e,t,n){for(var r,i,o=e.getContext("2d"),a=t.getContext("2d"),s=n.getContext("2d"),c=o.getImageData(0,0,e.width,e.height),l=c.data,u=a.getImageData(0,0,e.width,e.height).data,d=s.getImageData(0,0,e.width,e.height).data,f=0;f<e.height;f++)for(var p=0;p<e.width;p++)i=d[r=4*(f*e.width+p)]/255,l[r]=i*l[r]+(1-i)*u[r],l[r+1]=i*l[r+1]+(1-i)*u[r+1],l[r+2]=i*l[r+2]+(1-i)*u[r+2];o.putImageData(c,0,0)}},{key:"dirty",set:function(e){i(Object.getPrototypeOf(t.prototype),"dirty",e,this),this._cachedBlurredCanvas=null},get:function(){return o(Object.getPrototypeOf(t.prototype),"dirty",this)}}]),t}(c.default);d.prototype.identifier="radial-blur",d.prototype.availableOptions={position:{type:"vector2",default:new l.default(.5,.5)},gradientRadius:{type:"number",default:50},blurRadius:{type:"number",default:20}},t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(8)),c=o(n(49)),l=o(n(6)),u=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._textureIndex=1,this._fragmentShader="\n      precision mediump float;\n      varying vec2 v_texCoord;\n      uniform sampler2D u_image;\n      uniform sampler2D u_textImage;\n      uniform vec2 u_position;\n      uniform vec2 u_size;\n\n      void main() {\n        vec4 color0 = texture2D(u_image, v_texCoord);\n        vec2 relative = (v_texCoord - u_position) / u_size;\n\n        if (relative.x >= 0.0 && relative.x <= 1.0 &&\n          relative.y >= 0.0 && relative.y <= 1.0) {\n\n            vec4 color1 = texture2D(u_textImage, relative);\n\n            // GL_SOURCE_ALPHA, GL_ONE_MINUS_SOURCE_ALPHA\n            gl_FragColor = color1 + color0 * (1.0 - color1.a);\n\n        } else {\n\n          gl_FragColor = color0;\n\n        }\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_renderWebGL",value:function(e){var t=this._renderTextCanvas(e),n=e.getCanvas(),r=e.getContext(),i=this._options.position.clone(),o=new c.default(n.width,n.height),a=new c.default(t.width,t.height).divide(o);"absolute"===this._options.numberFormat&&i.divide(o),i.y=1-i.y,i.y-=a.y,"center"===this._options.verticalAlignment?i.y+=a.y/2:"bottom"===this._options.verticalAlignment&&(i.y+=a.y),"center"===this._options.alignment?i.x-=a.x/2:"right"===this._options.alignment&&(i.x-=a.x),r.activeTexture(r.TEXTURE0+this._textureIndex),this._texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this._texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.activeTexture(r.TEXTURE0),e.runShader(null,this._fragmentShader,{uniforms:{u_textImage:{type:"i",value:this._textureIndex},u_position:{type:"2f",value:[i.x,i.y]},u_size:{type:"2f",value:[a.x,a.y]}}})}},{key:"_renderCanvas",value:function(e){var t=this._renderTextCanvas(e),n=e.getCanvas(),r=e.getContext(),i=new c.default(n.width,n.height),o=this._options.position.clone();"relative"===this._options.numberFormat&&o.multiply(i),"center"===this._options.verticalAlignment?o.y-=t.height/2:"bottom"===this._options.verticalAlignment&&(o.y-=t.height),"center"===this._options.alignment?o.x-=t.width/2:"right"===this._options.alignment&&(o.x-=t.width),r.drawImage(t,o.x,o.y)}},{key:"_renderTextCanvas",value:function(e){var t=void 0,n=void 0,r=e.createCanvas(),i=r.getContext("2d"),o=e.getCanvas(),a=new c.default(o.width,o.height),s=this._options.maxWidth,l=this._options.fontSize*a.y,u=this._options.lineHeight*l;"relative"===this._options.numberFormat&&(s*=e.getCanvas().width),this._applyTextOptions(e,i);var d=new c.default,f=this._options.text.split("\n");if(void 0!==s)d.x=s,f=this._buildOutputLines(i,s);else for(n=0;n<f.length;n++)t=f[n],d.x=Math.max(d.x,i.measureText(t).width);for(d.y=u*f.length,r.width=d.x,r.height=d.y,(i=r.getContext("2d")).fillStyle=this._options.backgroundColor.toRGBA(),i.fillRect(0,0,r.width,r.height),this._applyTextOptions(e,i),n=0;n<f.length;n++)t=f[n],this._drawText(i,t,u*n);return r}},{key:"_applyTextOptions",value:function(e,t){var n=e.getCanvas(),r=new c.default(n.width,n.height),i=this._options.fontSize*r.y;t.font=this._options.fontWeight+" "+i+"px "+this._options.fontFamily,t.textBaseline="top",t.textAlign=this._options.alignment,t.fillStyle=this._options.color.toRGBA()}},{key:"_buildOutputLines",value:function(e,t){for(var n=this._options.text.split("\n"),r=[],i=[],o=0;o<n.length;o++){var a=n[o].split("");0===a.length&&r.push("");for(var s=0;s<a.length;s++){var c=a[s];i.push(c);var l=i.join(""),u=e.measureText(l).width;if(u>t&&1===i.length)r.push(i[0]),i=[];else if(u>t){var d=i.pop();r.push(i.join("")),i=[],i=[d]}else s===a.length-1&&(r.push(i.join("")),i=[])}i.length&&(r.push(i.join("")),i=[])}return r}},{key:"_drawText",value:function(e,t,n){var r=e.canvas;"center"===this._options.alignment?e.fillText(t,r.width/2,n):"left"===this._options.alignment?e.fillText(t,0,n):"right"===this._options.alignment&&e.fillText(t,r.width,n)}}]),t}(s.default);u.prototype.identifier="text",u.prototype.availableOptions={fontSize:{type:"number",default:.1},lineHeight:{type:"number",default:1.1},fontFamily:{type:"string",default:"Times New Roman"},fontWeight:{type:"string",default:"normal"},alignment:{type:"string",default:"left",available:["left","center","right"]},verticalAlignment:{type:"string",default:"top",available:["top","center","bottom"]},color:{type:"color",default:new l.default(1,1,1,1)},backgroundColor:{type:"color",default:new l.default(0,0,0,0)},position:{type:"vector2",default:new c.default(0,0)},text:{type:"string",required:!0},maxWidth:{type:"number",default:1}},t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(8)),c=o(n(49)),l=o(n(57)),u=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._textureIndex=1,this._fragmentShader="\n      precision mediump float;\n      varying vec2 v_texCoord;\n      uniform sampler2D u_image;\n      uniform sampler2D u_stickerImage;\n      uniform vec2 u_position;\n      uniform vec2 u_size;\n\n      void main() {\n        vec4 color0 = texture2D(u_image, v_texCoord);\n        vec2 relative = (v_texCoord - u_position) / u_size;\n\n        if (relative.x >= 0.0 && relative.x <= 1.0 &&\n          relative.y >= 0.0 && relative.y <= 1.0) {\n\n            vec4 color1 = texture2D(u_stickerImage, relative);\n\n            // GL_SOURCE_ALPHA, GL_ONE_MINUS_SOURCE_ALPHA\n            gl_FragColor = color1 + color0 * (1.0 - color1.a);\n\n        } else {\n\n          gl_FragColor = color0;\n\n        }\n      }\n    ",this._loadedStickers={}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=this;return this._loadSticker().then((function(n){return"webgl"===e.identifier?t._renderWebGL(e,n):t._renderCanvas(e,n)}))}},{key:"_renderWebGL",value:function(e,t){var n=e.getCanvas(),r=e.getContext(),i=this._options.position.clone(),o=new c.default(n.width,n.height);"absolute"===this._options.numberFormat&&i.divide(o);var a=new c.default(t.width,t.height);if(void 0!==this._options.size){a.copy(this._options.size),"relative"===this._options.numberFormat&&a.multiply(o);var s=t.height/t.width;a.y=a.x*s}a.divide(o),i.y=1-i.y,i.y-=a.y,r.activeTexture(r.TEXTURE0+this._textureIndex),this._texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this._texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.activeTexture(r.TEXTURE0),e.runShader(null,this._fragmentShader,{uniforms:{u_stickerImage:{type:"i",value:this._textureIndex},u_position:{type:"2f",value:[i.x,i.y]},u_size:{type:"2f",value:[a.x,a.y]}}})}},{key:"_renderCanvas",value:function(e,t){var n=e.getCanvas(),r=e.getContext(),i=new c.default(n.width,n.height),o=this._options.position.clone();"relative"===this._options.numberFormat&&o.multiply(i);var a=new c.default(t.width,t.height);void 0!==this._options.size&&(a.copy(this._options.size),"relative"===this._options.numberFormat&&a.multiply(i)),r.drawImage(t,0,0,t.width,t.height,o.x,o.y,a.x,a.y)}},{key:"_loadSticker",value:function(){return"undefined"!=typeof window?this._loadImageBrowser(this._options.sticker):this._loadImageNode(this._options.sticker)}},{key:"_loadImageBrowser",value:function(e){var t=this;return new l.default((function(n,r){if(t._loadedStickers[e])return n(t._loadedStickers[e]);var i=new Image;i.addEventListener("load",(function(){t._loadedStickers[e]=i,n(i)})),i.addEventListener("error",(function(){r(new Error("Could not load sticker: "+e))})),i.src=t._kit.getAssetPath(e)}))}},{key:"_loadImageNode",value:function(e){var t=n(52),r=n(51),i=new t.Image,o=this._kit.getAssetPath(e);return new l.default((function(e,t){r.readFile(o,(function(n,r){if(n)return t(n);i.src=r,e(i)}))}))}},{key:"stickers",get:function(){return this._stickers}}]),t}(s.default);u.prototype.identifier="stickers",u.prototype.availableOptions={sticker:{type:"string"},position:{type:"vector2",default:new c.default(0,0)},size:{type:"vector2",default:new c.default(0,0)}},t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(8)),c=o(n(6)),l=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._textureIndex=1,this._fragmentShader="\n      precision mediump float;\n      varying vec2 v_texCoord;\n      uniform sampler2D u_image;\n      uniform sampler2D u_frameImage;\n      uniform vec4 u_color;\n      uniform vec2 u_thickness;\n\n      void main() {\n        vec4 fragColor = texture2D(u_image, v_texCoord);\n        if (v_texCoord.x < u_thickness.x || v_texCoord.x > 1.0 - u_thickness.x ||\n          v_texCoord.y < u_thickness.y || v_texCoord.y > 1.0 - u_thickness.y) {\n            fragColor = mix(fragColor, u_color, u_color.a);\n          }\n\n        gl_FragColor = fragColor;\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_renderWebGL",value:function(e){var t=e.getCanvas(),n=this._options.color,r=this._options.thickness*t.height,i=[r/t.width,r/t.height],o={u_color:{type:"4f",value:n.toGLColor()},u_thickness:{type:"2f",value:i}};this._glslPrograms[e.id]||(this._glslPrograms[e.id]=e.setupGLSLProgram(null,this._fragmentShader)),e.runProgram(this._glslPrograms[e.id],{uniforms:o})}},{key:"_renderCanvas",value:function(e){var t=e.getCanvas(),n=e.getContext(),r=this._options.color,i=this._options.thickness*t.height;n.save(),n.beginPath(),n.lineWidth=2*i,n.strokeStyle=r.toRGBA(),n.rect(0,0,t.width,t.height),n.stroke(),n.restore()}}]),t}(s.default);l.prototype.identifier="frames",l.prototype.availableOptions={color:{type:"color",default:new c.default(0,0,0,1)},thickness:{type:"number",default:.02}},t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.Contrast({contrast:.63})),t.add(new a.default.Primitives.Brightness({brightness:.12})),t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,38],[94,94],[148,142],[175,187],[255,255]],green:[[0,0],[77,53],[171,190],[255,255]],blue:[[0,10],[48,85],[174,228],[255,255]]}})),t.render(e)}},{key:"name",get:function(){return"15"}}],[{key:"identifier",get:function(){return"a15"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.Desaturation({desaturation:.5})),t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,0],[170,170],[212,219],[234,242],[255,255]],green:[[0,0],[170,168],[234,231],[255,255]],blue:[[0,0],[170,170],[212,208],[255,255]]}})),t.render(e)}},{key:"name",get:function(){return"Breeze"}}],[{key:"identifier",get:function(){return"breeze"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.Grayscale),t.render(e)}},{key:"name",get:function(){return"B&W"}}],[{key:"identifier",get:function(){return"bw"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.Grayscale),t.add(new a.default.Primitives.Contrast({contrast:1.5})),t.render(e)}},{key:"name",get:function(){return"1920"}}],[{key:"identifier",get:function(){return"bwhard"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,69],[55,110],[202,230],[255,255]],green:[[0,44],[89,93],[185,141],[255,189]],blue:[[0,76],[39,82],[218,138],[255,171]]}})),t.render(e)}},{key:"name",get:function(){return"Celsius"}}],[{key:"identifier",get:function(){return"celsius"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,0],[44,44],[124,143],[221,204],[255,255]],green:[[0,0],[130,127],[213,199],[255,255]],blue:[[0,0],[51,52],[219,204],[255,255]]}})),t.render(e)}},{key:"name",get:function(){return"Chest"}}],[{key:"identifier",get:function(){return"chest"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,0],[44,28],[63,48],[128,132],[235,248],[255,255]],green:[[0,0],[20,10],[60,45],[190,209],[211,231],[255,255]],blue:[[0,31],[41,62],[150,142],[234,212],[255,224]]}})),t.render(e)}},{key:"name",get:function(){return"Fixie"}}],[{key:"identifier",get:function(){return"fixie"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.Saturation({saturation:1.35})),t.add(new a.default.Primitives.Contrast({contrast:1.1})),t.render(e)}},{key:"name",get:function(){return"Food"}}],[{key:"identifier",get:function(){return"food"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,9],[21,11],[45,24],[255,220]],green:[[0,12],[21,21],[42,42],[150,150],[170,173],[255,210]],blue:[[0,28],[43,72],[128,185],[255,220]]}})),t.render(e)}},{key:"name",get:function(){return"Fridge"}}],[{key:"identifier",get:function(){return"fridge"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,65],[28,67],[67,113],[125,183],[187,217],[255,229]],green:[[0,52],[42,59],[104,134],[169,209],[255,240]],blue:[[0,52],[65,68],[93,104],[150,153],[255,198]]}})),t.render(e)}},{key:"name",get:function(){return"Front"}}],[{key:"identifier",get:function(){return"front"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.Contrast({contrast:1.1})),t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,0],[94,74],[181,205],[255,255]],green:[[0,0],[127,127],[255,255]],blue:[[0,0],[102,73],[227,213],[255,255]]}})),t.render(e)}},{key:"name",get:function(){return"Glam"}}],[{key:"identifier",get:function(){return"glam"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.Gobblin),t.render(e)}},{key:"name",get:function(){return"Gobblin"}}],[{key:"identifier",get:function(){return"gobblin"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({controlPoints:[[0,0],[53,32],[91,80],[176,205],[255,255]]})),t.add(new a.default.Primitives.Saturation({saturation:.9})),t.render(e)}},{key:"name",get:function(){return"K1"}}],[{key:"identifier",get:function(){return"k1"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(7)),s=i(n(6)),c=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({controlPoints:[[0,0],[54,33],[77,82],[94,103],[122,126],[177,193],[229,232],[255,255]]})),t.add(new a.default.Primitives.SoftColorOverlay({color:new s.default(40/255,40/255,40/255)})),t.render(e)}},{key:"name",get:function(){return"K2"}}],[{key:"identifier",get:function(){return"k2"}}]),t}(a.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.Saturation({saturation:.5})),t.render(e)}},{key:"name",get:function(){return"K6"}}],[{key:"identifier",get:function(){return"k6"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({controlPoints:[[0,0],[17,27],[46,69],[90,112],[156,200],[203,243],[255,255]]})),t.add(new a.default.Primitives.Saturation({saturation:.7})),t.render(e)}},{key:"name",get:function(){return"KDynamic"}}],[{key:"identifier",get:function(){return"kdynamic"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.Desaturation({desaturation:.4})),t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,20],[40,20],[106,111],[129,153],[190,223],[255,255]],green:[[0,20],[40,20],[62,41],[106,108],[132,159],[203,237],[255,255]],blue:[[0,40],[40,40],[73,60],[133,160],[191,297],[203,237],[237,239],[255,255]]}})),t.render(e)}},{key:"name",get:function(){return"Lenin"}}],[{key:"identifier",get:function(){return"lenin"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({controlPoints:[[0,0],[87,20],[131,156],[183,205],[255,200]]})),t.render(e)}},{key:"name",get:function(){return"Lomo"}}],[{key:"identifier",get:function(){return"lomo"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,0],[41,84],[87,134],[255,255]],green:[[0,0],[255,216]],blue:[[0,0],[255,131]]}})),t.render(e)}},{key:"name",get:function(){return"Mellow"}}],[{key:"identifier",get:function(){return"mellow"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,40],[255,230]],green:[[0,10],[255,225]],blue:[[0,20],[255,181]]}})),t.add(new a.default.Primitives.Glow),t.render(e)}},{key:"name",get:function(){return"Morning"}}],[{key:"identifier",get:function(){return"morning"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,0],[115,130],[195,215],[255,255]],green:[[0,0],[148,153],[172,215],[255,255]],blue:[[0,46],[58,75],[178,205],[255,255]]}})),t.add(new a.default.Primitives.ToneCurve({controlPoints:[[0,0],[117,151],[189,217],[255,255]]})),t.add(new a.default.Primitives.Desaturation({desaturation:.65})),t.render(e)}},{key:"name",get:function(){return"Orchid"}}],[{key:"identifier",get:function(){return"orchid"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,0],[94,74],[181,205],[255,255]],green:[[0,0],[34,34],[99,76],[176,190],[255,255]],blue:[[0,0],[102,73],[227,213],[255,255]]}})),t.add(new a.default.Primitives.Saturation({saturation:.8})),t.add(new a.default.Primitives.Contrast({contrast:1.5})),t.render(e)}},{key:"name",get:function(){return"Pola SX"}}],[{key:"identifier",get:function(){return"pola"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,0],[56,18],[196,209],[255,255]],green:[[0,38],[71,84],[255,255]],blue:[[0,0],[131,133],[204,211],[255,255]]}})),t.add(new a.default.Primitives.Saturation({saturation:.8})),t.add(new a.default.Primitives.Contrast({contrast:1.5})),t.render(e)}},{key:"name",get:function(){return"Pola 669"}}],[{key:"identifier",get:function(){return"pola669"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.Desaturation({desaturation:.65})),t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,50],[40,78],[118,170],[181,211],[255,255]],green:[[0,27],[28,45],[109,157],[157,195],[179,208],[206,212],[255,240]],blue:[[0,50],[12,55],[46,103],[103,162],[194,182],[241,201],[255,219]]}})),t.render(e)}},{key:"name",get:function(){return"Quozi"}}],[{key:"identifier",get:function(){return"quozi"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,129],[75,153],[181,227],[255,255]],green:[[0,8],[111,85],[212,158],[255,226]],blue:[[0,5],[75,22],[193,90],[255,229]]}})),t.add(new a.default.Primitives.Glow),t.render(e)}},{key:"name",get:function(){return"Semi Red"}}],[{key:"identifier",get:function(){return"semired"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,0],[62,82],[141,154],[255,255]],green:[[0,39],[56,96],[192,176],[255,255]],blue:[[0,0],[174,99],[255,235]]}})),t.add(new a.default.Primitives.ToneCurve({controlPoints:[[0,0],[55,20],[158,191],[255,255]]})),t.render(e)}},{key:"name",get:function(){return"Sunny"}}],[{key:"identifier",get:function(){return"sunny"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.ToneCurve({rgbControlPoints:{red:[[0,72],[89,99],[176,212],[255,237]],green:[[0,49],[255,192]],blue:[[0,72],[255,151]]}})),t.render(e)}},{key:"name",get:function(){return"Texas"}}],[{key:"identifier",get:function(){return"texas"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=(o=n(7))&&o.__esModule?o:{default:o},s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(e){var t=new a.default.PrimitivesStack;t.add(new a.default.Primitives.X400),t.render(e)}},{key:"name",get:function(){return"X400"}}],[{key:"identifier",get:function(){return"x400"}}]),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,void 0===this.x&&(this.x=0),void 0===this.y&&(this.y=0)}return r(e,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"clamp",value:function(t,n){var r=null!=t,i=null!=n;return t instanceof e||!r||(t=new e(t,t)),n instanceof e||!i||(n=new e(n,n)),r&&(this.x=Math.max(t.x,this.x),this.y=Math.max(t.y,this.y)),i&&(this.x=Math.min(n.x,this.x),this.y=Math.min(n.y,this.y)),this}},{key:"divide",value:function(t,n){return t instanceof e?(this.x/=t.x,this.y/=t.y):(this.x/=t,this.y/=void 0===n?t:n),this}},{key:"subtract",value:function(t,n){return t instanceof e?(this.x-=t.x,this.y-=t.y):(this.x-=t,this.y-=void 0===n?t:n),this}},{key:"multiply",value:function(t,n){return t instanceof e?(this.x*=t.x,this.y*=t.y):(this.x*=t,this.y*=void 0===n?t:n),this}},{key:"add",value:function(t,n){return t instanceof e?(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=void 0===n?t:n),this}},{key:"equals",value:function(t,n){return t instanceof e?t.x===this.x&&t.y===this.y:t===this.x&&n===this.y}},{key:"flip",value:function(){var e=this.x;return this.x=this.y,this.y=e,this}},{key:"toString",value:function(){return"Vector2({ x: "+this.x+", y: "+this.y+" })"}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(5)),c=o(n(75)),l=o(n(76)),u=o(n(77)),d=o(n(78)),f=o(n(79)),p=o(n(80)),h=n(4),m=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._operationsMap={},this._template=function(e){var t='<div class="imglykit"> <div class="imglykit-loadingOverlay"> <div class="imglykit-loadingOverlay-content"> <img src="'+e.helpers.assetPath("ui/night/loading.gif")+'" /> <span>'+e.helpers.translate("generic.loading")+'...</span> </div> </div> <div class="imglykit-container"> ';if(e.options.ui.hideHeader||(t+=' <div class="imglykit-header-row"> <div class="imglykit-header"> img.ly Photo Editor SDK ',e.options.ui.showCloseButton&&(t+=' <div class="imglykit-close-button"> <img src="'+e.helpers.assetPath("ui/night/close.png")+'" /> </div> '),t+=" </div> </div> "),t+=" ",e.renderControls&&(t+=' <div class="imglykit-top-controls-row"> <div class="imglykit-top-controls"> <div class="imglykit-top-controls-left"> ',e.options.ui.showNewButton&&(t+=' <div class="imglykit-new"> <img src="'+e.helpers.assetPath("ui/night/top/new.png")+'" /> '+e.helpers.translate("top-controls.new")+" </div> "),t+=' <div class="imglykit-undo"> <img src="'+e.helpers.assetPath("ui/night/top/undo.png")+'" /> '+e.helpers.translate("top-controls.undo")+" </div> ",e.options.ui.showExportButton&&(t+=' <div class="imglykit-export"> <img src="'+e.helpers.assetPath("ui/night/top/export.png")+'" /> '+e.helpers.translate("top-controls.export")+" </div> "),t+=' </div> <div class="imglykit-top-controls-right"> <div class="imglykit-zoom-fit"></div> <div class="imglykit-zoom-level">'+e.helpers.translate("top-controls.zoom")+': <span class="imglykit-zoom-level-num">100</span>%</div> <div class="imglykit-zoom-in"> <img src="'+e.helpers.assetPath("ui/night/top/zoom-in.png")+'" /> </div> <div class="imglykit-zoom-out"> <img src="'+e.helpers.assetPath("ui/night/top/zoom-out.png")+'" /> </div> </div> </div> </div> '),t+=' <div class="imglykit-canvas-container-row"> <div class="imglykit-canvas-container"> ',e.renderWebcam&&(t+=' <div class="imglykit-canvas-inner-container"> <video class="imglykit-webcam-video" autoplay></video> </div> '),t+=" ",e.renderSplashScreen||e.renderWebcam||(t+=' <div class="imglykit-canvas-inner-container"> <canvas class="imglykit-canvas-draggable"></canvas> <div class="imglykit-canvas-controls imglykit-canvas-controls-disabled"></div> </div> '),t+=" ",e.renderSplashScreen&&(t+=' <div class="imglykit-splash-container"> ',e.options.ui.showUploadButton&&(t+=' <div class="imglykit-splash-row imglykit-splash-row--upload"> <div class="imglykit-splash-cell"> <input type="file" class="imglykit-upload-hidden-input" /> <img src="'+e.helpers.assetPath("ui/night/upload.png")+'" /> <div class="imglykit-splash-content"> <div class="imglykit-splash-button">'+e.helpers.translate("splash.upload.headline")+'</div> <div class="imglykit-splash-text">'+e.helpers.translate("splash.upload.description")+"</div> </div> </div> </div> "),t+=" ",e.options.ui.showUploadButton&&e.options.ui.showWebcamButton&&(t+=' <div class="imglykit-splash-row imglykit-splash-row--or"> <div class="imglykit-splash-or"> <div class="imglykit-splash-or-line"></div> <div class="imglykit-splash-or-word">'+e.helpers.translate("splash.or")+'</div> <div class="imglykit-splash-or-line"></div> </div> </div> '),t+=" ",e.options.ui.showWebcamButton&&(t+=' <div class="imglykit-splash-row imglykit-splash-row--camera"> <div class="imglykit-splash-cell"> <img src="'+e.helpers.assetPath("ui/night/shutter.png")+'" /> <div class="imglykit-splash-content"> <div class="imglykit-splash-button">'+e.helpers.translate("splash.webcam.headline")+'</div> <div class="imglykit-splash-text">'+e.helpers.translate("splash.webcam.description")+"</div> </div> </div> </div> "),t+=" </div> "),t+=" </div> </div> ",e.renderWebcam&&(t+=' <div class="imglykit-controls-row"> <div class="imglykit-controls-container"> <div class="imglykit-controls"> <div class="imglykit-webcam-button"> <img src="'+e.helpers.assetPath("ui/night/shutter-button.png")+'" /> </div> </div> </div> </div> '),t+=" ",e.renderControls){for(var n in t+=' <div class="imglykit-controls-row"> <div class="imglykit-controls-container"> <div class="imglykit-controls"> <div> <div class="imglykit-controls-overview"> <ul class="imglykit-controls-list"> ',e.controls){t+=" ";var r=e.controls[n];t+=' <li class="imglykit-controls-item--with-label" data-identifier="'+r.identifier+'"',e.controlsDisabled&&(t+=" data-disabled"),t+='> <img src="'+e.helpers.assetPath("ui/night/operations/"+r.identifier+".png")+'" /> <div class="imglykit-controls-label">'+e.helpers.translate("operations."+r.identifier)+"</div> </li> "}t+=" </ul> </div> </div> </div> </div> </div> "}return t+" </div></div>"},this._registeredControls={},this._history=[],this._preferredOperationOrder=["rotation","crop","flip","filters","contrast","brightness","saturation","radial-blur","tilt-shift","frames","stickers","text"],this._paused=!1,this._options.ui=s.default.defaults(this._options.ui,{showNewButton:!this._options.image,showUploadButton:!0,showWebcamButton:!0,showHeader:!0,showCloseButton:!1,showExportButton:!1,language:"en",export:{}}),this._options.ui.export=s.default.defaults(this._options.ui.export,{type:h.ImageFormat.JPEG,quality:.8})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"run",value:function(){this._registerControls(),this._registerLanguages(),this._loadLanguage(),i(Object.getPrototypeOf(t.prototype),"run",this).call(this);var e=this._options.container;this._controlsContainer=e.querySelector(".imglykit-controls"),this._canvasControlsContainer=e.querySelector(".imglykit-canvas-controls"),this._overviewControlsContainer=e.querySelector(".imglykit-controls-overview"),this._loadingOverlay=e.querySelector(".imglykit-loadingOverlay"),this._loadingSpan=e.querySelector(".imglykit-loadingOverlay span"),this._handleOverview(),this._options.image&&this._initCanvas(),this.context.renderSplashScreen&&(this._initFileLoader(),this._options.ui.showWebcamButton&&this._handleWebcamButton()),this.context.renderWebcam&&this._initWebcam(),this._initTopControls(),this._initControls(),this._options.image&&this.showZoom(),this._options.ui.showCloseButton&&this._handleCloseButton(),this._topControls&&this._topControls.updateExportButton()}},{key:"_loadLanguage",value:function(){if(this._language=this._languages[this._options.ui.language],!this._language){var e=Object.keys(this._languages).join(", ");throw new Error("Unknown language '"+this._options.ui.language+"'. Available languages are: "+e)}}},{key:"_initWebcam",value:function(){this._webcam=new d.default(this._kit,this),this._webcam.on("image",this._onWebcamImageTaken.bind(this))}},{key:"_onWebcamImageTaken",value:function(e){this._options.ui.startWithWebcam=!1,this._setImage(e)}},{key:"_handleWebcamButton",value:function(){var e=this;this._options.container.querySelector(".imglykit-splash-row--camera").addEventListener("click",(function(){e._options.ui.startWithWebcam=!0,e.run()}))}},{key:"_initFileLoader",value:function(){this._fileLoader=new u.default(this._kit,this),this._fileLoader.on("file",this._onFileLoaded.bind(this))}},{key:"_onFileLoaded",value:function(e){var t=this,n=new FileReader;n.onload=function(e){var n=e.target.result,r=new Image;r.addEventListener("load",(function(){t._setImage(r)})),r.src=n},n.readAsDataURL(e)}},{key:"_setImage",value:function(e){this._options.image=e,this.run()}},{key:"_initTopControls",value:function(){var e=this;this.context.renderControls&&(this._topControls=new f.default(this._kit,this),this._topControls.run(),this._topControls.on("new",(function(){e._options.image=null,e.run()})),this._topControls.on("undo",(function(){e.undo()})),this._topControls.on("export",(function(){e.export()})),this._topControls.on("zoom-in",(function(){e._canvas.zoomIn().then((function(){e._currentControl&&e._currentControl.onZoom()}))})),this._topControls.on("zoom-out",(function(){e._canvas.zoomOut().then((function(){e._currentControl&&e._currentControl.onZoom()}))})))}},{key:"_initCanvas",value:function(){var e=this;this._canvas=new l.default(this._kit,this,this._options),this._canvas.run(),this._canvas.on("zoom",(function(){e._topControls.updateZoomLevel()}))}},{key:"selectOperations",value:function(e){i(Object.getPrototypeOf(t.prototype),"selectOperations",this).call(this,e)}},{key:"getOrCreateOperation",value:function(e){var t=this._kit,n=t.operationsStack,r=t.registeredOperations[e];if(void 0===this._operationsMap[e]){var i=new r(this._kit);this._operationsMap[e]=i;var o=this._preferredOperationOrder.indexOf(e);return-1===o&&(o=this._preferredOperationOrder.length),n[o]=i,i}return this._operationsMap[e]}},{key:"removeOperation",value:function(e){if(this._operationsMap[e]){var t=this._operationsMap[e];delete this._operationsMap[e];var n=this._kit.operationsStack.indexOf(t);this._kit.operationsStack.splice(n,1)}}},{key:"_registerControls",value:function(){this.registerControl("filters","filters",n(81)),this.registerControl("rotation","rotation",n(82)),this.registerControl("flip","flip",n(83)),this.registerControl("brightness","brightness",n(84)),this.registerControl("contrast","contrast",n(85)),this.registerControl("saturation","saturation",n(86)),this.registerControl("crop","crop",n(87)),this.registerControl("radial-blur","radial-blur",n(88)),this.registerControl("tilt-shift","tilt-shift",n(89)),this.registerControl("frames","frames",n(90)),this.registerControl("stickers","stickers",n(91)),this.registerControl("text","text",n(92))}},{key:"_registerLanguages",value:function(){this.registerLanguage("en",n(94)),this.registerLanguage("de",n(95))}},{key:"_handleOverview",value:function(){var e=this;if(this.context.renderControls){var t=this._overviewControlsContainer.querySelector("ul");if(!t.parentNode!==this._overviewControlsContainer)for(var n=[].filter.call(t.querySelectorAll("li"),(function(e){return e.parentNode===t})),r=function(t){var r=n[t],i=r.dataset.identifier;r.addEventListener("click",(function(){e.switchToControl(i)}))},i=0;i<n.length;i++)r(i)}}},{key:"_enableControls",value:function(){var e=this._overviewControlsContainer.querySelector("ul");if(!e.parentNode!==this._overviewControlsContainer)for(var t=[].filter.call(e.querySelectorAll("li"),(function(t){return t.parentNode===e})),n=0;n<t.length;n++)t[n].removeAttribute("data-disabled")}},{key:"switchToControl",value:function(e){this.context.controlsDisabled||(this._overviewControlsContainer.style.display="none",this._scrollbar.remove(),this._currentControl&&this._currentControl.leave(),this._currentControl=this._registeredControls[e],this._currentControl.enter(),this._currentControl.once("back",this._switchToOverview.bind(this)))}},{key:"_switchToOverview",value:function(){this._currentControl&&this._currentControl.leave(),this._currentControl=null,this._overviewControlsContainer.style.display="",this._initScrollbar()}},{key:"registerControl",value:function(e,t,n){if(this.isOperationSelected(t)){var r=new n(this._kit,this);this._registeredControls[e]=r}}},{key:"_initControls",value:function(){for(var e in this._registeredControls){var t=this._registeredControls[e];t.setContainers(this._controlsContainer,this._canvasControlsContainer),t.init()}this._initScrollbar()}},{key:"_initScrollbar",value:function(){if(this.context.renderControls){var e=this._controlsContainer.querySelector(".imglykit-controls-list").parentNode;this._scrollbar=new p.default(e)}}},{key:"_handleCloseButton",value:function(){var e=this;this._options.container.querySelector(".imglykit-close-button").addEventListener("click",(function(t){t.preventDefault(),e.emit("close")}))}},{key:"render",value:function(){this._canvas&&this._canvas.render()}},{key:"pause",value:function(){this._paused=!0}},{key:"resume",value:function(){var e=void 0===arguments[0]||arguments[0];this._paused=!1,e&&this.render()}},{key:"addHistory",value:function(e,t,n){this._history.push({operation:e,options:t,existent:n}),this._topControls.updateUndoButton()}},{key:"hideZoom",value:function(){this._topControls.hideZoom()}},{key:"showZoom",value:function(){this._topControls.showZoom()}},{key:"undo",value:function(){var e=this._history.pop();if(e){var t=e.operation,n=e.existent,r=e.options;n?(t=this.getOrCreateOperation(t.identifier)).set(r):this.removeOperation(t.identifier),this.canvas.zoomToFit(!0)}this._topControls.updateUndoButton()}},{key:"export",value:function(){var e=this;this.displayLoadingMessage(this.translate("generic.exporting")+"...");var t=h.RenderType.DATAURL;void 0!==document.createElement("canvas").msToBlob&&(t=h.RenderType.MSBLOB),setTimeout((function(){e._kit.render(t,e._options.ui.export.type,e._options.ui.export.dimensions,e._options.ui.export.quality).then((function(n){switch(t){case h.RenderType.DATAURL:var r=document.createElement("a"),i=e._options.ui.export.type.split("/").pop();r.download="imglykit-export."+i,r.href=n,document.body.appendChild(r),r.click(),document.body.removeChild(r);break;case h.RenderType.MSBLOB:navigator.msSaveBlob(n,"imglykit-export.png")}e.hideLoadingMessage()}))}),1e3)}},{key:"displayLoadingMessage",value:function(e){this._loadingSpan.innerText=e,this._loadingOverlay.style.display="block"}},{key:"hideLoadingMessage",value:function(){this._loadingOverlay.style.display="none"}},{key:"identifier",get:function(){return"night"}},{key:"operations",get:function(){return this._operationsMap}},{key:"controls",get:function(){return this._registeredControls}},{key:"context",get:function(){var e=i(Object.getPrototypeOf(t.prototype),"context",this);return e.controls=this._registeredControls,e.renderSplashScreen=!this._options.image&&!this._options.ui.startWithWebcam,e.renderControls=!!this._options.image,e.renderWebcam=this._options.ui.startWithWebcam,e}},{key:"history",get:function(){return this._history}},{key:"fileLoader",get:function(){return this._fileLoader}}]),t}(c.default);m.Control=n(93),t.default=m,e.exports=t.default},function(e,t,n){},function(t,n,r){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._modifiers={FIXED:"!"},this._dimensionsString=t,this._rules=this._parse(),this._validateRules()}return r(e,[{key:"_parse",value:function(){if(void 0===this._dimensionsString||null===this._dimensionsString)return null;var e=this._dimensionsString.match(/^([0-9]+)?x([0-9]+)?([\!])?$/i);if(!e)throw new Error("Invalid size option: "+this._dimensionsString);return{x:isNaN(e[1])?null:parseInt(e[1],10),y:isNaN(e[2])?null:parseInt(e[2],10),modifier:e[3]}}},{key:"_validateRules",value:function(){if(null!==this._rules){var e=null!==this._rules.x,t=null!==this._rules.y;if(!(this._rules.modifier!==this._modifiers.FIXED||e&&t))throw new Error("Both `x` and `y` have to be set when using the fixed (!) modifier.");if(!e&&!t)throw new Error("Neither `x` nor `y` are given.")}}},{key:"calculateFinalDimensions",value:function(e){var t,n=e.clone();return null===this._rules||(this._rules.modifier===this._modifiers.FIXED?n.set(this._rules.x,this._rules.y):null!==this._rules.x&&null!==this._rules.y?(t=Math.min(this._rules.x/n.x,this._rules.y/n.y),n.multiply(t)):null!==this._rules.x?(t=e.y/e.x,n.x=this._rules.x,n.y=n.x*t):null!==this._rules.y&&(t=e.x/e.y,n.y=this._rules.y,n.x=n.y*t)),n}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(96)),s=i(n(49)),c=i(n(57)),l=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"cache",value:function(e){this._cache[e]={data:this._context.getImageData(0,0,this._canvas.width,this._canvas.height),size:new s.default(this._canvas.width,this._canvas.height)}}},{key:"drawCached",value:function(e){var t=this._cache[e],n=t.data,r=t.size;this._canvas.width=r.x,this._canvas.height=r.y,this._context.putImageData(n,0,0)}},{key:"_getContext",value:function(){return this._canvas.getContext("2d")}},{key:"drawImage",value:function(e){var t=this;return new c.default((function(n,r){t._context.drawImage(e,0,0,e.width,e.height,0,0,t._canvas.width,t._canvas.height),n()}))}},{key:"resizeTo",value:function(e){var t=this.createCanvas();t.width=e.x,t.height=e.y,t.getContext("2d").drawImage(this._canvas,0,0,this._canvas.width,this._canvas.height,0,0,t.width,t.height),this.setCanvas(t)}},{key:"cloneCanvas",value:function(){var e=this.createCanvas(),t=e.getContext("2d");return e.width=this._canvas.width,e.height=this._canvas.height,t.drawImage(this._canvas,0,0),e}},{key:"reset",value:function(){var e=void 0!==arguments[0]&&arguments[0];e&&(this._cache=[])}}],[{key:"isSupported",value:function(){var e=this.prototype.createCanvas();return!(!e.getContext||!e.getContext("2d"))}},{key:"identifier",get:function(){return"canvas"}}]),t}(a.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(96)),c=o(n(49)),l=o(n(56)),u=o(n(57)),d=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._defaultProgram=this.setupGLSLProgram(),this.reset(),this.id=t.contextId,t.contextId++}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"cache",value:function(e){var t,n,r,i=new c.default(this._canvas.width,this._canvas.height);t=(r=this._cache[e]?this._cache[e]:this._createFramebuffer()).fbo,n=r.texture;var o=this._context;o.useProgram(this._defaultProgram),o.bindTexture(o.TEXTURE_2D,n),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,i.x,i.y,0,o.RGBA,o.UNSIGNED_BYTE,null),o.bindFramebuffer(o.FRAMEBUFFER,t),o.viewport(0,0,i.x,i.y),o.bindTexture(o.TEXTURE_2D,this._lastTexture),o.drawArrays(o.TRIANGLES,0,6),this._cache[e]={fbo:t,texture:n,size:i}}},{key:"_drawCachedFinal",value:function(e){var t=this._cache[e],n=t.texture,r=t.size,i=this._context;i.useProgram(this._defaultProgram),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindTexture(i.TEXTURE_2D,n),this._canvas.width=r.x,this._canvas.height=r.y,i.viewport(0,0,r.x,r.y),i.drawArrays(i.TRIANGLES,0,6)}},{key:"drawCached",value:function(e){var t=this._cache[e],n=t.texture,r=t.size,i=this.getCurrentFramebuffer(),o=this.getCurrentTexture(),a=this._context;a.useProgram(this._defaultProgram),this._canvas.width=r.x,this._canvas.height=r.y;for(var s=0;s<this._textures.length;s++){var c=this._textures[s];a.bindTexture(a.TEXTURE_2D,c),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,r.x,r.y,0,a.RGBA,a.UNSIGNED_BYTE,null)}a.bindFramebuffer(a.FRAMEBUFFER,i),a.bindTexture(a.TEXTURE_2D,o),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,r.x,r.y,0,a.RGBA,a.UNSIGNED_BYTE,null),a.bindTexture(a.TEXTURE_2D,n),a.viewport(0,0,r.x,r.y),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.drawArrays(a.TRIANGLES,0,6),this.setLastTexture(o),this.selectNextBuffer()}},{key:"_getContext",value:function(){var e=this._canvas.getContext("webgl",this._contextOptions)||this._canvas.getContext("experimental-webgl",this._contextOptions);return e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),this._maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),e}},{key:"drawImage",value:function(e){var t=this;return new u.default((function(n,r){var i=t._context;i.useProgram(t._defaultProgram);var o=t.createTexture();i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),t._inputTexture=o,t.setLastTexture(o),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e),t._clear(i),i.drawArrays(i.TRIANGLES,0,6),n()}))}},{key:"prepareImage",value:function(e){if(e.width<=this._maxTextureSize&&e.height<=this._maxTextureSize)return u.default.resolve(e);var t=new c.default(this._maxTextureSize,this._maxTextureSize),n=new c.default(e.width,e.height),r=Math.min(t.x/n.x,t.y/n.y),i=n.clone().multiply(r),o=this.createCanvas(i.x,i.y);o.getContext("2d").drawImage(e,0,0,n.x,n.y,0,0,i.x,i.y);var a=o.toDataURL("image/jpeg"),s=/^data:image\/jpeg/i;return e.src.match(s)&&a.match(s)&&(a=l.default.restore(e.src,a)),new u.default((function(e,t){var n=new Image;n.addEventListener("load",(function(){e(n)})),n.src=a}))}},{key:"_clear",value:function(e){e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)}},{key:"runProgram",value:function(e,t){var n=this._context;n.useProgram(e);var r=this.getCurrentFramebuffer(),i=this.getCurrentTexture();for(var o in n.bindFramebuffer(n.FRAMEBUFFER,r),n.viewport(0,0,this._canvas.width,this._canvas.height),n.bindTexture(n.TEXTURE_2D,i),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,this._canvas.width,this._canvas.height,0,n.RGBA,n.UNSIGNED_BYTE,null),n.bindTexture(n.TEXTURE_2D,this._lastTexture),t.uniforms){var a=n.getUniformLocation(e,o),s=t.uniforms[o];switch(s.type){case"i":case"1i":n.uniform1i(a,s.value);break;case"f":case"1f":n.uniform1f(a,s.value);break;case"2f":n.uniform2f(a,s.value[0],s.value[1]);break;case"3f":n.uniform3f(a,s.value[0],s.value[1],s.value[2]);break;case"4f":n.uniform4f(a,s.value[0],s.value[1],s.value[2],s.value[3]);break;case"2fv":n.uniform2fv(a,s.value);break;case"mat3fv":n.uniformMatrix3fv(a,!1,s.value);break;default:throw new Error("Unknown uniform type: "+s.type)}}n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.drawArrays(n.TRIANGLES,0,6),this.setLastTexture(i),this.selectNextBuffer()}},{key:"runShader",value:function(e,t,n){void 0===n&&(n={}),void 0===n.uniforms&&(n.uniforms={});var r=this.setupGLSLProgram(e,t);this.runProgram(r,n)}},{key:"renderFinal",value:function(){var e=this._context,t=this._defaultProgram;e.useProgram(t),e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,this._canvas.width,this._canvas.height),e.bindTexture(e.TEXTURE_2D,this._lastTexture),this._clear(e),e.drawArrays(e.TRIANGLES,0,6)}},{key:"setupGLSLProgram",value:function(e,n){var r=this._context,i=[];e=this._createShader(r.VERTEX_SHADER,e||t.prototype.defaultVertexShader),i.push(e),n=this._createShader(r.FRAGMENT_SHADER,n||t.prototype.defaultFragmentShader),i.push(n);for(var o=r.createProgram(),a=0;a<i.length;a++)r.attachShader(o,i[a]);if(r.linkProgram(o),!r.getProgramParameter(o,r.LINK_STATUS)){var s=r.getProgramInfoLog(o);throw r.deleteProgram(o),new Error("WebGL program linking error: "+s)}var c=r.getAttribLocation(o,"a_position"),l=r.getAttribLocation(o,"a_texCoord"),u=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,u),r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),r.STATIC_DRAW),r.enableVertexAttribArray(l),r.vertexAttribPointer(l,2,r.FLOAT,!1,0,0);var d=r.createBuffer();return r.bindBuffer(r.ARRAY_BUFFER,d),r.enableVertexAttribArray(c),r.vertexAttribPointer(c,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),r.STATIC_DRAW),o}},{key:"_createShader",value:function(e,t){var n=this._context,r=n.createShader(e);if(n.shaderSource(r,t),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS)){var i=n.getShaderInfoLog(r);throw n.deleteShader(r),new Error("WebGL shader compilation error: "+i)}return r}},{key:"createTexture",value:function(){var e=this._context,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),t}},{key:"_createFramebuffers",value:function(){for(var e=0;e<2;e++){var t=this._createFramebuffer(),n=t.fbo,r=t.texture;this._textures.push(r),this._framebuffers.push(n)}}},{key:"_createFramebuffer",value:function(){var e=this._context,t=this.createTexture();e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this._canvas.width,this._canvas.height,0,e.RGBA,e.UNSIGNED_BYTE,null);var n=e.createFramebuffer();return e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),{fbo:n,texture:t}}},{key:"resizeTo",value:function(e){var t=this._context;this._canvas.width=e.x,this._canvas.height=e.y,t.viewport(0,0,this._canvas.width,this._canvas.height),t.drawArrays(t.TRIANGLES,0,6)}},{key:"getCurrentFramebuffer",value:function(){return this._framebuffers[this._bufferIndex%2]}},{key:"getCurrentTexture",value:function(){return this._textures[this._bufferIndex%2]}},{key:"selectNextBuffer",value:function(){this._bufferIndex++}},{key:"getDefaultProgram",value:function(){return this._defaultProgram}},{key:"getLastTexture",value:function(){return this._lastTexture}},{key:"getTextures",value:function(){return this._textures}},{key:"setLastTexture",value:function(e){this._lastTexture=e}},{key:"reset",value:function(){var e=void 0!==arguments[0]&&arguments[0];this._lastTexture=null,this._textures=[],this._framebuffers=[],this._bufferIndex=0,e&&(this._cache=[]),this._createFramebuffers(),this.setLastTexture(this._inputTexture)}},{key:"_contextOptions",get:function(){return{alpha:!0,premultipliedAlpha:!0}}},{key:"identifier",get:function(){return"webgl"}},{key:"defaultVertexShader",get:function(){return"\n      attribute vec2 a_position;\n      attribute vec2 a_texCoord;\n      varying vec2 v_texCoord;\n\n      void main() {\n        gl_Position = vec4(a_position, 0, 1);\n        v_texCoord = a_texCoord;\n      }\n    "}},{key:"defaultFragmentShader",get:function(){return"\n      precision mediump float;\n      uniform sampler2D u_image;\n      varying vec2 v_texCoord;\n\n      void main() {\n        gl_FragColor = texture2D(u_image, v_texCoord);\n      }\n    "}},{key:"maxTextureSize",get:function(){return this._maxTextureSize}}],[{key:"isSupported",value:function(){if("undefined"==typeof window)return!1;var e=document.createElement("canvas");return!(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}}]),t}(s.default);d.contextId=0,t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(r=n(97))&&r.__esModule?r:{default:r},a="data:image/jpeg;base64,",s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"restore",value:function(e,t){if(!e.match(a))return t;var n=o.default.decode(e.replace(a,"")),r=this._sliceIntoSegments(n),i=this._exifManipulation(t,r);return a+o.default.encode(i)}},{key:"_exifManipulation",value:function(e,t){var n=this._getExifArray(t),r=this._insertExif(e,n);return new Uint8Array(r)}},{key:"_getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;n++)if(255===(t=e[n])[0]&&225===t[1])return t;return[]}},{key:"_insertExif",value:function(e,t){var n=e.replace(a,""),r=o.default.decode(n),i=r.indexOf(255,3),s=r.slice(0,i),c=r.slice(i),l=s;return(l=l.concat(t)).concat(c)}},{key:"_sliceIntoSegments",value:function(e){for(var t=0,n=[];255!==e[t]||218!==e[t+1];){if(255===e[t]&&216===e[t+1])t+=2;else{var r=t+(256*e[t+2]+e[t+3])+2,i=e.slice(t,r);n.push(i),t=r}if(t>e.length)break}return n}}]),e}();t.default=s,e.exports=t.default},function(e,t,n){(function(r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(void 0!==r?r:"undefined"!=typeof window?window:null).Promise;i||(i=n(99)),t.default=i,e.exports=t.default}).call(t,function(){return this}())},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i=this;for(r in n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return i.apply(this,arguments)},i)n[r]=i[r];if(void 0!==t)for(r in t)n[r]=t[r];var o=function(){this.constructor=n};if(o.prototype=i.prototype,n.prototype=new o,e)for(r in e)n.prototype[r]=e[r];return n.__super__=i.prototype,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];i(this,e),this._stack=[]}return r(e,[{key:"add",value:function(e){this._stack.push(e)}},{key:"render",value:function(e){for(var t=0;t<this._stack.length;t++)this._stack[t].render(e)}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(5)),c=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._options=s.default.defaults(this._options,{saturation:0}),this._fragmentShader="\n      precision mediump float;\n      varying vec2 v_texCoord;\n      uniform sampler2D u_image;\n      uniform float u_saturation;\n\n      const vec3 luminanceWeighting = vec3(0.2125, 0.7154, 0.0721);\n\n      void main() {\n        vec4 texColor = texture2D(u_image, v_texCoord);\n        float luminance = dot(texColor.rgb, luminanceWeighting);\n\n        vec3 greyScaleColor = vec3(luminance);\n\n        gl_FragColor = vec4(mix(greyScaleColor, texColor.rgb, u_saturation) * texColor.a, texColor.a);\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"renderWebGL",value:function(e){this._glslPrograms[e.id]||(this._glslPrograms[e.id]=e.setupGLSLProgram(null,this._fragmentShader)),e.runProgram(this._glslPrograms[e.id],{uniforms:{u_saturation:{type:"f",value:this._options.saturation}}})}},{key:"renderCanvas",value:function(e){for(var t=e.getCanvas(),n=e.getContext().getImageData(0,0,t.width,t.height),r=this._options.saturation,i=0;i<t.width;i++)for(var o=0;o<t.height;o++){var a=4*(t.width*o+i),s=.2125*n.data[a]+.7154*n.data[a+1]+.0721*n.data[a+2];n.data[a]=s*(1-r)+n.data[a]*r,n.data[a+1]=s*(1-r)+n.data[a+1]*r,n.data[a+2]=s*(1-r)+n.data[a+2]*r}e.getContext().putImageData(n,0,0)}}]),t}(o(n(98)).default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a,s=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._textureIndex=3,this._fragmentShader="\n      precision mediump float;\n      varying vec2 v_texCoord;\n      uniform sampler2D u_image;\n      uniform sampler2D u_lookupTable;\n\n      void main() {\n        vec4 texColor = texture2D(u_image, v_texCoord);\n        float r = texture2D(u_lookupTable, vec2(texColor.r, 0.0)).r;\n        float g = texture2D(u_lookupTable, vec2(texColor.g, 0.0)).g;\n        float b = texture2D(u_lookupTable, vec2(texColor.b, 0.0)).b;\n\n        gl_FragColor = vec4(vec3(r, g, b) * texColor.a, texColor.a);\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"renderWebGL",value:function(e){this._updateTexture(e),e.runShader(null,this._fragmentShader,{uniforms:{u_lookupTable:{type:"i",value:3}}})}},{key:"renderCanvas",value:function(e){for(var t=e.getCanvas(),n=e.getContext().getImageData(0,0,t.width,t.height),r=this._options.data,i=0;i<t.width;i++)for(var o=0;o<t.height;o++){var a=4*(t.width*o+i),s=n.data[a];n.data[a]=r[4*s];var c=n.data[a+1];n.data[a+1]=r[1+4*c];var l=n.data[a+2];n.data[a+2]=r[2+4*l]}e.getContext().putImageData(n,0,0)}},{key:"_updateTexture",value:function(e){var t=e.getContext();if(void 0===this._options.data)throw new Error("LookupTable: No data specified.");var n=new Uint8Array(this._options.data);t.activeTexture(t.TEXTURE0+this._textureIndex),this._texture||(this._texture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,this._texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,256,1,0,t.RGBA,t.UNSIGNED_BYTE,n),t.activeTexture(t.TEXTURE0)}}]),t}(((a=n(98))&&a.__esModule?a:{default:a}).default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(5)),c=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._options=s.default.defaults(this._options,{rgbControlPoints:{red:this._options.controlPoints,green:this._options.controlPoints,blue:this._options.controlPoints}}),void 0!==this._options.rgbControlPoints&&this._updateLookupTable()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_updateLookupTable",value:function(){var e=this._calculateSplineCurve(this._options.rgbControlPoints.red),t=this._calculateSplineCurve(this._options.rgbControlPoints.green),n=this._calculateSplineCurve(this._options.rgbControlPoints.blue);this._options.data=this._buildLookupTable(e,t,n)}},{key:"_buildLookupTable",value:function(e,t,n){for(var r=[],i=0;i<256;i++)r.push(Math.min(Math.max(i+e[i],0),255)),r.push(Math.min(Math.max(i+t[i],0),255)),r.push(Math.min(Math.max(i+n[i],0),255)),r.push(255);return r}},{key:"_calculateSplineCurve",value:function(e){e=e.sort((function(e,t){return e[0]>t[0]}));var t,n=this._getSplineCurve(e),r=n[0];if(r[0]>0)for(t=0;t<r[0];t++)n.unshift([0,0]);var i=[];for(t=0;t<n.length;t++){var o=n[t],a=[o[0],o[0]],s=Math.sqrt(Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2));a[1]>o[1]&&(s=-s),i.push(s)}return i}},{key:"_getSplineCurve",value:function(e){var t,n=this._secondDerivative(e),r=n.length,i=[];for(t=0;t<r;t++)i[t]=n[t];var o=[];for(t=0;t<r-1;t++)for(var a=e[t],s=e[t+1],c=a[0];c<s[0];c++){var l=(c-a[0])/(s[0]-a[0]),u=1-l,d=l,f=s[0]-a[0],p=u*a[1]+d*s[1]+f*f/6*((u*u*u-u)*i[t]+(d*d*d-d)*i[t+1]);p>255?p=255:p<0&&(p=0),o.push([c,p])}return 255===o.length&&o.push(e[e.length-1]),o}},{key:"_secondDerivative",value:function(e){var t=e.length;if(t<=0||1===t)return null;var n,r,i=[],o=[];for(i[0]=[0,1,0],n=1;n<t-1;n++){var a=e[n-1],s=e[n],c=e[n+1];i[n]=i[n]||[],i[n][0]=(s[0]-a[0])/6,i[n][1]=(c[0]-a[0])/3,i[n][2]=(c[0]-s[0])/6,o[n]=(c[1]-s[1])/(c[0]-s[0])-(s[1]-a[1])/(s[0]-a[0])}for(o[0]=0,o[t-1]=0,i[t-1]=[0,1,0],n=1;n<t;n++)r=i[1][0]/i[n-1][1],i[n][1]-=r*i[n-1][2],i[n][0]=0,o[n]-=r*o[n-1];for(n=t-2;n>0;n--)r=i[n][2]/i[n+1][1],i[n][1]-=r*i[n+1][0],i[n][2]=0,o[n]-=r*o[n+1];var l=[];for(n=0;n<t;n++)l[n]=o[n]/i[n][1];return l}}]),t}(o(n(61)).default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(5)),c=o(n(98)),l=o(n(6)),u=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._options=s.default.defaults(this._options,{color:new l.default(1,1,1)}),this._fragmentShader="\n      precision mediump float;\n      varying vec2 v_texCoord;\n      uniform sampler2D u_image;\n      uniform vec3 u_overlay;\n\n      void main() {\n        vec4 texColor = texture2D(u_image, v_texCoord);\n        vec4 overlayVec4 = vec4(u_overlay, texColor.a);\n        gl_FragColor = max(overlayVec4 * texColor.a, texColor);\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"renderWebGL",value:function(e){e.runShader(null,this._fragmentShader,{uniforms:{u_overlay:{type:"3f",value:this._options.color.toRGBGLColor()}}})}},{key:"renderCanvas",value:function(e){for(var t=e.getCanvas(),n=e.getContext().getImageData(0,0,t.width,t.height),r=0;r<t.width;r++)for(var i=0;i<t.height;i++){var o=4*(t.width*i+r);n.data[o]=Math.max(this._options.color.r,n.data[o]),n.data[o+1]=Math.max(this._options.color.g,n.data[o+1]),n.data[o+2]=Math.max(this._options.color.b,n.data[o+2])}e.getContext().putImageData(n,0,0)}}]),t}(c.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(5)),c=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._options=s.default.defaults(this._options,{desaturation:1}),this._fragmentShader="\n      precision mediump float;\n      varying vec2 v_texCoord;\n      uniform sampler2D u_image;\n      uniform float u_desaturation;\n\n      const vec3 luminanceWeighting = vec3(0.2125, 0.7154, 0.0721);\n\n      void main() {\n        vec4 texColor = texture2D(u_image, v_texCoord);\n        vec3 grayXfer = vec3(0.3, 0.59, 0.11);\n        vec3 gray = vec3(dot(grayXfer, texColor.xyz));\n        gl_FragColor = vec4(mix(texColor.xyz, gray, u_desaturation) * texColor.a, texColor.a);\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"renderWebGL",value:function(e){e.runShader(null,this._fragmentShader,{uniforms:{u_desaturation:{type:"f",value:this._options.desaturation}}})}},{key:"renderCanvas",value:function(e){for(var t=e.getCanvas(),n=e.getContext().getImageData(0,0,t.width,t.height),r=this._options.desaturation,i=0;i<t.width;i++)for(var o=0;o<t.height;o++){var a=4*(t.width*o+i),s=.3*n.data[a]+.59*n.data[a+1]+.11*n.data[a+2];n.data[a]=s*(1-r)+n.data[a]*r,n.data[a+1]=s*(1-r)+n.data[a+1]*r,n.data[a+2]=s*(1-r)+n.data[a+2]*r}e.getContext().putImageData(n,0,0)}}]),t}(o(n(98)).default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a,s=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._fragmentShader="\n      precision mediump float;\n      varying vec2 v_texCoord;\n      uniform sampler2D u_image;\n\n      void main() {\n        vec4 texColor = texture2D(u_image, v_texCoord);\n        float gray = texColor.r * 0.3 + texColor.g * 0.3 + texColor.b * 0.3;\n        gray -= 0.2;\n        gray = clamp(gray, 0.0, 1.0);\n        gray += 0.15;\n        gray *= 1.4;\n        gl_FragColor = vec4(vec3(gray) * texColor.a, texColor.a);\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"renderWebGL",value:function(e){e.runShader(null,this._fragmentShader)}},{key:"renderCanvas",value:function(e){for(var t=e.getCanvas(),n=e.getContext().getImageData(0,0,t.width,t.height),r=0;r<t.width;r++)for(var i=0;i<t.height;i++){var o=4*(t.width*i+r),a=n.data[o]/255*.3+n.data[o+1]/255*.3+n.data[o+2]/255*.3;a-=.2,a=Math.max(0,Math.min(1,a)),a+=.15,a*=1.4,a*=255,n.data[o]=a,n.data[o+1]=a,n.data[o+2]=a}e.getContext().putImageData(n,0,0)}}]),t}(((a=n(98))&&a.__esModule?a:{default:a}).default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a,s=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._fragmentShader="\n      precision mediump float;\n      varying vec2 v_texCoord;\n      uniform sampler2D u_image;\n      vec3 W = vec3(0.2125, 0.7154, 0.0721);\n\n      void main() {\n        vec4 texColor = texture2D(u_image, v_texCoord);\n        float luminance = dot(texColor.rgb, W);\n        gl_FragColor = vec4(vec3(luminance) * texColor.a, texColor.a);\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"renderWebGL",value:function(e){e.runShader(null,this._fragmentShader)}},{key:"renderCanvas",value:function(e){for(var t=e.getCanvas(),n=e.getContext().getImageData(0,0,t.width,t.height),r=0;r<t.width;r++)for(var i=0;i<t.height;i++){var o=4*(t.width*i+r),a=.2125*n.data[o]+.7154*n.data[o+1]+.0721*n.data[o+2];n.data[o]=a,n.data[o+1]=a,n.data[o+2]=a}e.getContext().putImageData(n,0,0)}}]),t}(((a=n(98))&&a.__esModule?a:{default:a}).default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(5)),c=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._options=s.default.defaults(this._options,{contrast:1}),this._fragmentShader="\n      precision mediump float;\n      varying vec2 v_texCoord;\n      uniform sampler2D u_image;\n      uniform float u_contrast;\n\n      void main() {\n        vec4 texColor = texture2D(u_image, v_texCoord);\n        gl_FragColor = vec4(((texColor.rgb - vec3(0.5)) * u_contrast + vec3(0.5) * texColor.a), texColor.a);\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"renderWebGL",value:function(e){this._glslPrograms[e.id]||(this._glslPrograms[e.id]=e.setupGLSLProgram(null,this._fragmentShader)),e.runProgram(this._glslPrograms[e.id],{uniforms:{u_contrast:{type:"f",value:this._options.contrast}}})}},{key:"renderCanvas",value:function(e){for(var t=e.getCanvas(),n=e.getContext().getImageData(0,0,t.width,t.height),r=this._options.contrast,i=0;i<t.width;i++)for(var o=0;o<t.height;o++){var a=4*(t.width*o+i);n.data[a]=(n.data[a]-127)*r+127,n.data[a+1]=(n.data[a+1]-127)*r+127,n.data[a+2]=(n.data[a+2]-127)*r+127}e.getContext().putImageData(n,0,0)}}]),t}(o(n(98)).default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(5)),c=o(n(98)),l=o(n(6)),u=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._options=s.default.defaults(this._options,{color:new l.default(1,1,1)}),this._fragmentShader="\n      precision mediump float;\n      varying vec2 v_texCoord;\n      uniform sampler2D u_image;\n\n      uniform vec3 u_color;\n\n      void main() {\n        vec4 texColor = texture2D(u_image, v_texCoord);\n\n        vec2 textureCoord = v_texCoord - vec2(0.5, 0.5);\n        textureCoord /= 0.75;\n\n        float d = 1.0 - dot(textureCoord, textureCoord);\n        d = clamp(d, 0.2, 1.0);\n        vec3 newColor = texColor.rgb * d * u_color.rgb;\n        gl_FragColor = vec4(vec3(newColor) * texColor.a, texColor.a);\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"renderWebGL",value:function(e){e.runShader(null,this._fragmentShader,{uniforms:{u_color:{type:"3f",value:this._options.color.toRGBGLColor()}}})}},{key:"renderCanvas",value:function(e){for(var t,n=e.getCanvas(),r=e.getContext().getImageData(0,0,n.width,n.height),i=this._options.color,o=0;o<n.width;o++)for(var a=0;a<n.height;a++){var s=4*(n.width*a+o),c=(o/n.width-.5)/.75,l=(a/n.height-.5)/.75;t=1-(c*c+l*l),t=Math.min(Math.max(t,.1),1),r.data[s]=r.data[s]*(t*i.r),r.data[s+1]=r.data[s+1]*(t*i.g),r.data[s+2]=r.data[s+2]*(t*i.b),r.data[s+3]=255}e.getContext().putImageData(r,0,0)}}]),t}(c.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a,s=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._fragmentShader="\n      precision mediump float;\n      varying vec2 v_texCoord;\n      uniform sampler2D u_image;\n\n      void main() {\n        vec4 texColor = texture2D(u_image, v_texCoord);\n        texColor.b = texColor.g * 0.33;\n        texColor.r = texColor.r * 0.6;\n        texColor.b += texColor.r * 0.33;\n        texColor.g = texColor.g * 0.7;\n        gl_FragColor = texColor;\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"renderWebGL",value:function(e){e.runShader(null,this._fragmentShader)}},{key:"renderCanvas",value:function(e){for(var t=e.getCanvas(),n=e.getContext().getImageData(0,0,t.width,t.height),r=0;r<t.width;r++)for(var i=0;i<t.height;i++){var o=4*(t.width*i+r);n.data[o+2]=.33*n.data[o+1],n.data[o]=.6*n.data[o],n.data[o+2]+=.33*n.data[o],n.data[o+1]=.7*n.data[o+1],n.data[o+3]=255}e.getContext().putImageData(n,0,0)}}]),t}(((a=n(98))&&a.__esModule?a:{default:a}).default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(5)),c=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this._options=s.default.defaults(this._options,{brightness:1}),this._fragmentShader="\n      precision mediump float;\n      varying vec2 v_texCoord;\n      uniform sampler2D u_image;\n      uniform float u_brightness;\n\n      void main() {\n        vec4 texColor = texture2D(u_image, v_texCoord);\n        gl_FragColor = vec4((texColor.rgb + vec3(u_brightness) * texColor.a), texColor.a);;\n      }\n    "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"renderWebGL",value:function(e){this._glslPrograms[e.id]||(this._glslPrograms[e.id]=e.setupGLSLProgram(null,this._fragmentShader)),e.runProgram(this._glslPrograms[e.id],{uniforms:{u_brightness:{type:"f",value:this._options.brightness}}})}},{key:"renderCanvas",value:function(e){for(var t=e.getCanvas(),n=e.getContext().getImageData(0,0,t.width,t.height),r=this._options.brightness,i=0;i<t.width;i++)for(var o=0;o<t.height;o++){var a=4*(t.width*o+i);n.data[a]=n.data[a]+255*r,n.data[a+1]=n.data[a+1]+255*r,n.data[a+2]=n.data[a+2]+255*r}e.getContext().putImageData(n,0,0)}}]),t}(o(n(98)).default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){}},{key:"name",get:function(){return"Original"}}],[{key:"identifier",get:function(){return"identity"}}]),t}(((o=n(7))&&o.__esModule?o:{default:o}).default);t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._maxListeners=12,this._events={}}return r(e,[{key:"on",value:function(e,t){if("function"!=typeof t)throw new TypeError;var n=this._events[e]||(this._events[e]=[]);return-1!==n.indexOf(t)||(n.push(t),n.length>this._maxListeners&&function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.error.apply(console,[e].concat(n)),console.trace()}("possible memory leak, added %i %s listeners,\n        use EventEmitter#setMaxListeners(number) if you\n        want to increase the limit (%i now)",n.length,e,this._maxListeners)),this}},{key:"once",value:function(e,t){var n=this;return this.on(e,(function r(){n.off(e,r),t.apply(null,arguments)}))}},{key:"off",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(0===n.length)return this._events[e]=null,this;var i=n[0];if("function"!=typeof i)throw new TypeError;var o=this._events[e];if(!o||!o.length)return this;var a=o.indexOf(i);return-1===a||o.splice(a,1),this}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this._events[e];return!(!i||!i.length||(i.forEach((function(e){return e.apply(null,n)})),0))}},{key:"setMaxListeners",value:function(e){if(parseInt(e,10)!==e)throw new TypeError;this._maxListeners=e}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";var r=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function o(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}e.exports={stackBlurCanvasRGBA:function(e,t,n,a,s,c){if(!(isNaN(c)||c<1)){c|=0;var l,u,d,f,p,h,m,v,g,_,b,y,w,k,E,C,S,x,O,T,j,D,N,P,A,I=e.data,M=c+c+1,L=a-1,R=s-1,F=c+1,B=F*(F+1)/2,z=new o,W=z;for(d=1;d<M;d++)W=W.next=new o,d==F&&(A=W);W.next=z;var U=null,H=null;m=h=0;var Z=r[c],q=i[c];for(u=0;u<s;u++){for(C=S=x=O=v=g=_=b=0,y=F*(T=I[h]),w=F*(j=I[h+1]),k=F*(D=I[h+2]),E=F*(N=I[h+3]),v+=B*T,g+=B*j,_+=B*D,b+=B*N,W=z,d=0;d<F;d++)W.r=T,W.g=j,W.b=D,W.a=N,W=W.next;for(d=1;d<F;d++)f=h+((L<d?L:d)<<2),v+=(W.r=T=I[f])*(P=F-d),g+=(W.g=j=I[f+1])*P,_+=(W.b=D=I[f+2])*P,b+=(W.a=N=I[f+3])*P,C+=T,S+=j,x+=D,O+=N,W=W.next;for(U=z,H=A,l=0;l<a;l++)I[h+3]=N=b*Z>>q,0!==N?(N=255/N,I[h]=(v*Z>>q)*N,I[h+1]=(g*Z>>q)*N,I[h+2]=(_*Z>>q)*N):I[h]=I[h+1]=I[h+2]=0,v-=y,g-=w,_-=k,b-=E,y-=U.r,w-=U.g,k-=U.b,E-=U.a,f=m+((f=l+c+1)<L?f:L)<<2,v+=C+=U.r=I[f],g+=S+=U.g=I[f+1],_+=x+=U.b=I[f+2],b+=O+=U.a=I[f+3],U=U.next,y+=T=H.r,w+=j=H.g,k+=D=H.b,E+=N=H.a,C-=T,S-=j,x-=D,O-=N,H=H.next,h+=4;m+=a}for(l=0;l<a;l++){for(S=x=O=C=g=_=b=v=0,y=F*(T=I[h=l<<2]),w=F*(j=I[h+1]),k=F*(D=I[h+2]),E=F*(N=I[h+3]),v+=B*T,g+=B*j,_+=B*D,b+=B*N,W=z,d=0;d<F;d++)W.r=T,W.g=j,W.b=D,W.a=N,W=W.next;for(p=a,d=1;d<=c;d++)h=p+l<<2,v+=(W.r=T=I[h])*(P=F-d),g+=(W.g=j=I[h+1])*P,_+=(W.b=D=I[h+2])*P,b+=(W.a=N=I[h+3])*P,C+=T,S+=j,x+=D,O+=N,W=W.next,d<R&&(p+=a);for(h=l,U=z,H=A,u=0;u<s;u++)I[3+(f=h<<2)]=N=b*Z>>q,N>0?(N=255/N,I[f]=(v*Z>>q)*N,I[f+1]=(g*Z>>q)*N,I[f+2]=(_*Z>>q)*N):I[f]=I[f+1]=I[f+2]=0,v-=y,g-=w,_-=k,b-=E,y-=U.r,w-=U.g,k-=U.b,E-=U.a,f=l+((f=u+F)<R?f:R)*a<<2,v+=C+=U.r=I[f],g+=S+=U.g=I[f+1],_+=x+=U.b=I[f+2],b+=O+=U.a=I[f+3],U=U.next,y+=T=H.r,w+=j=H.g,k+=D=H.b,E+=N=H.a,C-=T,S-=j,x-=D,O-=N,H=H.next,h+=a}}}}},function(e,t,n){var r=e.exports={},i=[],o=!1;function a(){if(!o){var e;o=!0;for(var t=i.length;t;){e=i,i=[];for(var n=-1;++n<t;)e[n]();t=i.length}o=!1}}function s(){}r.nextTick=function(e){i.push(e),o||setTimeout(a,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=s,r.addListener=s,r.once=s,r.off=s,r.removeListener=s,r.removeAllListeners=s,r.emit=s,r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(5)),a=i(n(72)),s=i(n(100)),c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._kit=e,this._options=n,this._options.ui=this._options.ui||{},this._operations=[],this._helpers=new s.default(this.kit,this,n),this._languages={},this.selectOperations(null)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"run",value:function(){this._attach()}},{key:"registerLanguage",value:function(e,t){this._languages[e]=t}},{key:"translate",value:function(e){return o.default.fetch(this._language,e,"translation-missing")}},{key:"_attach",value:function(){if(null===this._options.container)throw new Error("BaseUI#attach: No container set.");var e=this._render();this._options.container.innerHTML=e,this._options.container.style.position="relative"}},{key:"_render",value:function(){if(void 0===this._template)throw new Error("BaseUI#_render: No template set.");return this._template(this.context)}},{key:"selectOperations",value:function(e){var t=this._kit.registeredOperations,n=Object.keys(t),r=o.default.select(n,e);this._operations=r.map((function(e){return t[e]}))}},{key:"addOperation",value:function(e){this._operations.push(e)}},{key:"isOperationSelected",value:function(e){return-1!==this._operations.map((function(e){return e.prototype.identifier})).indexOf(e)}},{key:"identifier",get:function(){return null}},{key:"context",get:function(){return{operations:this._operations,helpers:this._helpers,options:this._options}}},{key:"container",get:function(){return this._options.container}},{key:"operations",get:function(){return this._operations}},{key:"options",get:function(){return this._options}},{key:"canvas",get:function(){return this._canvas}},{key:"helpers",get:function(){return this._helpers}},{key:"image",get:function(){return this._options.image}}]),t}(a.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(55)),a=i(n(54)),s=i(n(49)),c=i(n(5)),l=i(n(72)),u=i(n(57)),d=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._kit=e,this._ui=n,this._options=r;var i=this._ui.container;this._canvasContainer=i.querySelector(".imglykit-canvas-container"),this._canvasInnerContainer=i.querySelector(".imglykit-canvas-inner-container"),this._canvas=this._canvasContainer.querySelector("canvas"),this._image=this._options.image,this._roundZoomBy=.1,this._isFirstRender=!0,this._dragOnMousedown=this._dragOnMousedown.bind(this),this._dragOnMousemove=this._dragOnMousemove.bind(this),this._dragOnMouseup=this._dragOnMouseup.bind(this)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"run",value:function(){this._initRenderer(),this._zoomLevel=this._getInitialZoomLevel(),this._initialZoomLevel=this._zoomLevel,this._isInitialZoom=!0,this._size=null,this.render(),this._centerCanvas(),this._handleDrag()}},{key:"render",value:function(){var e=this;this._initialZoomLevel=this._getInitialZoomLevel(),this._isInitialZoom&&this.setZoomLevel(this._initialZoomLevel,!1);var t=new s.default(this._image.width,this._image.height).multiply(this._zoomLevel);this._setCanvasSize(t),this._renderer.reset();var n=this.sanitizedStack;this._updateStackDirtyStates(n);for(var r=[],i=0;i<n.length;i++){var o=n[i];r.push(o.validateSettings())}return u.default.all(r).then((function(){if(e._isFirstRender&&"webgl"===e._renderer.identifier&&(e._image.width>e._renderer.maxTextureSize||e._image.height>e._renderer.maxTextureSize))return e._ui.displayLoadingMessage("Resizing..."),new u.default((function(t,n){setTimeout((function(){e._renderer.prepareImage(e._image).then((function(n){e._ui.hideLoadingMessage(),e._options.image=n,e._image=e._options.image,t()})).catch((function(e){n(e)}))}),100)}))})).then((function(){if(e._isFirstRender||"canvas"===e._renderer.constructor.identifier)return e._isFirstRender=!1,e._renderer.drawImage(e._image)})).then((function(){for(var t=[],r=0;r<n.length;r++){var i=n[r];t.push(i.render(e._renderer))}return u.default.all(t)})).then((function(){return e._renderer.renderFinal()})).then((function(){e._storeCanvasSize(),e._updateContainerSize(),e._updateCanvasMargins(),e._applyBoundaries()})).catch((function(e){console.log(e)}))}},{key:"setImage",value:function(e){this._image=e,this.reset(),this.render(),this._centerCanvas()}},{key:"zoomIn",value:function(){this._isInitialZoom=!1;var e=Math.round(100*this._zoomLevel),t=Math.round(100*this._roundZoomBy),n=Math.round(100*this._initialZoomLevel);return e%t!=0?e=Math.ceil(e/t)*t:e+=t,e=Math.min(2*n,e),this.setZoomLevel(e/100)}},{key:"zoomOut",value:function(){this._isInitialZoom=!1;var e=Math.round(100*this._zoomLevel),t=Math.round(100*this._roundZoomBy),n=Math.round(100*this._initialZoomLevel);return e%t!=0?e=Math.floor(e/t)*t:e-=t,e=Math.max(n,e),this.setZoomLevel(e/100)}},{key:"_setCanvasSize",value:function(e){e=e||new s.default(this._canvas.width,this._canvas.height),this._canvas.width=e.x,this._canvas.height=e.y,this._storeCanvasSize(),this._updateContainerSize()}},{key:"_updateContainerSize",value:function(){var e=this._size;this._canvasInnerContainer.style.width=e.x+"px",this._canvasInnerContainer.style.height=e.y+"px"}},{key:"_storeCanvasSize",value:function(){this._size=new s.default(this._canvas.width,this._canvas.height)}},{key:"_centerCanvas",value:function(){var e=this._maxSize.divide(2);this._canvasInnerContainer.style.left=e.x+"px",this._canvasInnerContainer.style.top=e.y+"px",this._updateCanvasMargins()}},{key:"_updateCanvasMargins",value:function(){var e=new s.default(this._canvas.width,this._canvas.height).divide(2).multiply(-1);this._canvasInnerContainer.style.marginLeft=e.x+"px",this._canvasInnerContainer.style.marginTop=e.y+"px"}},{key:"setZoomLevel",value:function(e){var t=this,n=void 0===arguments[1]||arguments[1];if(this._zoomLevel=e,n)return this.setAllOperationsToDirty(),this.render().then((function(){t._updateCanvasMargins(),t._applyBoundaries(),t.emit("zoom")}));this._updateCanvasMargins(),this._applyBoundaries(),this.emit("zoom")}},{key:"setAllOperationsToDirty",value:function(){for(var e=this._kit.operationsStack,t=0;t<e.length;t++){var n=e[t];n&&(n.dirty=!0)}}},{key:"_getInitialZoomLevel",value:function(){var e,t=new s.default(this._image.width,this._image.height),n=this._ui.operations.crop,r=this._ui.operations.rotation,i=void 0,o=void 0;if(e=n?n.getEnd().clone().subtract(n.getStart()):new s.default(1,1),i=t.clone().multiply(e),r&&r.getDegrees()%180!=0){var a=i.x;i.x=i.y,i.y=a}return o=c.default.resizeVectorToFit(i,this._maxSize),r&&r.getDegrees()%180!=0&&(a=o.x,o.x=o.y,o.y=a),o.clone().divide(e).x/t.x}},{key:"_initRenderer",value:function(){var e=this;if(o.default.isSupported()&&"canvas"!==this._options.renderer?(this._renderer=new o.default(null,this._canvas),this._webglEnabled=!0):a.default.isSupported()&&(this._renderer=new a.default(null,this._canvas),this._webglEnabled=!1),null===this._renderer)throw new Error("Neither Canvas nor WebGL renderer are supported.");this._renderer.on("new-canvas",(function(t){e._setCanvas(t)}))}},{key:"_setCanvas",value:function(e){var t=this._canvas.parentNode;t.removeChild(this._canvas),this._canvas=e,t.appendChild(this._canvas),this._updateCanvasMargins(),this._applyBoundaries(),this._updateContainerSize()}},{key:"_handleDrag",value:function(){this._canvas.addEventListener("mousedown",this._dragOnMousedown),this._canvas.addEventListener("touchstart",this._dragOnMousedown)}},{key:"_dragOnMousedown",value:function(e){if("mousedown"!==e.type||0===e.button){e.preventDefault();var t=e.pageX,n=e.pageY;"touchstart"===e.type&&(t=e.touches[0].pageX,n=e.touches[0].pageY);var r=parseInt(this._canvasInnerContainer.style.left,10),i=parseInt(this._canvasInnerContainer.style.top,10);document.addEventListener("mousemove",this._dragOnMousemove),document.addEventListener("touchmove",this._dragOnMousemove),document.addEventListener("mouseup",this._dragOnMouseup),document.addEventListener("touchend",this._dragOnMouseup),this._initialMousePosition=new s.default(t,n),this._initialCanvasPosition=new s.default(r,i)}}},{key:"_dragOnMousemove",value:function(e){e.preventDefault();var t=e.pageX,n=e.pageY;"touchmove"===e.type&&(t=e.touches[0].pageX,n=e.touches[0].pageY);var r=new s.default(t,n).clone().subtract(this._initialMousePosition),i=this._initialCanvasPosition.clone().add(r);this._canvasInnerContainer.style.left=i.x+"px",this._canvasInnerContainer.style.top=i.y+"px",this._applyBoundaries()}},{key:"_applyBoundaries",value:function(){var e=parseInt(this._canvasInnerContainer.style.left,10),t=parseInt(this._canvasInnerContainer.style.top,10),n=new s.default(e,t),r=this._boundaries;n.x=Math.min(r.max.x,Math.max(r.min.x,n.x)),n.y=Math.min(r.max.y,Math.max(r.min.y,n.y)),this._canvasInnerContainer.style.left=n.x+"px",this._canvasInnerContainer.style.top=n.y+"px"}},{key:"_dragOnMouseup",value:function(e){e.preventDefault(),document.removeEventListener("mousemove",this._dragOnMousemove),document.removeEventListener("touchmove",this._dragOnMousemove),document.removeEventListener("mouseup",this._dragOnMouseup),document.removeEventListener("touchend",this._dragOnMouseup)}},{key:"_updateStackDirtyStates",value:function(e){for(var t=!1,n=0;n<e.length;n++){var r=e[n];r&&(r.dirty&&(t=!0),t&&(r.dirty=!0))}}},{key:"zoomToFit",value:function(){var e=void 0===arguments[0]||arguments[0],t=this._getInitialZoomLevel();return this.setZoomLevel(t,e)}},{key:"reset",value:function(){this._renderer.reset(!0),this._kit.operationsStack=[],this._isFirstRender=!0}},{key:"_boundaries",get:function(){var e=new s.default(this._canvas.width,this._canvas.height),t=this._maxSize,n=e.clone().subtract(t).multiply(-1),r={min:new s.default(n.x,n.y),max:new s.default(0,0)};e.x<t.x&&(r.min.x=n.x/2,r.max.x=n.x/2),e.y<t.y&&(r.min.y=n.y/2,r.max.y=n.y/2);var i=e.clone().divide(2);return r.min.add(i),r.max.add(i),r}},{key:"_maxSize",get:function(){return new s.default(this._canvasContainer.offsetWidth,this._canvasContainer.offsetHeight)}},{key:"sanitizedStack",get:function(){for(var e=[],t=0;t<this._kit.operationsStack.length;t++){var n=this._kit.operationsStack[t];n&&e.push(n)}return e}},{key:"zoomLevel",get:function(){return this._zoomLevel}},{key:"size",get:function(){return this._size}}]),t}(l.default);t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._kit=e,this._ui=n,this._dragCounter=0,this._container=this._ui.container.querySelector(".imglykit-splash-container"),this._onDropAreaDragEnter=this._onDropAreaDragEnter.bind(this),this._onDropAreaDragOver=this._onDropAreaDragOver.bind(this),this._onDropAreaDragLeave=this._onDropAreaDragLeave.bind(this),this._onDropAreaDrop=this._onDropAreaDrop.bind(this),this._onDropAreaClick=this._onDropAreaClick.bind(this),this._onFileInputChange=this._onFileInputChange.bind(this),this._hiddenInputField=this._ui.container.querySelector(".imglykit-upload-hidden-input"),this._hiddenInputField.addEventListener("change",this._onFileInputChange),this._handleDropArea(),this._ui.options.image&&this.removeDOM()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),i(t,[{key:"openFileDialog",value:function(){this._hiddenInputField.click()}},{key:"_handleDropArea",value:function(){this._dropArea=this._container.querySelector(".imglykit-splash-row--upload"),this._dropArea.addEventListener("dragenter",this._onDropAreaDragEnter),this._dropArea.addEventListener("dragover",this._onDropAreaDragOver),this._dropArea.addEventListener("dragleave",this._onDropAreaDragLeave),this._dropArea.addEventListener("drop",this._onDropAreaDrop),this._dropArea.addEventListener("dragdrop",this._onDropAreaDrop),this._dropArea.addEventListener("click",this._onDropAreaClick)}},{key:"_onDropAreaClick",value:function(){this.openFileDialog()}},{key:"_onDropAreaDragEnter",value:function(e){e.preventDefault(),this._dragCounter++,this._dropArea.classList.add("imglykit-splash-active")}},{key:"_onDropAreaDragOver",value:function(e){e.preventDefault()}},{key:"_onDropAreaDragLeave",value:function(e){e.preventDefault(),this._dragCounter--,0===this._dragCounter&&this._dropArea.classList.remove("imglykit-splash-active")}},{key:"_onDropAreaDrop",value:function(e){e.stopPropagation(),e.preventDefault(),e.returnValue=!1,this._dropArea.classList.remove("imglykit-splash-active"),e.dataTransfer&&this._handleFile(e.dataTransfer.files[0])}},{key:"_onFileInputChange",value:function(){this._handleFile(this._hiddenInputField.files[0])}},{key:"_handleFile",value:function(e){this.emit("file",e)}},{key:"removeDOM",value:function(){this._dropArea.removeEventListener("dragenter",this._onDropAreaDragEnter),this._dropArea.removeEventListener("dragover",this._onDropAreaDragOver),this._dropArea.removeEventListener("dragleave",this._onDropAreaDragLeave),this._dropArea.removeEventListener("drop",this._onDropAreaDrop),this._dropArea.removeEventListener("dragdrop",this._onDropAreaDrop),this._dropArea.removeEventListener("click",this._onDropAreaClick),this._container&&(this._container.style.display="none")}}]),t}(((r=n(72))&&r.__esModule?r:{default:r}).default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(72)),a=i(n(5)),s=i(n(49)),c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._kit=e,this._ui=n;var r=this._ui.container;this._canvasContainer=r.querySelector(".imglykit-canvas-container"),this._video=r.querySelector(".imglykit-webcam-video"),this._webcamButton=r.querySelector(".imglykit-webcam-button"),this._webcamButton.addEventListener("click",this._onWebcamButtonClick.bind(this)),this._initVideoStream()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_onWebcamButtonClick",value:function(e){var t=this;e.preventDefault();var n=document.createElement("canvas");n.width=this._video.videoWidth,n.height=this._video.videoHeight,n.getContext("2d").drawImage(this._video,0,0),this._stream.stop(),this._video.pause(),delete this._stream,delete this._video;var r=new Image;r.addEventListener("load",(function(){t.emit("image",r)})),r.src=n.toDataURL("image/png")}},{key:"_initVideoStream",value:function(){var e=this,t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(!t)throw new Error("Webcam feature not supported! :(");t.call(navigator,{video:!0},(function(t){e._stream=t,e._video.onloadedmetadata=e._onVideoReady.bind(e),e._video.src=window.URL.createObjectURL(t)}),(function(e){throw e}))}},{key:"_onVideoReady",value:function(){this._resizeVideo()}},{key:"_resizeVideo",value:function(){var e=this._video,t=e.videoWidth,n=e.videoHeight,r=new s.default(t,n),i=new s.default(this._canvasContainer.offsetWidth,this._canvasContainer.offsetHeight),o=a.default.resizeVectorToFit(r,i);this._video.style.width=o.x+"px",this._video.style.height=o.y+"px";var c=i.clone().subtract(o).divide(2);this._video.style.marginLeft=c.x+"px",this._video.style.marginTop=c.y+"px"}},{key:"getUserMedia",get:function(){}}]),t}(o.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._kit=e,this._ui=n,this.init()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),i(t,[{key:"init",value:function(){this._canvas=this._ui.canvas}},{key:"run",value:function(){var e=this._ui.container;this._rightControls=e.querySelector(".imglykit-top-controls-right"),this._leftControls=e.querySelector(".imglykit-top-controls-left"),this._undoButton=e.querySelector(".imglykit-undo"),this._zoomIn=e.querySelector(".imglykit-zoom-in"),this._zoomOut=e.querySelector(".imglykit-zoom-out"),this._zoomLevel=e.querySelector(".imglykit-zoom-level-num"),this._newButton=e.querySelector(".imglykit-new"),this._exportButton=e.querySelector(".imglykit-export"),this._handleZoom(),this._handleUndo(),this._handleNew(),this._handleExport()}},{key:"_handleZoom",value:function(){this._zoomIn.addEventListener("click",this._onZoomInClick.bind(this)),this._zoomOut.addEventListener("click",this._onZoomOutClick.bind(this))}},{key:"_handleUndo",value:function(){this._undoButton.addEventListener("click",this._undo.bind(this)),this._undo()}},{key:"_handleNew",value:function(){this._newButton&&this._newButton.addEventListener("click",this._onNewClick.bind(this))}},{key:"_handleExport",value:function(){this._exportButton&&this._exportButton.addEventListener("click",this._onExportClick.bind(this))}},{key:"_onNewClick",value:function(e){e.preventDefault(),this.emit("new")}},{key:"_onExportClick",value:function(e){e.preventDefault(),this.emit("export")}},{key:"_undo",value:function(){this.emit("undo")}},{key:"updateUndoButton",value:function(){0===this._ui.history.length?this._undoButton.style.display="none":this._undoButton.style.display="inline-block"}},{key:"updateExportButton",value:function(){if(this._exportButton){var e=this._ui.image;this._exportButton.style.display=e?"inline-block":"none"}}},{key:"_onZoomInClick",value:function(e){e.preventDefault(),this.emit("zoom-in"),this.updateZoomLevel()}},{key:"_onZoomOutClick",value:function(e){e.preventDefault(),this.emit("zoom-out"),this.updateZoomLevel()}},{key:"showZoom",value:function(){this._rightControls.style.display="inline-block"}},{key:"hideZoom",value:function(){this._rightControls.style.display="none"}},{key:"updateZoomLevel",value:function(){var e=this._canvas.zoomLevel;this._zoomLevel.innerHTML=Math.round(100*e)}}]),t}(((r=n(72))&&r.__esModule?r:{default:r}).default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(5)),a=i(n(49)),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=t,this._isDragging=!1,this._isHovering=!1,this._appendDOM(),this._resizeButton(),this._updateValues(),this._onButtonDown=this._onButtonDown.bind(this),this._onButtonMove=this._onButtonMove.bind(this),this._onButtonUp=this._onButtonUp.bind(this),this._onContainerEnter=this._onContainerEnter.bind(this),this._onContainerLeave=this._onContainerLeave.bind(this),this._onBackgroundClick=this._onBackgroundClick.bind(this),this._container.addEventListener("mouseenter",this._onContainerEnter),this._container.addEventListener("mouseleave",this._onContainerLeave),this._container.addEventListener("mousemove",this._onContainerEnter),this._dom.button.addEventListener("mousedown",this._onButtonDown),this._dom.button.addEventListener("touchstart",this._onButtonDown),this._dom.background.addEventListener("click",this._onBackgroundClick),this._list.addEventListener("scroll",this._onListScroll.bind(this)),this._onListScroll()}return r(e,[{key:"_onBackgroundClick",value:function(e){if(e.preventDefault(),e.target===this._dom.background){var t=o.default.getEventPosition(e),n=this._dom.background.getBoundingClientRect();n=new a.default(n.left,n.top);var r=t.clone().subtract(n);r.x-=.5*this._values.button.width,this._setButtonPosition(r.x)}}},{key:"_onContainerEnter",value:function(){this._isHovering=!0,this.show()}},{key:"_onContainerLeave",value:function(){this._isHovering=!1,this.hide()}},{key:"show",value:function(){this._isScrollingNecessary&&this._dom.background.classList.add("visible")}},{key:"hide",value:function(){this._isDragging||this._dom.background.classList.remove("visible")}},{key:"_updateValues",value:function(){this._values={list:{totalWidth:this._list.scrollWidth,visibleWidth:this._list.offsetWidth,scrollableWidth:this._list.scrollWidth-this._list.offsetWidth},button:{width:this._dom.button.offsetWidth,scrollableWidth:this._dom.background.offsetWidth-this._dom.button.offsetWidth}}}},{key:"_onButtonDown",value:function(e){e.preventDefault(),this._isDragging=!0,this._initialMousePosition=o.default.getEventPosition(e),this._initialButtonPosition=this._buttonPosition||0,document.addEventListener("mousemove",this._onButtonMove),document.addEventListener("touchmove",this._onButtonMove),document.addEventListener("mouseup",this._onButtonUp),document.addEventListener("touchend",this._onButtonUp)}},{key:"_onButtonMove",value:function(e){e.preventDefault();var t=o.default.getEventPosition(e).clone().subtract(this._initialMousePosition),n=this._initialButtonPosition+t.x;this._setButtonPosition(n)}},{key:"_setButtonPosition",value:function(e){e=Math.max(0,e),e=Math.min(e,this._values.button.scrollableWidth),this._buttonPosition=e,this._dom.button.style.left=this._buttonPosition+"px";var t=e/this._values.button.scrollableWidth,n=this._values.list.scrollableWidth*t;this._list.scrollLeft=n}},{key:"_onButtonUp",value:function(){this._isDragging=!1,document.removeEventListener("mousemove",this._onButtonMove),document.removeEventListener("touchmove",this._onButtonMove),document.removeEventListener("mouseup",this._onButtonUp),document.removeEventListener("touchend",this._onButtonUp)}},{key:"_onListScroll",value:function(){if(!this._isDragging){var e=this._list.scrollWidth-this._list.offsetWidth,t=this._list.scrollLeft,n=this._dom.background.offsetWidth-this._dom.button.offsetWidth,r=t/e;this._buttonPosition=n*r,this._dom.button.style.left=this._buttonPosition+"px"}}},{key:"_resizeButton",value:function(){var e=this._list.scrollWidth,t=this._list.offsetWidth;this._buttonWidth=t/e*t,this._dom.button.style.width=this._buttonWidth+"px"}},{key:"_appendDOM",value:function(){var e=document.createElement("div");e.classList.add("imglykit-scrollbar-background"),e.style.bottom="18px";var t=document.createElement("div");t.classList.add("imglykit-scrollbar-button"),e.appendChild(t),this._container.appendChild(e),this._container.style.position="relative",this._list=this._container.querySelector(".imglykit-controls-list"),this._dom={background:e,button:t},this._list.style.height="";var n=this._list.offsetHeight;n+=18,this._container.style.height=n+"px",this._list.style.height=n+"px"}},{key:"remove",value:function(){this._dom.button.removeEventListener("mousedown",this._onButtonDown),this._dom.button.removeEventListener("touchstart",this._onButtonDown),this._dom.background.parentNode.removeChild(this._dom.background)}},{key:"_isScrollingNecessary",get:function(){return this._list.scrollWidth>this._list.offsetWidth}}]),e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(93)),c=o(n(5)),l=function(e){function t(){a(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){this._controlsTemplate=function(e){var t='<div class="imglykit-controls-list-container"> <ul class="imglykit-controls-list imgly-controls-list-with-buttons"> ';for(var n in e.filters){t+=" ",t+=" ";var r=e.filters[n].prototype.name;t+=" ",t+=' <li data-identifier="'+n+'" class="imglykit-controls-item-with-label',e.activeFilter.identifier===n&&(t+=" imglykit-controls-item-active"),t+='"> <img src="'+e.helpers.assetPath("ui/night/filters/"+n+".png")+'" /> <div class="imglykit-controls-item-label">'+r+"</div> </li> "}return t+" </ul></div>"},this._availableFilters={},this._filters={},this._addDefaultFilters(),this.selectFilters(null)}},{key:"_renderAllControls",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this._operationExistedBefore=!!this._ui.operations.filters,this._operation=this._ui.getOrCreateOperation("filters"),i(Object.getPrototypeOf(t.prototype),"_renderAllControls",this).apply(this,n)}},{key:"_onEnter",value:function(){var e=this;this._initialFilter=this._operation.getFilter(),this._defaultFilter=this._operation.availableOptions.filter.default;var t=this._controls.querySelectorAll("li");this._listItems=Array.prototype.slice.call(t);for(var n=function(t){var n=e._listItems[t];n.addEventListener("click",(function(){e._onListItemClick(n)}))},r=0;r<this._listItems.length;r++)n(r)}},{key:"_onBack",value:function(){var e=this._operation.getFilter();e!==this._initialFilter&&this._ui.addHistory(this._operation,{filter:this._initialFilter},this._operationExistedBefore),e===this._defaultFilter&&this._ui.removeOperation("filters"),this._ui.canvas.render()}},{key:"_onListItemClick",value:function(e){this._deactivateAllItems();var t=e.dataset.identifier;this._operation.setFilter(this._filters[t]),this._ui.canvas.render(),e.classList.add("imglykit-controls-item-active")}},{key:"_deactivateAllItems",value:function(){for(var e=0;e<this._listItems.length;e++)this._listItems[e].classList.remove("imglykit-controls-item-active")}},{key:"_addDefaultFilters",value:function(){this.addFilter(n(71)),this.addFilter(n(33)),this.addFilter(n(34)),this.addFilter(n(35)),this.addFilter(n(36)),this.addFilter(n(29)),this.addFilter(n(22)),this.addFilter(n(41)),this.addFilter(n(26)),this.addFilter(n(30)),this.addFilter(n(27)),this.addFilter(n(48)),this.addFilter(n(23)),this.addFilter(n(24)),this.addFilter(n(37)),this.addFilter(n(44)),this.addFilter(n(43)),this.addFilter(n(42)),this.addFilter(n(28)),this.addFilter(n(31)),this.addFilter(n(25)),this.addFilter(n(47)),this.addFilter(n(40)),this.addFilter(n(38)),this.addFilter(n(32)),this.addFilter(n(39)),this.addFilter(n(46)),this.addFilter(n(21)),this.addFilter(n(45))}},{key:"addFilter",value:function(e){this._availableFilters[e.identifier]=e}},{key:"selectFilters",value:function(e){this._filters={};for(var t=Object.keys(this._availableFilters),n=c.default.select(t,e),r=0;r<n.length;r++){var i=n[r];this._filters[i]=this._availableFilters[i]}this._active&&this._renderControls()}},{key:"context",get:function(){return{filters:this._filters,activeFilter:this._operation.getFilter()}}}]),t}(s.default);l.prototype.identifier="filters",t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(93)),s=i(n(49)),c=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){this._controlsTemplate=function(e){return'<div> <ul class="imglykit-controls-list imgly-controls-list-with-buttons"> <li data-degrees="-90"> <img src="'+e.helpers.assetPath("ui/night/rotation/left.png")+'" /> </li> <li data-degrees="90"> <img src="'+e.helpers.assetPath("ui/night/rotation/right.png")+'" /> </li> </ul></div>'},this._canvasControlsTemplate=function(e){return'<div class="imglykit-canvas-crop-container imglykit-canvas-crop-container-hidden"> <div class="imglykit-canvas-crop-top"> <div class="imglykit-canvas-crop-top-left"></div> <div class="imglykit-canvas-crop-top-center"></div> <div class="imglykit-canvas-crop-top-right"></div> </div> <div class="imglykit-canvas-crop-center"> <div class="imglykit-canvas-crop-center-left"></div> <div class="imglykit-canvas-crop-center-center imglykit-canvas-crop-center-center-nomove"> </div> <div class="imglykit-canvas-crop-center-right"></div> </div> <div class="imglykit-canvas-crop-bottom"> <div class="imglykit-canvas-crop-bottom-left"></div> <div class="imglykit-canvas-crop-bottom-center"></div> <div class="imglykit-canvas-crop-bottom-right"></div> </div></div>'}}},{key:"_onEnter",value:function(){var e=this;this._operationExistedBefore=!!this._ui.operations.rotation,this._operation=this._ui.getOrCreateOperation("rotation"),this._cropOperation=this._ui.operations.crop,this._initialZoomLevel=this._ui.canvas.zoomLevel,this._ui.canvas.zoomToFit(!1),this._cropOperation&&(this._initialStart=this._cropOperation.getStart().clone(),this._initialEnd=this._cropOperation.getEnd().clone(),this._cropOperation.set({start:new s.default(0,0),end:new s.default(1,1)})),this._initialDegrees=this._operation.getDegrees();var t=this._controls.querySelectorAll("li");this._listItems=Array.prototype.slice.call(t);for(var n=function(t){var n=e._listItems[t];n.addEventListener("click",(function(){e._onListItemClick(n)}))},r=0;r<this._listItems.length;r++)n(r);var i=".imglykit-canvas-crop";this._cropAreas={topLeft:this._canvasControls.querySelector(i+"-top-left"),topCenter:this._canvasControls.querySelector(i+"-top-center"),centerLeft:this._canvasControls.querySelector(i+"-center-left"),centerCenter:this._canvasControls.querySelector(i+"-center-center")},this._ui.canvas.render().then((function(){e._showCropContainer(),e._updateCropDOM()}))}},{key:"_showCropContainer",value:function(){this._canvasControls.querySelector(".imglykit-canvas-crop-container").classList.remove("imglykit-canvas-crop-container-hidden")}},{key:"_onListItemClick",value:function(e){var t=this,n=e.dataset.degrees;n=parseInt(n,10);var r=this._operation.getDegrees();this._operation.setDegrees(r+n),this._ui.canvas.zoomToFit().then((function(){t._updateCropDOM()}))}},{key:"onZoom",value:function(){this._updateCropDOM()}},{key:"_updateCropDOM",value:function(){var e=void 0,t=void 0;this._cropOperation?(e=this._initialStart.clone(),t=this._initialEnd.clone()):(e=new s.default(0,0),t=new s.default(1,1));var n=this._ui.canvas.size,r=e.multiply(n),i=t.multiply(n).clone().subtract(r),o=Math.max(1,r.y),a=Math.max(1,r.x),c=Math.max(1,i.x),l=Math.max(1,i.y);this._cropAreas.topLeft.style.width=a+"px",this._cropAreas.topCenter.style.width=c+"px",this._cropAreas.topLeft.style.height=o+"px",this._cropAreas.centerLeft.style.height=l+"px"}},{key:"_onBack",value:function(){var e=this._operation.getDegrees();this._initialDegrees!==e&&this._ui.addHistory(this._operation,{degrees:this._initialDegrees},this._operationExistedBefore),0===e&&this._ui.removeOperation("rotation"),this._cropOperation&&this._cropOperation.set({start:this._initialStart,end:this._initialEnd}),this._ui.canvas.render()}}]),t}(a.default);c.prototype.identifier="rotation",t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){this._controlsTemplate=function(e){return'<div> <ul class="imglykit-controls-list imgly-controls-list-with-buttons"> <li data-direction="horizontal"> <img src="'+e.helpers.assetPath("ui/night/flip/horizontal.png")+'" /> </li> <li data-direction="vertical"> <img src="'+e.helpers.assetPath("ui/night/flip/vertical.png")+'" /> </li> </ul></div>'}}},{key:"_onEnter",value:function(){var e=this;this._operationExistedBefore=!!this._ui.operations.flip,this._operation=this._ui.getOrCreateOperation("flip"),this._initialHorizontal=this._operation.getHorizontal(),this._initialVertical=this._operation.getVertical();var t=this._controls.querySelectorAll("li");this._listItems=Array.prototype.slice.call(t);for(var n=function(t){var n=e._listItems[t];n.addEventListener("click",(function(){e._onListItemClick(n)}));var r=n.dataset.direction;("horizontal"===r&&e._operation.getHorizontal()||"vertical"===r&&e._operation.getVertical())&&e._toggleItem(n,!0)},r=0;r<this._listItems.length;r++)n(r)}},{key:"_onListItemClick",value:function(e){var t=e.dataset.direction,n=!1;if("horizontal"===t){var r=this._operation.getHorizontal();this._operation.setHorizontal(!r),this._ui.canvas.render(),n=!r}else if("vertical"===t){var i=this._operation.getVertical();this._operation.setVertical(!i),this._ui.canvas.render(),n=!i}this._toggleItem(e,n)}},{key:"_toggleItem",value:function(e,t){var n="imglykit-controls-item-active";t?e.classList.add(n):e.classList.remove(n)}},{key:"_onBack",value:function(){var e=this._operation.getVertical(),t=this._operation.getHorizontal();this._initialVertical===e&&this._initialHorizontal===t||this._ui.addHistory(this._operation,{vertical:this._initialVertical,horizontal:this._initialHorizontal},this._operationExistedBefore),e||t||this._ui.removeOperation("flip"),this._ui.canvas.render()}}]),t}(((o=n(93))&&o.__esModule?o:{default:o}).default);a.prototype.identifier="flip",t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(93)),s=i(n(101)),c=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){this._controlsTemplate=function(e){return"<div> "+e.partials.slider+"</div>"},this._partialTemplates.slider=s.default.template}},{key:"_onEnter",value:function(){this._operationExistedBefore=!!this._ui.operations.brightness,this._operation=this._ui.getOrCreateOperation("brightness");var e=this._operation.getBrightness();this._initialBrightness=e;var t=this._controls.querySelector(".imglykit-slider");this._slider=new s.default(t,{minValue:-1,maxValue:1,defaultValue:e}),this._slider.on("update",this._onUpdate.bind(this)),this._slider.setValue(this._initialBrightness)}},{key:"_onBack",value:function(){var e=this._operation.getBrightness();this._initialBrightness!==e&&this._ui.addHistory(this._operation,{brightness:this._initialBrightness},this._operationExistedBefore),1===e&&this._ui.removeOperation("brightness"),this._ui.canvas.render()}},{key:"_onUpdate",value:function(e){this._operation.setBrightness(e),this._ui.canvas.render()}}]),t}(a.default);c.prototype.identifier="brightness",t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(93)),s=i(n(101)),c=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){this._controlsTemplate=function(e){return"<div> "+e.partials.slider+"</div>"},this._partialTemplates.slider=s.default.template}},{key:"_onEnter",value:function(){this._operationExistedBefore=!!this._ui.operations.contrast,this._operation=this._ui.getOrCreateOperation("contrast");var e=this._operation.getContrast();this._initialContrast=e;var t=this._controls.querySelector(".imglykit-slider");this._slider=new s.default(t,{minValue:0,maxValue:2,defaultValue:e}),this._slider.on("update",this._onUpdate.bind(this)),this._slider.setValue(this._initialContrast)}},{key:"_onBack",value:function(){var e=this._operation.getContrast();this._initialContrast!==e&&this._ui.addHistory(this._operation,{contrast:this._initialContrast},this._operationExistedBefore),1===e&&this._ui.removeOperation("contrast"),this._ui.canvas.render()}},{key:"_onUpdate",value:function(e){this._operation.setContrast(e),this._ui.canvas.render()}}]),t}(a.default);c.prototype.identifier="contrast",t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(101)),s=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){this._controlsTemplate=function(e){return"<div> "+e.partials.slider+"</div>"},this._partialTemplates.slider=a.default.template}},{key:"_onEnter",value:function(){(function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}})(Object.getPrototypeOf(t.prototype),"_onEnter",this).call(this),this._operationExistedBefore=!!this._ui.operations.saturation,this._operation=this._ui.getOrCreateOperation("saturation");var e=this._operation.getSaturation();this._initialSaturation=e;var n=this._controls.querySelector(".imglykit-slider");this._slider=new a.default(n,{minValue:0,maxValue:2,defaultValue:e}),this._slider.on("update",this._onUpdate.bind(this)),this._slider.setValue(this._initialSaturation)}},{key:"_onBack",value:function(){var e=this._operation.getSaturation();this._initialSaturation!==e&&this._ui.addHistory(this._operation,{saturation:this._initialSaturation},this._operationExistedBefore),1===e&&this._ui.removeOperation("saturation"),this._ui.canvas.render()}},{key:"_onUpdate",value:function(e){this._operation.setSaturation(e),this._ui.canvas.render()}}]),t}(i(n(93)).default);s.prototype.identifier="saturation",t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(93)),c=o(n(49)),l=o(n(5)),u=function(e){function t(){a(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){this._availableRatios={},this._ratios={},this._controlsTemplate=function(e){var t='<div> <ul class="imglykit-controls-list imgly-controls-list-with-buttons"> ';for(var n in e.ratios){t+=" ";var r=e.ratios[n];t+=" ";var i=r.selected;t+=' <li data-identifier="'+n+'" data-ratio="'+r.ratio+'"',i&&(t+=" data-selected"),t+='> <img src="'+e.helpers.assetPath("ui/night/crop/"+n+".png")+'" /> </li> '}return t+" </ul></div>"+e.partials.doneButton},this._canvasControlsTemplate=function(e){return'<div class="imglykit-canvas-crop-container"> <div class="imglykit-canvas-crop-top"> <div class="imglykit-canvas-crop-top-left"></div> <div class="imglykit-canvas-crop-top-center"></div> <div class="imglykit-canvas-crop-top-right"></div> </div> <div class="imglykit-canvas-crop-center"> <div class="imglykit-canvas-crop-center-left"></div> <div class="imglykit-canvas-crop-center-center"> <div class="imglykit-canvas-crop-knobs"> <div data-corner="top-left"></div> <div data-corner="top-right"></div> <div data-corner="bottom-left"></div> <div data-corner="bottom-right"></div> </div> </div> <div class="imglykit-canvas-crop-center-right"></div> </div> <div class="imglykit-canvas-crop-bottom"> <div class="imglykit-canvas-crop-bottom-left"></div> <div class="imglykit-canvas-crop-bottom-center"></div> <div class="imglykit-canvas-crop-bottom-right"></div> </div></div>'},this._onKnobDown=this._onKnobDown.bind(this),this._onKnobDrag=this._onKnobDrag.bind(this),this._onKnobUp=this._onKnobUp.bind(this),this._onCenterDown=this._onCenterDown.bind(this),this._onCenterDrag=this._onCenterDrag.bind(this),this._onCenterUp=this._onCenterUp.bind(this),this._addDefaultRatios(),this.selectRatios(null)}},{key:"selectRatios",value:function(e){this._ratios={};for(var t=Object.keys(this._availableRatios),n=l.default.select(t,e),r=0;r<n.length;r++){var i=n[r];this._ratios[i]=this._availableRatios[i]}this._active&&this._renderControls()}},{key:"_addDefaultRatios",value:function(){this.addRatio("custom","*",!0),this.addRatio("square","1"),this.addRatio("4-3","1.33"),this.addRatio("16-9","1.77")}},{key:"addRatio",value:function(e,t,n){this._availableRatios[e]={ratio:t,selected:n}}},{key:"_onEnter",value:function(){var e=this;i(Object.getPrototypeOf(t.prototype),"_onEnter",this).call(this),this._operationExistedBefore=!!this._ui.operations.crop,this._operation=this._ui.getOrCreateOperation("crop"),this._defaultStart=new c.default(.1,.1),this._defaultEnd=new c.default(.9,.9),this._initialOptions={start:this._operation.getStart(),end:this._operation.getEnd()},this._start=this._initialOptions.start||this._defaultStart,this._end=this._initialOptions.end||this._defaultEnd,this._minimumSize=new c.default(50,50),this._initialZoomLevel=this._ui.canvas.zoomLevel,this._ui.canvas.zoomToFit(!1);var n=".imglykit-canvas-crop",r=this._canvasControls.querySelector(n+"-knobs");this._initialStart=this._operation.getStart().clone(),this._initialEnd=this._operation.getEnd().clone(),this._operation.set({start:new c.default(0,0),end:new c.default(1,1)}),this._knobs={topLeft:r.querySelector("[data-corner=top-left]"),topRight:r.querySelector("[data-corner=top-right]"),bottomLeft:r.querySelector("[data-corner=bottom-left]"),bottomRight:r.querySelector("[data-corner=bottom-right]")},this._areas={topLeft:this._canvasControls.querySelector(n+"-top-left"),topCenter:this._canvasControls.querySelector(n+"-top-center"),centerLeft:this._canvasControls.querySelector(n+"-center-left"),centerCenter:this._canvasControls.querySelector(n+"-center-center")},this._handleControls(),this._handleKnobs(),this._handleCenter(),this._ui.canvas.render().then((function(){e._updateDOM()}))}},{key:"_handleControls",value:function(){var e=this,t=this._controls.querySelectorAll("ul > li");this._ratioItems=Array.prototype.slice.call(t);for(var n=function(t){var n=e._ratioItems[t],r=n.dataset,i=r.selected,o=r.ratio,a=r.identifier;void 0===i||e._operationExistedBefore||(e._setRatio(a,o,!1),e._selectRatio(n)),n.addEventListener("click",(function(t){t.preventDefault(),e._onRatioClick(n)}))},r=0;r<this._ratioItems.length;r++)n(r)}},{key:"_onRatioClick",value:function(e){this._unselectAllRatios(),this._selectRatio(e)}},{key:"_unselectAllRatios",value:function(){for(var e=0;e<this._ratioItems.length;e++)this._ratioItems[e].classList.remove("imglykit-controls-item-active")}},{key:"_selectRatio",value:function(e){e.classList.add("imglykit-controls-item-active");var t=e.dataset,n=t.ratio,r=t.identifier;this._setRatio(r,n)}},{key:"_setRatio",value:function(e,t){var n=void 0===arguments[2]||arguments[2],r=this._ui.canvas.size;if(this._selectedRatio=e,"*"===t)this._ratio=null,this._start=new c.default(.1,.1),this._end=new c.default(.9,.9);else if("original"===t?this._ratio=r.x/r.y:(t=parseFloat(t),this._ratio=t),n)if(r.x/r.y<=this._ratio){this._start.x=.1,this._end.x=.9;var i=1/r.y*(r.x/this._ratio*.8);this._start.y=(1-i)/2,this._end.y=1-this._start.y}else{this._start.y=.1,this._end.y=.9;var o=1/r.x*(this._ratio*r.y*.8);this._start.x=(1-o)/2,this._end.x=1-this._start.x}this._updateDOM()}},{key:"_updateDOM",value:function(){var e=this._ui.canvas.size,t=this._start.clone().multiply(e),n=this._end.clone().multiply(e).clone().subtract(t),r=Math.max(1,t.y),i=Math.max(1,t.x),o=Math.max(1,n.x),a=Math.max(1,n.y);this._areas.topLeft.style.width=i+"px",this._areas.topCenter.style.width=o+"px",this._areas.topLeft.style.height=r+"px",this._areas.centerLeft.style.height=a+"px"}},{key:"_handleKnobs",value:function(){var e=this,t=function(t){var n=e._knobs[t];n.addEventListener("mousedown",(function(t){e._onKnobDown(t,n)})),n.addEventListener("touchstart",(function(t){e._onKnobDown(t,n)}))};for(var n in this._knobs)t(n)}},{key:"_onKnobDown",value:function(e,t){e.preventDefault(),e.stopPropagation(),this._currentKnob=t,this._initialMousePosition=l.default.getEventPosition(e),this._startBeforeDrag=this._start.clone(),this._endBeforeDrag=this._end.clone(),document.addEventListener("mousemove",this._onKnobDrag),document.addEventListener("touchmove",this._onKnobDrag),document.addEventListener("mouseup",this._onKnobUp),document.addEventListener("touchend",this._onKnobUp)}},{key:"_onKnobDrag",value:function(e){e.preventDefault();var t=l.default.getEventPosition(e).subtract(this._initialMousePosition),n=this._currentKnob.dataset.corner,r=this._ui.canvas.size,i=this._startBeforeDrag.clone().multiply(r),o=this._endBeforeDrag.clone().multiply(r),a=void 0,s=void 0,c=void 0,u=void 0;switch(n){case"top-left":i.add(t),c=o.clone().subtract(this._minimumSize),i.clamp(null,c);break;case"top-right":o.x+=t.x,i.y+=t.y,o.x=Math.max(i.x+this._minimumSize.x,o.x),i.y=Math.min(o.y-this._minimumSize.y,i.y);break;case"bottom-right":o.add(t),u=i.clone().add(this._minimumSize),o.clamp(u);break;case"bottom-left":i.x+=t.x,o.y+=t.y,i.x=Math.min(o.x-this._minimumSize.x,i.x),o.y=Math.max(i.y+this._minimumSize.y,o.y)}if(this._start.copy(i).divide(r),this._end.copy(o).divide(r),this._start.clamp(0,1),this._end.clamp(0,1),null!==this._ratio)switch(n){case"top-left":s=(a=(this._end.x-this._start.x)*r.x)/this._ratio,this._start.y=this._end.y-s/r.y,this._start.y<=0&&(this._start.y=0,a=(s=(this._end.y-this._start.y)*r.y)*this._ratio,this._start.x=this._end.x-a/r.x);break;case"top-right":s=(a=(this._end.x-this._start.x)*r.x)/this._ratio,this._start.y=this._end.y-s/r.y,this._start.y<=0&&(this._start.y=0,a=(s=(this._end.y-this._start.y)*r.y)*this._ratio,this._end.x=this._start.x+a/r.x);break;case"bottom-right":s=(a=(this._end.x-this._start.x)*r.x)/this._ratio,this._end.y=this._start.y+s/r.y,this._end.y>=1&&(this._end.y=1,a=(s=(this._end.y-this._start.y)*r.y)*this._ratio,this._end.x=this._start.x+a/r.x);break;case"bottom-left":s=(a=(this._end.x-this._start.x)*r.x)/this._ratio,this._end.y=this._start.y+s/r.y,this._end.y>=1&&(this._end.y=1,a=(s=(this._end.y-this._start.y)*r.y)*this._ratio,this._start.x=this._end.x-a/r.x)}this._updateDOM()}},{key:"_onKnobUp",value:function(){this._currentKnob=null,document.removeEventListener("mousemove",this._onKnobDrag),document.removeEventListener("touchmove",this._onKnobDrag),document.removeEventListener("mouseup",this._onKnobUp),document.removeEventListener("touchend",this._onKnobUp)}},{key:"_handleCenter",value:function(){this._areas.centerCenter.addEventListener("mousedown",this._onCenterDown),this._areas.centerCenter.addEventListener("touchstart",this._onCenterDown)}},{key:"_onCenterDown",value:function(e){this._initialMousePosition=l.default.getEventPosition(e),this._startBeforeDrag=this._start.clone(),this._endBeforeDrag=this._end.clone(),document.addEventListener("mousemove",this._onCenterDrag),document.addEventListener("touchmove",this._onCenterDrag),document.addEventListener("mouseup",this._onCenterUp),document.addEventListener("touchend",this._onCenterUp)}},{key:"_onCenterDrag",value:function(e){var t=l.default.getEventPosition(e).subtract(this._initialMousePosition),n=this._ui.canvas.size,r=this._endBeforeDrag.clone().subtract(this._startBeforeDrag).clone().multiply(n),i=this._startBeforeDrag.clone().multiply(n),o=this._endBeforeDrag.clone().multiply(n);i.add(t);var a=n.clone().subtract(r);i.clamp(new c.default(0,0),a),o.copy(i).add(r),this._start.copy(i).divide(n),this._end.copy(o).divide(n),this._updateDOM()}},{key:"_onCenterUp",value:function(){document.removeEventListener("mousemove",this._onCenterDrag),document.removeEventListener("touchmove",this._onCenterDrag),document.removeEventListener("mouseup",this._onCenterUp),document.removeEventListener("touchend",this._onCenterUp)}},{key:"_onBack",value:function(){this._ui.canvas.setZoomLevel(this._initialZoomLevel,!1),this._operationExistedBefore?this._operation.set({start:this._initialStart,end:this._initialEnd}):this._ui.removeOperation("crop"),this._ui.canvas.render()}},{key:"_onDone",value:function(){this._operation.set({start:this._start,end:this._end}),this._ui.canvas.zoomToFit(!0),this._ui.addHistory(this._operation,{start:this._initialStart.clone(),end:this._initialEnd.clone()},this._operationExistedBefore)}},{key:"context",get:function(){var e=i(Object.getPrototypeOf(t.prototype),"context",this);return e.ratios=this._ratios,e}},{key:"selectedRatio",get:function(){return this._selectedRatio}}]),t}(s.default);u.prototype.identifier="crop",t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(93)),s=i(n(49)),c=i(n(5)),l=i(n(102)),u=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){this._controlsTemplate=function(e){return'<div class="imglykit-controls-icon"> <img src="'+e.helpers.assetPath("ui/night/blur/blur.png")+'" /></div><div> '+e.partials.slider+"</div>"+e.partials.doneButton},this._canvasControlsTemplate=function(e){return'<div class="imglykit-canvas-radial-blur-container"> <div class="imglykit-canvas-radial-blur-dot" id="imglykit-radial-blur-position"></div> <div class="imglykit-canvas-radial-blur-dot" id="imglykit-radial-blur-gradient"></div> <div class="imglykit-canvas-radial-blur-circle-container"> <div class="imglykit-canvas-radial-blur-circle"></div> </div></div>'},this._partialTemplates.slider=l.default.template,this._partialTemplates.slider.additionalContext={id:"imglykit-blur-radius-slider"}}},{key:"_onEnter",value:function(){var e=this;this._operationExistedBefore=!!this._ui.operations["radial-blur"],this._operation=this._ui.getOrCreateOperation("radial-blur"),this._initialSettings={position:this._operation.getPosition().clone(),gradientRadius:this._operation.getGradientRadius(),blurRadius:this._operation.getBlurRadius()},this._onPositionKnobDown=this._onPositionKnobDown.bind(this),this._onPositionKnobDrag=this._onPositionKnobDrag.bind(this),this._onPositionKnobUp=this._onPositionKnobUp.bind(this),this._onGradientKnobDown=this._onGradientKnobDown.bind(this),this._onGradientKnobDrag=this._onGradientKnobDrag.bind(this),this._onGradientKnobUp=this._onGradientKnobUp.bind(this),this._positionKnob=this._canvasControls.querySelector("#imglykit-radial-blur-position"),this._gradientKnob=this._canvasControls.querySelector("#imglykit-radial-blur-gradient"),this._circle=this._canvasControls.querySelector(".imglykit-canvas-radial-blur-circle"),this._handleKnobs(),this._initSliders(),this._ui.canvas.render().then((function(){e._updateDOM()}))}},{key:"_initSliders",value:function(){var e=this._controls.querySelector("#imglykit-blur-radius-slider");this._blurRadiusSlider=new l.default(e,{minValue:0,maxValue:40}),this._blurRadiusSlider.on("update",this._onBlurRadiusUpdate.bind(this)),this._blurRadiusSlider.setValue(this._initialSettings.blurRadius)}},{key:"_onBlurRadiusUpdate",value:function(e){this._operation.setBlurRadius(e),this._ui.canvas.render(),this._highlightDoneButton()}},{key:"_handleKnobs",value:function(){var e=this._ui.canvas.size,t=this._operation.getPosition().clone().multiply(e);this._gradientKnobPosition=t.clone().add(this._initialSettings.gradientRadius,0),this._positionKnob.addEventListener("mousedown",this._onPositionKnobDown),this._positionKnob.addEventListener("touchstart",this._onPositionKnobDown),this._gradientKnob.addEventListener("mousedown",this._onGradientKnobDown),this._gradientKnob.addEventListener("touchstart",this._onGradientKnobDown)}},{key:"_onPositionKnobDown",value:function(e){e.preventDefault();var t=this._ui.canvas.size;this._initialMousePosition=c.default.getEventPosition(e),this._initialPosition=this._operation.getPosition().clone(),this._gradientKnobDistance=this._gradientKnobPosition.clone().subtract(this._initialPosition.clone().multiply(t)),document.addEventListener("mousemove",this._onPositionKnobDrag),document.addEventListener("touchmove",this._onPositionKnobDrag),document.addEventListener("mouseup",this._onPositionKnobUp),document.addEventListener("touchend",this._onPositionKnobUp)}},{key:"_onPositionKnobDrag",value:function(e){e.preventDefault();var t=this._ui.canvas.size,n=c.default.getEventPosition(e).subtract(this._initialMousePosition),r=this._initialPosition.clone().multiply(t).add(n),i=t.clone().subtract(this._gradientKnobDistance);r.clamp(new s.default(0,0),i),this._gradientKnobPosition.copy(r).add(this._gradientKnobDistance),r.divide(t),this._operation.setPosition(r),this._updateDOM(),this._ui.canvas.render()}},{key:"_onPositionKnobUp",value:function(e){e.preventDefault(),document.removeEventListener("mousemove",this._onPositionKnobDrag),document.removeEventListener("touchmove",this._onPositionKnobDrag),document.removeEventListener("mouseup",this._onPositionKnobUp),document.removeEventListener("touchend",this._onPositionKnobUp)}},{key:"_onGradientKnobDown",value:function(e){e.preventDefault(),this._initialMousePosition=c.default.getEventPosition(e),this._initialGradientKnobPosition=this._gradientKnobPosition.clone(),document.addEventListener("mousemove",this._onGradientKnobDrag),document.addEventListener("touchmove",this._onGradientKnobDrag),document.addEventListener("mouseup",this._onGradientKnobUp),document.addEventListener("touchend",this._onGradientKnobUp)}},{key:"_onGradientKnobDrag",value:function(e){e.preventDefault();var t=this._ui.canvas.size,n=c.default.getEventPosition(e).subtract(this._initialMousePosition);this._gradientKnobPosition=this._initialGradientKnobPosition.clone().add(n),this._gradientKnobPosition.clamp(new s.default(0,0),t);var r=this._operation.getPosition().clone().multiply(t),i=this._gradientKnobPosition.clone().subtract(r),o=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2));this._operation.setGradientRadius(o),this._updateDOM(),this._ui.canvas.render()}},{key:"_onGradientKnobUp",value:function(e){e.preventDefault(),document.removeEventListener("mousemove",this._onGradientKnobDrag),document.removeEventListener("touchmove",this._onGradientKnobDrag),document.removeEventListener("mouseup",this._onGradientKnobUp),document.removeEventListener("touchend",this._onGradientKnobUp)}},{key:"_updateDOM",value:function(){var e=this._ui.canvas.size,t=this._operation.getPosition().clone().multiply(e);this._positionKnob.style.left=t.x+"px",this._positionKnob.style.top=t.y+"px",this._gradientKnob.style.left=this._gradientKnobPosition.x+"px",this._gradientKnob.style.top=this._gradientKnobPosition.y+"px";var n=2*this._operation.getGradientRadius();this._circle.style.left=t.x+"px",this._circle.style.top=t.y+"px",this._circle.style.width=n+"px",this._circle.style.height=n+"px",this._circle.style.marginLeft="-"+n/2+"px",this._circle.style.marginTop="-"+n/2+"px"}},{key:"_onBack",value:function(){this._operationExistedBefore?this._operation.set(this._initialSettings):this._ui.removeOperation("radial-blur"),this._ui.canvas.render()}},{key:"_onDone",value:function(){this._ui.addHistory(this._operation,{position:this._initialSettings.position.clone(),gradientRadius:this._initialSettings.gradientRadius,blurRadius:this._initialSettings.blurRadius},this._operationExistedBefore)}}]),t}(a.default);u.prototype.identifier="radial-blur",t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(93)),s=i(n(49)),c=i(n(5)),l=i(n(102)),u=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){this._controlsTemplate=function(e){return'<div class="imglykit-controls-icon"> <img src="'+e.helpers.assetPath("ui/night/blur/blur.png")+'" /></div><div> '+" "+e.partials.slider+"</div>"+e.partials.doneButton},this._canvasControlsTemplate=function(e){return'<div class="imglykit-canvas-tilt-shift-container"> <div class="imglykit-canvas-tilt-shift-dot" data-option="position"></div> <div class="imglykit-canvas-tilt-shift-dot" data-option="gradient"></div> <div class="imglykit-canvas-tilt-shift-rect-container"> <div class="imglykit-canvas-tilt-shift-rect"></div> </div></div>'},this._partialTemplates.slider=l.default.template,this._partialTemplates.slider.additionalContext={id:"imglykit-blur-radius-slider"},this._currentKnob=null}},{key:"_onEnter",value:function(){var e=this;this._operationExistedBefore=!!this._ui.operations["tilt-shift"],this._operation=this._ui.getOrCreateOperation("tilt-shift"),this._initialSettings={start:this._operation.getStart().clone(),end:this._operation.getEnd().clone(),gradientRadius:this._operation.getGradientRadius(),blurRadius:this._operation.getBlurRadius()},this._onPositionKnobDown=this._onPositionKnobDown.bind(this),this._onPositionKnobDrag=this._onPositionKnobDrag.bind(this),this._onPositionKnobUp=this._onPositionKnobUp.bind(this),this._onGradientKnobDown=this._onGradientKnobDown.bind(this),this._onGradientKnobDrag=this._onGradientKnobDrag.bind(this),this._onGradientKnobUp=this._onGradientKnobUp.bind(this);var t=".imglykit-canvas-tilt-shift-dot";this._positionKnob=this._canvasControls.querySelector(t+"[data-option='position']"),this._gradientKnob=this._canvasControls.querySelector(t+"[data-option='gradient']"),this._rect=this._canvasControls.querySelector(".imglykit-canvas-tilt-shift-rect"),this._initSliders(),this._ui.canvas.render().then((function(){e._handleKnobs(),e._updateDOM()}))}},{key:"_initSliders",value:function(){var e=this._controls.querySelector("#imglykit-blur-radius-slider");this._blurRadiusSlider=new l.default(e,{minValue:0,maxValue:40}),this._blurRadiusSlider.on("update",this._onBlurRadiusUpdate.bind(this)),this._blurRadiusSlider.setValue(this._initialSettings.blurRadius)}},{key:"_onBlurRadiusUpdate",value:function(e){this._operation.setBlurRadius(e),this._ui.canvas.render(),this._highlightDoneButton()}},{key:"_handleKnobs",value:function(){this._positionKnob.addEventListener("mousedown",this._onPositionKnobDown),this._positionKnob.addEventListener("touchstart",this._onPositionKnobDown),this._gradientKnob.addEventListener("mousedown",this._onGradientKnobDown),this._gradientKnob.addEventListener("touchstart",this._onGradientKnobDown);var e=this._ui.canvas.size,t=this._initialSettings,n=t.start,r=t.end;n=n.clone().multiply(e);var i=(r=r.clone().multiply(e)).clone().subtract(n),o=n.clone().add(i.clone().divide(2)),a=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2)),s=i.clone().divide(a).divide(2);this._knobPosition=o.clone();var c=this._initialSettings.gradientRadius;this._gradientKnobPosition=o.clone().add(-c*s.y,c*s.x),this._updateStartAndEnd(),this._updateDOM(),this._ui.canvas.render()}},{key:"_updateStartAndEnd",value:function(){var e=this._ui.canvas.size,t=this._gradientKnobPosition.clone().subtract(this._knobPosition),n=this._knobPosition.clone().add(-t.y,t.x).divide(e),r=this._knobPosition.clone().add(t.y,-t.x).divide(e);this._operation.set({start:n,end:r})}},{key:"_onPositionKnobDown",value:function(e){e.preventDefault(),this._initialMousePosition=c.default.getEventPosition(e),this._initialPosition=this._knobPosition.clone(),this._initialDistanceToGradientKnob=this._gradientKnobPosition.clone().subtract(this._initialPosition),document.addEventListener("mousemove",this._onPositionKnobDrag),document.addEventListener("touchmove",this._onPositionKnobDrag),document.addEventListener("mouseup",this._onPositionKnobUp),document.addEventListener("touchend",this._onPositionKnobUp)}},{key:"_onPositionKnobDrag",value:function(e){e.preventDefault();var t=this._ui.canvas.size,n=c.default.getEventPosition(e).subtract(this._initialMousePosition),r=this._initialPosition.clone().add(n);this._knobPosition.copy(r);var i=(new s.default).subtract(this._initialDistanceToGradientKnob);i.clamp(new s.default(0,0));var o=t.clone().subtract(this._initialDistanceToGradientKnob);o.clamp(null,t),this._knobPosition.clamp(i,o),this._gradientKnobPosition.copy(this._knobPosition).add(this._initialDistanceToGradientKnob),this._updateStartAndEnd(),this._updateDOM(),this._ui.canvas.render()}},{key:"_onPositionKnobUp",value:function(e){e.preventDefault(),document.removeEventListener("mousemove",this._onPositionKnobDrag),document.removeEventListener("touchmove",this._onPositionKnobDrag),document.removeEventListener("mouseup",this._onPositionKnobUp),document.removeEventListener("touchend",this._onPositionKnobUp)}},{key:"_onGradientKnobDown",value:function(e){e.preventDefault(),this._initialMousePosition=c.default.getEventPosition(e),this._initialGradientKnobPosition=this._gradientKnobPosition.clone(),document.addEventListener("mousemove",this._onGradientKnobDrag),document.addEventListener("touchmove",this._onGradientKnobDrag),document.addEventListener("mouseup",this._onGradientKnobUp),document.addEventListener("touchend",this._onGradientKnobUp)}},{key:"_onGradientKnobDrag",value:function(e){e.preventDefault();var t=this._ui.canvas.size,n=c.default.getEventPosition(e).subtract(this._initialMousePosition);this._gradientKnobPosition.copy(this._initialGradientKnobPosition).add(n),this._gradientKnobPosition.clamp(new s.default(0,0),t);var r=this._gradientKnobPosition.clone().subtract(this._knobPosition),i=2*Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2));this._operation.setGradientRadius(i),this._updateStartAndEnd(),this._updateDOM(),this._ui.canvas.render()}},{key:"_onGradientKnobUp",value:function(e){e.preventDefault(),document.removeEventListener("mousemove",this._onGradientKnobDrag),document.removeEventListener("touchmove",this._onGradientKnobDrag),document.removeEventListener("mouseup",this._onGradientKnobUp),document.removeEventListener("touchend",this._onGradientKnobUp)}},{key:"_updateDOM",value:function(){var e=this._knobPosition;this._positionKnob.style.left=e.x+"px",this._positionKnob.style.top=e.y+"px";var t=this._gradientKnobPosition;this._gradientKnob.style.left=t.x+"px",this._gradientKnob.style.top=t.y+"px";var n=this._ui.canvas.size,r=this._operation.getGradientRadius(),i=new s.default(2*Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2)),r);this._rect.style.width=i.x+"px",this._rect.style.height=i.y+"px",this._rect.style.marginLeft="-"+i.x/2+"px",this._rect.style.marginTop="-"+i.y/2+"px",this._rect.style.left=e.x+"px",this._rect.style.top=e.y+"px";var o=t.clone().subtract(e),a=Math.atan2(o.x,o.y)*(180/Math.PI);this._rect.style.transform="rotate("+(-a).toFixed(2)+"deg)"}},{key:"_onBack",value:function(){this._operationExistedBefore?this._operation.set(this._initialSettings):this._ui.removeOperation("tilt-shift"),this._ui.canvas.render()}},{key:"_onDone",value:function(){this._ui.addHistory(this._operation,{start:this._initialSettings.start.clone(),end:this._initialSettings.end.clone(),blurRadius:this._initialSettings.blurRadius,gradientRadius:this._initialSettings.gradientRadius},this._operationExistedBefore)}}]),t}(a.default);u.prototype.identifier="tilt-shift",t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(93)),s=i(n(102)),c=i(n(103)),l=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){this._controlsTemplate=function(e){return"<div> "+e.partials.slider+'</div><div class="imglykit-controls-button"> '+e.partials.colorPicker+"</div>"+e.partials.doneButton},this._partialTemplates.slider=s.default.template,this._partialTemplates.colorPicker=c.default.template}},{key:"_renderControls",value:function(){this._partialTemplates.colorPicker.additionalContext={label:this._ui.translate("controls.frames.color")},function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}}(Object.getPrototypeOf(t.prototype),"_renderControls",this).call(this)}},{key:"_onEnter",value:function(){this._operationExistedBefore=!!this._ui.operations.frames,this._operation=this._ui.getOrCreateOperation("frames"),this._initialOptions={thickness:this._operation.getThickness(),color:this._operation.getColor()},this._ui.canvas.render();var e=this._controls.querySelector(".imglykit-slider");this._slider=new s.default(e,{minValue:0,maxValue:.5}),this._slider.on("update",this._onThicknessUpdate.bind(this)),this._slider.setValue(this._initialOptions.thickness);var t=this._controls.querySelector(".imglykit-color-picker");this._colorPicker=new c.default(this._ui,t),this._colorPicker.on("update",this._onColorUpdate.bind(this)),this._colorPicker.setValue(this._initialOptions.color)}},{key:"_onBack",value:function(){this._operationExistedBefore?this._operation.set(this._initialOptions):this._ui.removeOperation("frames"),this._ui.canvas.render()}},{key:"_onThicknessUpdate",value:function(e){this._operation.setThickness(e),this._ui.canvas.render(),this._highlightDoneButton()}},{key:"_onColorUpdate",value:function(e){this._operation.setColor(e),this._ui.canvas.render(),this._highlightDoneButton()}},{key:"_onDone",value:function(){this._ui.addHistory(this._operation,{color:this._initialOptions.color,thickness:this._initialOptions.thickness},this._operationExistedBefore)}}]),t}(a.default);l.prototype.identifier="frames",t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(93)),s=i(n(49)),c=i(n(5)),l=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){this._controlsTemplate=function(e){var t='<div> <ul class="imglykit-controls-list imgly-controls-list-with-buttons"> ';for(var n in e.stickers){t+=" ";var r=e.stickers[n];t+=" ",t+=' <li data-identifier="'+n+'"',e.activeSticker===n&&(t+=' class="imglykit-controls-item-active"'),t+='> <canvas class="imglykit-controls-item-canvas" data-image="'+e.helpers.assetPath(r)+'"></canvas> </li> '}return t+" </ul></div>"+e.partials.doneButton},this._canvasControlsTemplate=function(e){return'<div class="imglykit-canvas-stickers-container"> <div class="imglykit-canvas-stickers"> <img class="imglykit-canvas-sticker-image" /> <div class="imglykit-knob"></div> </div></div>'},this._availableStickers={},this._stickers={},this._addDefaultStickers(),this.selectStickers(null)}},{key:"_addDefaultStickers",value:function(){this.addSticker("glasses-nerd","stickers/sticker-glasses-nerd.png"),this.addSticker("glasses-normal","stickers/sticker-glasses-normal.png"),this.addSticker("glasses-shutter-green","stickers/sticker-glasses-shutter-green.png"),this.addSticker("glasses-shutter-yellow","stickers/sticker-glasses-shutter-yellow.png"),this.addSticker("glasses-sun","stickers/sticker-glasses-sun.png"),this.addSticker("hat-cap","stickers/sticker-hat-cap.png"),this.addSticker("hat-cylinder","stickers/sticker-hat-cylinder.png"),this.addSticker("hat-party","stickers/sticker-hat-party.png"),this.addSticker("hat-sheriff","stickers/sticker-hat-sheriff.png"),this.addSticker("heart","stickers/sticker-heart.png"),this.addSticker("mustache-long","stickers/sticker-mustache-long.png"),this.addSticker("mustache1","stickers/sticker-mustache1.png"),this.addSticker("mustache2","stickers/sticker-mustache2.png"),this.addSticker("mustache3","stickers/sticker-mustache3.png"),this.addSticker("pipe","stickers/sticker-pipe.png"),this.addSticker("snowflake","stickers/sticker-snowflake.png"),this.addSticker("star","stickers/sticker-star.png")}},{key:"addSticker",value:function(e,t){this._availableStickers[e]=t,this._stickers[e]=this._availableStickers[e],this._active&&this._renderControls()}},{key:"selectStickers",value:function(e){this._stickers={};for(var t=Object.keys(this._availableStickers),n=c.default.select(t,e),r=0;r<n.length;r++){var i=n[r];this._stickers[i]=this._availableStickers[i]}this._active&&this._renderControls()}},{key:"_onEnter",value:function(){var e=this;this._operationExistedBefore=!!this._ui.operations.stickers,this._operation=this._ui.getOrCreateOperation("stickers"),this._ui.removeOperation("stickers"),this._initialSettings={sticker:this._operation.getSticker(),position:this._operation.getPosition().clone(),size:this._operation.getSize().clone()};var t=this._ui.canvas.size;this._size=this._initialSettings.size.clone(),this._position=this._initialSettings.position.clone().multiply(t),this._initialZoomLevel=this._ui.canvas.zoomLevel,this._ui.canvas.zoomToFit(),this._container=this._canvasControls.querySelector(".imglykit-canvas-stickers"),this._stickerImage=this._canvasControls.querySelector("img"),this._stickerImage.addEventListener("load",(function(){e._stickerSize=new s.default(e._stickerImage.width,e._stickerImage.height),e._onStickerLoad()})),this._knob=this._canvasControls.querySelector("div.imglykit-knob"),this._onImageDown=this._onImageDown.bind(this),this._onImageDrag=this._onImageDrag.bind(this),this._onImageUp=this._onImageUp.bind(this),this._onKnobDown=this._onKnobDown.bind(this),this._onKnobDrag=this._onKnobDrag.bind(this),this._onKnobUp=this._onKnobUp.bind(this),this._renderListItems(),this._handleListItems(),this._handleImage(),this._handleKnob()}},{key:"_renderListItems",value:function(){var e=this,t=this._controls.querySelectorAll("li canvas");this._canvasItems=Array.prototype.slice.call(t);for(var n=function(t){var n=e._canvasItems[t];n.width=n.offsetWidth,n.height=n.offsetHeight;var r=n.getContext("2d"),i=n.dataset.image,o=document.createElement("img"),a=new s.default(n.width,n.height);o.addEventListener("load",(function(){var e=new s.default(o.width,o.height),t=c.default.resizeVectorToFit(e,a),n=a.clone().divide(2).subtract(t.clone().divide(2));r.drawImage(o,0,0,e.x,e.y,n.x,n.y,t.x,t.y)})),o.src=i},r=0;r<this._canvasItems.length;r++)n(r)}},{key:"_handleListItems",value:function(){var e=this,t=this._controls.querySelectorAll("li");this._listItems=Array.prototype.slice.call(t);for(var n=function(t){var n=e._listItems[t],r=n.dataset.identifier;n.addEventListener("click",(function(){e._onListItemClick(n)})),(!e._operationExistedBefore&&0===t||e._operationExistedBefore&&e._stickers[r]===e._initialSettings.sticker)&&e._onListItemClick(n,!1)},r=0;r<this._listItems.length;r++)n(r)}},{key:"_applySettings",value:function(){var e=this._stickerSize.y/this._stickerSize.x;this._size.y=this._size.x*e,this._stickerImage.style.width=this._size.x+"px",this._stickerImage.style.height=this._size.y+"px",this._container.style.left=this._position.x+"px",this._container.style.top=this._position.y+"px"}},{key:"_onBack",value:function(){this._operationExistedBefore?(this._operation=this._ui.getOrCreateOperation("stickers"),this._operation.set(this._initialSettings)):this._ui.removeOperation("stickers"),this._ui.canvas.setZoomLevel(this._initialZoomLevel)}},{key:"_onDone",value:function(){var e=this._ui.canvas.size,t=this._position.clone().divide(e),n=this._size.clone().divide(e);this._ui.canvas.setZoomLevel(this._initialZoomLevel,!1),this._operation=this._ui.getOrCreateOperation("stickers"),this._operation.set({sticker:this._availableStickers[this._sticker],position:t,size:n}),this._ui.canvas.render(),this._ui.addHistory(this,{sticker:this._initialSettings.sticker,position:this._initialSettings.position.clone(),size:this._initialSettings.size.clone()},this._operationExistedBefore)}},{key:"_handleKnob",value:function(){this._knob.addEventListener("mousedown",this._onKnobDown),this._knob.addEventListener("touchstart",this._onKnobDown)}},{key:"_onKnobDown",value:function(e){e.preventDefault(),this._initialMousePosition=c.default.getEventPosition(e),this._initialSize=this._size.clone(),document.addEventListener("mousemove",this._onKnobDrag),document.addEventListener("touchmove",this._onKnobDrag),document.addEventListener("mouseup",this._onKnobUp),document.addEventListener("touchend",this._onKnobUp)}},{key:"_onKnobDrag",value:function(e){e.preventDefault();var t=c.default.getEventPosition(e).clone().subtract(this._initialMousePosition),n=this._initialSize.clone(),r=this._stickerImage.height/this._stickerImage.width;n.x+=t.x,n.y=n.x*r,this._size.copy(n),this._applySettings(),this._highlightDoneButton()}},{key:"_onKnobUp",value:function(){document.removeEventListener("mousemove",this._onKnobDrag),document.removeEventListener("touchmove",this._onKnobDrag),document.removeEventListener("mouseup",this._onKnobUp),document.removeEventListener("touchend",this._onKnobUp)}},{key:"_handleImage",value:function(){this._stickerImage.addEventListener("mousedown",this._onImageDown),this._stickerImage.addEventListener("touchstart",this._onImageDown)}},{key:"_onImageDown",value:function(e){e.preventDefault(),this._initialMousePosition=c.default.getEventPosition(e),this._initialPosition=this._position.clone(),document.addEventListener("mousemove",this._onImageDrag),document.addEventListener("touchmove",this._onImageDrag),document.addEventListener("mouseup",this._onImageUp),document.addEventListener("touchend",this._onImageUp)}},{key:"_onImageDrag",value:function(e){e.preventDefault();var t=c.default.getEventPosition(e).clone().subtract(this._initialMousePosition),n=this._initialPosition.clone();n.add(t),this._position.copy(n),this._applySettings(),this._highlightDoneButton()}},{key:"_onImageUp",value:function(){document.removeEventListener("mousemove",this._onImageDrag),document.removeEventListener("touchmove",this._onImageDrag),document.removeEventListener("mouseup",this._onImageUp),document.removeEventListener("touchend",this._onImageUp)}},{key:"_onStickerLoad",value:function(){this._size=new s.default(this._stickerImage.width,this._stickerImage.height),void 0===this._position&&(this._position=new s.default(0,0)),this._applySettings()}},{key:"_onListItemClick",value:function(e){var t=void 0===arguments[1]||arguments[1];this._deactivateAllItems();var n=e.dataset.identifier,r=this._availableStickers[n];r=this._kit.getAssetPath(r);try{this._stickerImage.attributes.removeNamedItem("style")}catch(e){}this._sticker=n,this._stickerImage.src=r,e.classList.add("imglykit-controls-item-active"),t&&this._highlightDoneButton()}},{key:"_deactivateAllItems",value:function(){for(var e=0;e<this._listItems.length;e++)this._listItems[e].classList.remove("imglykit-controls-item-active")}},{key:"context",get:function(){var e=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}}(Object.getPrototypeOf(t.prototype),"context",this);return e.stickers=this._stickers,e}}]),t}(a.default);l.prototype.identifier="stickers",t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(93)),c=o(n(103)),l=o(n(49)),u=o(n(5)),d=function(e){function t(){a(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){this._controlsTemplate=function(e){var t='<div> <ul class="imglykit-controls-list imgly-controls-list-with-buttons"> ',n=e.fonts;if(n)for(var r,i=-1,o=n.length-1;i<o;)t+=' <li data-name="'+(r=n[i+=1]).name+'" data-weight="'+r.weight+'"> <canvas class="imglykit-controls-item-canvas"></canvas> </li> ';return t+' </ul></div><div class="imglykit-controls-button"> '+e.partials.fgColorPicker+'</div><div class="imglykit-controls-button"> '+e.partials.bgColorPicker+"</div>"+e.partials.doneButton},this._canvasControlsTemplate=function(e){return'<div class="imglykit-canvas-text-container"> <div class="imglykit-canvas-text"> <div class="imglykit-crosshair"> <img src="'+e.helpers.assetPath("ui/night/crosshair.png")+'" /> </div> <div class="imglykit-canvas-text-textarea"> <textarea></textarea> <div class="imglykit-knob"></div> </div> </div></div>'},this._partialTemplates.fgColorPicker=c.default.template,this._partialTemplates.fgColorPicker.additionalContext={id:"imglykit-text-foreground-color-picker"},this._partialTemplates.bgColorPicker=c.default.template,this._partialTemplates.bgColorPicker.additionalContext={id:"imglykit-text-background-color-picker"},this._fonts=[],this._addFonts()}},{key:"_renderControls",value:function(){this._partialTemplates.fgColorPicker.additionalContext.label=this._ui.translate("controls.text.foreground"),this._partialTemplates.bgColorPicker.additionalContext.label=this._ui.translate("controls.text.background"),i(Object.getPrototypeOf(t.prototype),"_renderControls",this).call(this)}},{key:"_onEnter",value:function(){var e=this;this._operationExistedBefore=!!this._ui.operations.text,this._operation=this._ui.getOrCreateOperation("text"),this._ui.removeOperation("text");var t=this._ui.canvas.size;this._initialSettings={lineHeight:this._operation.getLineHeight(),fontSize:this._operation.getFontSize(),fontFamily:this._operation.getFontFamily(),fontWeight:this._operation.getFontWeight(),color:this._operation.getColor(),position:this._operation.getPosition(),text:this._operation.getText()||"",maxWidth:this._operation.getMaxWidth(),backgroundColor:this._operation.getBackgroundColor()},this._settings={lineHeight:this._initialSettings.lineHeight,fontSize:this._initialSettings.fontSize,fontFamily:this._initialSettings.fontFamily,fontWeight:this._initialSettings.fontWeight,color:this._initialSettings.color.clone(),position:this._initialSettings.position.clone().multiply(t),text:this._initialSettings.text,maxWidth:this._initialSettings.maxWidth*t.x,backgroundColor:this._initialSettings.backgroundColor.clone()},this._initialZoomLevel=this._ui.canvas.zoomLevel,this._container=this._canvasControls.querySelector(".imglykit-canvas-text"),this._textarea=this._canvasControls.querySelector("textarea"),this._textarea.focus(),this._moveKnob=this._canvasControls.querySelector(".imglykit-crosshair"),this._resizeKnob=this._canvasControls.querySelector(".imglykit-knob"),this._operationExistedBefore&&(this._settings.position.x-=2,this._settings.position.y-=2),this._onTextareaKeyUp=this._onTextareaKeyUp.bind(this),this._onResizeKnobDown=this._onResizeKnobDown.bind(this),this._onResizeKnobDrag=this._onResizeKnobDrag.bind(this),this._onResizeKnobUp=this._onResizeKnobUp.bind(this),this._onMoveKnobDown=this._onMoveKnobDown.bind(this),this._onMoveKnobDrag=this._onMoveKnobDrag.bind(this),this._onMoveKnobUp=this._onMoveKnobUp.bind(this),this._onForegroundColorUpdate=this._onForegroundColorUpdate.bind(this),this._onBackgroundColorUpdate=this._onBackgroundColorUpdate.bind(this),this._initColorPickers(),this._renderListItems(),this._handleListItems(),this._handleTextarea(),this._handleResizeKnob(),this._handleMoveKnob(),setTimeout((function(){e._resizeTextarea()}),1),this._ui.canvas.zoomToFit().then((function(){e._applySettings()}))}},{key:"_initColorPickers",value:function(){var e=this,t=this._controls.querySelector("#imglykit-text-foreground-color-picker");this._foregroundColorPicker=new c.default(this._ui,t),this._foregroundColorPicker.setValue(this._operation.getColor()),this._foregroundColorPicker.on("update",this._onForegroundColorUpdate),this._foregroundColorPicker.on("show",(function(){e._backgroundColorPicker.hide()}));var n=this._controls.querySelector("#imglykit-text-background-color-picker");this._backgroundColorPicker=new c.default(this._ui,n),this._backgroundColorPicker.setValue(this._operation.getBackgroundColor()),this._backgroundColorPicker.on("update",this._onBackgroundColorUpdate),this._backgroundColorPicker.on("show",(function(){e._foregroundColorPicker.hide()}))}},{key:"_renderListItems",value:function(){var e=this._controls.querySelectorAll("li canvas");this._canvasItems=Array.prototype.slice.call(e);for(var t=0;t<this._canvasItems.length;t++){var n=this._canvasItems[t];n.width=n.offsetWidth,n.height=n.offsetHeight;var r=n.parentNode,i=n.getContext("2d"),o=r.dataset.name,a=r.dataset.weight;i.font=a+" 30px "+o,i.textBaseline="middle",i.textAlign="center",i.fillStyle="white",i.fillText(o.substr(0,2),n.width/2,n.height/2)}}},{key:"_handleListItems",value:function(){var e=this,t=this._controls.querySelectorAll("li");this._listItems=Array.prototype.slice.call(t);for(var n=function(t){var n=e._listItems[t],r=n.dataset.name;n.addEventListener("click",(function(){e._onListItemClick(n)})),(!e._operationExistedBefore&&0===t||e._operationExistedBefore&&r===e._initialSettings.fontFamily)&&e._onListItemClick(n,!1)},r=0;r<this._listItems.length;r++)n(r)}},{key:"_handleTextarea",value:function(){this._textarea.addEventListener("keyup",this._onTextareaKeyUp)}},{key:"_onTextareaKeyUp",value:function(){this._resizeTextarea(),this._settings.text=this._textarea.value,this._highlightDoneButton()}},{key:"_resizeTextarea",value:function(){if(!this._textarea.scrollTop){var e=void 0,t=void 0;do{e=this._textarea.scrollHeight,t=this._textarea.offsetHeight,this._textarea.style.height=t-5+"px"}while(e&&e!==this._textarea.scrollHeight)}var n=this._textarea.scrollHeight;this._textarea.style.height=n+20+"px"}},{key:"_handleMoveKnob",value:function(){this._moveKnob.addEventListener("mousedown",this._onMoveKnobDown),this._moveKnob.addEventListener("touchstart",this._onMoveKnobDown)}},{key:"_onMoveKnobDown",value:function(e){e.preventDefault(),this._initialMousePosition=u.default.getEventPosition(e),this._initialPosition=this._settings.position.clone(),document.addEventListener("mousemove",this._onMoveKnobDrag),document.addEventListener("touchmove",this._onMoveKnobDrag),document.addEventListener("mouseup",this._onMoveKnobUp),document.addEventListener("tochend",this._onMoveKnobUp)}},{key:"_onMoveKnobDrag",value:function(e){e.preventDefault();var t=this._ui.canvas.size,n=u.default.getEventPosition(e).clone().subtract(this._initialMousePosition),r=new l.default(0,0),i=new l.default(this._container.offsetWidth,this._container.offsetHeight),o=t.clone().subtract(i),a=this._initialPosition.clone().add(n).clamp(r,o);this._settings.position=a,this._container.style.left=a.x+"px",this._container.style.top=a.y+"px"}},{key:"_onMoveKnobUp",value:function(){document.removeEventListener("mousemove",this._onMoveKnobDrag),document.removeEventListener("touchmove",this._onMoveKnobDrag),document.removeEventListener("mouseup",this._onMoveKnobUp),document.removeEventListener("touchend",this._onMoveKnobUp)}},{key:"_handleResizeKnob",value:function(){this._resizeKnob.addEventListener("mousedown",this._onResizeKnobDown),this._resizeKnob.addEventListener("touchstart",this._onResizeKnobDown)}},{key:"_onResizeKnobDown",value:function(e){e.preventDefault(),this._initialMousePosition=u.default.getEventPosition(e),this._initialMaxWidth=this._settings.maxWidth,document.addEventListener("mousemove",this._onResizeKnobDrag),document.addEventListener("touchmove",this._onResizeKnobDrag),document.addEventListener("mouseup",this._onResizeKnobUp),document.addEventListener("touchend",this._onResizeKnobUp)}},{key:"_onResizeKnobDrag",value:function(e){e.preventDefault();var t=this._ui.canvas.size,n=u.default.getEventPosition(e).subtract(this._initialMousePosition),r=this._settings.position.clone(),i=t.x-r.x,o=this._initialMaxWidth+n.x;o=Math.max(100,Math.min(i,o)),this._settings.maxWidth=o,this._textarea.style.width=o+"px",this._resizeTextarea()}},{key:"_onResizeKnobUp",value:function(){document.removeEventListener("mousemove",this._onResizeKnobDrag),document.removeEventListener("touchmove",this._onResizeKnobDrag),document.removeEventListener("mouseup",this._onResizeKnobUp),document.removeEventListener("touchend",this._onResizeKnobUp)}},{key:"_onForegroundColorUpdate",value:function(e){this._settings.color=e,this._applySettings(),this._highlightDoneButton()}},{key:"_onBackgroundColorUpdate",value:function(e){this._settings.backgroundColor=e,this._applySettings(),this._highlightDoneButton()}},{key:"_applySettings",value:function(){var e=this._textarea,t=this._settings,n=this._ui.canvas.size,r=t.fontSize*n.y;this._container.style.left=t.position.x+"px",this._container.style.top=t.position.y+"px",e.value=t.text,e.style.fontFamily=t.fontFamily,e.style.fontSize=r+"px",e.style.fontWeight=t.fontWeight,e.style.lineHeight=t.lineHeight,e.style.color=t.color.toRGBA(),e.style.backgroundColor=t.backgroundColor.toRGBA(),e.style.width=t.maxWidth+"px"}},{key:"_onListItemClick",value:function(e){var t=void 0===arguments[1]||arguments[1];this._deactivateAllItems();var n=e.dataset,r=n.name,i=n.weight;this._settings.fontFamily=r,this._settings.fontWeight=i,this._applySettings(),e.classList.add("imglykit-controls-item-active"),t&&this._highlightDoneButton()}},{key:"_deactivateAllItems",value:function(){for(var e=0;e<this._listItems.length;e++)this._listItems[e].classList.remove("imglykit-controls-item-active")}},{key:"_addFonts",value:function(){this.addFont("Helvetica","normal"),this.addFont("Lucida Grande","normal"),this.addFont("Times New Roman","normal")}},{key:"addFont",value:function(e,t){this._fonts.push({name:e,weight:t})}},{key:"_onDone",value:function(){var e=this._ui.canvas.size,t=new l.default(2,2),n=this._settings.position.clone().add(t).divide(e);this._ui.canvas.setZoomLevel(this._initialZoomLevel,!1),this._operation=this._ui.getOrCreateOperation("text"),this._operation.set({fontSize:this._settings.fontSize,fontFamily:this._settings.fontFamily,fontWeight:this._settings.fontWeight,color:this._settings.color,backgroundColor:this._settings.backgroundColor,position:n,text:this._settings.text,maxWidth:this._settings.maxWidth/e.x}),this._ui.canvas.render(),this._ui.addHistory(this,{fontFamily:this._initialSettings.fontFamily,fontWeight:this._initialSettings.fontWeight,color:this._initialSettings.color.clone(),backgroundColor:this._initialSettings.backgroundColor.clone(),position:this._initialSettings.position.clone(),text:this._initialSettings.text,maxWidth:this._initialSettings.maxWidth},this._operationExistedBefore)}},{key:"_onBack",value:function(){this._operationExistedBefore?(this._operation=this._ui.getOrCreateOperation("text"),this._operation.set(this._initialSettings)):this._ui.removeOperation("text"),this._ui.canvas.setZoomLevel(this._initialZoomLevel)}},{key:"context",get:function(){var e=i(Object.getPrototypeOf(t.prototype),"context",this);return e.fonts=this._fonts,e}}]),t}(s.default);d.prototype.identifier="text",t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(100)),a=i(n(72)),s=i(n(5)),c=i(n(80)),l=i(n(58)),u=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._kit=e,this._ui=n,this._operation=r,this._helpers=new o.default(this._kit,this._ui,this._ui.options),this._partialTemplates={doneButton:function(e){return'<div class="imglykit-controls-button imglykit-controls-done"> <img src="'+e.helpers.assetPath("ui/night/buttons/done.png")+'" /> <div class="imglykit-controls-done-highlighted"> <img src="'+e.helpers.assetPath("ui/night/buttons/done-highlighted.png")+'" /> </div></div>'}},this._template=function(e){return'<div class="imglykit-controls-'+e.identifier+'"> <div class="imglykit-controls-button imglykit-controls-back"> <img src="'+e.helpers.assetPath("ui/night/buttons/back.png")+'" /> </div> '+e.partials.control+"</div>"},this._active=!1,this.init()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"setContainers",value:function(e,t){this._controlsContainer=e,this._canvasControlsContainer=t}},{key:"init",value:function(){}},{key:"_renderAllControls",value:function(){this._renderControls(),this._renderCanvasControls(),this._initScrollbar()}},{key:"_renderControls",value:function(){if(void 0===this._controlsTemplate)throw new Error("Control#_renderOverviewControls: Control needs to define this._controlsTemplate.");var e=this._template(this._context);void 0!==this._controls&&null!==this._controls.parentNode&&this._controls.parentNode.removeChild(this._controls),this._controls=document.createElement("div"),this._controls.innerHTML=e,this._controlsContainer.appendChild(this._controls)}},{key:"_renderCanvasControls",value:function(){if(void 0!==this._canvasControlsTemplate){var e=this._canvasControlsTemplate(this._context);this._canvasControls=document.createElement("div"),this._canvasControls.innerHTML=e,this._canvasControlsContainer.appendChild(this._canvasControls)}}},{key:"_initScrollbar",value:function(){var e=this._controls.querySelector(".imglykit-controls-list");e&&(this._scrollbar=new c.default(e.parentNode))}},{key:"_removeControls",value:function(){this._controls.parentNode.removeChild(this._controls),this._canvasControls&&this._canvasControls.parentNode.removeChild(this._canvasControls),this._scrollbar&&this._scrollbar.remove()}},{key:"_handleBackAndDoneButtons",value:function(){this._backButton=this._controls.querySelector(".imglykit-controls-back"),this._backButton&&this._backButton.addEventListener("click",this._onBackButtonClick.bind(this)),this._doneButton=this._controls.querySelector(".imglykit-controls-done"),this._doneButton&&this._doneButton.addEventListener("click",this._onDoneButtonClick.bind(this))}},{key:"_onBackButtonClick",value:function(){this._onBack(),this.emit("back")}},{key:"_onDoneButtonClick",value:function(){this._onDone(),this.emit("back")}},{key:"_highlightDoneButton",value:function(){this._doneButton.classList.add("highlighted")}},{key:"enter",value:function(){this._active=!0,this._ui.hideZoom(),this._renderAllControls(),this._handleBackAndDoneButtons(),this._enableCanvasControls(),this._onEnter()}},{key:"leave",value:function(){this._active=!1,this._ui.showZoom(),this._removeControls(),this._disableCanvasControls(),this._onLeave()}},{key:"_enableCanvasControls",value:function(){this._canvasControlsContainer.classList.remove("imglykit-canvas-controls-disabled")}},{key:"_disableCanvasControls",value:function(){this._canvasControlsContainer.classList.add("imglykit-canvas-controls-disabled")}},{key:"_onEnter",value:function(){}},{key:"_onLeave",value:function(){}},{key:"_onBack",value:function(){}},{key:"_onDone",value:function(){}},{key:"onZoom",value:function(){}},{key:"_context",get:function(){var e=this.context;for(var t in(e=s.default.extend(e,{helpers:this._helpers,identifier:this.identifier})).partials={},this._partialTemplates){var n=this._partialTemplates[t],r=s.default.extend({},e,n.additionalContext||{});e.partials[t]=n(r)}return e.partials.control=this._controlsTemplate(e),e}},{key:"context",get:function(){return{}}}]),t}(a.default);u.prototype.identifier=null,u.extend=l.default,t.default=u,e.exports=t.default},function(e,t,n){e.exports={operations:{brightness:"Brightness",contrast:"Contrast",filters:"Filters",flip:"Flip",frames:"Frames","radial-blur":"Radial Blur",rotation:"Rotation",saturation:"Saturation",stickers:"Stickers",text:"Text","tilt-shift":"Tilt-Shift",crop:"Crop"},"top-controls":{new:"New",undo:"Undo",export:"Export",zoom:"Zoom"},splash:{upload:{headline:"Upload a picture",description:"Click here to upload a picture from your library or just drag and drop"},or:"or",webcam:{headline:"Take a picture",description:"Click here to take a picture with your webcam or phone"}},generic:{loading:"Loading",exporting:"Exporting",color:"Color"},controls:{frames:{color:"Color"},text:{foreground:"Foreground",background:"Background"}}}},function(e,t,n){e.exports={operations:{brightness:"Helligkeit",contrast:"Kontrast",filters:"Filter",flip:"Spiegeln",frames:"Rahmen","radial-blur":"Radial Blur",rotation:"Drehung",saturation:"Sättigung",stickers:"Sticker",text:"Text","tilt-shift":"Tilt-Shift",crop:"Zuschneiden"},"top-controls":{new:"Neu",undo:"Rückgängig",export:"Exportieren",zoom:"Zoom"},splash:{upload:{headline:"Bild hochladen",description:"Klicke hier, um ein Bild hochzuladen oder ziehe eine Bilddatei hier her"},or:"oder",webcam:{headline:"Foto machen",description:"Klicke hier, um ein Foto mit deiner Webcam oder deinem Smartphone zu machen"}},generic:{loading:"Laden",exporting:"Exportiere"},controls:{frames:{color:"Farbe"},text:{foreground:"Text",background:"Hintergrund"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(49)),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._canvas=n||this.createCanvas(),n||this.setSize(e),this._context=this._getContext(),this._cache={}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"cache",value:function(e){}},{key:"drawCached",value:function(e){}},{key:"createCanvas",value:function(e,t){var r;return r="undefined"!=typeof window?document.createElement("canvas"):new(n(52)),void 0!==e&&(r.width=e),void 0!==t&&(r.height=t),r}},{key:"getSize",value:function(){return new o.default(this._canvas.width,this._canvas.height)}},{key:"setSize",value:function(e){this._canvas.width=e.x,this._canvas.height=e.y}},{key:"_getContext",value:function(){throw new Error("Renderer#_getContext is abstract and not implemented in inherited class.")}},{key:"resizeTo",value:function(e){throw new Error("Renderer#resizeTo is abstract and not implemented in inherited class.")}},{key:"drawImage",value:function(e){throw new Error("Renderer#drawImage is abstract and not implemented in inherited class.")}},{key:"renderFinal",value:function(){}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getContext",value:function(){return this._context}},{key:"setCanvas",value:function(e){this._canvas=e,this._context=this._getContext(),this.emit("new-canvas",this._canvas)}},{key:"setContext",value:function(e){this._context=e}},{key:"reset",value:function(){}},{key:"identifier",get:function(){return null}}],[{key:"isSupported",value:function(){throw new Error("Renderer#isSupported is abstract and not implemented in inherited class.")}}]),t}(i(n(72)).default);t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.default={encode:function(e){var t="",n=void 0,i=void 0,o="",a=void 0,s=void 0,c=void 0,l="",u=0;do{a=(n=e[u++])>>2,s=(3&n)<<4|(i=e[u++])>>4,c=(15&i)<<2|(o=e[u++])>>6,l=63&o,isNaN(i)?c=l=64:isNaN(o)&&(l=64),t=t+r.charAt(a)+r.charAt(s)+r.charAt(c)+r.charAt(l),n=i=o="",a=s=c=l=""}while(u<e.length);return t},decode:function(e){var t=void 0,n=void 0,i="",o=void 0,a=void 0,s="",c=0,l=[];if(/[^A-Za-z0-9\+\/\=]/g.exec(e))throw new Error("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=r.indexOf(e.charAt(c++))<<2|(o=r.indexOf(e.charAt(c++)))>>4,n=(15&o)<<4|(a=r.indexOf(e.charAt(c++)))>>2,i=(3&a)<<6|(s=r.indexOf(e.charAt(c++))),l.push(t),64!==a&&l.push(n),64!==s&&l.push(i),t=n=i="",o=a=s=""}while(c<e.length);return l}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this._glslPrograms={},this._options=t}return r(e,[{key:"render",value:function(e){"webgl"===e.identifier?this.renderWebGL(e):this.renderCanvas(e)}},{key:"renderWebGL",value:function(e){throw new Error("Primitive#renderWebGL is abstract and not implemented in inherited class.")}},{key:"renderCanvas",value:function(e){throw new Error("Primitive#renderCanvas is abstract and not implemented in inherited class.")}},{key:"options",get:function(){return this._options}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){var r;(function(i,o){"use strict";var a,s,c;c=function(){var e,t,n,r=Object.prototype.toString,i=void 0!==o?function(e){return o(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(t){e=function(e,t,n){return e[t]=n,e}}function a(e,r){n.add(e,r),t||(t=i(n.drain))}function s(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function c(){for(var e=0;e<this.chain.length;e++)l(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function l(e,t,n){var r,i;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=s(r))?i.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}function u(e){var t,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(t=s(e))?a((function(){var r=new p(n);try{t.call(e,(function(){u.apply(r,arguments)}),(function(){d.apply(r,arguments)}))}catch(e){d.call(r,e)}})):(n.msg=e,n.state=1,n.chain.length>0&&a(c,n))}catch(e){d.call(new p(n),e)}}}function d(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&a(c,t))}function f(e,t,n,r){for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then((function(e){n(i,e)}),r)}(i)}function p(e){this.def=e,this.triggered=!1}function h(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function m(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new h(this);this.then=function(e,n){var r={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return r.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");r.resolve=e,r.reject=t})),t.chain.push(r),0!==t.state&&a(c,t),r.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){u.call(t,e)}),(function(e){d.call(t,e)}))}catch(e){d.call(t,e)}}n=function(){var e,n,r;function i(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,o){r=new i(t,o),n?n.next=r:e=r,n=r,r=void 0},drain:function(){var r=e;for(e=n=t=void 0;r;)r.fn.call(r.self),r=r.next}}}();var v=e({},"constructor",m,!1);return m.prototype=v,e(v,"__NPO__",0,!1),e(m,"resolve",(function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)}))})),e(m,"reject",(function(e){return new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)}))})),e(m,"all",(function(e){var t=this;return"[object Array]"!=r.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var i=e.length,o=Array(i),a=0;f(t,e,(function(e,t){o[e]=t,++a===i&&n(o)}),r)}))})),e(m,"race",(function(e){var t=this;return"[object Array]"!=r.call(e)?t.reject(TypeError("Not an array")):new t((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");f(t,e,(function(e,t){n(t)}),r)}))})),m},(s=void 0!==i?i:void 0)[a="Promise"]=s[a]||c(),void 0!==e&&e.exports?e.exports=s[a]:void 0===(r=function(){return s[a]}.call(t,n,t,e))||(e.exports=r)}).call(t,function(){return this}(),n(104).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._kit=t,this._ui=n,this._options=r}return r(e,[{key:"assetPath",value:function(e){var t=this._options.assetsUrl+"/"+e,n=this._ui.options.ui.assetPathResolver;return void 0!==n&&(t=n(t)),t}},{key:"translate",value:function(e){return this._ui.translate(e)}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(72)),a=i(n(5)),s=i(n(49)),c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._element=e,this._options=a.default.defaults(n,{minValue:0,maxValue:1,defaultValue:0}),this._value=this._options.defaultValue,this._sliderElement=this._element.querySelector(".imglykit-slider-slider"),this._dotElement=this._element.querySelector(".imglykit-slider-dot"),this._centerDotElement=this._element.querySelector(".imglykit-slider-center-dot"),this._fillElement=this._element.querySelector(".imglykit-slider-fill"),this._backgroundElement=this._element.querySelector(".imglykit-slider-background"),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onCenterDotClick=this._onCenterDotClick.bind(this),this._onBackgroundClick=this._onBackgroundClick.bind(this),this._backgroundElement.addEventListener("click",this._onBackgroundClick),this._fillElement.addEventListener("click",this._onBackgroundClick),this._handleDot()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"setValue",value:function(e){this._value=e;var t=this._options,n=t.maxValue,r=t.minValue,i=(e-r)/(n-r),o=this._sliderElement.offsetWidth;this._setX(o*i)}},{key:"_setX",value:function(e){this._xPosition=e,this._dotElement.style.left=e+"px";var t=this._sliderElement.offsetWidth/2,n=e-t;this._fillElement.style.width=Math.abs(n)+"px",this._fillElement.style.left=n<0?t-Math.abs(n)+"px":t+"px"}},{key:"_handleDot",value:function(){this._dotElement.addEventListener("mousedown",this._onMouseDown),this._dotElement.addEventListener("touchstart",this._onMouseDown),this._centerDotElement&&this._centerDotElement.addEventListener("click",this._onCenterDotClick)}},{key:"_onCenterDotClick",value:function(){this.setValue(this._options.defaultValue),this.emit("update",this._value)}},{key:"_onBackgroundClick",value:function(e){var t=a.default.getEventPosition(e),n=this._sliderElement.getBoundingClientRect();n=new s.default(n.left,n.y);var r=t.clone().subtract(n);this._setX(r.x),this._updateValue()}},{key:"_onMouseDown",value:function(e){if("mousedown"!==e.type||0===e.button){e.preventDefault();var t=a.default.getEventPosition(e);document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("touchmove",this._onMouseMove),document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("touchend",this._onMouseUp);var n=this._dotElement.getBoundingClientRect(),r=this._sliderElement.getBoundingClientRect();this._initialSliderX=n.left-r.left,this._initialMousePosition=t}}},{key:"_onMouseMove",value:function(e){e.preventDefault();var t=a.default.getEventPosition(e).subtract(this._initialMousePosition),n=.5*this._dotElement.offsetWidth,r=this._initialSliderX+t.x+n,i=this._sliderElement.offsetWidth;r=Math.max(0,Math.min(r,i)),this._setX(r),this._updateValue()}},{key:"_updateValue",value:function(){var e=this._sliderElement.offsetWidth,t=this._options,n=t.minValue,r=n+(t.maxValue-n)*(this._xPosition/e);this.emit("update",r)}},{key:"_onMouseUp",value:function(){document.removeEventListener("mousemove",this._onMouseMove),document.removeEventListener("touchmove",this._onMouseMove),document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("touchend",this._onMouseUp)}}],[{key:"template",get:function(){return function(e){return'<div class="imglykit-slider" id="'+(void 0===e.id?"":e.id)+'"> <div class="imglykit-slider-minus"> <img src="'+e.helpers.assetPath("ui/night/slider/minus.png")+'" /> </div> <div class="imglykit-slider-slider"> <div class="imglykit-slider-content"> <div class="imglykit-slider-background"></div> <div class="imglykit-slider-fill"></div> <div class="imglykit-slider-center-dot"></div> <div class="imglykit-slider-dot"></div> </div> </div> <div class="imglykit-slider-plus"> <img src="'+e.helpers.assetPath("ui/night/slider/plus.png")+'" /> </div></div>'}}}]),t}(o.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_setX",value:function(e){this._xPosition=e,this._dotElement.style.left=e+"px",this._fillElement.style.width=e+"px"}}],[{key:"template",get:function(){return function(e){return'<div class="imglykit-slider" id="'+(void 0===e.id?"":e.id)+'"> <div class="imglykit-slider-minus"> <img src="'+e.helpers.assetPath("ui/night/slider/minus.png")+'" /> </div> <div class="imglykit-slider-slider"> <div class="imglykit-slider-content"> <div class="imglykit-slider-background"></div> <div class="imglykit-slider-fill"></div> <div class="imglykit-slider-dot"></div> </div> </div> <div class="imglykit-slider-plus"> <img src="'+e.helpers.assetPath("ui/night/slider/plus.png")+'" /> </div></div>'}}}]),t}(((o=n(101))&&o.__esModule?o:{default:o}).default);t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(72)),a=i(n(5)),s=i(n(6)),c=i(n(49)),l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;c=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._ui=e,this._element=n,this._visible=!1,this._loaded=!1,this._overlay=this._element.querySelector(".imglykit-color-picker-overlay"),this._currentColorCanvas=this._element.querySelector(".imglykit-color-picker-color"),this._alphaCanvas=this._element.querySelector("canvas.imglykit-color-picker-alpha"),this._alphaKnob=this._element.querySelector(".imglykit-color-picker-alpha-container .imglykit-transparent-knob"),this._hueCanvas=this._element.querySelector("canvas.imglykit-color-picker-hue"),this._hueKnob=this._element.querySelector(".imglykit-color-picker-hue-container .imglykit-transparent-knob"),this._saturationCanvas=this._element.querySelector("canvas.imglykit-color-picker-saturation"),this._saturationKnob=this._element.querySelector(".imglykit-color-picker-saturation-container .imglykit-transparent-knob"),this._transparencyImage=new Image,this._transparencyImage.src=e.helpers.assetPath("ui/night/transparency.png"),this._transparencyImage.addEventListener("load",this._onTransparencyImageLoad.bind(this)),this._onAlphaCanvasDown=this._onAlphaCanvasDown.bind(this),this._onAlphaCanvasDrag=this._onAlphaCanvasDrag.bind(this),this._onAlphaCanvasUp=this._onAlphaCanvasUp.bind(this),this._onHueCanvasDown=this._onHueCanvasDown.bind(this),this._onHueCanvasDrag=this._onHueCanvasDrag.bind(this),this._onHueCanvasUp=this._onHueCanvasUp.bind(this),this._onSaturationCanvasDown=this._onSaturationCanvasDown.bind(this),this._onSaturationCanvasDrag=this._onSaturationCanvasDrag.bind(this),this._onSaturationCanvasUp=this._onSaturationCanvasUp.bind(this),this._onElementClick=this._onElementClick.bind(this),this._handleToggle(),this._handleAlphaKnob(),this._handleHueKnob(),this._handleSaturationKnob()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),r(t,[{key:"_onTransparencyImageLoad",value:function(){this._loaded=!0,this._render()}},{key:"_handleToggle",value:function(){this._element.addEventListener("click",this._onElementClick)}},{key:"_onElementClick",value:function(e){e.target!==this._element&&e.target!==this._currentColorCanvas||(this._visible?(this.hide(),this.emit("hide")):(this.show(),this.emit("show")))}},{key:"hide",value:function(){this._overlay.classList.remove("imglykit-visible"),this._visible=!1}},{key:"show",value:function(){this._overlay.classList.add("imglykit-visible"),this._visible=!0}},{key:"setValue",value:function(e){this._value=e.clone();var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),3!==n.length);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}(this._value.toHSV()),n=t[0],r=t[1],i=t[2];this._hsvColor={h:n,s:r,v:i},this._positionKnobs(),this._render()}},{key:"_positionKnobs",value:function(){this._positionAlphaKnob(),this._positionHueKnob(),this._positionSaturationKnob()}},{key:"_positionAlphaKnob",value:function(){var e=this._alphaCanvas,t=new c.default(e.width,e.height),n=this._value.a*t.x;this._alphaKnob.style.left=n+"px"}},{key:"_positionHueKnob",value:function(){var e=this._hueCanvas,t=new c.default(e.width,e.height),n=this._hsvColor.h*t.y;this._hueKnob.style.top=n+"px"}},{key:"_positionSaturationKnob",value:function(){var e=this._saturationCanvas,t=new c.default(e.width,e.height),n=this._hsvColor.s*t.x;this._saturationKnob.style.left=n+"px";var r=(1-this._hsvColor.v)*t.y;this._saturationKnob.style.top=r+"px"}},{key:"_render",value:function(){this._loaded&&(this._renderCurrentColor(),this._renderAlpha(),this._renderHue(),this._renderSaturation())}},{key:"_renderCurrentColor",value:function(){var e=this._currentColorCanvas,t=e.getContext("2d"),n=t.createPattern(this._transparencyImage,"repeat");t.rect(0,0,e.width,e.height),t.fillStyle=n,t.fill(),t.fillStyle=this._value.toRGBA(),t.fill()}},{key:"_renderAlpha",value:function(){var e=this._alphaCanvas,t=e.getContext("2d"),n=t.createPattern(this._transparencyImage,"repeat");t.rect(0,0,e.width,e.height),t.fillStyle=n,t.fill();var r=t.createLinearGradient(0,0,e.width,e.height),i=this._value.clone();i.a=0,r.addColorStop(0,i.toRGBA()),r.addColorStop(1,this._value.toHex()),t.fillStyle=r,t.fill()}},{key:"_renderHue",value:function(){for(var e=this._hueCanvas,t=e.getContext("2d"),n=new s.default,r=0;r<e.height;r++){var i=r/e.height;n.fromHSV(i,1,1),t.strokeStyle=n.toRGBA(),t.beginPath(),t.moveTo(0,r),t.lineTo(e.width,r),t.stroke()}}},{key:"_renderSaturation",value:function(){for(var e=this._saturationCanvas,t=e.getContext("2d"),n=t.getImageData(0,0,e.width,e.height),r=new s.default(1,0,0,1),i=0;i<e.height;i++)for(var o=(e.height-i)/e.height,a=0;a<e.width;a++){var c=a/e.width;r.fromHSV(this._hsvColor.h,c,o);var l=r.r,u=r.g,d=r.b,f=r.a,p=4*(i*e.width+a);n.data[p]=255*l,n.data[p+1]=255*u,n.data[p+2]=255*d,n.data[p+3]=255*f}t.putImageData(n,0,0)}},{key:"_handleAlphaKnob",value:function(){this._alphaCanvas.addEventListener("mousedown",this._onAlphaCanvasDown),this._alphaCanvas.addEventListener("touchstart",this._onAlphaCanvasDown)}},{key:"_onAlphaCanvasDown",value:function(e){e.preventDefault(),this._onAlphaCanvasDrag(e),document.addEventListener("mousemove",this._onAlphaCanvasDrag),document.addEventListener("touchmove",this._onAlphaCanvasDrag),document.addEventListener("mouseup",this._onAlphaCanvasUp),document.addEventListener("touchend",this._onAlphaCanvasUp)}},{key:"_onAlphaCanvasDrag",value:function(e){e.preventDefault();var t=this._alphaCanvas,n=new c.default(t.width,t.height),r=a.default.getEventPosition(e),i=t.getBoundingClientRect(),o=i.left,s=i.top,l=new c.default(o,s),u=r.subtract(l);u.clamp(new c.default(0,0),n),this._alphaKnob.style.left=u.x+"px",this._value.a=u.x/n.x,this._updateColor()}},{key:"_onAlphaCanvasUp",value:function(){document.removeEventListener("mousemove",this._onAlphaCanvasDrag),document.removeEventListener("touchmove",this._onAlphaCanvasDrag),document.removeEventListener("mouseup",this._onAlphaCanvasUp),document.removeEventListener("touchend",this._onAlphaCanvasUp)}},{key:"_handleHueKnob",value:function(){this._hueCanvas.addEventListener("mousedown",this._onHueCanvasDown),this._hueCanvas.addEventListener("touchstart",this._onHueCanvasDown)}},{key:"_onHueCanvasDown",value:function(e){e.preventDefault(),this._onHueCanvasDrag(e),document.addEventListener("mousemove",this._onHueCanvasDrag),document.addEventListener("touchmove",this._onHueCanvasDrag),document.addEventListener("mouseup",this._onHueCanvasUp),document.addEventListener("touchend",this._onHueCanvasUp)}},{key:"_onHueCanvasDrag",value:function(e){e.preventDefault();var t=this._hueCanvas,n=new c.default(t.width,t.height),r=a.default.getEventPosition(e),i=t.getBoundingClientRect(),o=i.left,s=i.top,l=new c.default(o,s),u=r.subtract(l);u.clamp(new c.default(0,0),n),this._hueKnob.style.top=u.y+"px",u.divide(n),this._hsvColor.h=u.y,this._updateColor()}},{key:"_onHueCanvasUp",value:function(){document.removeEventListener("mousemove",this._onHueCanvasDrag),document.removeEventListener("touchmove",this._onHueCanvasDrag),document.removeEventListener("mouseup",this._onHueCanvasUp),document.removeEventListener("touchend",this._onHueCanvasUp)}},{key:"_handleSaturationKnob",value:function(){this._saturationCanvas.addEventListener("mousedown",this._onSaturationCanvasDown),this._saturationCanvas.addEventListener("touchstart",this._onSaturationCanvasDown)}},{key:"_onSaturationCanvasDown",value:function(e){e.preventDefault(),this._onSaturationCanvasDrag(e),document.addEventListener("mousemove",this._onSaturationCanvasDrag),document.addEventListener("touchmove",this._onSaturationCanvasDrag),document.addEventListener("mouseup",this._onSaturationCanvasUp),document.addEventListener("touchend",this._onSaturationCanvasUp)}},{key:"_onSaturationCanvasDrag",value:function(e){e.preventDefault();var t=this._saturationCanvas,n=new c.default(t.width,t.height),r=a.default.getEventPosition(e),i=t.getBoundingClientRect(),o=i.left,s=i.top,l=new c.default(o,s),u=r.subtract(l);u.clamp(0,t.width),this._saturationKnob.style.left=u.x+"px",this._saturationKnob.style.top=u.y+"px",u.divide(n),this._hsvColor.s=u.x,this._hsvColor.v=1-u.y,this._updateColor()}},{key:"_onSaturationCanvasUp",value:function(){document.removeEventListener("mousemove",this._onSaturationCanvasDrag),document.removeEventListener("touchmove",this._onSaturationCanvasDrag),document.removeEventListener("mouseup",this._onSaturationCanvasUp),document.removeEventListener("touchend",this._onSaturationCanvasUp)}},{key:"_updateColor",value:function(){this._value.fromHSV(this._hsvColor.h,this._hsvColor.s,this._hsvColor.v),this.emit("update",this._value),this._render()}}],[{key:"template",get:function(){return function(e){return'<div class="imglykit-color-picker" id="'+(void 0===e.id?"":e.id)+'"> <canvas class="imglykit-color-picker-color" width="34" height="34"></canvas> <div class="imglykit-controls-item-label">'+(void 0===e.label?"":e.label)+'</div> <div class="imglykit-color-picker-overlay"> <div class="imglykit-color-picker-alpha-container"> <canvas class="imglykit-color-picker-alpha" width="200" height="30"></canvas> <div class="imglykit-transparent-knob"></div> </div> <div class="imglykit-color-picker-saturation-container"> <canvas class="imglykit-color-picker-saturation" width="160" height="160"></canvas> <div class="imglykit-transparent-knob"></div> </div> <div class="imglykit-color-picker-hue-container"> <canvas class="imglykit-color-picker-hue" width="30" height="160"></canvas> <div class="imglykit-transparent-knob"></div> </div> </div></div>'}}}]),t}(o.default);t.default=l,e.exports=t.default},function(e,t,n){(function(e,r){var i=n(105).nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;function l(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},t.setImmediate="function"==typeof e?e:function(e){var n=c++,r=!(arguments.length<2)&&a.call(arguments,1);return s[n]=!0,i((function(){s[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))})),n},t.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(t,n(104).setImmediate,n(104).clearImmediate)},function(e,t,n){var r,i=e.exports={},o=[],a=!1,s=-1;function c(){a=!1,r.length?o=r.concat(o):s=-1,o.length&&l()}function l(){if(!a){var e=setTimeout(c);a=!0;for(var t=o.length;t;){for(r=o,o=[];++s<t;)r[s].run();s=-1,t=o.length}r=null,a=!1,clearTimeout(e)}}function u(e,t){this.fun=e,this.array=t}function d(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new u(e,t)),1!==o.length||a||setTimeout(l,0)},u.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}])},e.exports=r(n(30787))},1348:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var o=[],a=r.document,s=Object.getPrototypeOf,c=o.slice,l=o.concat,u=o.push,d=o.indexOf,f={},p=f.toString,h=f.hasOwnProperty,m=h.toString,v=m.call(Object),g={},_=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},y={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,o=(n=n||a).createElement("script");if(o.text=e,t)for(r in y)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function k(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[p.call(e)]||"object":typeof e}var E="3.4.1",C=function(e,t){return new C.fn.init(e,t)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function x(e){var t=!!e&&"length"in e&&e.length,n=k(e);return!_(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}C.fn=C.prototype={jquery:E,constructor:C,length:0,toArray:function(){return c.call(this)},get:function(e){return null==e?c.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(e){return this.pushStack(C.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||_(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(C.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||C.isPlainObject(n)?n:{},i=!1,a[t]=C.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},C.extend({expando:"jQuery"+(E+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e)||(t=s(e))&&("function"!=typeof(n=h.call(t,"constructor")&&t.constructor)||m.call(n)!==v))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){w(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(x(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(S,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?C.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:d.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(x(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return l.apply([],a)},guid:1,support:g}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){f["[object "+t+"]"]=t.toLowerCase()}));var O=function(e){var t,n,r,i,o,a,s,c,l,u,d,f,p,h,m,v,g,_,b,y="sizzle"+1*new Date,w=e.document,k=0,E=0,C=ce(),S=ce(),x=ce(),O=ce(),T=function(e,t){return e===t&&(d=!0),0},j={}.hasOwnProperty,D=[],N=D.pop,P=D.push,A=D.push,I=D.slice,M=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\[[\\x20\\t\\r\\n\\f]*("+F+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+R+"*\\]",z=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",W=new RegExp(R+"+","g"),U=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),Z=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),q=new RegExp(R+"|>"),V=new RegExp(z),K=new RegExp("^"+F+"$"),$={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){f()},ae=ye((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{A.apply(D=I.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(e){A={apply:D.length?function(e,t){P.apply(e,I.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var o,s,l,u,d,h,g,_=t&&t.ownerDocument,k=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==k&&9!==k&&11!==k)return r;if(!i&&((t?t.ownerDocument||t:w)!==p&&f(t),t=t||p,m)){if(11!==k&&(d=J.exec(e)))if(o=d[1]){if(9===k){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(_&&(l=_.getElementById(o))&&b(t,l)&&l.id===o)return r.push(l),r}else{if(d[2])return A.apply(r,t.getElementsByTagName(e)),r;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return A.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!O[e+" "]&&(!v||!v.test(e))&&(1!==k||"object"!==t.nodeName.toLowerCase())){if(g=e,_=t,1===k&&q.test(e)){for((u=t.getAttribute("id"))?u=u.replace(re,ie):t.setAttribute("id",u=y),s=(h=a(e)).length;s--;)h[s]="#"+u+" "+be(h[s]);g=h.join(","),_=ee.test(e)&&ge(t.parentNode)||t}try{return A.apply(r,_.querySelectorAll(g)),r}catch(t){O(e,!0)}finally{u===y&&t.removeAttribute("id")}}}return c(e.replace(U,"$1"),t,r,i)}function ce(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function le(e){return e[y]=!0,e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ve(e){return le((function(t){return t=+t,le((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!G.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==p&&9===a.nodeType&&a.documentElement?(h=(p=a).documentElement,m=!o(p),w!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=X.test(p.getElementsByClassName),n.getById=ue((function(e){return h.appendChild(e).id=y,!p.getElementsByName||!p.getElementsByName(y).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},g=[],v=[],(n.qsa=X.test(p.querySelectorAll))&&(ue((function(e){h.appendChild(e).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+L+")"),e.querySelectorAll("[id~="+y+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+y+"+*").length||v.push(".#.+[+~]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=X.test(_=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=_.call(e,"*"),_.call(e,"[s!='']:x"),g.push("!=",z)})),v=v.length&&new RegExp(v.join("|")),g=g.length&&new RegExp(g.join("|")),t=X.test(h.compareDocumentPosition),b=t||X.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===w&&b(w,e)?-1:t===p||t.ownerDocument===w&&b(w,t)?1:u?M(u,e)-M(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:u?M(u,e)-M(u,t):0;if(i===o)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?fe(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&f(e),n.matchesSelector&&m&&!O[t+" "]&&(!g||!g.test(t))&&(!v||!v.test(t)))try{var r=_.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){O(t,!0)}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==p&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==p&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&j.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return u=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},r=se.selectors={cacheLength:50,createPseudo:le,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+R+"|$)"))&&C(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(W," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",v=t.parentNode,g=s&&t.nodeName.toLowerCase(),_=!c&&!s,b=!1;if(v){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&_){for(b=(p=(l=(u=(d=(f=v)[y]||(f[y]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===k&&l[1])&&l[2],f=p&&v.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){u[e]=[k,p,b];break}}else if(_&&(b=p=(l=(u=(d=(f=t)[y]||(f[y]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===k&&l[1]),!1===b)for(;(f=++p&&f&&f[m]||(b=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++b||(_&&((u=(d=f[y]||(f[y]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[k,b]),f!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[y]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?le((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=M(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:le((function(e){var t=[],n=[],r=s(e.replace(U,"$1"));return r[y]?le((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:le((function(e){return function(t){return se(e,t).length>0}})),contains:le((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:le((function(e){return K.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve((function(){return[0]})),last:ve((function(e,t){return[t-1]})),eq:ve((function(e,t,n){return[n<0?n+t:n]})),even:ve((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ve((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ve((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ve((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function _e(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=E++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,c){var l,u,d,f=[k,s];if(c){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(u=(d=t[y]||(t[y]={}))[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=u[o])&&l[0]===k&&l[1]===s)return f[2]=l[2];if(u[o]=f,f[2]=e(t,n,c))return!0}return!1}}function we(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function ke(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,l=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ee(e,t,n,r,i,o){return r&&!r[y]&&(r=Ee(r)),i&&!i[y]&&(i=Ee(i,o)),le((function(o,a,s,c){var l,u,d,f=[],p=[],h=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?m:ke(m,f,e,s,c),g=n?i||(o?e:h||r)?[]:a:v;if(n&&n(v,g,s,c),r)for(l=ke(g,p),r(l,[],s,c),u=l.length;u--;)(d=l[u])&&(g[p[u]]=!(v[p[u]]=d));if(o){if(i||e){if(i){for(l=[],u=g.length;u--;)(d=g[u])&&l.push(v[u]=d);i(null,g=[],l,c)}for(u=g.length;u--;)(d=g[u])&&(l=i?M(o,d):f[u])>-1&&(o[l]=!(a[l]=d))}}else g=ke(g===a?g.splice(h,g.length):g),i?i(null,a,g,c):A.apply(a,g)}))}function Ce(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],c=a?1:0,u=ye((function(e){return e===t}),s,!0),d=ye((function(e){return M(t,e)>-1}),s,!0),f=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?u(e,n,r):d(e,n,r));return t=null,i}];c<o;c++)if(n=r.relative[e[c].type])f=[ye(we(f),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[y]){for(i=++c;i<o&&!r.relative[e[i].type];i++);return Ee(c>1&&we(f),c>1&&be(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(U,"$1"),n,c<i&&Ce(e.slice(c,i)),i<o&&Ce(e=e.slice(i)),i<o&&be(e))}f.push(n)}return we(f)}return _e.prototype=r.filters=r.pseudos,r.setFilters=new _e,a=se.tokenize=function(e,t){var n,i,o,a,s,c,l,u=S[e+" "];if(u)return t?0:u.slice(0);for(s=e,c=[],l=r.preFilter;s;){for(a in n&&!(i=H.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(o=[])),n=!1,(i=Z.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(U," ")}),s=s.slice(n.length)),r.filter)!(i=$[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):S(e,c).slice(0)},s=se.compile=function(e,t){var n,i=[],o=[],s=x[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Ce(t[n]))[y]?i.push(s):o.push(s);s=x(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,c,u){var d,h,v,g=0,_="0",b=o&&[],y=[],w=l,E=o||i&&r.find.TAG("*",u),C=k+=null==w?1:Math.random()||.1,S=E.length;for(u&&(l=a===p||a||u);_!==S&&null!=(d=E[_]);_++){if(i&&d){for(h=0,a||d.ownerDocument===p||(f(d),s=!m);v=e[h++];)if(v(d,a||p,s)){c.push(d);break}u&&(k=C)}n&&((d=!v&&d)&&g--,o&&b.push(d))}if(g+=_,n&&_!==g){for(h=0;v=t[h++];)v(b,y,a,s);if(o){if(g>0)for(;_--;)b[_]||y[_]||(y[_]=N.call(c));y=ke(y)}A.apply(c,y),u&&!o&&y.length>0&&g+t.length>1&&se.uniqueSort(c)}return u&&(k=C,l=w),b};return n?le(o):o}(o,i)),s.selector=e}return s},c=se.select=function(e,t,n,i){var o,c,l,u,d,f="function"==typeof e&&e,p=!i&&a(e=f.selector||e);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===t.nodeType&&m&&r.relative[c[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(o=$.needsContext.test(e)?0:c.length;o--&&(l=c[o],!r.relative[u=l.type]);)if((d=r.find[u])&&(i=d(l.matches[0].replace(te,ne),ee.test(c[0].type)&&ge(t.parentNode)||t))){if(c.splice(o,1),!(e=i.length&&be(c)))return A.apply(n,i),n;break}}return(f||s(e,p))(i,t,!m,n,!t||ee.test(e)&&ge(t.parentNode)||t),n},n.sortStable=y.split("").sort(T).join("")===y,n.detectDuplicates=!!d,f(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||de(L,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(r);C.find=O,C.expr=O.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=O.uniqueSort,C.text=O.getText,C.isXMLDoc=O.isXML,C.contains=O.contains,C.escapeSelector=O.escape;var T=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&C(e).is(n))break;r.push(e)}return r},j=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},D=C.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,t,n){return _(t)?C.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?C.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?C.grep(e,(function(e){return d.call(t,e)>-1!==n})):C.filter(t,e,n)}C.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?C.find.matchesSelector(r,e)?[r]:[]:C.find.matches(e,C.grep(t,(function(e){return 1===e.nodeType})))},C.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(C(e).filter((function(){for(t=0;t<r;t++)if(C.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)C.find(e,i[t],n);return r>1?C.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&D.test(e)?C(e):e||[],!1).length}});var I,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||I,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:M.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),P.test(r[1])&&C.isPlainObject(t))for(r in t)_(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=a.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):_(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this)}).prototype=C.fn,I=C(a);var L=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&C(e);if(!D.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?C.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?d.call(C(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return j((e.parentNode||{}).firstChild,e)},children:function(e){return j(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(N(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},(function(e,t){C.fn[e]=function(n,r){var i=C.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=C.filter(r,i)),this.length>1&&(R[e]||C.uniqueSort(i),L.test(e)&&i.reverse()),this.pushStack(i)}}));var B=/[^\x20\t\r\n\f]+/g;function z(e){return e}function W(e){throw e}function U(e,t,n,r){var i;try{e&&_(i=e.promise)?i.call(e).done(t).fail(n):e&&_(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return C.each(e.match(B)||[],(function(e,n){t[n]=!0})),t}(e):C.extend({},e);var t,n,r,i,o=[],a=[],s=-1,c=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){C.each(n,(function(n,r){_(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==k(r)&&t(r)}))}(arguments),n&&!t&&c()),this},remove:function(){return C.each(arguments,(function(e,t){for(var n;(n=C.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?C.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},C.extend({Deferred:function(e){var t=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return C.Deferred((function(n){C.each(t,(function(t,r){var i=_(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&_(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function a(e,t,n,i){return function(){var s=this,c=arguments,l=function(){var r,l;if(!(e<o)){if((r=n.apply(s,c))===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"==typeof r||"function"==typeof r)&&r.then,_(l)?i?l.call(r,a(o,t,z,i),a(o,t,W,i)):(o++,l.call(r,a(o,t,z,i),a(o,t,W,i),a(o,t,z,t.notifyWith))):(n!==z&&(s=void 0,c=[r]),(i||t.resolveWith)(s,c))}},u=i?l:function(){try{l()}catch(r){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(r,u.stackTrace),e+1>=o&&(n!==W&&(s=void 0,c=[r]),t.rejectWith(s,c))}};e?u():(C.Deferred.getStackHook&&(u.stackTrace=C.Deferred.getStackHook()),r.setTimeout(u))}}return C.Deferred((function(r){t[0][3].add(a(0,r,_(i)?i:z,r.notifyWith)),t[1][3].add(a(0,r,_(e)?e:z)),t[2][3].add(a(0,r,_(n)?n:W))})).promise()},promise:function(e){return null!=e?C.extend(e,i):i}},o={};return C.each(t,(function(e,r){var a=r[2],s=r[5];i[r[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=c.call(arguments),o=C.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?c.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(U(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||_(i[n]&&i[n].then)))return o.then();for(;n--;)U(i[n],a(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&H.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){r.setTimeout((function(){throw e}))};var Z=C.Deferred();function q(){a.removeEventListener("DOMContentLoaded",q),r.removeEventListener("load",q),C.ready()}C.fn.ready=function(e){return Z.then(e).catch((function(e){C.readyException(e)})),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==e&&--C.readyWait>0||Z.resolveWith(a,[C]))}}),C.ready.then=Z.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?r.setTimeout(C.ready):(a.addEventListener("DOMContentLoaded",q),r.addEventListener("load",q));var V=function(e,t,n,r,i,o,a){var s=0,c=e.length,l=null==n;if("object"===k(n))for(s in i=!0,n)V(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,_(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(C(e),n)})),t))for(;s<c;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):c?t(e[0],n):o},K=/^-ms-/,$=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function Y(e){return e.replace(K,"ms-").replace($,G)}var Q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=C.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Y(t)]=n;else for(r in t)i[Y(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in r?[t]:t.match(B)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||C.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var J=new X,ee=new X,te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ne=/[A-Z]/g;function re(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ne,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:te.test(e)?JSON.parse(e):e)}(n)}catch(e){}ee.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return ee.hasData(e)||J.hasData(e)},data:function(e,t,n){return ee.access(e,t,n)},removeData:function(e,t){ee.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),C.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ee.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Y(r.slice(5)),re(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){ee.set(this,e)})):V(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=ee.get(o,e))||void 0!==(n=re(o,e))?n:void 0;this.each((function(){ee.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ee.remove(this,e)}))}}),C.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,C.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),r=n.length,i=n.shift(),o=C._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){C.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:C.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",n])}))})}}),C.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?C.queue(this[0],e):void 0===t?this:this.each((function(){var n=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&C.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){C.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=C.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),ae=["Top","Right","Bottom","Left"],se=a.documentElement,ce=function(e){return C.contains(e.ownerDocument,e)},le={composed:!0};se.getRootNode&&(ce=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ce(e)&&"none"===C.css(e,"display")},de=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function fe(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return C.css(e,t,"")},c=s(),l=n&&n[3]||(C.cssNumber[t]?"":"px"),u=e.nodeType&&(C.cssNumber[t]||"px"!==l&&+c)&&oe.exec(C.css(e,t));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;a--;)C.style(e,t,u+l),(1-o)*(1-(o=s()/c||.5))<=0&&(a=0),u/=o;u*=2,C.style(e,t,u+l),n=n||[]}return n&&(u=+u||+c||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=u,r.end=i)),i}var pe={};function he(e){var t,n=e.ownerDocument,r=e.nodeName,i=pe[r];return i||(t=n.body.appendChild(n.createElement(r)),i=C.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),pe[r]=i,i)}function me(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ue(r)&&(i[o]=he(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}C.fn.extend({show:function(){return me(this,!0)},hide:function(){return me(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ue(this)?C(this).show():C(this).hide()}))}});var ve=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,_e=/^$|^module$|\/(?:java|ecma)script/i,be={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?C.merge([e],n):n}function we(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}be.optgroup=be.option,be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td;var ke,Ee,Ce=/<|&#?\w+;/;function Se(e,t,n,r,i){for(var o,a,s,c,l,u,d=t.createDocumentFragment(),f=[],p=0,h=e.length;p<h;p++)if((o=e[p])||0===o)if("object"===k(o))C.merge(f,o.nodeType?[o]:o);else if(Ce.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(ge.exec(o)||["",""])[1].toLowerCase(),c=be[s]||be._default,a.innerHTML=c[1]+C.htmlPrefilter(o)+c[2],u=c[0];u--;)a=a.lastChild;C.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(o));for(d.textContent="",p=0;o=f[p++];)if(r&&C.inArray(o,r)>-1)i&&i.push(o);else if(l=ce(o),a=ye(d.appendChild(o),"script"),l&&we(a),n)for(u=0;o=a[u++];)_e.test(o.type||"")&&n.push(o);return d}ke=a.createDocumentFragment().appendChild(a.createElement("div")),(Ee=a.createElement("input")).setAttribute("type","radio"),Ee.setAttribute("checked","checked"),Ee.setAttribute("name","t"),ke.appendChild(Ee),g.checkClone=ke.cloneNode(!0).cloneNode(!0).lastChild.checked,ke.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!ke.cloneNode(!0).lastChild.defaultValue;var xe=/^key/,Oe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function je(){return!0}function De(){return!1}function Ne(e,t){return e===function(){try{return a.activeElement}catch(e){}}()==("focus"===t)}function Pe(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Pe(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=De;else if(!i)return e;return 1===o&&(a=i,i=function(e){return C().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=C.guid++)),e.each((function(){C.event.add(this,t,i,r,n)}))}function Ae(e,t,n){n?(J.set(e,t,!1),C.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=J.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(C.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=c.call(arguments),J.set(this,t,o),r=n(this,t),this[t](),o!==(i=J.get(this,t))||r?J.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else o.length&&(J.set(this,t,{value:C.event.trigger(C.extend(o[0],C.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&C.event.add(e,t,je)}C.event={global:{},add:function(e,t,n,r,i){var o,a,s,c,l,u,d,f,p,h,m,v=J.get(e);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&C.find.matchesSelector(se,i),n.guid||(n.guid=C.guid++),(c=v.events)||(c=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(B)||[""]).length;l--;)p=m=(s=Te.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),p&&(d=C.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,d=C.event.special[p]||{},u=C.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&C.expr.match.needsContext.test(i),namespace:h.join(".")},o),(f=c[p])||((f=c[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,u):f.push(u),C.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,c,l,u,d,f,p,h,m,v=J.hasData(e)&&J.get(e);if(v&&(c=v.events)){for(l=(t=(t||"").match(B)||[""]).length;l--;)if(p=m=(s=Te.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=C.event.special[p]||{},f=c[p=(r?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)u=f[o],!i&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,v.handle)||C.removeEvent(e,p,v.handle),delete c[p])}else for(p in c)C.event.remove(e,p+t[l],n,r,!0);C.isEmptyObject(c)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=C.event.fix(e),c=new Array(arguments.length),l=(J.get(this,"events")||{})[s.type]||[],u=C.event.special[s.type]||{};for(c[0]=s,t=1;t<arguments.length;t++)c[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=C.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((C.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,c))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<c;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?C(i,this).index(l)>-1:C.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,c<t.length&&s.push({elem:l,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:_(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ve.test(t.type)&&t.click&&N(t,"input")&&Ae(t,"click",je),!1},trigger:function(e){var t=this||e;return ve.test(t.type)&&t.click&&N(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return ve.test(t.type)&&t.click&&N(t,"input")&&J.get(t,"click")||N(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?je:De,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:De,isPropagationStopped:De,isImmediatePropagationStopped:De,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=je,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=je,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=je,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Oe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},(function(e,t){C.event.special[e]={setup:function(){return Ae(this,e,Ne),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}})),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||C.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),C.fn.extend({on:function(e,t,n,r){return Pe(this,e,t,n,r)},one:function(e,t,n,r){return Pe(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,C(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=De),this.each((function(){C.event.remove(this,e,n,t)}))}});var Ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Me=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Fe(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Be(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ze(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function We(e,t){var n,r,i,o,a,s,c,l;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)C.event.add(t,i,l[i][n]);ee.hasData(e)&&(s=ee.access(e),c=C.extend({},s),ee.set(t,c))}}function Ue(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ve.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function He(e,t,n,r){t=l.apply([],t);var i,o,a,s,c,u,d=0,f=e.length,p=f-1,h=t[0],m=_(h);if(m||f>1&&"string"==typeof h&&!g.checkClone&&Le.test(h))return e.each((function(i){var o=e.eq(i);m&&(t[0]=h.call(this,i,o.html())),He(o,t,n,r)}));if(f&&(o=(i=Se(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=C.map(ye(i,"script"),Be)).length;d<f;d++)c=i,d!==p&&(c=C.clone(c,!0,!0),s&&C.merge(a,ye(c,"script"))),n.call(e[d],c,d);if(s)for(u=a[a.length-1].ownerDocument,C.map(a,ze),d=0;d<s;d++)c=a[d],_e.test(c.type||"")&&!J.access(c,"globalEval")&&C.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?C._evalUrl&&!c.noModule&&C._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")}):w(c.textContent.replace(Re,""),c,u))}return e}function Ze(e,t,n){for(var r,i=t?C.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||C.cleanData(ye(r)),r.parentNode&&(n&&ce(r)&&we(ye(r,"script")),r.parentNode.removeChild(r));return e}C.extend({htmlPrefilter:function(e){return e.replace(Ie,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),c=ce(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(a=ye(s),r=0,i=(o=ye(e)).length;r<i;r++)Ue(o[r],a[r]);if(t)if(n)for(o=o||ye(e),a=a||ye(s),r=0,i=o.length;r<i;r++)We(o[r],a[r]);else We(e,s);return(a=ye(s,"script")).length>0&&we(a,!c&&ye(e,"script")),s},cleanData:function(e){for(var t,n,r,i=C.event.special,o=0;void 0!==(n=e[o]);o++)if(Q(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?C.event.remove(n,r):C.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[ee.expando]&&(n[ee.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Ze(this,e,!0)},remove:function(e){return Ze(this,e)},text:function(e){return V(this,(function(e){return void 0===e?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return He(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Fe(this,e).appendChild(e)}))},prepend:function(){return He(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Fe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return He(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return He(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return C.clone(this,e,t)}))},html:function(e){return V(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Me.test(e)&&!be[(ge.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return He(this,arguments,(function(t){var n=this.parentNode;C.inArray(this,e)<0&&(C.cleanData(ye(this)),n&&n.replaceChild(t,this))}),e)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){C.fn[e]=function(e){for(var n,r=[],i=C(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),C(i[a])[t](n),u.apply(r,n.get());return this.pushStack(r)}}));var qe=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),Ve=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ke=new RegExp(ae.join("|"),"i");function $e(e,t,n){var r,i,o,a,s=e.style;return(n=n||Ve(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ce(e)||(a=C.style(e,t)),!g.pixelBoxStyles()&&qe.test(a)&&Ke.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(l).appendChild(u);var e=r.getComputedStyle(u);n="1%"!==e.top,c=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),i=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),se.removeChild(l),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,s,c,l=a.createElement("div"),u=a.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,C.extend(g,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),o}}))}();var Ye=["Webkit","Moz","ms"],Qe=a.createElement("div").style,Xe={};function Je(e){return C.cssProps[e]||Xe[e]||(e in Qe?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ye.length;n--;)if((e=Ye[n]+t)in Qe)return e}(e)||e)}var et=/^(none|table(?!-c[ea]).+)/,tt=/^--/,nt={position:"absolute",visibility:"hidden",display:"block"},rt={letterSpacing:"0",fontWeight:"400"};function it(e,t,n){var r=oe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ot(e,t,n,r,i,o){var a="width"===t?1:0,s=0,c=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=C.css(e,n+ae[a],!0,i)),r?("content"===n&&(c-=C.css(e,"padding"+ae[a],!0,i)),"margin"!==n&&(c-=C.css(e,"border"+ae[a]+"Width",!0,i))):(c+=C.css(e,"padding"+ae[a],!0,i),"padding"!==n?c+=C.css(e,"border"+ae[a]+"Width",!0,i):s+=C.css(e,"border"+ae[a]+"Width",!0,i));return!r&&o>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-c-s-.5))||0),c}function at(e,t,n){var r=Ve(e),i=(!g.boxSizingReliable()||n)&&"border-box"===C.css(e,"boxSizing",!1,r),o=i,a=$e(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(qe.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===C.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===C.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+ot(e,t,n||(i?"border":"content"),o,r,a)+"px"}function st(e,t,n,r,i){return new st.prototype.init(e,t,n,r,i)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=$e(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Y(t),c=tt.test(t),l=e.style;if(c||(t=Je(s)),a=C.cssHooks[t]||C.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=oe.exec(n))&&i[1]&&(n=fe(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||c||(n+=i&&i[3]||(C.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=Y(t);return tt.test(t)||(t=Je(s)),(a=C.cssHooks[t]||C.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=$e(e,t,r)),"normal"===i&&t in rt&&(i=rt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),C.each(["height","width"],(function(e,t){C.cssHooks[t]={get:function(e,n,r){if(n)return!et.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?at(e,t,r):de(e,nt,(function(){return at(e,t,r)}))},set:function(e,n,r){var i,o=Ve(e),a=!g.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===C.css(e,"boxSizing",!1,o),c=r?ot(e,t,r,s,o):0;return s&&a&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-ot(e,t,"border",!1,o)-.5)),c&&(i=oe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=C.css(e,t)),it(0,n,c)}}})),C.cssHooks.marginLeft=Ge(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat($e(e,"marginLeft"))||e.getBoundingClientRect().left-de(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),C.each({margin:"",padding:"",border:"Width"},(function(e,t){C.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+ae[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(C.cssHooks[e+t].set=it)})),C.fn.extend({css:function(e,t){return V(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Ve(e),i=t.length;a<i;a++)o[t[a]]=C.css(e,t[a],!1,r);return o}return void 0!==n?C.style(e,t,n):C.css(e,t)}),e,t,arguments.length>1)}}),C.Tween=st,st.prototype={constructor:st,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var e=st.propHooks[this.prop];return e&&e.get?e.get(this):st.propHooks._default.get(this)},run:function(e){var t,n=st.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):st.propHooks._default.set(this),this}},st.prototype.init.prototype=st.prototype,st.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}},st.propHooks.scrollTop=st.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=st.prototype.init,C.fx.step={};var ct,lt,ut=/^(?:toggle|show|hide)$/,dt=/queueHooks$/;function ft(){lt&&(!1===a.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ft):r.setTimeout(ft,C.fx.interval),C.fx.tick())}function pt(){return r.setTimeout((function(){ct=void 0})),ct=Date.now()}function ht(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ae[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function mt(e,t,n){for(var r,i=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function vt(e,t,n){var r,i,o=0,a=vt.prefilters.length,s=C.Deferred().always((function(){delete c.elem})),c=function(){if(i)return!1;for(var t=ct||pt(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:t,originalOptions:n,startTime:ct||pt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=C.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),u=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=Y(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=C.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,l.opts.specialEasing);o<a;o++)if(r=vt.prefilters[o].call(l,e,u,l.opts))return _(r.stop)&&(C._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return C.map(u,mt,l),_(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),C.fx.timer(C.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}C.Animation=C.extend(vt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return fe(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){_(e)?(t=e,e=["*"]):e=e.match(B);for(var n,r=0,i=e.length;r<i;r++)n=e[r],vt.tweeners[n]=vt.tweeners[n]||[],vt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,c,l,u,d="width"in t||"height"in t,f=this,p={},h=e.style,m=e.nodeType&&ue(e),v=J.get(e,"fxshow");for(r in n.queue||(null==(a=C._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always((function(){f.always((function(){a.unqueued--,C.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[r],ut.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;m=!0}p[r]=v&&v[r]||C.style(e,r)}if((c=!C.isEmptyObject(t))||!C.isEmptyObject(p))for(r in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=J.get(e,"display")),"none"===(u=C.css(e,"display"))&&(l?u=l:(me([e],!0),l=e.style.display||l,u=C.css(e,"display"),me([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===C.css(e,"float")&&(c||(f.done((function(){h.display=l})),null==l&&(u=h.display,l="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),c=!1,p)c||(v?"hidden"in v&&(m=v.hidden):v=J.access(e,"fxshow",{display:l}),o&&(v.hidden=!m),m&&me([e],!0),f.done((function(){for(r in m||me([e]),J.remove(e,"fxshow"),p)C.style(e,r,p[r])}))),c=mt(m?v[r]:0,r,f),r in v||(v[r]=c.start,m&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),C.speed=function(e,t,n){var r=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||_(e)&&e,duration:e,easing:n&&t||t&&!_(t)&&t};return C.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in C.fx.speeds?r.duration=C.fx.speeds[r.duration]:r.duration=C.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){_(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=C.isEmptyObject(e),o=C.speed(t,n,r),a=function(){var t=vt(this,C.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=C.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&dt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||C.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=C.timers,a=r?r.length:0;for(n.finish=!0,C.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),C.each(["toggle","show","hide"],(function(e,t){var n=C.fn[t];C.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ht(t,!0),e,r,i)}})),C.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){C.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(ct=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),ct=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){lt||(lt=!0,ft())},C.fx.stop=function(){lt=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,t){return e=C.fx&&C.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var gt,_t=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return V(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){C.removeAttr(this,e)}))}}),C.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?C.prop(e,t,n):(1===o&&C.isXMLDoc(e)||(i=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=C.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(B);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=_t[t]||C.find.attr;_t[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=_t[a],_t[a]=i,i=null!=n(e,t,r)?a:null,_t[a]=o),i}}));var bt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function wt(e){return(e.match(B)||[]).join(" ")}function kt(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(B)||[]}C.fn.extend({prop:function(e,t){return V(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[C.propFix[e]||e]}))}}),C.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(e)||(t=C.propFix[t]||t,i=C.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,c=0;if(_(e))return this.each((function(t){C(this).addClass(e.call(this,t,kt(this)))}));if((t=Et(e)).length)for(;n=this[c++];)if(i=kt(n),r=1===n.nodeType&&" "+wt(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=wt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,c=0;if(_(e))return this.each((function(t){C(this).removeClass(e.call(this,t,kt(this)))}));if(!arguments.length)return this.attr("class","");if((t=Et(e)).length)for(;n=this[c++];)if(i=kt(n),r=1===n.nodeType&&" "+wt(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=wt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):_(e)?this.each((function(n){C(this).toggleClass(e.call(this,n,kt(this),t),t)})):this.each((function(){var t,i,o,a;if(r)for(i=0,o=C(this),a=Et(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=kt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+wt(kt(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ct=/\r/g;C.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=_(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,C(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=C.map(i,(function(e){return null==e?"":e+""}))),(t=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=C.valHooks[i.type]||C.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Ct,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:wt(C.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?o+1:i.length;for(r=o<0?c:a?o:0;r<c;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=C(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=C.makeArray(t),a=i.length;a--;)((r=i[a]).selected=C.inArray(C.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],(function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=C.inArray(C(e).val(),t)>-1}},g.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in r;var St=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(e,t,n,i){var o,s,c,l,u,d,f,p,m=[n||a],v=h.call(e,"type")?e.type:e,g=h.call(e,"namespace")?e.namespace.split("."):[];if(s=p=c=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!St.test(v+C.event.triggered)&&(v.indexOf(".")>-1&&(g=v.split("."),v=g.shift(),g.sort()),u=v.indexOf(":")<0&&"on"+v,(e=e[C.expando]?e:new C.Event(v,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),f=C.event.special[v]||{},i||!f.trigger||!1!==f.trigger.apply(n,t))){if(!i&&!f.noBubble&&!b(n)){for(l=f.delegateType||v,St.test(l+v)||(s=s.parentNode);s;s=s.parentNode)m.push(s),c=s;c===(n.ownerDocument||a)&&m.push(c.defaultView||c.parentWindow||r)}for(o=0;(s=m[o++])&&!e.isPropagationStopped();)p=s,e.type=o>1?l:f.bindType||v,(d=(J.get(s,"events")||{})[e.type]&&J.get(s,"handle"))&&d.apply(s,t),(d=u&&s[u])&&d.apply&&Q(s)&&(e.result=d.apply(s,t),!1===e.result&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(m.pop(),t)||!Q(n)||u&&_(n[v])&&!b(n)&&((c=n[u])&&(n[u]=null),C.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,xt),n[v](),e.isPropagationStopped()&&p.removeEventListener(v,xt),C.event.triggered=void 0,c&&(n[u]=c)),e.result}},simulate:function(e,t,n){var r=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(r,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each((function(){C.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),g.focusin||C.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){C.event.simulate(t,e.target,C.event.fix(e))};C.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}}));var Ot=r.location,Tt=Date.now(),jt=/\?/;C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var Dt=/\[\]$/,Nt=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function It(e,t,n,r){var i;if(Array.isArray(t))C.each(t,(function(t,i){n||Dt.test(e)?r(e,i):It(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==k(t))r(e,t);else for(i in t)It(e+"["+i+"]",t[i],n,r)}C.param=function(e,t){var n,r=[],i=function(e,t){var n=_(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,(function(){i(this.name,this.value)}));else for(n in e)It(n,e[n],t,i);return r.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&At.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!ve.test(e))})).map((function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(e){return{name:t.name,value:e.replace(Nt,"\r\n")}})):{name:t.name,value:n.replace(Nt,"\r\n")}})).get()}});var Mt=/%20/g,Lt=/#.*$/,Rt=/([?&])_=[^&]*/,Ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,zt=/^\/\//,Wt={},Ut={},Ht="*/".concat("*"),Zt=a.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(B)||[];if(_(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Vt(e,t,n,r){var i={},o=e===Ut;function a(s){var c;return i[s]=!0,C.each(e[s]||[],(function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(c=l):void 0:(t.dataTypes.unshift(l),a(l),!1)})),c}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Kt(e,t){var n,r,i=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&C.extend(!0,e,r),e}Zt.href=Ot.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ot.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ot.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Kt(Kt(e,C.ajaxSettings),t):Kt(C.ajaxSettings,e)},ajaxPrefilter:qt(Wt),ajaxTransport:qt(Ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,s,c,l,u,d,f,p,h=C.ajaxSetup({},t),m=h.context||h,v=h.context&&(m.nodeType||m.jquery)?C(m):C.event,g=C.Deferred(),_=C.Callbacks("once memory"),b=h.statusCode||{},y={},w={},k="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Ft.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)E.always(e[E.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||k;return n&&n.abort(t),S(0,t),this}};if(g.promise(E),h.url=((e||h.url||Ot.href)+"").replace(zt,Ot.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(B)||[""],null==h.crossDomain){l=a.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Zt.protocol+"//"+Zt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=C.param(h.data,h.traditional)),Vt(Wt,h,t,E),u)return E;for(f in(d=C.event&&h.global)&&0==C.active++&&C.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Bt.test(h.type),i=h.url.replace(Lt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Mt,"+")):(p=h.url.slice(i.length),h.data&&(h.processData||"string"==typeof h.data)&&(i+=(jt.test(i)?"&":"?")+h.data,delete h.data),!1===h.cache&&(i=i.replace(Rt,"$1"),p=(jt.test(i)?"&":"?")+"_="+Tt+++p),h.url=i+p),h.ifModified&&(C.lastModified[i]&&E.setRequestHeader("If-Modified-Since",C.lastModified[i]),C.etag[i]&&E.setRequestHeader("If-None-Match",C.etag[i])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ht+"; q=0.01":""):h.accepts["*"]),h.headers)E.setRequestHeader(f,h.headers[f]);if(h.beforeSend&&(!1===h.beforeSend.call(m,E,h)||u))return E.abort();if(k="abort",_.add(h.complete),E.done(h.success),E.fail(h.error),n=Vt(Ut,h,t,E)){if(E.readyState=1,d&&v.trigger("ajaxSend",[E,h]),u)return E;h.async&&h.timeout>0&&(c=r.setTimeout((function(){E.abort("timeout")}),h.timeout));try{u=!1,n.send(y,S)}catch(e){if(u)throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,a,s){var l,f,p,y,w,k=t;u||(u=!0,c&&r.clearTimeout(c),n=void 0,o=s||"",E.readyState=e>0?4:0,l=e>=200&&e<300||304===e,a&&(y=function(e,t,n){for(var r,i,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){c.unshift(i);break}if(c[0]in n)o=c[0];else{for(i in n){if(!c[0]||e.converters[i+" "+c[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}(h,E,a)),y=function(e,t,n,r){var i,o,a,s,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=l[c+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(h,y,E,l),l?(h.ifModified&&((w=E.getResponseHeader("Last-Modified"))&&(C.lastModified[i]=w),(w=E.getResponseHeader("etag"))&&(C.etag[i]=w)),204===e||"HEAD"===h.type?k="nocontent":304===e?k="notmodified":(k=y.state,f=y.data,l=!(p=y.error))):(p=k,!e&&k||(k="error",e<0&&(e=0))),E.status=e,E.statusText=(t||k)+"",l?g.resolveWith(m,[f,k,E]):g.rejectWith(m,[E,k,p]),E.statusCode(b),b=void 0,d&&v.trigger(l?"ajaxSuccess":"ajaxError",[E,h,l?f:p]),_.fireWith(m,[E,k]),d&&(v.trigger("ajaxComplete",[E,h]),--C.active||C.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],(function(e,t){C[t]=function(e,n,r,i){return _(n)&&(i=i||r,r=n,n=void 0),C.ajax(C.extend({url:e,type:t,dataType:i,data:n,success:r},C.isPlainObject(e)&&e))}})),C._evalUrl=function(e,t){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t)}})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(_(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return _(e)?this.each((function(t){C(this).wrapInner(e.call(this,t))})):this.each((function(){var t=C(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=_(e);return this.each((function(n){C(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},Gt=C.ajaxSettings.xhr();g.cors=!!Gt&&"withCredentials"in Gt,g.ajax=Gt=!!Gt,C.ajaxTransport((function(e){var t,n;if(g.cors||Gt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o($t[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),C.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),C.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=C("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Yt,Qt=[],Xt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||C.expando+"_"+Tt++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,a,s=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=_(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Xt,"$1"+i):!1!==e.jsonp&&(e.url+=(jt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||C.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always((function(){void 0===o?C(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Qt.push(i)),a&&_(o)&&o(a[0]),a=o=void 0})),"script"})),g.createHTMLDocument=((Yt=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Yt.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(r)):t=a),o=!n&&[],(i=P.exec(e))?[t.createElement(i[1])]:(i=Se([e],t,o),o&&o.length&&C(o).remove(),C.merge([],i.childNodes)));var r,i,o},C.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=wt(e.slice(s)),e=e.slice(0,s)),_(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&C.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?C("<div>").append(C.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){C.fn[t]=function(e){return this.on(t,e)}})),C.expr.pseudos.animated=function(e){return C.grep(C.timers,(function(t){return e===t.elem})).length},C.offset={setOffset:function(e,t,n){var r,i,o,a,s,c,l=C.css(e,"position"),u=C(e),d={};"static"===l&&(e.style.position="relative"),s=u.offset(),o=C.css(e,"top"),c=C.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+c).indexOf("auto")>-1?(a=(r=u.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(c)||0),_(t)&&(t=t.call(e,n,C.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):u.css(d)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){C.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===C.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),i.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-C.css(r,"marginTop",!0),left:t.left-i.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||se}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;C.fn[e]=function(r){return V(this,(function(e,r,i){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),C.each(["top","left"],(function(e,t){C.cssHooks[t]=Ge(g.pixelPosition,(function(e,n){if(n)return n=$e(e,t),qe.test(n)?C(e).position()[t]+"px":n}))})),C.each({Height:"height",Width:"width"},(function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){C.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return V(this,(function(t,n,i){var o;return b(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?C.css(t,n,s):C.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){C.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),C.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),_(e))return r=c.call(arguments,2),i=function(){return e.apply(t||this,r.concat(c.call(arguments)))},i.guid=e.guid=e.guid||C.guid++,i},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=N,C.isFunction=_,C.isWindow=b,C.camelCase=Y,C.type=k,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(n=function(){return C}.apply(t,[]))||(e.exports=n);var Jt=r.jQuery,en=r.$;return C.noConflict=function(e){return r.$===C&&(r.$=en),e&&r.jQuery===C&&(r.jQuery=Jt),C},i||(r.jQuery=r.$=C),C}))},64649:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},25773:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},31588:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(28916),i=function(e,t){for(var n=e.length;n--;)if((0,r.Z)(e[n][0],t))return n;return-1},o=Array.prototype.splice;function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=function(){this.__data__=[],this.size=0},a.prototype.delete=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))},a.prototype.get=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]},a.prototype.has=function(e){return i(this.__data__,e)>-1},a.prototype.set=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var s=a},46462:function(e,t,n){"use strict";var r=n(23203),i=n(97659),o=(0,r.Z)(i.Z,"Map");t.Z=o},3026:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=(0,n(23203).Z)(Object,"create"),i=Object.prototype.hasOwnProperty,o=Object.prototype.hasOwnProperty;function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=function(){this.__data__=r?r(null):{},this.size=0},a.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},a.prototype.get=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0},a.prototype.has=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)},a.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this};var s=a,c=n(31588),l=n(46462),u=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}d.prototype.clear=function(){this.size=0,this.__data__={hash:new s,map:new(l.Z||c.Z),string:new s}},d.prototype.delete=function(e){var t=u(this,e).delete(e);return this.size-=t?1:0,t},d.prototype.get=function(e){return u(this,e).get(e)},d.prototype.has=function(e){return u(this,e).has(e)},d.prototype.set=function(e,t){var n=u(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var f=d},79228:function(e,t,n){"use strict";var r=n(23203),i=n(97659),o=(0,r.Z)(i.Z,"Set");t.Z=o},8484:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3026);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r.Z;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},i.prototype.has=function(e){return this.__data__.has(e)};var o=i},86757:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(31588),i=n(46462),o=n(3026);function a(e){var t=this.__data__=new r.Z(e);this.size=t.size}a.prototype.clear=function(){this.__data__=new r.Z,this.size=0},a.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},a.prototype.get=function(e){return this.__data__.get(e)},a.prototype.has=function(e){return this.__data__.has(e)},a.prototype.set=function(e,t){var n=this.__data__;if(n instanceof r.Z){var a=n.__data__;if(!i.Z||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o.Z(a)}return n.set(e,t),this.size=n.size,this};var s=a},9e3:function(e,t,n){"use strict";var r=n(97659).Z.Symbol;t.Z=r},53223:function(e,t,n){"use strict";var r=n(97659).Z.Uint8Array;t.Z=r},62020:function(e,t){"use strict";t.Z=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},69878:function(e,t){"use strict";t.Z=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},13744:function(e,t,n){"use strict";var r=n(52357);t.Z=function(e,t){return!(null==e||!e.length)&&(0,r.Z)(e,t,0)>-1}},40670:function(e,t){"use strict";t.Z=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},96877:function(e,t,n){"use strict";var r=n(74455),i=n(23857),o=n(47838),a=n(31261),s=n(62916),c=n(84902),l=Object.prototype.hasOwnProperty;t.Z=function(e,t){var n=(0,o.Z)(e),u=!n&&(0,i.Z)(e),d=!n&&!u&&(0,a.Z)(e),f=!n&&!u&&!d&&(0,c.Z)(e),p=n||u||d||f,h=p?(0,r.Z)(e.length,String):[],m=h.length;for(var v in e)!t&&!l.call(e,v)||p&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||(0,s.Z)(v,m))||h.push(v);return h}},90497:function(e,t){"use strict";t.Z=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},37891:function(e,t){"use strict";t.Z=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},84424:function(e,t,n){"use strict";var r=n(10541),i=n(28916),o=Object.prototype.hasOwnProperty;t.Z=function(e,t,n){var a=e[t];o.call(e,t)&&(0,i.Z)(a,n)&&(void 0!==n||t in e)||(0,r.Z)(e,t,n)}},10541:function(e,t,n){"use strict";var r=n(42452);t.Z=function(e,t,n){"__proto__"==t&&r.Z?(0,r.Z)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},99978:function(e,t,n){"use strict";var r=n(8484),i=n(13744),o=n(40670),a=n(90497),s=n(42052),c=n(58923);t.Z=function(e,t,n,l){var u=-1,d=i.Z,f=!0,p=e.length,h=[],m=t.length;if(!p)return h;n&&(t=(0,a.Z)(t,(0,s.Z)(n))),l?(d=o.Z,f=!1):t.length>=200&&(d=c.Z,f=!1,t=new r.Z(t));e:for(;++u<p;){var v=e[u],g=null==n?v:n(v);if(v=l||0!==v?v:0,f&&g==g){for(var _=m;_--;)if(t[_]===g)continue e;h.push(v)}else d(t,g,l)||h.push(v)}return h}},773:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r,i=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[++r];if(!1===t(i[s],s,i))break}return e},o=n(94778),a=n(79458),s=(r=function(e,t){return e&&i(e,t,o.Z)},function(e,t){if(null==e)return e;if(!(0,a.Z)(e))return r(e,t);for(var n=e.length,i=-1,o=Object(e);++i<n&&!1!==t(o[i],i,o););return e})},78953:function(e,t){"use strict";t.Z=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},52133:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(37891),i=n(9e3),o=n(23857),a=n(47838),s=i.Z?i.Z.isConcatSpreadable:void 0,c=function(e){return(0,a.Z)(e)||(0,o.Z)(e)||!!(s&&e&&e[s])},l=function e(t,n,i,o,a){var s=-1,l=t.length;for(i||(i=c),a||(a=[]);++s<l;){var u=t[s];n>0&&i(u)?n>1?e(u,n-1,i,o,a):(0,r.Z)(a,u):o||(a[a.length]=u)}return a}},42825:function(e,t,n){"use strict";var r=n(6607),i=n(99316);t.Z=function(e,t){for(var n=0,o=(t=(0,r.Z)(t,e)).length;null!=e&&n<o;)e=e[(0,i.Z)(t[n++])];return n&&n==o?e:void 0}},65976:function(e,t,n){"use strict";var r=n(37891),i=n(47838);t.Z=function(e,t,n){var o=t(e);return(0,i.Z)(e)?o:(0,r.Z)(o,n(e))}},74029:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(9e3),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r.Z?r.Z.toStringTag:void 0,c=Object.prototype.toString,l=r.Z?r.Z.toStringTag:void 0,u=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}(e):function(e){return c.call(e)}(e)}},52357:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(78953),i=function(e){return e!=e},o=function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):(0,r.Z)(e,i,n)}},68723:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(86757),i=n(8484),o=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},a=n(58923),s=function(e,t,n,r,s,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var f=c.get(e),p=c.get(t);if(f&&p)return f==t&&p==e;var h=-1,m=!0,v=2&n?new i.Z:void 0;for(c.set(e,t),c.set(t,e);++h<u;){var g=e[h],_=t[h];if(r)var b=l?r(_,g,h,t,e,c):r(g,_,h,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!o(t,(function(e,t){if(!(0,a.Z)(v,t)&&(g===e||s(g,e,n,r,c)))return v.push(t)}))){m=!1;break}}else if(g!==_&&!s(g,_,n,r,c)){m=!1;break}}return c.delete(e),c.delete(t),m},c=n(9e3),l=n(53223),u=n(28916),d=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},f=n(80877),p=c.Z?c.Z.prototype:void 0,h=p?p.valueOf:void 0,m=n(22879),v=Object.prototype.hasOwnProperty,g=n(89424),_=n(47838),b=n(31261),y=n(84902),w="[object Arguments]",k="[object Array]",E="[object Object]",C=Object.prototype.hasOwnProperty,S=function(e,t,n,i,o,a){var c=(0,_.Z)(e),p=(0,_.Z)(t),S=c?k:(0,g.Z)(e),x=p?k:(0,g.Z)(t),O=(S=S==w?E:S)==E,T=(x=x==w?E:x)==E,j=S==x;if(j&&(0,b.Z)(e)){if(!(0,b.Z)(t))return!1;c=!0,O=!1}if(j&&!O)return a||(a=new r.Z),c||(0,y.Z)(e)?s(e,t,n,i,o,a):function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new l.Z(e),new l.Z(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,u.Z)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=d;case"[object Set]":var p=1&r;if(c||(c=f.Z),e.size!=t.size&&!p)return!1;var m=a.get(e);if(m)return m==t;r|=2,a.set(e,t);var v=s(c(e),c(t),r,i,o,a);return a.delete(e),v;case"[object Symbol]":if(h)return h.call(e)==h.call(t)}return!1}(e,t,S,n,i,o,a);if(!(1&n)){var D=O&&C.call(e,"__wrapped__"),N=T&&C.call(t,"__wrapped__");if(D||N){var P=D?e.value():e,A=N?t.value():t;return a||(a=new r.Z),o(P,A,n,i,a)}}return!!j&&(a||(a=new r.Z),function(e,t,n,r,i,o){var a=1&n,s=(0,m.Z)(e),c=s.length;if(c!=(0,m.Z)(t).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in t:v.call(t,u)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var p=!0;o.set(e,t),o.set(t,e);for(var h=a;++l<c;){var g=e[u=s[l]],_=t[u];if(r)var b=a?r(_,g,u,t,e,o):r(g,_,u,e,t,o);if(!(void 0===b?g===_||i(g,_,n,r,o):b)){p=!1;break}h||(h="constructor"==u)}if(p&&!h){var y=e.constructor,w=t.constructor;y==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,i,o,a))},x=n(18742),O=function e(t,n,r,i,o){return t===n||(null==t||null==n||!(0,x.Z)(t)&&!(0,x.Z)(n)?t!=t&&n!=n:S(t,n,r,i,e,o))}},12925:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(86757),i=n(68723),o=n(80369),a=function(e){return e==e&&!(0,o.Z)(e)},s=n(94778),c=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},l=function(e){var t=function(e){for(var t=(0,s.Z)(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,a(i)]}return t}(e);return 1==t.length&&t[0][2]?c(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var u=(l=n[a])[0],d=e[u],f=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var p=new r.Z;if(o)var h=o(d,f,u,e,t,p);if(!(void 0===h?(0,i.Z)(f,d,3,o,p):h))return!1}}return!0}(n,e,t)}},u=n(42825),d=n(22605),f=n(67990),p=n(99316),h=function(e,t){return(0,f.Z)(e)&&a(t)?c((0,p.Z)(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:(0,u.Z)(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?(0,d.Z)(n,e):(0,i.Z)(t,r,3)}},m=n(84111),v=n(47838),g=function(e){return(0,f.Z)(e)?(t=(0,p.Z)(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return(0,u.Z)(t,e)}}(e);var t},_=function(e){return"function"==typeof e?e:null==e?m.Z:"object"==typeof e?(0,v.Z)(e)?h(e[0],e[1]):l(e):g(e)}},23382:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(54357),i=(0,n(84068).Z)(Object.keys,Object),o=Object.prototype.hasOwnProperty,a=function(e){if(!(0,r.Z)(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},59949:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(90497),i=n(42825),o=n(12925),a=n(773),s=n(79458),c=n(42052),l=n(54878),u=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=(0,l.Z)(e),a=void 0!==t,s=null===t,c=t==t,u=(0,l.Z)(t);if(!s&&!u&&!o&&e>t||o&&a&&c&&!s&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!c)return-1}return 0},d=n(84111),f=n(47838),p=function(e,t,n){t=t.length?(0,r.Z)(t,(function(e){return(0,f.Z)(e)?function(t){return(0,i.Z)(t,1===e.length?e[0]:e)}:e})):[d.Z];var l=-1;t=(0,r.Z)(t,(0,c.Z)(o.Z));var p=function(e,t){var n=-1,r=(0,s.Z)(e)?Array(e.length):[];return(0,a.Z)(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}(e,(function(e,n,i){return{criteria:(0,r.Z)(t,(function(t){return t(e)})),index:++l,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(p,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var c=u(i[r],o[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}},92042:function(e,t,n){"use strict";var r=n(84111),i=n(13013),o=n(73943);t.Z=function(e,t){return(0,o.Z)((0,i.Z)(e,t,r.Z),e+"")}},69718:function(e,t){"use strict";t.Z=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},74455:function(e,t){"use strict";t.Z=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},42052:function(e,t){"use strict";t.Z=function(e){return function(t){return e(t)}}},49904:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(6607),i=n(98064),o=n(42825),a=n(69718),s=n(99316),c=function(e,t){return null==(e=function(e,t){return t.length<2?e:(0,o.Z)(e,(0,a.Z)(t,0,-1))}(e,t=(0,r.Z)(t,e)))||delete e[(0,s.Z)((0,i.Z)(t))]}},58923:function(e,t){"use strict";t.Z=function(e,t){return e.has(t)}},6607:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(47838),i=n(67990),o=n(3026);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(a.Cache||o.Z),n}a.Cache=o.Z;var s,c,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,d=(s=a((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(l,(function(e,n,r,i){t.push(r?i.replace(u,"$1"):n||e)})),t}),(function(e){return 500===c.size&&c.clear(),e})),c=s.cache,s),f=n(61189),p=function(e,t){return(0,r.Z)(e)?e:(0,i.Z)(e,t)?[e]:d((0,f.Z)(e))}},42452:function(e,t,n){"use strict";var r=n(23203),i=function(){try{var e=(0,r.Z)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.Z=i},49197:function(e,t,n){"use strict";var r=n(94605),i=n(13013),o=n(73943);t.Z=function(e){return(0,o.Z)((0,i.Z)(e,void 0,r.Z),e+"")}},58055:function(e,t){"use strict";var n="object"==typeof global&&global&&global.Object===Object&&global;t.Z=n},22879:function(e,t,n){"use strict";var r=n(65976),i=n(57538),o=n(94778);t.Z=function(e){return(0,r.Z)(e,o.Z,i.Z)}},9229:function(e,t,n){"use strict";var r=n(65976),i=n(27209),o=n(62742);t.Z=function(e){return(0,r.Z)(e,o.Z,i.Z)}},23203:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r,i=n(78246),o=n(97659).Z["__core-js_shared__"],a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",s=n(80369),c=n(94549),l=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,f=u.toString,p=d.hasOwnProperty,h=RegExp("^"+f.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=function(e){return!(!(0,s.Z)(e)||(t=e,a&&a in t))&&((0,i.Z)(e)?h:l).test((0,c.Z)(e));var t},v=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return m(n)?n:void 0}},99773:function(e,t,n){"use strict";var r=(0,n(84068).Z)(Object.getPrototypeOf,Object);t.Z=r},57538:function(e,t,n){"use strict";var r=n(69878),i=n(33464),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),(0,r.Z)(a(e),(function(t){return o.call(e,t)})))}:i.Z;t.Z=s},27209:function(e,t,n){"use strict";var r=n(37891),i=n(99773),o=n(57538),a=n(33464),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)(0,r.Z)(t,(0,o.Z)(e)),e=(0,i.Z)(e);return t}:a.Z;t.Z=s},89424:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(23203),i=n(97659),o=(0,r.Z)(i.Z,"DataView"),a=n(46462),s=(0,r.Z)(i.Z,"Promise"),c=n(79228),l=(0,r.Z)(i.Z,"WeakMap"),u=n(74029),d=n(94549),f="[object Map]",p="[object Promise]",h="[object Set]",m="[object WeakMap]",v="[object DataView]",g=(0,d.Z)(o),_=(0,d.Z)(a.Z),b=(0,d.Z)(s),y=(0,d.Z)(c.Z),w=(0,d.Z)(l),k=u.Z;(o&&k(new o(new ArrayBuffer(1)))!=v||a.Z&&k(new a.Z)!=f||s&&k(s.resolve())!=p||c.Z&&k(new c.Z)!=h||l&&k(new l)!=m)&&(k=function(e){var t=(0,u.Z)(e),n="[object Object]"==t?e.constructor:void 0,r=n?(0,d.Z)(n):"";if(r)switch(r){case g:return v;case _:return f;case b:return p;case y:return h;case w:return m}return t});var E=k},62916:function(e,t){"use strict";var n=/^(?:0|[1-9]\d*)$/;t.Z=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},84264:function(e,t,n){"use strict";var r=n(28916),i=n(79458),o=n(62916),a=n(80369);t.Z=function(e,t,n){if(!(0,a.Z)(n))return!1;var s=typeof t;return!!("number"==s?(0,i.Z)(n)&&(0,o.Z)(t,n.length):"string"==s&&t in n)&&(0,r.Z)(n[t],e)}},67990:function(e,t,n){"use strict";var r=n(47838),i=n(54878),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.Z=function(e,t){if((0,r.Z)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!(0,i.Z)(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},54357:function(e,t){"use strict";var n=Object.prototype;t.Z=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},17433:function(e,t,n){"use strict";var r=n(58055),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof module&&module&&!module.nodeType&&module,a=o&&o.exports===i&&r.Z.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();t.Z=s},84068:function(e,t){"use strict";t.Z=function(e,t){return function(n){return e(t(n))}}},13013:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},i=Math.max,o=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=n(c),r(e,this,l)}}},97659:function(e,t,n){"use strict";var r=n(58055),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.Z||i||Function("return this")();t.Z=o},80877:function(e,t){"use strict";t.Z=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},73943:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r,i,o,a=function(e){return function(){return e}},s=n(42452),c=n(84111),l=s.Z?function(e,t){return(0,s.Z)(e,"toString",{configurable:!0,enumerable:!1,value:a(t),writable:!0})}:c.Z,u=Date.now,d=(r=l,i=0,o=0,function(){var e=u(),t=16-(e-o);if(o=e,t>0){if(++i>=800)return arguments[0]}else i=0;return r.apply(void 0,arguments)})},99316:function(e,t,n){"use strict";var r=n(54878);t.Z=function(e){if("string"==typeof e||(0,r.Z)(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},94549:function(e,t){"use strict";var n=Function.prototype.toString;t.Z=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},1166:function(e,t){"use strict";t.Z=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},28916:function(e,t){"use strict";t.Z=function(e,t){return e===t||e!=e&&t!=t}},78067:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r,i=n(12925),o=n(79458),a=n(94778),s=n(78953),c=n(65657),l=Math.max,u=(r=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:(0,c.Z)(n);return o<0&&(o=l(r+o,0)),(0,s.Z)(e,(0,i.Z)(t,3),o)},function(e,t,n){var s=Object(e);if(!(0,o.Z)(e)){var c=(0,i.Z)(t,3);e=(0,a.Z)(e),t=function(e){return c(s[e],e,s)}}var l=r(e,t,n);return l>-1?s[c?e[l]:l]:void 0})},94605:function(e,t,n){"use strict";var r=n(52133);t.Z=function(e){return null!=e&&e.length?(0,r.Z)(e,1):[]}},22605:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=function(e,t){return null!=e&&t in Object(e)},i=n(6607),o=n(23857),a=n(47838),s=n(62916),c=n(7614),l=n(99316),u=function(e,t){return null!=e&&function(e,t,n){for(var r=-1,u=(t=(0,i.Z)(t,e)).length,d=!1;++r<u;){var f=(0,l.Z)(t[r]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++r!=u?d:!!(u=null==e?0:e.length)&&(0,c.Z)(u)&&(0,s.Z)(f,u)&&((0,a.Z)(e)||(0,o.Z)(e))}(e,t,r)}},84111:function(e,t){"use strict";t.Z=function(e){return e}},48583:function(e,t,n){"use strict";var r=n(52357),i=n(79458),o=n(23136),a=n(65657),s=n(87347),c=Math.max;t.Z=function(e,t,n,l){e=(0,i.Z)(e)?e:(0,s.Z)(e),n=n&&!l?(0,a.Z)(n):0;var u=e.length;return n<0&&(n=c(u+n,0)),(0,o.Z)(e)?n<=u&&e.indexOf(t,n)>-1:!!u&&(0,r.Z)(e,t,n)>-1}},23857:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(74029),i=n(18742),o=function(e){return(0,i.Z)(e)&&"[object Arguments]"==(0,r.Z)(e)},a=Object.prototype,s=a.hasOwnProperty,c=a.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(e){return(0,i.Z)(e)&&s.call(e,"callee")&&!c.call(e,"callee")},u=l},47838:function(e,t){"use strict";var n=Array.isArray;t.Z=n},79458:function(e,t,n){"use strict";var r=n(78246),i=n(7614);t.Z=function(e){return null!=e&&(0,i.Z)(e.length)&&!(0,r.Z)(e)}},93530:function(e,t,n){"use strict";var r=n(79458),i=n(18742);t.Z=function(e){return(0,i.Z)(e)&&(0,r.Z)(e)}},31261:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(97659),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof module&&module&&!module.nodeType&&module,a=o&&o.exports===i?r.Z.Buffer:void 0,s=(a?a.isBuffer:void 0)||function(){return!1}},78246:function(e,t,n){"use strict";var r=n(74029),i=n(80369);t.Z=function(e){if(!(0,i.Z)(e))return!1;var t=(0,r.Z)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},7614:function(e,t){"use strict";t.Z=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},80369:function(e,t){"use strict";t.Z=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},18742:function(e,t){"use strict";t.Z=function(e){return null!=e&&"object"==typeof e}},23136:function(e,t,n){"use strict";var r=n(74029),i=n(47838),o=n(18742);t.Z=function(e){return"string"==typeof e||!(0,i.Z)(e)&&(0,o.Z)(e)&&"[object String]"==(0,r.Z)(e)}},54878:function(e,t,n){"use strict";var r=n(74029),i=n(18742);t.Z=function(e){return"symbol"==typeof e||(0,i.Z)(e)&&"[object Symbol]"==(0,r.Z)(e)}},84902:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(74029),i=n(7614),o=n(18742),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var s=n(42052),c=n(17433),l=c.Z&&c.Z.isTypedArray,u=l?(0,s.Z)(l):function(e){return(0,o.Z)(e)&&(0,i.Z)(e.length)&&!!a[(0,r.Z)(e)]}},94778:function(e,t,n){"use strict";var r=n(96877),i=n(23382),o=n(79458);t.Z=function(e){return(0,o.Z)(e)?(0,r.Z)(e):(0,i.Z)(e)}},62742:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(96877),i=n(80369),o=n(54357),a=Object.prototype.hasOwnProperty,s=function(e){if(!(0,i.Z)(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=(0,o.Z)(e),n=[];for(var r in e)("constructor"!=r||!t&&a.call(e,r))&&n.push(r);return n},c=n(79458),l=function(e){return(0,c.Z)(e)?(0,r.Z)(e,!0):s(e)}},98064:function(e,t){"use strict";t.Z=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},57099:function(e,t,n){"use strict";n.d(t,{q9t:function(){return r.Z}});var r=n(48583)},86090:function(e,t,n){"use strict";n.d(t,{Z:function(){return re}});var r=n(90497),i=n(86757),o=n(62020),a=n(84424),s=n(10541),c=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,c=t.length;++o<c;){var l=t[o],u=r?r(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),i?(0,s.Z)(n,l,u):(0,a.Z)(n,l,u)}return n},l=n(94778),u=n(62742),d=n(97659),f="object"==typeof exports&&exports&&!exports.nodeType&&exports,p=f&&"object"==typeof module&&module&&!module.nodeType&&module,h=p&&p.exports===f?d.Z.Buffer:void 0,m=h?h.allocUnsafe:void 0,v=n(57538),g=n(27209),_=n(22879),b=n(9229),y=n(89424),w=Object.prototype.hasOwnProperty,k=n(53223),E=function(e){var t=new e.constructor(e.byteLength);return new k.Z(t).set(new k.Z(e)),t},C=/\w*$/,S=n(9e3),x=S.Z?S.Z.prototype:void 0,O=x?x.valueOf:void 0,T=function(e,t,n){var r,i,o,a=e.constructor;switch(t){case"[object ArrayBuffer]":return E(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return function(e,t){var n=t?E(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?E(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return(o=new(i=e).constructor(i.source,C.exec(i))).lastIndex=i.lastIndex,o;case"[object Set]":return new a;case"[object Symbol]":return r=e,O?Object(O.call(r)):{}}},j=n(80369),D=Object.create,N=function(){function e(){}return function(t){if(!(0,j.Z)(t))return{};if(D)return D(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),P=n(99773),A=n(54357),I=n(47838),M=n(31261),L=n(18742),R=n(42052),F=n(17433),B=F.Z&&F.Z.isMap,z=B?(0,R.Z)(B):function(e){return(0,L.Z)(e)&&"[object Map]"==(0,y.Z)(e)},W=F.Z&&F.Z.isSet,U=W?(0,R.Z)(W):function(e){return(0,L.Z)(e)&&"[object Set]"==(0,y.Z)(e)},H="[object Arguments]",Z="[object Function]",q="[object Object]",V={};V[H]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object DataView]"]=V["[object Boolean]"]=V["[object Date]"]=V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Map]"]=V["[object Number]"]=V[q]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object Symbol]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Error]"]=V[Z]=V["[object WeakMap]"]=!1;var K=function e(t,n,r,s,d,f){var p,h=1&n,k=2&n,E=4&n;if(r&&(p=d?r(t,s,d,f):r(t)),void 0!==p)return p;if(!(0,j.Z)(t))return t;var C=(0,I.Z)(t);if(C){if(p=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&w.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!h)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(t,p)}else{var S=(0,y.Z)(t),x=S==Z||"[object GeneratorFunction]"==S;if((0,M.Z)(t))return function(e,t){if(t)return e.slice();var n=e.length,r=m?m(n):new e.constructor(n);return e.copy(r),r}(t,h);if(S==q||S==H||x&&!d){if(p=k||x?{}:function(e){return"function"!=typeof e.constructor||(0,A.Z)(e)?{}:N((0,P.Z)(e))}(t),!h)return k?function(e,t){return c(e,(0,g.Z)(e),t)}(t,function(e,t){return e&&c(t,(0,u.Z)(t),e)}(p,t)):function(e,t){return c(e,(0,v.Z)(e),t)}(t,function(e,t){return e&&c(t,(0,l.Z)(t),e)}(p,t))}else{if(!V[S])return d?t:{};p=T(t,S,h)}}f||(f=new i.Z);var O=f.get(t);if(O)return O;f.set(t,p),U(t)?t.forEach((function(i){p.add(e(i,n,r,i,t,f))})):z(t)&&t.forEach((function(i,o){p.set(o,e(i,n,r,o,t,f))}));var D=E?k?b.Z:_.Z:k?u.Z:l.Z,L=C?void 0:D(t);return(0,o.Z)(L||t,(function(i,o){L&&(i=t[o=i]),(0,a.Z)(p,o,e(i,n,r,o,t,f))})),p},$=n(49904),G=n(6607),Y=n(74029),Q=Function.prototype,X=Object.prototype,J=Q.toString,ee=X.hasOwnProperty,te=J.call(Object),ne=function(e){return function(e){if(!(0,L.Z)(e)||"[object Object]"!=(0,Y.Z)(e))return!1;var t=(0,P.Z)(e);if(null===t)return!0;var n=ee.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&J.call(n)==te}(e)?void 0:e},re=(0,n(49197).Z)((function(e,t){var n={};if(null==e)return n;var i=!1;t=(0,r.Z)(t,(function(t){return t=(0,G.Z)(t,e),i||(i=t.length>1),t})),c(e,(0,b.Z)(e),n),i&&(n=K(n,7,ne));for(var o=t.length;o--;)(0,$.Z)(n,t[o]);return n}))},15150:function(e,t,n){"use strict";var r=n(52133),i=n(59949),o=n(92042),a=n(84264),s=(0,o.Z)((function(e,t){if(null==e)return[];var n=t.length;return n>1&&(0,a.Z)(e,t[0],t[1])?t=[]:n>2&&(0,a.Z)(t[0],t[1],t[2])&&(t=[t[0]]),(0,i.Z)(e,(0,r.Z)(t,1),[])}));t.Z=s},33464:function(e,t){"use strict";t.Z=function(){return[]}},97635:function(e,t,n){"use strict";var r=n(10745);t.Z=function(e){return e?Infinity===(e=(0,r.Z)(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},65657:function(e,t,n){"use strict";var r=n(97635);t.Z=function(e){var t=(0,r.Z)(e),n=t%1;return t==t?n?t-n:t:0}},10745:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=/\s/,i=/^\s+/,o=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}(e)+1).replace(i,""):e},a=n(80369),s=n(54878),c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt,f=function(e){if("number"==typeof e)return e;if((0,s.Z)(e))return NaN;if((0,a.Z)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,a.Z)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var n=l.test(e);return n||u.test(e)?d(e.slice(2),n?2:8):c.test(e)?NaN:+e}},61189:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(9e3),i=n(90497),o=n(47838),a=n(54878),s=r.Z?r.Z.prototype:void 0,c=s?s.toString:void 0,l=function e(t){if("string"==typeof t)return t;if((0,o.Z)(t))return(0,i.Z)(t,e)+"";if((0,a.Z)(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},u=function(e){return null==e?"":l(e)}},87347:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(90497),i=n(94778),o=function(e){return null==e?[]:function(e,t){return(0,r.Z)(t,(function(t){return e[t]}))}(e,(0,i.Z)(e))}},1095:function(e,t,n){"use strict";var r=n(99978),i=n(92042),o=n(93530),a=(0,i.Z)((function(e,t){return(0,o.Z)(e)?(0,r.Z)(e,t):[]}));t.Z=a}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};n.r(e),n.d(e,{copyBinary:function(){return S},getFormData:function(){return x},uploadBinary:function(){return C}}),n(3262);var t=n(39671);n(74964);var r,i=n(27378),o=n(56750),a=n(79501),s=n(48217),c=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},u=(0,a.Z)(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.componentDidMount=function(){this.props.disableEscapeHotkey()},t.prototype.render=function(){return i.createElement(s.E,{className:"scrivito_modal_prompt scrivito_red scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon scrivito_icon_attention"}),i.createElement("h3",{className:"scrivito_title"},this.props.title),i.createElement("p",null,this.props.message)),i.createElement("div",{className:"scrivito_modal_body"}))},t}(i.Component)),d=n(20661),f=n(38722),p=n(17956),h=n(90457),m=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),t}(t.Ix);var g="1.13.0",_=n(80072),b=function(){function e(e){this.cmsWindow=e}return e.prototype.window=function(){return this.cmsWindow},e.prototype.setAppAdapter=function(e){this.adapter=e},e.prototype.appAdapter=function(){if(!this.adapter)throw new t.AQ;return this.adapter},e.prototype.pageId=function(){var e;return(null===(e=this.appAdapter().getCurrentAppLocation())||void 0===e?void 0:e.objId)||null},e.prototype.toUiPosition=function(e){var t=this.cmsWindow.iframe().getBoundingClientRect(),n=t.left,r=t.top,i=this.appAdapter().getScrollPosition();return i?{x:e.x+n-i.x,y:e.y+r-i.y}:e},e}(),y=n(37227);function w(e,t){var n=t.window(),r=(0,y.N7)((function(){return n.document()})).filter((function(e){return e!==t}));return{incomingMessages:e.incomingMessages.takeUntil(r),sendMessage:function(t){return e.sendMessage(t)}}}var k=n(1348),E=n(69410);function C(e,n,r,i){return h.i3.get("blobs/upload_permission").then((function(e){var n=e.url;if(!n)throw new t.AQ("Missing the URL in the upload permission");var r=e.fields;if(!r)throw new t.AQ("Missing fields in the upload permission");var i=e.blob;if(!i)throw new t.AQ("Missing blob in the upload permission");return{url:n,fields:r,blob:i}})).then((function(o){var a=o.blob,s=function(e,n){for(var r=x(),i=0,o=Object.keys(n.fields);i<o.length;i++){var a=o[i];r.append(a,n.fields[a])}return r.append("file",e),new t.s8((function(e,t){k.ajax({method:"POST",url:n.url,data:r,contentType:!1,processData:!1}).pipe(e,t)}))}(n,o).then((function(){return function(e,n,r,i){return h.i3.put("blobs/activate_upload",{obj_id:e,upload:n,filename:r,content_type:i}).then((function(e){var n=e.id;if(!n)throw new t.AQ("Missing activated upload ID in the backend response");return{id:n}}))}(e,a,r,i)}));return(0,E.gX)(s),s}))}function S(e,t,n,r){var i=encodeURIComponent(e),o={destination_obj_id:t};return n&&(o.filename=n),r&&(o.content_type=r),h.i3.put("blobs/"+i+"/copy",o)}function x(){return new FormData}var O=new t.gh((function(e){return h.i3.put("workflows/query",{queries:e}).then((function(e){return e.results}))}));function T(e){return!!e.obj}var j=n(91190),D=n(36358),N=new D.X2({loadElement:function(e){return{loader:function(){return function(e){var n=function(e){var n,r,i={workflow_id:e.workflowId};return T(e)&&(i.obj={workspace_id:e.obj.workspaceId,obj_id:e.obj.objId}),function(e){return!!e.changes}(e)&&(i.changes=(n=e.changes,r={},Object.keys(n).forEach((function(e){var i=n[e];void 0!==i&&(r[(0,t.It)(e)]=i)})),r)),i}(e);return O.retrieve(n)}(e)},invalidation:function(){return function(e){if(!T(e))return"";var t=e.obj,n=t.objId,r=t.workspaceId;return(0,j.lY)(["workspace",r],n)}(e)}}}});function P(e){return(0,D.n4)(!1,(function(){return N.get(e).getWithDefault(!1)}))}function A(e,t){var n=e.workflowId();return!!n&&P({changes:t,workflowId:n})}function I(e,n){var r=(0,t.Lg)(n.parentPath,"_scrivitoProbeNewObj"),i=n.siteId;return A(e,{_objClass:n.objClassName,_path:r,_siteId:i})}function M(e){var t=e.text;return i.createElement(i.Fragment,null,t.split(/(?=\n)/).map((function(e,t){return i.createElement("p",{key:t},e)})))}var L,R=n(90497),F=n(8484),B=n(13744),z=n(40670),W=n(42052),U=n(58923),H=Math.min,Z=n(92042),q=n(93530),V=function(e){return(0,q.Z)(e)?e:[]},K=(0,Z.Z)((function(e){var t=(0,R.Z)(e,V);return t.length&&t[0]===e[0]?function(e,t,n){for(var r=n?z.Z:B.Z,i=e[0].length,o=e.length,a=o,s=Array(o),c=1/0,l=[];a--;){var u=e[a];a&&t&&(u=(0,R.Z)(u,(0,W.Z)(t))),c=H(u.length,c),s[a]=!n&&(t||i>=120&&u.length>=120)?new F.Z(a&&u):void 0}u=e[0];var d=-1,f=s[0];e:for(;++d<i&&l.length<c;){var p=u[d],h=t?t(p):p;if(p=n||0!==p?p:0,!(f?(0,U.Z)(f,h):r(l,h,n))){for(a=o;--a;){var m=s[a];if(!(m?(0,U.Z)(m,h):r(e[a],h,n)))continue e}f&&f.push(h),l.push(p)}}return l}(t):[]}));function $(){var e;return L||(e=document.querySelector('meta[name="scrivito-asset-url-base"]'),L=e&&e.getAttribute("content")||"https://assets.scrivito.com/sjs/"+(0,t.ux)()),L}var G=function(){function e(e,t){this.getStorage=e,this.key=t,this.updateCounter=(0,y.JH)()}return e.prototype.set=function(e){this.getStorage().set(this.key,e),this.incrementUpdateCounter()},e.prototype.get=function(){return this.updateCounter.get(),this.getStorage().get(this.key)},e.prototype.clear=function(){this.getStorage().remove(this.key),this.incrementUpdateCounter()},e.prototype.incrementUpdateCounter=function(){this.updateCounter.set((this.updateCounter.get()||0)+1)},e}(),Y=n(87010),Q=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},X=new G(Y.GH,"whatsNew.enabledFeatures");function J(e){return ee().includes(e)}function ee(){var e=X.get();return Array.isArray(e)?e:[]}var te=[["propertiesDiff","public",void 0,{en:"properties_diff_en.png",de:"properties_diff_de.png"}],["widgetLibrary","public",{en:"https://www.scrivito.com/widget-library",de:"https://www.scrivito.com/widget-bibliothek"}],["sidebarChangesList","public"],["copyTree","public"],["translations","public"],["sitesPanel","public"],["preferredUserLanguage","public"],["preferredUserSidebarMode","public"],["sidebarPageProperties","beta"]];function ne(){return te}var re=n(79228),ie=n(80877),oe=re.Z&&1/(0,ie.Z)(new re.Z([,-0]))[1]==1/0?function(e){return new re.Z(e)}:function(){},ae=function(e,t,n){var r=-1,i=B.Z,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=z.Z;else if(o>=200){var l=t?null:oe(e);if(l)return(0,ie.Z)(l);a=!1,i=U.Z,c=new F.Z}else c=t?[]:s;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),s.push(u)}else i(c,d,n)||(c!==s&&c.push(d),s.push(u))}return s},se=function(e){return e&&e.length?ae(e):[]},ce=new G(Y.GH,"knownFeatures");function le(){return ce.get()||[]}function ue(e){ce.set(se(e))}var de=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function fe(e){return be().includes(e)}function pe(e){return(t=le(),be().filter((function(e){return!t.includes(e)}))).includes(e);var t}function he(e){ue(de(de([],le(),!0),[e],!1))}function me(e){var t=_e(e)[2];return t&&t[(0,f.getLocale)()]||null}function ve(e){var t=_e(e)[3];return t?$()+"/features/"+t[(0,f.getLocale)()]:null}function ge(){return ne().filter((function(e){return!ye(e[1])})).map((function(e){return e[0]}))}function _e(e){var n=ne().find((function(t){return t[0]===e}));if(!n)throw new t.AQ;return n}function be(){return ne().filter((function(e){var t=e[0];return ye(e[1])||J(t)})).map((function(e){return e[0]}))}function ye(e){return"public"===e||"beta"===e&&(0,p.ZG)()&&!0}var we=function(){return we=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},we.apply(this,arguments)};function ke(e){return(0,o.G)((function(t){return i.createElement(Ee,we({},e,t))}))}var Ee=(0,a.Z)((function(e){return i.useEffect(e.disableEscapeHotkey,[]),i.createElement(s.E,{className:"info-popup added_feature_dialog"},i.createElement("div",{className:"info-popup-headline"},i.createElement("span",{className:"info-popup-headline-content"},e.title)),i.createElement("div",{className:"info-popup-content"},i.createElement(M,{text:e.description}),e.imgUrl&&i.createElement("img",{src:e.imgUrl}),i.createElement("div",{className:"info-popup-steps"},e.docUrl&&i.createElement("span",{className:"info-popup-btn",onClick:function(){return e.docUrl&&(0,t.xw)(e.docUrl,"_blank")}},(0,f.translate)("added_feature_dialog.more_info")),i.createElement("span",{className:"info-popup-btn right",onClick:function(){he(e.feature),e.cancelDialog()}},(0,f.translate)("added_feature_dialog.close")))))})),Ce=n(83679),Se=function(){function e(e){var t;this._id=e.id,this._title=e.title,this._icon=e.icon,this._tooltip=e.tooltip,this._present=e.present,this._disabled=e.disabled,this._enabledWhileLoading=null!==(t=e.enabledWhileLoading)&&void 0!==t&&t,this._update=e.update,this._execute=e.execute,this._feature=e.feature}return e.prototype.id=function(){return this._id},e.prototype.domId=function(){return this._id.replace(/\./g,"_")},e.prototype.title=function(){return"function"==typeof this._title?this._title():this._title||""},e.prototype.icon=function(){return"function"==typeof this._icon?this._icon():this._icon},e.prototype.tooltip=function(){return"function"==typeof this._tooltip?(0,D.qu)(void 0,this._tooltip):this._tooltip},e.prototype.isPresent=function(){if(this._feature&&!fe(this._feature))return!1;var e=this._present;return void 0===e||("function"==typeof e?(0,D.qu)(!1,(function(){return!!e()})):e)},e.prototype.isEnabled=function(){return!this.isDisabled()},e.prototype.isDisabled=function(){var e=this._disabled;return"function"==typeof e?(0,D.qu)(!this._enabledWhileLoading,(function(){return!!e()})):!!e},e.prototype.isExecutable=function(){return this.isEnabled()&&this.isPresent()},e.prototype.menuItemTitle=function(){return this.reasonForBeingDisabled()||this.tooltip()||void 0},e.prototype.reasonForBeingDisabled=function(){var e=this._disabled;return"function"==typeof e?(0,D.qu)(null,(function(){return e()||null})):null},e.prototype.update=function(){if("function"==typeof this._update)return this._update()},e.prototype.needsUpdate=function(){return"function"==typeof this._update},e.prototype.execute=function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,Promise,(function(){var e,t=this;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),[4,(0,D.zD)((function(){return t.isExecutable()}))];case 1:return n.sent()?[4,this.introduceFeature()]:[3,4];case 2:return n.sent(),[4,this._execute()];case 3:return[2,n.sent()];case 4:return[3,6];case 5:return e=n.sent(),(0,Ce.M)(e),[3,6];case 6:return[2]}}))}))},e.prototype.updateParams=function(e){e.title&&(this._title=e.title),e.icon&&(this._icon=e.icon)},e.prototype.isFeatureAdded=function(){return!!this._feature&&pe(this._feature)},e.prototype.introduceFeature=function(){var e=this._feature;if(e&&pe(e))return ke({feature:e,title:(0,f.translate)("feature."+e+".title"),description:(0,f.translate)("feature."+e+".description"),docUrl:me(e),imgUrl:ve(e)})},e}(),xe=Se,Oe=n(5464),Te=n.n(Oe),je=n(83774);function De(e){return e.thumbnail?"string"==typeof e.thumbnail?i.createElement("img",{src:e.thumbnail}):i.createElement(je.Du,{content:e.thumbnail}):i.createElement("i",{className:"scrivito_icon scrivito_icon_scrivito"})}function Ne(e,t){var n=Pe(t);return e.some((function(e){return e&&Pe(e).includes(n)}))}function Pe(e){return e.trim().replace(/\s+/g," ").toLocaleLowerCase()}var Ae=n(69718),Ie=n(65657),Me=function(e,t,n){return e&&e.length?(t=n||void 0===t?1:(0,Ie.Z)(t),(0,Ae.Z)(e,0,t<0?0:t)):[]};function Le(e,t,n){void 0===n&&(n=(0,Y.Kt)());var r=Re(e,n);r.unshift(t),r=se(r),r=Me(r,25),n.set(Fe(e),r)}function Re(e,t){void 0===t&&(t=(0,Y.Kt)());var n=t.get(Fe(e));return Array.isArray(n)?function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],n,!0):[]}function Fe(e){return"usageHistory."+e}var Be="objCreation";function ze(e){Le(Be,e)}function We(e,t){var n=K(Re(Be),e.map((function(e){return e.id()}))),r=[];return n.forEach((function(t){var n=e.find((function(e){return e.id()===t}));n&&r.push(n)})),Me(r,t)}var Ue=n(15150);function He(e){return(0,Ue.Z)(e,(function(e){return e.title().toLowerCase()}))}var Ze=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qe=function(){return qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qe.apply(this,arguments)};function Ve(e){return(0,o.G)((function(t){return i.createElement(Ke,qe({},e,t))}))}var Ke=function(e){function t(t){var n=e.call(this,t)||this;return n.state={searchTerm:""},n.onCloseClick=n.onCloseClick.bind(n),n.selectLibraryItem=n.selectLibraryItem.bind(n),n.onObjClassSearch=n.onObjClassSearch.bind(n),n}return Ze(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{className:"scrivito_obj_class_dialog obj_class_dialog scrivito_modal_large scrivito_show"},i.createElement("div",{className:"scrivito_modal_header flex_header"},i.createElement("i",{className:"scrivito_icon scrivito_icon_clone"}),i.createElement("h3",{className:"flex_title text_ellipsis"},this.props.title),i.createElement("form",{onSubmit:function(e){return e.preventDefault()}},i.createElement("div",{className:"input_group_search no_button"},i.createElement("input",{value:this.state.searchTerm,placeholder:(0,f.translate)("obj_class_dialog.search_placeholder"),type:"search",onChange:this.onObjClassSearch,autoFocus:!0,tabIndex:1}),i.createElement("div",{className:"search_clear",onClick:function(){return e.setState({searchTerm:""})}}),i.createElement("span",{className:"input_group_btn"},i.createElement("i",{className:"scrivito_icon scrivito_icon_search"}))))),i.createElement("div",{className:"scrivito_modal_body"},i.createElement($e,{libraryItems:this.props.libraryItems,selectLibraryItem:this.selectLibraryItem,searchTerm:this.state.searchTerm})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("span",{className:"scrivito_button scrivito_cancel",onClick:this.onCloseClick},(0,f.translate)("cancel"))))},t.prototype.onObjClassSearch=function(e){e.preventDefault(),e.stopPropagation(),this.setState({searchTerm:e.target.value})},t.prototype.onCloseClick=function(e){e.stopPropagation(),this.props.cancelDialog()},t.prototype.selectLibraryItem=function(e){ze(e.id());var t=e.create(this.props.createObjParams);this.props.dialogDone(t)},t.displayName="ObjClassDialog",t}(i.Component),$e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ze(t,e),t.prototype.render=function(){return i.createElement(i.Fragment,null,this.props.searchTerm?i.createElement(Ge,{searchTerm:this.props.searchTerm,selectLibraryItem:this.props.selectLibraryItem,libraryItems:this.getFilteredLibraryItems(this.props.searchTerm)}):i.createElement(i.Fragment,null,i.createElement(Ye,{className:"last_used_class_list",title:(0,f.translate)("obj_class_dialog.last_used"),libraryItems:this.getLastUsedLibraryItems(),selectLibraryItem:this.props.selectLibraryItem}),i.createElement(Ye,{className:"all_class_list",title:(0,f.translate)("obj_class_dialog.all"),libraryItems:this.getAllLibraryItems(),selectLibraryItem:this.props.selectLibraryItem})))},t.prototype.getFilteredLibraryItems=function(e){return e?this.getAllLibraryItems().filter((function(t){return Ne([t.className(),t.title(),t.description()],e)})):[]},t.prototype.getLastUsedLibraryItems=function(){return this.props.libraryItems.length<15?[]:He(We(this.props.libraryItems,5))},t.prototype.getAllLibraryItems=function(){return He(this.props.libraryItems)},t.displayName="ObjClassDialog.DialogBody",t}(i.Component);function Ge(e){var t=e.libraryItems,n=e.selectLibraryItem,r=e.searchTerm;return t.length?i.createElement(Ye,{className:"search_results_class_list",libraryItems:t,selectLibraryItem:n,title:(0,f.translate)("obj_class_dialog.search_results",t.length),searchTerm:r}):i.createElement("div",{className:"section obj_class_item_grid"},i.createElement("div",{className:"divider"},i.createElement("span",null,(0,f.translate)("obj_class_dialog.search_results",0))),i.createElement("div",{className:"scrivito_empty_state scrivito_bright"},i.createElement("div",{className:"illustration no_results"}),i.createElement("span",null,(0,f.translate)("obj_class_dialog.no_search_results"))))}function Ye(e){var t=i.useState(!0),n=t[0],r=t[1];if(!e.libraryItems.length)return null;var o=n?"scrivito_icon_chevron_down":"scrivito_icon_chevron_up";return i.createElement("div",{className:e.className+" section obj_class_item_grid"},i.createElement("div",{className:"divider"},i.createElement("span",null,e.title),i.createElement("i",{className:"scrivito_icon "+o,onClick:function(){return r(!n)}})),n&&e.libraryItems.map((function(t){return i.createElement(Qe,{key:t.id(),onSelect:function(){return e.selectLibraryItem(t)},thumbnail:t.thumbnail(),title:t.title(),highlight:e.searchTerm,description:t.description()})})))}var Qe=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n.triggerSelectWithEnter=n.triggerSelectWithEnter.bind(n),n}return Ze(t,e),t.prototype.render=function(){return i.createElement("div",{className:"obj_class_item",onClick:this.onClick,onKeyUp:this.triggerSelectWithEnter},i.createElement("div",{className:"obj_class_item_content",tabIndex:2},i.createElement("div",{className:"thumbnail"},i.createElement(De,{thumbnail:this.props.thumbnail})),this.props.highlight?i.createElement(i.Fragment,null,i.createElement("div",{className:"title"},i.createElement(Te(),{searchWords:this.props.highlight.split(" "),textToHighlight:this.props.title})),i.createElement("div",{className:"description"},i.createElement(Te(),{searchWords:this.props.highlight.split(" "),textToHighlight:this.props.description}))):i.createElement(i.Fragment,null,i.createElement("div",{className:"title"},this.props.title),i.createElement("div",{className:"description"},this.props.description))))},t.prototype.triggerSelectWithEnter=function(e){13===e.keyCode&&this.props.onSelect()},t.prototype.onClick=function(e){e.stopPropagation(),this.props.onSelect()},t.displayName="ObjClassDialog.ObjClassItem",t}(i.Component),Xe=n(48583),Je=n(78067),et=n(86090),tt=function(){return tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tt.apply(this,arguments)},nt=function(){function e(e){var t=e.state,n=e.loader;this.loadableData=new D.of({state:t,loader:function(){return n().then((function(e){var t={};return e.forEach((function(e){var n=e[0],r=e[1];return t[n]=r})),t}))}})}return e.prototype.setCollection=function(e){this.loadableData.set(e)},e.prototype.getCollection=function(){var e=this;return(0,D.qu)({},(function(){return e.loadableData.getWithDefault({})}))},e.prototype.addItem=function(e,t){var n=this;this.loadCollection().then((function(r){var i;n.loadableData.set(tt(tt({},r),((i={})[e]=t,i)))}))},e.prototype.hasItem=function(e){return!!this.getCollection()[e]},e.prototype.getItem=function(e){return this.getCollection()[e]||{}},e.prototype.updateItem=function(e,t){var n=this;return this.loadCollection().then((function(r){var i,o=r[e];o&&n.loadableData.set(tt(tt({},r),((i={})[e]=tt(tt({},o),t),i)))}))},e.prototype.deleteItem=function(e){var t=this;return this.loadCollection().then((function(n){var r=tt({},n);delete r[e],t.loadableData.set(r)}))},e.prototype.loadCollection=function(){var e=this;return(0,D.zD)((function(){return e.loadableData.get()})).then((function(e){if(void 0===e)throw new t.AQ("Missing collection data");return e}))},e}();function rt(){return["access_all_workspaces","manage_builtin_visibility_categories","manage_custom_visibility_categories","manage_users","manage_workflows","publish_all_content","read_all_content"].sort()}var it=new D.X2({loadElement:function(e){return{loader:function(){return h.i3.get("teams/"+e+"/users").then((function(e){return e.results}))}}}});function ot(e){it.get(e).reset()}var at=new D.X2({loadElement:function(e){return{loader:function(){return h.i3.get("users/"+e+"/teams").then((function(e){return e.results}))}}}});function st(e){return at.get(e).getWithDefault([])}function ct(e){at.get(e).reset()}var lt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ut=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},dt=function(){function e(e){this._id=e}return e.prototype.id=function(){return this._id},e.prototype.title=function(){return this.getData().title||""},e.prototype.description=function(){return this.getData().description||""},e.prototype.permissions=function(){var e=rt();return(this.getData().permissions||[]).filter((function(t){return e.includes(t)}))},e.prototype.hasPermission=function(e){return-1!==this.permissions().indexOf(e)},e.prototype.users=function(){return t=this.id(),e=it.get(t).getWithDefault([]),kt(wt().filter((function(t){return(0,Xe.Z)(e,t)})).map((function(e){return new bt(e)})));var e,t},e.prototype.equals=function(t){return t instanceof e&&this.id()===t.id()},e.prototype.getData=function(){return vt.getItem(this.id())},e}();function ft(e){return pt().filter((function(t){return(0,Xe.Z)(e,t.id())}))}function pt(e){var t=(void 0===e?{}:e).filterBy,n=Object.keys(vt.getCollection()).map((function(e){return new dt(e)}));return t&&(n=n.filter((function(e){return Ne([e.title()],t)}))),(0,Ue.Z)(n,(function(e){return e.title()}))}function ht(e,t){return h.i3.put("teams/"+t.id()+"/users/"+e).then((function(){}))}function mt(e,t){return h.i3.delete("teams/"+t.id()+"/users/"+e).then((function(){}))}var vt=new nt({state:y.n2.subState("teams"),loader:function(){return h.i3.get("teams").then((function(e){return e.results.map((function(e){return[e.id,lt(e,["id"])]}))}))}}),gt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},_t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},bt=function(){function e(e){this._id=e}return e.where=function(t){var n=wt().map((function(t){return new e(t)}));return t.filterBy&&(n=n.filter((function(e){return Ne([e.id(),e.email(),e.name()],t.filterBy)}))),kt(n)},e.create=function(t){return h.i3.post("users",t).then((function(t){var n=t.id,r=gt(t,["id"]);return yt.addItem(n,r),new e(n)}))},e.store=function(e){return yt.setCollection(e),this.where({filterBy:""})},e.prototype.id=function(){return this._id},e.prototype.email=function(){return this.getData().email||""},e.prototype.name=function(){return this.getData().name},e.prototype.isReadOnly=function(){return!!this.getData().readonly},e.prototype.isPending=function(){return!!this.getData().pending},e.prototype.equals=function(t){return t instanceof e&&this.id()===t.id()},e.prototype.destroy=function(){var e=this.id();return h.i3.delete("users/"+e).then((function(){yt.deleteItem(e).then((function(){ct(e),it.clear()}))}))},e.prototype.teams=function(){return ft(st(this.id()))},e.prototype.updateTeams=function(e){var n=this;return(0,D.zD)((function(){return n.teams()})).then((function(r){return t.s8.all(_t(_t([],e.map((function(e){if(!r.find((function(t){return t.equals(e)})))return ht(n.id(),e).then((function(){return ot(e.id())}))})),!0),r.map((function(t){if(!e.find((function(e){return e.equals(t)})))return mt(n.id(),t).then((function(){return ot(t.id())}))})),!0)).then((function(){return ct(n.id())}))}))},e.prototype.getData=function(){return yt.getItem(this.id())},e}(),yt=new nt({state:y.n2.subState("members"),loader:function(){return h.i3.get("users/list").then((function(e){return e.results.map((function(e){return[e.id,gt(e,["id"])]}))}))}});function wt(){return Object.keys(yt.getCollection())}function kt(e){return(0,Ue.Z)(e,(function(e){return e.name()||e.email()}))}var Et=n(77153);function Ct(){var e=(0,Et.getSessionData)();if(!e)throw new t.AQ("Access to user id before session loaded!");return e.user_id}var St=function(){return St=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},St.apply(this,arguments)},xt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Ot=function(){function e(e){this.id=e}return e.get=function(t){if(!Nt(t))throw new Ht('User with id "'+t+'" not found');return new e(t)},e.suggest=function(t){return(0,D.zD)((function(){return Me(function(e){var t=e.toLowerCase();return Dt().filter((function(e){return!!e.active&&e.description.toLowerCase().indexOf(t)>=0}))}(t),20).map((function(t){return new e(t.id)}))}))},e.store=function(e,t){var n=xt(xt([],(0,D.qu)([],Dt),!0),[St({id:e},t)],!1);jt().set({results:n})},Object.defineProperty(e.prototype,"description",{get:function(){var e=Nt(this.id);return e?e.description:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"email",{get:function(){var e=Nt(this.id);return e?e.email:""},enumerable:!1,configurable:!0}),e}(),Tt=Ot;function jt(){return new D.of({state:y.n2.subState("builtInUserData"),loader:function(){return h.i3.get("users")}})}function Dt(){return jt().getOrThrow().results}function Nt(e){return(0,Je.Z)(Dt(),{id:e})}var Pt=n(76820),At=new t.gh((function(e){return(0,Pt.hj)("PUT","users/mget",{data:{ids:e},skip_write_monitor:!0})})),It=function(){return It=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},It.apply(this,arguments)},Mt=function(){function e(e){this.id=e,this.loadableData=Lt(e)}return e.get=function(t){return Lt(t).getOrThrow(),new e(t)},e.suggest=function(t){return(0,Pt.xF)("GET","users/suggest?input="+t).then((function(t){return t.map((function(t){return e.store(t.id,t),e.get(t.id)}))}))},e.store=function(e,t){Lt(e).set(It({id:e},t))},Object.defineProperty(e.prototype,"description",{get:function(){return this.loadableData.getOrThrow().description||(0,f.translate)("custom_user_data.user_description_not_available",this.id)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"email",{get:function(){return""},enumerable:!1,configurable:!0}),e}();function Lt(e){return new D.of({state:y.n2.subState("custom_user_data").subState(e),loader:function(){return function(e){return At.retrieve(e).then((function(t){if(t)return t;throw new Ht('User with id "'+e+'" not found')}))}(e)}})}var Rt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(e){function t(t){return e.call(this,t)||this}return Rt(t,e),t}(t.Ix),Bt=n(39907),zt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wt=function(){function e(e){this.userData=e}return e.get=function(t){return new e(Ut().get(t))},Object.defineProperty(e,"current",{get:function(){var n=Ct();if(n)return e.get(n);throw new t.ir("Missing user")},enumerable:!1,configurable:!0}),e.suggest=function(t){return Ut().suggest(t).then((function(t){return t.map((function(t){return new e(t)}))}))},e.store=function(e,t){Ut().store(e,t)},Object.defineProperty(e.prototype,"id",{get:function(){return this.userData.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this.userData.description},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"email",{get:function(){return this.userData.email},enumerable:!1,configurable:!0}),e}();function Ut(){return(0,Bt.t3)()?Mt:Tt}var Ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zt(t,e),t}(Ft),Zt=n(68723),qt=function(e,t){return(0,Zt.Z)(e,t)};function Vt(){return Kt.getWithDefault([])}var Kt=new D.of({state:y.n2.subState("startableWorkflowIds"),loader:function(){return h.i3.get("workflows/startable").then((function(e){return e.results}))}}),$t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Gt=["_all"],Yt=function(){function e(e){this._id=e}return e.prototype.id=function(){return this._id},e.prototype.title=function(){return this.getData().title||""},e.prototype.description=function(){return this.getData().description||""},e.prototype.constraints=function(){return this.getData().constraints||[]},e.prototype.hasReview=function(){return!!this.getData().has_review},e.prototype.allowsWidgetLibrary=function(){return!!this.getData().allows_widget_library},e.prototype.editorTeams=function(){return this.hasAllEditorTeams()?pt():ft(this.editorTeamIds())},e.prototype.publisherTeams=function(){return this.hasAllPublisherTeams()?pt():ft(this.publisherTeamIds())},e.prototype.hasAllEditorTeams=function(){return qt(this.editorTeamIds(),Gt)},e.prototype.hasAllPublisherTeams=function(){return qt(this.publisherTeamIds(),Gt)},e.prototype.equals=function(t){return t instanceof e&&this.id()===t.id()},e.prototype.editorTeamIds=function(){return this.getData().editor_team_ids||[]},e.prototype.publisherTeamIds=function(){return this.getData().publisher_team_ids||[]},e.prototype.getData=function(){return tn.getItem(this.id())},e}();function Qt(e){var t=(void 0===e?{}:e).filterBy,n=Object.keys(tn.getCollection()).map((function(e){return new Yt(e)}));return t&&(n=n.filter((function(e){return Ne([e.title(),e.description()],t)}))),(0,Ue.Z)(n,(function(e){return e.title()}))}function Xt(){return Qt().filter((function(e){return(0,Xe.Z)(Vt(),e.id())}))}function Jt(e){return Xt().filter((function(t){return P({obj:{objId:e,workspaceId:"published"},workflowId:t.id()})}))}function en(e){return(0,Xe.Z)(Object.keys(tn.getCollection()),e)?new Yt(e):null}var tn=new nt({state:y.n2.subState("workflows"),loader:function(){return h.i3.get("workflows").then((function(e){return e.results.map((function(e){return[e.id,$t(e,["id"])]}))}))}});function nn(e){var t={};return void 0!==e.title&&(t.title=e.title),void 0!==e.description&&(t.description=e.description),void 0!==e.constraints&&(t.constraints=e.constraints),void 0!==e.hasReview&&(t.has_review=e.hasReview),void 0!==e.allowsWidgetLibrary&&(t.allows_widget_library=e.allowsWidgetLibrary),void 0!==e.editorTeams&&(t.editor_team_ids=rn(e.editorTeams)),void 0!==e.publisherTeams&&(t.publisher_team_ids=rn(e.publisherTeams)),t}function rn(e){return qt(e,Gt)?e:e.map((function(e){return e.id()}))}var on=n(98728),an=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},sn=function(){function e(e,t){this.id=e,this.loadableData=dn(e),t&&this.assignAttributes(t)}return e.all=function(){var e=hn({state:vn(),loader:ln});return(0,Ue.Z)(e,mn)},e.readable=function(){return e.all().filter((function(e){return e.currentUserCan("read")&&!e.isPublished()}))},e.writable=function(){return e.all().filter((function(e){return e.currentUserCan("write")}))},e.ownedBy=function(t){return e.all().filter((function(e){return e.isOwnedBy(t)}))},e.createAsync=function(t,n,r){return h.i3.post("workspaces",{workspace:{title:t,auto_update:!0,restore_revision:r,workflow_id:n}}).then((function(t){return vn().clear(),new e(t.id,an(t,["id"]))}))},e.get=function(t){var n=new e(t);return n.ensureAvailable(),n},e.getWithoutLoadingError=function(e){try{return this.get(e)}catch(e){if(e instanceof Ft)return null;if(e instanceof D.cu)return;throw e}},Object.defineProperty(e,"published",{get:function(){return this.get("published")},enumerable:!1,configurable:!0}),Object.defineProperty(e,"selected",{get:function(){try{return this.get((0,on.tV)())}catch(e){if(e instanceof Ft)return this.published;throw e}},enumerable:!1,configurable:!0}),e.byModifiedObj=function(e){var t=e.id(),n=hn({state:pn().subState("byModifiedObj").subState(t),loader:function(){return function(e){return h.i3.get("workspaces/by_modified_obj",{id:e}).then((function(e){return e.results}))}(t)}});return(0,Ue.Z)(n,mn)},e.storeWithAttributes=function(t,n){return new e(t,n)},e.prototype.isPublished=function(){return"published"===this.id},e.prototype.currentUserCan=function(e){if(!(0,Et.getSessionData)())return!1;var t=this.get("user_permissions");return!!t&&(0,Xe.Z)(t,e)},Object.defineProperty(e.prototype,"title",{get:function(){return this.get("title")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"titleForEditor",{get:function(){return this.isPublished()?(0,f.translate)("workspace.title.published"):this.title||(0,f.translate)("workspace.title.blank")},enumerable:!1,configurable:!0}),e.prototype.workflow=function(){var e=this.workflowId();return e?en(e):null},e.prototype.workflowId=function(){return this.get("workflow_id")||null},Object.defineProperty(e.prototype,"memberships",{get:function(){return this.get("memberships")||{}},enumerable:!1,configurable:!0}),e.prototype.isAutoUpdate=function(){return!!this.get("auto_update")},e.prototype.primaryOwner=function(){var e=this.ownerIds().sort()[0];if(e)try{return Wt.get(e)}catch(e){if(e instanceof Ht)return;throw e}},e.prototype.isOwnedBy=function(e){return!!e&&(0,Xe.Z)(this.ownerIds(),e)},e.prototype.isInReviewStage=function(){return"_review"===this.get("stage")},e.prototype.isAssigned=function(){return this.assigneeIds().length>0},e.prototype.isAssignedTo=function(e){return(0,Xe.Z)(this.assigneeIds(),e)},e.prototype.otherWritable=function(){var t=this;return e.writable().filter((function(e){return e.id!==t.id}))},e.prototype.submitForReview=function(){return this.requestBackend("put","workspaces/"+this.id+"/submit",{stage:"_review"})},e.prototype.withdraw=function(){return this.requestBackend("put","workspaces/"+this.id+"/submit",{stage:null})},e.prototype.assign=function(e){return this.requestBackend("put","workspaces/"+this.id+"/assignees/"+e)},e.prototype.unassign=function(e){return this.requestBackend("delete","workspaces/"+this.id+"/assignees/"+e)},e.prototype.destroy=function(){var e=this;return h.i3.delete("workspaces/"+this.id).then((function(){fn(e.id).clear(),pn().clear()}))},e.prototype.update=function(e){return this.requestBackend("put","workspaces/"+this.id,{workspace:e})},e.prototype.rebase=function(){return h.i3.put("workspaces/"+this.id+"/rebase").then((function(){}))},e.prototype.membersCount=function(){return Object.keys(this.memberships).length},e.prototype.hasConflicts=function(){if((0,on.tV)()!==this.id)throw new t.AQ("#hasConflicts only works for current workspace.");return!on.Jj.where("_conflicts","equals",!0).iterator().next().done},e.prototype.equals=function(t){return t instanceof e&&this.id===t.id},e.prototype.assigneeIds=function(){return this.get("assignees")||[]},e.prototype.ownerIds=function(){for(var e=[],t=0,n=Object.keys(this.memberships);t<n.length;t++){var r=n[t];"owner"===this.memberships[r].role&&e.push(r)}return e},e.prototype.get=function(e){return this.loadableData.getOrThrow()[e]},e.prototype.requestBackend=function(e,t,n){var r=this;return h.i3[e](t,n).then((function(e){e.id;var t=an(e,["id"]);r.assignAttributes(t)}))},e.prototype.assignAttributes=function(e){this.loadableData.set(e)},e.prototype.ensureAvailable=function(){this.loadableData.getOrThrow()},e}(),cn=sn;function ln(e){return un(e.push).then((function(e){return e.map((function(e){return e.id}))}))}function un(e){return h.i3.get("workspaces").then((function(t){var n=t.results;return n.forEach((function(t){var n=t.id,r=an(t,["id"]),i=dn(n);e((function(){return i.set(r)}))})),n}))}function dn(e){return new D.of({state:fn(e),loader:function(t){var n=t.push;return function(e,t){return un(t.push).then((function(t){var n=(0,Je.Z)(t,{id:e});if(!n)throw new Ft("workspace with id "+e+" not found.");return(0,et.Z)(n,"id")}))}(e,{push:n})}})}function fn(e){return y.n2.subState("workspace").subState(e)}function pn(){return y.n2.subState("workspaceQuery")}function hn(e){var n=e.state,r=e.loader,i=new D.of({state:n,loader:r}).get();return i?i.map((function(e){return sn.getWithoutLoadingError(e)})).filter(t.EN):[]}function mn(e){return e.isPublished()?"":e.titleForEditor.toLowerCase()}function vn(){return pn().subState("workspaceList")}function gn(e){return void 0===e&&(e=(0,D.n4)(void 0,(function(){return cn.selected}))),void 0===e?_n((0,on.f$)()):e.currentUserCan("write")?null:_n(e.isPublished())}function _n(e){var t=e?"cannot_edit.workspace_is_published":"cannot_edit.requires_workspace_write_permission";return(0,f.translate)(t)}var bn=n(8718),yn=n(96472);function wn(){return bn.P.all().map(kn)}function kn(e){return{id:function(){return e.name},className:function(){return e.name},thumbnail:function(){return e.thumbnail()},title:function(){return e.title()},description:function(){return e.description()},isHiddenInSelectionDialogs:function(){return e.isHiddenInSelectionDialogs()},create:function(t){var n=t.siteId,r=t.path,i=t.restriction;return(0,yn.$)({objClass:e.name,path:r,restriction:i,siteId:n})}}}var En=n(76480),Cn=n(82330);function Sn(e){return(0,Cn.oP)(),En.X.navigateTo(e)}var xn=n(97434),On=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Tn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function jn(e,t){return void 0===t&&(t={title:"commands.add_subpage.current_page.title",tooltip:"commands.add_subpage.current_page.tooltip",parentWithoutPath:"commands.add_subpage.current_page.no_path"}),new xe({id:"scrivito.sdk.add_subpage",title:function(){var n=Nn(e).libraryItems;return 1===(null==n?void 0:n.length)?(0,f.translate)("commands.add_subpage.current_page.detailed_title",n[0].title()):(0,f.translate)(t.title)},icon:["scrivito_icon_inv_plus","className"],tooltip:function(){var n=on.Jj.get(e);if(n)return(0,f.translate)(t.tooltip,(0,xn.VA)(n))},present:function(){return!!on.Jj.get(e)},disabled:function(){return function(e,t){var n=gn();if(n)return n;var r=Nn(e);return r.reasonForDisabled?r.reasonForDisabled:r.parentPath?void 0:(0,f.translate)(t.parentWithoutPath)}(e,t)},execute:function(){return On(this,void 0,void 0,(function(){return Tn(this,(function(t){return[2,Dn(e)]}))}))}})}function Dn(e){return On(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Tn(this,(function(c){switch(c.label){case 0:return n=Nn(e),r=n.siteId,i=n.parentPath,o=n.libraryItems,a=(0,t.Lg)(i,(0,t.kb)()),1===o.length?[2,Sn(o[0].create({siteId:r,path:a}).id())]:[4,Ve({title:(0,f.translate)("commands.add_subpage.dialog.title"),libraryItems:o,createObjParams:{siteId:r,path:a}})];case 1:return(s=c.sent()).dialogCancelled||Sn(s.value.id()),[2]}}))}))}function Nn(e){var t=on.Jj.get(e);if(!t)return{};var n=t.siteId(),r=t.path(),i=bn.P.get(t.objClass());if(!n||!r||!i)return{};var o=bn.P.validPageClassesInSelectionDialogs().map((function(e){return e.name})),a=wn().filter((function(e){var t=e.className(),n=bn.P.get(t);return n&&o.includes(t)&&n.isValidParentClass(i)&&i.isValidChildClass(n)}));if(0===a.length)return{reasonForDisabled:(0,f.translate)("commands.add_subpage.disabled.no_suitable_subpages")};var s=cn.selected,c=a.filter((function(e){var t=e.className();return I(s,{objClassName:t,parentPath:r,siteId:n})}));return 0===c.length?{reasonForDisabled:(0,f.translate)("commands.add_subpage.disabled.workflow_disallows_create")}:{siteId:n,parentPath:r,libraryItems:c}}var Pn=function(){return Pn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pn.apply(this,arguments)};function An(e){return(0,o.G)((function(t){return i.createElement(In,Pn({},e,t))}))}function In(e){return i.createElement(s.E,{className:"adjust_language_dialog scrivito_modal_prompt scrivito_blue scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon scrivito_icon_comments"}),i.createElement("h3",null,(0,f.translate)("adjust_language_dialog.title")),i.createElement("p",null,e.description)),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_cancel",onClick:e.cancelDialog},(0,f.translate)("adjust_language_dialog.cancel")),i.createElement("a",{className:"scrivito_button scrivito_left",onClick:function(){return e.dialogDone({wantsChange:!0})}},(0,f.translate)("adjust_language_dialog.adjust_language")),i.createElement("a",{className:"scrivito_button scrivito_left scrivito_darkgrey",onClick:function(){return e.dialogDone({wantsChange:!1})}},(0,f.translate)("adjust_language_dialog.keep_language"))))}var Mn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ln=function(){function e(e,t){this._id=e,this.loadableCollection=t}return e.prototype.id=function(){return this._id},e.prototype.title=function(){return this.getData().title||""},e.prototype.description=function(){return this.getData().description||""},e.prototype.groups=function(){return this.getData().groups||[]},e.prototype.isEnabled=function(){return!!this.getData().enabled},e.prototype.isBuiltin=function(){return $n(this.id())},e.prototype.isCustom=function(){return!this.isBuiltin()},e.prototype.isPublic=function(){return Zn(this.id())},e.prototype.isRestricted=function(){return!this.isPublic()},e.prototype.getData=function(){return this.loadableCollection.getItem(this.id())},e}();function Rn(e){var t=(void 0===e?{}:e).filterBy,n=Object.keys(Yn.getCollection()).map((function(e){return new Ln(e,Yn)}));return t&&(n=n.filter((function(e){return Ne(function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e.title(),e.description()],e.groups(),!0),t)}))),zn(n)}function Fn(){y.n2.subState("visibilityCategories").subState("selectable").clear()}function Bn(e){return new Ln(e,Qn)}function zn(e){return e.sort((function(e,t){return Wn(e).localeCompare(Wn(t))}))}function Wn(e){return e.title()||(e.isRestricted()?e.id():"")}function Un(e){return Qn.hasItem(e)?Bn(e):null}function Hn(e){return"_auth"===e}function Zn(e){return"_public"===e}function qn(e){return!$n(e)}function Vn(e){if(!$n(e))throw new t.AQ('Invalid access of custom category "'+e+'"')}function Kn(e){if($n(e))throw new t.AQ('Invalid access of builtin category "'+e+'"')}function $n(e){return Hn(e)||Zn(e)}var Gn=new nt({state:y.n2.subState("visibilityCategories").subState("builtin"),loader:function(){return h.i3.get("visibility_categories/builtin").then((function(e){return e.results.map((function(e){return[e.id,Mn(e,["id"])]}))}))}}),Yn=new nt({state:y.n2.subState("visibilityCategories").subState("custom"),loader:function(){return h.i3.get("visibility_categories").then((function(e){return e.results.map((function(e){return[e.id,Mn(e,["id"])]}))}))}}),Qn=new nt({state:y.n2.subState("visibilityCategories").subState("selectable"),loader:function(){return h.i3.get("visibility_categories/selectable").then((function(e){return e.results.map((function(e){return[e.id,Mn(e,["id"])]}))}))}});function Xn(e){return e.isRestricted()?"scrivito_icon_visibility":"scrivito_icon_visibility_public"}function Jn(e){return e.isBuiltin()?(0,f.translate)("visibility_category."+e.id()+".title"):e.title()}function er(e){return e.isBuiltin()?(0,f.translate)("visibility_category."+e.id()+".description"):e.description()}var tr=(0,a.Z)((function(e){var t=e.className,n=e.category,r=e.onClick,o=Jn(n),a=er(n),s="scrivito_icon "+Xn(n),c="scrivito_select_option "+(t||"");return i.createElement("div",{className:c,onClick:function(e){e.stopPropagation(),r&&r()},title:a},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:s})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},o),i.createElement("span",{className:"scrivito_list_meta"},a)))}));function nr(e){var t=e.category,n=e.className,r=e.onClick;if(t)return i.createElement(tr,{className:n,category:t,onClick:r});var o="scrivito_select_option "+(n||""),a=t?"scrivito_icon "+Xn(t):"scrivito_icon scrivito_icon_visibility",s=(0,f.translate)(t?Jn(t):"unknown"),c=t?er(t):void 0;return i.createElement("div",{className:o,onClick:r,title:c},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:a})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},s),c&&i.createElement("span",{className:"scrivito_list_meta"},c)))}var rr,ir=(0,a.Z)((function(e){var t=e.restriction,n=e.onChange,r=i.useState(!1),o=r[0],a=r[1],s=Un(t),c=zn(Object.keys(Qn.getCollection()).map(Bn)).filter((function(e){return e.id()!==(null==s?void 0:s.id())}));return i.createElement("div",{className:"scrivito_select"},i.createElement(nr,{category:s,onClick:l}),o&&i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_select_overlay",onClick:l}),i.createElement("div",{className:"scrivito_select_options"},i.createElement(nr,{className:"active",category:s,onClick:l}),c.map((function(e){return i.createElement(tr,{key:e.id(),category:e,onClick:function(){return function(e){n(e.id()),a(!1)}(e)}})})))));function l(){a((function(e){return!e}))}})),or=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ar=function(){return ar=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ar.apply(this,arguments)};function sr(e){return(0,o.G)((function(t){return i.createElement(cr,ar({},e,t))}))}var cr=(0,a.Z)(((rr=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selectedRestriction:void 0},n.keepRestriction=n.keepRestriction.bind(n),n.changeRestriction=n.changeRestriction.bind(n),n.selectRestriction=n.selectRestriction.bind(n),n}return or(t,e),t.prototype.render=function(){var e=ur(this.selectedRestriction()),t=ur(this.props.sourceRestriction);return i.createElement(s.E,{className:"obj_restriction_dialog scrivito_modal_prompt scrivito_blue scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon scrivito_icon_visibility"}),i.createElement("h3",null,this.props.title),this.getDescription()),i.createElement("div",{className:"scrivito_modal_body overflow_visible"},this.hasRestrictionSelect()&&i.createElement(ir,{restriction:this.selectedRestriction(),onChange:this.selectRestriction})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_cancel",onClick:this.props.cancelDialog},(0,f.translate)("cancel")),i.createElement("a",{className:this.changeButtonClassName(),onClick:e?this.changeRestriction:void 0},(0,f.translate)("obj_restriction_dialog.change_visibility")),t&&i.createElement("a",{className:"scrivito_keep_restriction scrivito_button scrivito_left scrivito_darkgrey",onClick:this.keepRestriction},(0,f.translate)("obj_restriction_dialog.dont_change"))))},t.prototype.changeButtonClassName=function(){return"scrivito_change_restriction scrivito_button scrivito_left "+(ur(this.selectedRestriction())?"scrivito_blue":"scrivito_disabled")},t.prototype.selectedRestriction=function(){var e;return null!==(e=this.state.selectedRestriction)&&void 0!==e?e:this.props.targetRestriction},t.prototype.getDescription=function(){var e=this.props,t=e.descriptionLocalizerKey,n=e.descriptionWithSelectLocalizerKey,r=e.sourceRestriction,o=e.sourceTitle,a=e.targetRestriction,s=e.targetTitle,c=this.hasRestrictionSelect()?n:t,l=(0,f.translate)(c,{sourceTitle:o,sourceVisibility:lr(r),targetTitle:s,targetVisibility:lr(a)});return i.createElement(M,{text:l})},t.prototype.hasRestrictionSelect=function(){return!ur(this.props.targetRestriction)},t.prototype.selectRestriction=function(e){this.setState({selectedRestriction:e})},t.prototype.keepRestriction=function(){this.props.dialogDone({wantsChange:!1})},t.prototype.changeRestriction=function(){this.props.dialogDone({wantsChange:!0,restriction:this.selectedRestriction()})},t}(i.Component)).displayName="ObjRestrictionDialog",rr));function lr(e){var t=Un(e);return t?Jn(t):(0,f.translate)("unknown")}function ur(e){return!!Un(e)}for(var dr=n(76066),fr={},pr={},hr=0;hr<256;hr++){var mr=hr.toString(16).toLowerCase();1===mr.length&&(mr="0"+mr),fr[hr]=mr,pr[mr]=hr}function vr(e){for(var t="",n=0;n<e.byteLength;n++)t+=fr[e[n]];return t}var gr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},_r=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function br(e,t){return gr(this,void 0,Promise,(function(){var n;return _r(this,(function(r){switch(r.label){case 0:return[4,yr(t)];case 1:return n=r.sent(),[2,wr(e,n)]}}))}))}function yr(e){return gr(this,void 0,Promise,(function(){return _r(this,(function(t){switch(t.label){case 0:return[4,kr(e)];case 1:return[2,vr(t.sent().slice(0,8))]}}))}))}function wr(e,n,r){return void 0===r&&(r=0),gr(this,void 0,Promise,(function(){var i;return _r(this,(function(o){switch(o.label){case 0:return[4,(0,D.zD)((function(){return(0,on.hA)(e).get(n)}))];case 1:if((i=o.sent())instanceof on.Jj||i.isForbidden()){if(r>100)throw new t.AQ;return[2,wr(e,(a=n,s=Array.from(a).reverse().reduce((function(e,t){var n,r=e.carryover,i=e.result,o=parseInt(t,16)+r;return o<16?{carryover:0,result:""+(n=o,n.toString(16))+i}:{carryover:1,result:"0"+i}}),{carryover:1,result:""}).result,s),r+1)]}return[2,n]}var a,s}))}))}function kr(e){return gr(this,void 0,Promise,(function(){var t;return _r(this,(function(n){return(t=new dr.Sha256).update(e),[2,t.digest()]}))}))}var Er=n(43348),Cr=n(91669);function Sr(e,n,r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,Promise,(function(){var i,o,a,s;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(c){switch(c.label){case 0:return[4,(0,D.zD)((function(){return(0,on.OW)(e,n)}))];case 1:return c.sent()?[2,null]:[4,br((0,on.GD)(),'createVersion("'+e.id()+'", "'+n+'")')];case 2:return i=c.sent(),[4,(0,D.zD)((function(){return(0,t.Lg)(r||function(e,t){var n,r=e.ancestors().reverse().find((function(e){return e&&(0,on.OW)(e,t)}));if(r)return null===(n=(0,on.OW)(r,t))||void 0===n?void 0:n.path()}(e,n)||"/",i)}))];case 3:return o=c.sent(),a=(0,Er.NP)(n),[4,(0,Cr.S)(e.copyAsync({_id:i,_siteId:n,_contentId:e.contentId(),_path:o,_language:null==a?void 0:a.language()}))];case 4:return s=c.sent(),[4,(0,on.Nv)(s,(function(t){var r,i=(0,on.R2)((0,on.hA)(e.objSpaceId()),t);if(i)return null===(r=(0,on.OW)(i,n))||void 0===r?void 0:r.id()}))];case 5:return c.sent(),En.X.initializeCopy(s.id()),[2,s]}}))}))}function xr(e){return(0,on.R2)((0,on.hA)((0,on.GD)()),e)}var Or=n(80369),Tr=new G(Y.Kt,"objClipboard.v2");function jr(e){var t=e.obj,n=e.objTitle;Tr.set({objSpaceId:t.objSpaceId(),objId:t.id(),objTitle:n})}function Dr(){var e=function(){var e=Tr.get();if(function(e){return(0,Or.Z)(e)&&(0,h.F2)(e.objSpaceId)&&"string"==typeof e.objId&&"string"==typeof e.objTitle}(e))return e}();if(!e)return null;var t=e.objSpaceId,n=e.objId,r=e.objTitle,i=(0,on.R2)((0,on.hA)(t).and(on.E2),n);return i&&!i.isDeleted()?{obj:i,objTitle:r}:null}var Nr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Pr=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function Ar(e,t){return void 0===t&&(t={}),new xe({id:"scrivito.sdk.copy_obj_from_clipboard",title:t.title,icon:["scrivito_icon_duplicate","className"],tooltip:function(){return function(e){var t=Dr();if(t){var n=xr(e);if(n)return(0,f.translate)("commands.copy_obj_from_clipboard.tooltip",{sourceTitle:t.objTitle,targetTitle:(0,xn.VA)(n)})}}(e)},disabled:function(){return function(e){var t=Dr();if(!t)return(0,f.translate)("commands.copy_obj_from_clipboard.disabled.obj_not_present");if(!bn.P.get(t.obj.objClass()))return(0,f.translate)("commands.copy_obj_from_clipboard.disabled.unknown_type");var n=gn();if(n)return n;var r=xr(e);if(!r||r.isDeleted())return(0,f.translate)("commands.copy_obj_from_clipboard.disabled.target_deleted");var i=r.siteId();if(!i)return(0,f.translate)("commands.copy_obj_from_clipboard.disabled.no_site");var o=r.path();if(!o)return(0,f.translate)("commands.copy_obj_from_clipboard.disabled.no_path");var a=bn.P.get(r.objClass()),s=bn.P.validPageClasses().filter((function(e){return a&&e.isValidParentClass(a)&&a.isValidChildClass(e)}));return 0===s.length?(0,f.translate)("commands.copy_obj_from_clipboard.disabled.disallowed_type"):s.find((function(e){return e.name===t.obj.objClass()}))?I(cn.selected,{siteId:i,objClassName:t.obj.objClass(),parentPath:o})?void 0:(0,f.translate)("commands.copy_obj_from_clipboard.disabled.workflow_disallows_create"):(0,f.translate)("commands.copy_obj_from_clipboard.paste_forbidden",s.map((function(e){return e.title()})).join(", "))}(e)},execute:function(){return Nr(this,void 0,void 0,(function(){var n;return Pr(this,(function(r){switch(r.label){case 0:return[4,Ir(e)];case 1:return n=r.sent(),t.navigateToCreatedObj&&n&&Sn(n.id()),[2]}}))}))}})}function Ir(e){return Nr(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,l,u,d,f,p,h,m,v;return Pr(this,(function(g){switch(g.label){case 0:return[4,(0,D.zD)(Dr)];case 1:return(n=g.sent())?(r=n.obj,i=n.objTitle,[4,(0,D.zD)((function(){return xr(e)}))]):[2];case 2:if(!(o=g.sent()))return[2];if(!(a=o.siteId()))throw new t.AQ;return(s=o.path())?(c=r.restriction(),l=o.restriction(),c===l?[3,4]:[4,Lr(o,r,i)]):[2];case 3:if((m=g.sent()).dialogCancelled)return[2];m.value.wantsChange&&(u=m.value.restriction),g.label=4;case 4:return d=r.language(),f=o.language(),(h=d!==f)?[4,Br(r,a)]:[3,6];case 5:h=!g.sent(),g.label=6;case 6:return h?[4,Mr(o,r)]:[3,8];case 7:if((m=g.sent()).dialogCancelled)return[2];m.value.wantsChange&&(p=f),g.label=8;case 8:return[4,Rr(r,a,s)];case 9:return v=g.sent(),u&&v.restrict(u),void 0!==p&&v.update({_language:p}),[2,v]}}))}))}function Mr(e,t){return Nr(this,void 0,void 0,(function(){return Pr(this,(function(n){return[2,An({description:(0,f.translate)("adjust_language_dialog.description",{source:t.language()||(0,f.translate)("language.not_specified"),target:e.language()||(0,f.translate)("language.not_specified")}),targetLanguage:e.language()})]}))}))}function Lr(e,t,n){return Nr(this,void 0,void 0,(function(){var r,i;return Pr(this,(function(o){switch(o.label){case 0:return r=sr,i={descriptionLocalizerKey:"obj_restriction_dialog.copy_page.description",descriptionWithSelectLocalizerKey:"obj_restriction_dialog.copy_page.select_visibility.description",sourceRestriction:t.restriction(),sourceTitle:n,targetRestriction:e.restriction()},[4,(0,D.zD)((function(){return(0,xn.VA)(e)}))];case 1:return[2,r.apply(void 0,[(i.targetTitle=o.sent(),i.title=(0,f.translate)("obj_restriction_dialog.title"),i)])]}}))}))}function Rr(e,n,r){return Nr(this,void 0,void 0,(function(){var i,o;return Pr(this,(function(a){switch(a.label){case 0:return i=null,[4,(0,D.zD)((function(){return Fr(e,n)}))];case 1:return a.sent()?[4,Sr(e,n,r)]:[3,3];case 2:i=a.sent(),a.label=3;case 3:return i?[3,5]:(o=on.Jj.generateId(),[4,(0,Cr.S)(e.copyAsync({_id:o,_siteId:n,_path:(0,t.Lg)(r,o)}))]);case 4:i=a.sent(),En.X.initializeCopy(i.id()),a.label=5;case 5:return[2,i]}}))}))}function Fr(e,t){var n=e.siteId();if(!n)return!1;var r=(0,Er.NP)(n),i=(0,Er.NP)(t);return r&&i&&r.contentId()===i.contentId()}function Br(e,t){return Nr(this,void 0,void 0,(function(){return Pr(this,(function(n){return[2,(0,D.zD)((function(){return Fr(e,t)&&!(0,on.OW)(e,t)}))]}))}))}var zr,Wr=n(46525),Ur=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hr=function(){return Hr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Hr.apply(this,arguments)};function Zr(e){return(0,o.G)((function(t){return i.createElement(qr,Hr({},e,t))}))}var qr=(0,a.Z)((zr=function(e){function t(t){var n=e.call(this,t)||this;return n.confirm=n.confirm.bind(n),n.onConfirm=n.onConfirm.bind(n),n.onCancel=n.onCancel.bind(n),n}return Ur(t,e),t.prototype.componentDidMount=function(){this.props.subscribeHotkey("enter",this.confirm)},t.prototype.render=function(){return i.createElement(s.E,{className:this.className()},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon",dangerouslySetInnerHTML:{__html:this.props.icon}}),i.createElement("h3",{className:"scrivito_title"},this.props.title)),i.createElement("div",{className:"scrivito_modal_body"},this.props.description),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_cancel",onClick:this.onCancel},this.props.cancelButtonTitle||(0,f.translateLoadable)("cancel")),i.createElement("a",{className:this.confirmButtonClassName(),onClick:this.onConfirm},this.props.confirmButtonTitle)))},t.prototype.className=function(){var e="scrivito_confirmation_dialog scrivito_modal_prompt scrivito_show";return this.props.color&&(e+=" scrivito_"+this.props.color),e},t.prototype.confirmButtonClassName=function(){var e="scrivito_button scrivito_confirm";return this.props.confirmButtonColor&&(e+=" scrivito_"+this.props.confirmButtonColor),e},t.prototype.onConfirm=function(e){e.preventDefault(),e.stopPropagation(),this.confirm()},t.prototype.onCancel=function(e){e.preventDefault(),e.stopPropagation(),this.props.cancelDialog()},t.prototype.confirm=function(){this.props.dialogDone(!0)},t}(i.Component),zr.displayName="ConfirmDialog",zr)),Vr=function(){return Vr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Vr.apply(this,arguments)},Kr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},$r=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Gr=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function Yr(e,t){return void 0===t&&(t={}),new xe({id:"scrivito.sdk.create_tree_from_clipboard",title:(0,f.translate)("commands.create_tree_from_clipboard.title"),icon:["scrivito_icon_duplicate","className"],feature:"copyTree",tooltip:function(){var t,n=null===(t=Dr())||void 0===t?void 0:t.obj,r=(0,on.R2)(ai(),e);if(n&&r)return(0,f.translate)("commands.create_tree_from_clipboard.tooltip",(0,xn.VA)(n),(0,xn.VA)(r))},disabled:function(){return function(e){var t=Dr();if(!t)return(0,f.translate)("commands.create_tree_from_clipboard.clipboard_is_empty");var n=t.obj,r=t.objTitle;if(!n.hasChildren())return(0,f.translate)("commands.create_tree_from_clipboard.root_has_no_children");var i=(0,on.R2)(ai(),e);if(!i)return(0,f.translate)("commands.create_tree_from_clipboard.forbidden.obj_deleted");var o=i.siteId();if(!o)return(0,f.translate)("commands.create_tree_from_clipboard.forbidden.no_site_id");var a=i.path();if(!a)return(0,f.translate)("commands.create_tree_from_clipboard.forbidden.no_path");var s=gn();if(s)return s;var c=function(e){var t=e.clipboardObj,n=e.destination,r=bn.P.get(n.objClass()),i=bn.P.validPageClasses().filter((function(e){return r&&e.isValidParentClass(r)&&r.isValidChildClass(e)})),o=t.objClass();return{isValidClass:i.some((function(e){return e.name===o})),validPageClasses:i}}({clipboardObj:n,destination:i}),l=c.isValidClass,u=c.validPageClasses;if(!l){var d=u.map((function(e){return e.title()}));return 0===d.length?(0,f.translate)("commands.create_tree_from_clipboard.forbidden.disallowed_type"):(0,f.translate)("commands.create_tree_from_clipboard.forbidden.invalid_class",d.join(", "))}return Jr(n,o,a)?void 0:(0,f.translate)("commands.create_tree_from_clipboard.forbidden.disallowed_by_workflow",r,(0,xn.VA)(i))}(e)},execute:function(){return function(e,t){return Kr(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,l,u,d,f;return $r(this,(function(p){switch(p.label){case 0:return[4,(0,D.zD)(Dr)];case 1:return(n=p.sent())?(r=n.obj,[4,(0,D.zD)((function(){return(0,on.R2)(ai(),e)}))]):[2];case 2:return(i=p.sent())?(o=i.siteId(),a=i.path(),o&&a?[4,(0,Cr.S)(oi(r))]:[2]):[2];case 3:return s=p.sent(),c=s.length,(l=c>=20)?[4,Qr(c)]:[3,5];case 4:l=!p.sent(),p.label=5;case 5:return l?[2]:[4,(0,Cr.S)(Xr({descendants:s,destinationSiteId:o,destinationPath:a}))];case 6:return(u=p.sent())?[2,ei(u,r,i)]:[4,ii(r,c>1,i)];case 7:return(d=p.sent())?[4,(0,Cr.S)(ti(r,s,o,a,d))]:[2];case 8:return f=p.sent(),t.navigateToCreatedObj&&f&&Sn(f),[2]}}))}))}(e,t)}})}function Qr(e){return Kr(this,void 0,void 0,(function(){return $r(this,(function(t){switch(t.label){case 0:return[4,Zr({title:(0,f.translate)("commands.create_tree_from_clipboard.confirmation.title"),description:(0,f.translate)("commands.create_tree_from_clipboard.confirmation.description",e),icon:"&#xf016;",color:"green",confirmButtonTitle:(0,f.translate)("commands.create_tree_from_clipboard.confirmation.confirm"),confirmButtonColor:"green"})];case 1:return[2,!t.sent().dialogCancelled]}}))}))}function Xr(e){var n=e.descendants,r=e.destinationSiteId,i=e.destinationPath;return Kr(this,void 0,void 0,(function(){return $r(this,(function(e){switch(e.label){case 0:return[4,t.s8.all(n.map((function(e){return(0,D.zD)((function(){if(!Jr(e,r,i))return e}))})))];case 1:return[2,e.sent().find((function(e){return e}))]}}))}))}function Jr(e,n,r){return A(cn.selected,{_objClass:e.objClass(),_siteId:n,_path:(0,t.Lg)(r,"_scrivitoProbeNewObj")})}function ei(e,t,n){return Kr(this,void 0,void 0,(function(){var r,i,o,a,s,c;return $r(this,(function(l){switch(l.label){case 0:return r=Wr.a,i=[(0,f.translate)("commands.create_tree_from_clipboard.create_tree_inadmissible.title")],s={},o=f.translate,a=["commands.create_tree_from_clipboard.create_tree_inadmissible.message"],c={},[4,(0,D.zD)((function(){return(0,xn.VA)(t)}))];case 1:return c.root=l.sent(),[4,(0,D.zD)((function(){return(0,xn.VA)(n)}))];case 2:return c.destination=l.sent(),[4,(0,D.zD)((function(){return(0,xn.VA)(e)}))];case 3:return[4,r.apply(void 0,i.concat([(s.body=o.apply(void 0,a.concat([(c.uncopiableObj=l.sent(),c)])),s.icon="information",s.color="yellow",s)]))];case 4:return l.sent(),[2]}}))}))}function ti(e,n,r,i,o){return Kr(this,void 0,void 0,(function(){var a,s,c,l,u,d,f;return $r(this,(function(p){switch(p.label){case 0:return(a=e.path())?(s=on.Jj.generateId(),c=(0,t.Lg)(i,s),[4,ni(e,{id:s,siteId:r,path:c,restriction:o})]):[2];case 1:return l=p.sent(),(f={})[e.id()]=s,u=f,[4,t.s8.all(n.map((function(e){var t=e.path();if(t){var n=on.Jj.generateId();return u[e.id()]=n,ni(e,{id:n,siteId:r,path:ri(t,a,c),restriction:o})}})))];case 2:return d=p.sent(),[4,t.s8.all(Gr([l],d,!0).map((function(e){if(e)return(0,on.Nv)(e,(function(e){return u[e]}))})))];case 3:return p.sent(),[2,s]}}))}))}function ni(e,t){var n=t.id,r=t.siteId,i=t.path,o=t.restriction;return Kr(this,void 0,void 0,(function(){var t,a;return $r(this,(function(s){return t=(0,on.hA)((0,on.GD)()).and((0,on.mz)(r)),(a=(0,on.EZ)(t,Vr(Vr({},e.serializeAttributes()),{_id:n,_path:i,_permalink:null}))).restrict(o),En.X.initializeCopy(n),[2,a.finishSaving().then((function(){return a}))]}))}))}function ri(e,t,n){return"/"===t?n+e:e.replace(t,n)}function ii(e,t,n){return Kr(this,void 0,void 0,(function(){var r,i,o,a,s;return $r(this,(function(c){switch(c.label){case 0:return r=e.restriction(),i=n.restriction(),r===i?[2,r]:(a=sr,s={title:(0,f.translate)(t?"obj_restriction_dialog.title_when_subtree":"obj_restriction_dialog.title")},[4,(0,D.zD)((function(){return(0,xn.VA)(e)}))]);case 1:return s.sourceTitle=c.sent(),[4,(0,D.zD)((function(){return(0,xn.VA)(n)}))];case 2:return[4,a.apply(void 0,[(s.targetTitle=c.sent(),s.sourceRestriction=r,s.targetRestriction=i,s.descriptionLocalizerKey=t?"obj_restriction_dialog.create_subtree.description":"obj_restriction_dialog.create_page.description",s.descriptionWithSelectLocalizerKey=t?"obj_restriction_dialog.create_subtree.select_visibility.description":"obj_restriction_dialog.create_page.select_visibility.description",s)])];case 3:return(o=c.sent()).dialogCancelled?[2]:[2,o.value.wantsChange?o.value.restriction:r]}}))}))}function oi(e){return Kr(this,void 0,void 0,(function(){var t,n;return $r(this,(function(r){return t=e.siteId(),n=e.path(),t&&n?[2,(0,D.rt)((0,on.hA)(e.objSpaceId()).and((0,on.mz)(t)).and(on.E2).search().and("_parentPath","startsWith",n))]:[2,[]]}))}))}function ai(){return(0,on.hA)((0,on.GD)()).and(on.E2)}function si(e,t){return P({obj:{objId:e,workspaceId:"published"},workflowId:t})}function ci(e,t,n){return void 0===n&&(n="cannot_edit.workflow_disallows_modification"),gn(t)||function(e,t,n){var r=t.workflowId();return r?si(e,r)?null:(0,f.translate)(n):(0,f.translate)("cannot_edit.workspace_missing_workflow")}(e,t||cn.selected,n)}var li=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},ui=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},di=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function fi(e,n){return void 0===n&&(n={}),new xe({id:"scrivito.sdk.move_obj_from_clipboard",title:function(){return(0,D.qu)(void 0,(function(){var e;if(null===(e=Dr())||void 0===e?void 0:e.obj.hasChildren())return(0,f.translate)("commands.move_obj_from_clipboard.title_when_subtree")}))||(0,f.translate)("commands.move_obj_from_clipboard.title")},icon:["scrivito_icon_cut","className"],tooltip:function(){var t,n=null===(t=Dr())||void 0===t?void 0:t.obj,r=xr(e);if(n&&r)return(0,f.translate)("commands.move_obj_from_clipboard.tooltip",(0,xn.VA)(n),(0,xn.VA)(r))},disabled:function(){return function(e){var n=Dr();if(!n)return(0,f.translate)("commands.move_obj_from_clipboard.forbidden.obj_not_present");if(!bn.P.get(n.obj.objClass()))return(0,f.translate)("commands.move_obj_from_clipboard.forbidden.unknown_type");var r=n.obj,i=n.objTitle;if(!(0,t.fS)(r.objSpaceId(),(0,on.GD)()))return(0,on.f$)()?(0,f.translate)("cannot_edit.workspace_is_published"):(0,f.translate)("commands.move_obj_from_clipboard.forbidden.invalid_workspace");var o=gn();if(o)return o;var a=xr(e);if(!a)return(0,f.translate)("commands.move_obj_from_clipboard.forbidden.obj_deleted");var s=a.siteId();if(!s)return(0,f.translate)("commands.move_obj_from_clipboard.forbidden.no_site_id");var c=a.path();if(!c)return(0,f.translate)("commands.move_obj_from_clipboard.forbidden.no_path");if(a.id()===r.id())return(0,f.translate)("commands.move_obj_from_clipboard.forbidden.obj_identity");var l=r.path();if(l&&("/"===l||c.startsWith(l+"/")))return(0,f.translate)("commands.move_obj_from_clipboard.forbidden.obj_related");var u=function(e){var t=e.clipboardObj,n=e.destinationObj,r=bn.P.get(n.objClass()),i=bn.P.validPageClasses().filter((function(e){return r&&e.isValidParentClass(r)&&r.isValidChildClass(e)}));return{isValidClass:i.some((function(e){return e.name===t.objClass()})),validPageClasses:i}}({clipboardObj:r,destinationObj:a}),d=u.isValidClass,p=u.validPageClasses;if(!d){var h=p.map((function(e){return e.title()}));return 0===h.length?(0,f.translate)("commands.move_obj_from_clipboard.forbidden.disallowed_type"):(0,f.translate)("commands.move_obj_from_clipboard.forbidden.invalid_class",h.join(", "))}return function(e){var t=e.clipboardObj,n=e.destinationObjSiteId,r=e.destinationObjPath,i=t.id();return!wi({objId:i,newSiteId:n,newPath:yi({obj:t,clipboardObjId:i,clipboardObjPath:t.path(),destinationObjPath:r}),workspace:cn.selected})}({clipboardObj:r,destinationObjSiteId:s,destinationObjPath:c})?(0,f.translate)("commands.move_obj_from_clipboard.forbidden.disallowed_by_workflow",i,(0,xn.VA)(a)):void 0}(e)},execute:function(){var t;return li(this,void 0,void 0,(function(){var r,i,o,a,s,c;return ui(this,(function(l){switch(l.label){case 0:return[4,(0,D.zD)(Dr)];case 1:return r=null===(t=l.sent())||void 0===t?void 0:t.obj,[4,(0,D.zD)((function(){return xr(e)}))];case 2:return i=l.sent(),r&&i?(o=i.siteId(),a=i.path(),o&&a?[4,(0,Cr.S)(_i(r))]:[2]):[2];case 3:return s=l.sent(),[4,(0,Cr.S)(bi({objsToMove:s,destinationObjSiteId:o,destinationObjPath:a}))];case 4:return(c=l.sent())?[2,pi({clipboardObj:r,destinationObj:i,restrictedObj:c})]:[4,mi({objsToMove:s,clipboardObj:r,destinationObj:i})];case 5:return l.sent().moveCancelled?[2]:[4,gi({objsToMove:s,clipboardObj:r,destinationObj:i})];case 6:return l.sent()?[2]:[4,vi({objsToMove:s,clipboardObj:r,destinationObj:i})];case 7:return l.sent()?[2]:[4,(0,Cr.S)(hi({objsToMove:s,clipboardObj:r,destinationObjPath:a,destinationObjSiteId:o}))];case 8:return l.sent(),n.navigateToMovedObj&&Sn(r.id()),Tr.clear(),[2]}}))}))}})}function pi(e){var t=e.clipboardObj,n=e.destinationObj,r=e.restrictedObj;return li(this,void 0,void 0,(function(){var e,i,o,a,s,c;return ui(this,(function(l){switch(l.label){case 0:return e=Wr.a,i=[(0,f.translate)("commands.move_obj_from_clipboard.move_tree_inadmissible.title")],s={},o=f.translate,a=["commands.move_obj_from_clipboard.move_tree_inadmissible.message"],c={},[4,(0,D.zD)((function(){return(0,xn.VA)(t)}))];case 1:return c.clipboardObj=l.sent(),[4,(0,D.zD)((function(){return(0,xn.VA)(n)}))];case 2:return c.destinationObj=l.sent(),[4,(0,D.zD)((function(){return(0,xn.VA)(r)}))];case 3:return[4,e.apply(void 0,i.concat([(s.body=o.apply(void 0,a.concat([(c.restrictedObj=l.sent(),c)])),s.icon="information",s.color="yellow",s)]))];case 4:return l.sent(),[2]}}))}))}function hi(e){var n=e.objsToMove,r=e.clipboardObj,i=e.destinationObjPath,o=e.destinationObjSiteId,a=r.id(),s=r.path();return t.s8.all(n.map((function(e){return function(e){var t=e.obj,n=e.newPath,r=e.newSiteId;return t.update({_path:n,_siteId:r}),t.finishSaving()}({obj:e,newPath:yi({obj:e,clipboardObjId:a,clipboardObjPath:s,destinationObjPath:i}),newSiteId:o})})))}function mi(e){var t=e.objsToMove,n=e.clipboardObj,r=e.destinationObj;return li(this,void 0,void 0,(function(){var e;return ui(this,(function(i){switch(i.label){case 0:return t.length<=1?[2,{moveCancelled:!1}]:[4,(0,D.zD)((function(){return(0,f.translate)("commands.move_obj_from_clipboard.confirmation.description",{source:(0,xn.VA)(n),destination:(0,xn.VA)(r)})}))];case 1:return e=i.sent(),[4,Zr({title:(0,f.translate)("commands.move_obj_from_clipboard.confirmation.title"),description:e,icon:"&#xf016;",color:"blue",confirmButtonTitle:(0,f.translate)("commands.move_obj_from_clipboard.confirmation.confirm"),confirmButtonColor:"blue"})];case 2:return[2,{moveCancelled:i.sent().dialogCancelled}]}}))}))}function vi(e){var t=e.objsToMove,n=e.clipboardObj,r=e.destinationObj;return li(this,void 0,void 0,(function(){var e,i,o,a,s;return ui(this,(function(c){switch(c.label){case 0:return e=n.language(),i=r.language(),e===i?[2]:(o=t.length>1,a=o?"adjust_language_dialog.with_many.description":"adjust_language_dialog.description",[4,An({description:(0,f.translate)(a,{source:e||(0,f.translate)("language.not_specified"),target:i||(0,f.translate)("language.not_specified")}),targetLanguage:i})]);case 1:return(s=c.sent()).dialogCancelled?[2,!0]:(s.value.wantsChange&&t.forEach((function(e){return e.update({_language:i})})),[2])}}))}))}function gi(e){var t=e.objsToMove,n=e.clipboardObj,r=e.destinationObj;return li(this,void 0,void 0,(function(){var e,i,o,a,s,c,l;return ui(this,(function(u){switch(u.label){case 0:return e=n.restriction(),i=r.restriction(),e===i?[2]:(o=t.length>1,[4,(0,D.zD)((function(){return(0,xn.VA)(n)}))]);case 1:return a=u.sent(),[4,(0,D.zD)((function(){return(0,xn.VA)(r)}))];case 2:return s=u.sent(),[4,sr({descriptionLocalizerKey:o?"obj_restriction_dialog.move_subtree.description":"obj_restriction_dialog.move_page.description",descriptionWithSelectLocalizerKey:o?"obj_restriction_dialog.move_subtree.select_visibility.description":"obj_restriction_dialog.move_page.select_visibility.description",sourceRestriction:e,sourceTitle:a,targetRestriction:i,targetTitle:s,title:(0,f.translate)(o?"obj_restriction_dialog.title_when_subtree":"obj_restriction_dialog.title")})];case 3:return(c=u.sent()).dialogCancelled?[2,!0]:(c.value.wantsChange&&(l=c.value.restriction,t.forEach((function(e){return e.restrict(l)}))),[2])}}))}))}function _i(e){return li(this,void 0,void 0,(function(){var t,n;return ui(this,(function(r){switch(r.label){case 0:return(t=e.path())?[4,(0,D.rt)((0,on.hA)((0,on.GD)()).search().and("_path","startsWith",t+"/"))]:[2,[e]];case 1:return n=r.sent(),[2,di([e],n,!0)]}}))}))}function bi(e){var n=e.objsToMove,r=e.destinationObjSiteId,i=e.destinationObjPath;return li(this,void 0,void 0,(function(){var e,o,a,s;return ui(this,(function(c){switch(c.label){case 0:return e=n[0],o=e.id(),a=e.path(),s=cn.selected,[4,t.s8.all(n.map((function(e){var t=yi({obj:e,clipboardObjId:o,clipboardObjPath:a,destinationObjPath:i});return(0,D.zD)((function(){if(!wi({objId:e.id(),newSiteId:r,newPath:t,workspace:s}))return e}))})))];case 1:return[2,c.sent().find((function(e){return!!e}))]}}))}))}function yi(e){var n=e.obj,r=e.clipboardObjId,i=e.clipboardObjPath,o=e.destinationObjPath,a=(0,t.Lg)(o,r);if(!i)return a;var s=n.path();return s?s.replace(i,a):a}function wi(e){var t=e.objId,n=e.newSiteId,r=e.newPath,i=e.workspace;if(ci(t,i))return!1;var o=i.workflowId();return!!o&&P({obj:{objId:t,workspaceId:"published"},changes:{_siteId:n,_path:r},workflowId:o})}var ki=n(25773);function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ci(e,t){if(e){if("string"==typeof e)return Ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ei(e,t):void 0}}function Si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Ci(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xi=n(64649);function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){(0,xi.Z)(e,t,n[t])}))}return e}function Ti(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Di(e,t,n){return t&&ji(e.prototype,t),n&&ji(e,n),e}function Ni(e){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ni(e)}function Pi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ai(e,t){if(t&&("object"===Ni(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pi(e)}function Ii(e){return Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ii(e)}function Mi(e,t){return Mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mi(e,t)}function Li(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mi(e,t)}var Ri=n(31542),Fi=n(3996),Bi=n.n(Fi);var zi=n(23615),Wi=n.n(zi),Ui=function(){function e(){Ti(this,e),(0,xi.Z)(this,"refs",{})}return Di(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(Hi)}}]),e}();function Hi(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function Zi(e,t){return Object.keys(e).reduce((function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n}),{})}var qi={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},Vi=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function Ki(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function $i(e,t){e.style["".concat(Vi,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function Gi(e,t){e.style["".concat(Vi,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function Yi(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function Qi(e,t,n){return Math.max(e,Math.min(n,t))}function Xi(e){return"px"===e.substr(-2)?parseFloat(e):0}function Ji(e){var t=window.getComputedStyle(e);return{bottom:Xi(t.marginBottom),left:Xi(t.marginLeft),right:Xi(t.marginRight),top:Xi(t.marginTop)}}function eo(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function to(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function no(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function ro(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function io(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:io(e.parentNode,t,r)}}function oo(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function ao(e){var t=e.lockOffset,n=e.width,r=e.height,i=t,o=t,a="px";if("string"==typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);Bi()(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),i=parseFloat(t),o=parseFloat(t),a=s[1]}return Bi()(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",t),"%"===a&&(i=i*n/100,o=o*r/100),{x:i,y:o}}function so(e){var t=e.height,n=e.width,r=e.lockOffset,i=Array.isArray(r)?r:[r,r];Bi()(2===i.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=Si(i,2),a=o[0],s=o[1];return[ao({height:t,lockOffset:a,width:n}),ao({height:t,lockOffset:s,width:n})]}function co(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:co(e.parentNode):null}function lo(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:Xi(t.gridColumnGap),y:Xi(t.gridRowGap)}:{x:0,y:0}}var uo="BUTTON",fo="INPUT",po="OPTION",ho="TEXTAREA",mo="SELECT";function vo(e){var t,n="input, textarea, select, canvas, [contenteditable]",r=e.querySelectorAll(n),i=e.cloneNode(!0);return(t=i.querySelectorAll(n),function(e){if(Array.isArray(e))return Ei(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Ci(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e,t){"file"!==e.type&&(e.value=r[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),"CANVAS"===e.tagName&&r[t].width>0&&r[t].height>0&&e.getContext("2d").drawImage(r[t],0,0)})),i}function go(e){return null!=e.sortableHandle}var _o=function(){function e(t,n){Ti(this,e),this.container=t,this.onScrollCallback=n}return Di(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,n=e.translate,r=e.minTranslate,i=e.maxTranslate,o=e.width,a=e.height,s={x:0,y:0},c={x:1,y:1},l=this.container,u=l.scrollTop,d=l.scrollLeft,f=l.scrollHeight,p=l.scrollWidth,h=0===u,m=f-u-l.clientHeight==0,v=0===d,g=p-d-l.clientWidth==0;n.y>=i.y-a/2&&!m?(s.y=1,c.y=10*Math.abs((i.y-a/2-n.y)/a)):n.x>=i.x-o/2&&!g?(s.x=1,c.x=10*Math.abs((i.x-o/2-n.x)/o)):n.y<=r.y+a/2&&!h?(s.y=-1,c.y=10*Math.abs((n.y-a/2-r.y)/a)):n.x<=r.x+o/2&&!v&&(s.x=-1,c.x=10*Math.abs((n.x-o/2-r.x)/o)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===s.x&&0===s.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:c.x*s.x,top:c.y*s.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}(),bo={axis:Wi().oneOf(["x","y","xy"]),contentWindow:Wi().any,disableAutoscroll:Wi().bool,distance:Wi().number,getContainer:Wi().func,getHelperDimensions:Wi().func,helperClass:Wi().string,helperContainer:Wi().oneOfType([Wi().func,"undefined"==typeof HTMLElement?Wi().any:Wi().instanceOf(HTMLElement)]),hideSortableGhost:Wi().bool,keyboardSortingTransitionDuration:Wi().number,lockAxis:Wi().string,lockOffset:Wi().oneOfType([Wi().number,Wi().string,Wi().arrayOf(Wi().oneOfType([Wi().number,Wi().string]))]),lockToContainerEdges:Wi().bool,onSortEnd:Wi().func,onSortMove:Wi().func,onSortOver:Wi().func,onSortStart:Wi().func,pressDelay:Wi().number,pressThreshold:Wi().number,keyCodes:Wi().shape({lift:Wi().arrayOf(Wi().number),drop:Wi().arrayOf(Wi().number),cancel:Wi().arrayOf(Wi().number),up:Wi().arrayOf(Wi().number),down:Wi().arrayOf(Wi().number)}),shouldCancelStart:Wi().func,transitionDuration:Wi().number,updateBeforeSortStart:Wi().func,useDragHandle:Wi().bool,useWindowAsScrollContainer:Wi().bool},yo={lift:[32],drop:[32],cancel:[27],up:[38,37],down:[40,39]},wo={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:yo,shouldCancelStart:function(e){return-1!==[fo,ho,mo,po,uo].indexOf(e.target.tagName)||!!Yi(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},ko=Object.keys(bo);function Eo(e){Bi()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function Co(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}var So=(0,i.createContext)({manager:{}});function xo(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;Ti(this,n),t=Ai(this,Ii(n).call(this,e)),(0,xi.Z)(Pi(Pi(t)),"state",{}),(0,xi.Z)(Pi(Pi(t)),"handleStart",(function(e){var n=t.props,r=n.distance,i=n.shouldCancelStart;if(2!==e.button&&!i(e)){t.touched=!0,t.position=no(e);var o=Yi(e.target,(function(e){return null!=e.sortableInfo}));if(o&&o.sortableInfo&&t.nodeIsChild(o)&&!t.state.sorting){var a=t.props.useDragHandle,s=o.sortableInfo,c=s.index,l=s.collection;if(s.disabled)return;if(a&&!Yi(e.target,go))return;t.manager.active={collection:l,index:c},ro(e)||"A"!==e.target.tagName||e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),(0,xi.Z)(Pi(Pi(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),(0,xi.Z)(Pi(Pi(t)),"handleMove",(function(e){var n=t.props,r=n.distance,i=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var o=no(e),a={x:t.position.x-o.x,y:t.position.y-o.y},s=Math.abs(a.x)+Math.abs(a.y);t.delta=a,r||i&&!(s>=i)?r&&s>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),(0,xi.Z)(Pi(Pi(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),(0,xi.Z)(Pi(Pi(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),(0,xi.Z)(Pi(Pi(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),r=function(){if(n){var r=function(){var n=f.sortableInfo.index,r=Ji(f),i=lo(t.container),l=t.scrollContainer.getBoundingClientRect(),m=a({index:n,node:f,collection:p});if(t.node=f,t.margin=r,t.gridGap=i,t.width=m.width,t.height=m.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=f.getBoundingClientRect(),t.containerBoundingRect=l,t.index=n,t.newIndex=n,t.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},t.offsetEdge=io(f,t.container),t.initialOffset=no(h?Oi({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(vo(f)),Ki(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-r.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-r.top,"px"),width:"".concat(t.width,"px")}),h&&t.helper.focus(),c&&(t.sortableGhost=f,Ki(f,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},h){var v=d?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,g=v.top,_=v.left,b=v.width,y=g+v.height,w=_+b;t.axis.x&&(t.minTranslate.x=_-t.boundingClientRect.left,t.maxTranslate.x=w-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=g-t.boundingClientRect.top,t.maxTranslate.y=y-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(d?0:l.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(d?t.contentWindow.innerWidth:l.left+l.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(d?0:l.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(d?t.contentWindow.innerHeight:l.top+l.height)-t.boundingClientRect.top-t.height/2);s&&s.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?e.target:t.contentWindow,h?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(qi.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),qi.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:n}),u&&u({node:f,index:n,collection:p,isKeySorting:h,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),h&&t.keyMove(0)},i=t.props,o=i.axis,a=i.getHelperDimensions,s=i.helperClass,c=i.hideSortableGhost,l=i.updateBeforeSortStart,u=i.onSortStart,d=i.useWindowAsScrollContainer,f=n.node,p=n.collection,h=t.manager.isKeySorting,m=function(){if("function"==typeof l){t._awaitingUpdateBeforeSortStart=!0;var n=Co((function(){var t=f.sortableInfo.index;return Promise.resolve(l({collection:p,index:t,node:f,isKeySorting:h},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return m&&m.then?m.then(r):r()}}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),(0,xi.Z)(Pi(Pi(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.cancelable&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),(0,xi.Z)(Pi(Pi(t)),"handleSortEnd",(function(e){var n=t.props,r=n.hideSortableGhost,i=n.onSortEnd,o=t.manager,a=o.active.collection,s=o.isKeySorting,c=t.manager.getOrderedRefs();t.listenerNode&&(s?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(qi.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),qi.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&Ki(t.sortableGhost,{opacity:"",visibility:""});for(var l=0,u=c.length;l<u;l++){var d=c[l],f=d.node;d.edgeOffset=null,d.boundingClientRect=null,$i(f,null),Gi(f,null),d.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof i&&i({collection:a,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:s,nodes:c},e),t.touched=!1})),(0,xi.Z)(Pi(Pi(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(n){var r=Oi({},t.translate),i=0,o=0;return t.axis.x&&(r.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),i=t.translate.x-r.x),t.axis.y&&(r.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),o=t.translate.y-r.y),t.translate=r,$i(t.helper,t.translate),t.scrollContainer.scrollLeft+=i,void(t.scrollContainer.scrollTop+=o)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),(0,xi.Z)(Pi(Pi(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),(0,xi.Z)(Pi(Pi(t)),"handleKeyDown",(function(e){var n=e.keyCode,r=t.props,i=r.shouldCancelStart,o=r.keyCodes,a=Oi({},yo,void 0===o?{}:o);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||a.lift.includes(n)&&!i(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),a.lift.includes(n)&&!t.manager.active?t.keyLift(e):a.drop.includes(n)&&t.manager.active?t.keyDrop(e):a.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):a.up.includes(n)?t.keyMove(-1):a.down.includes(n)&&t.keyMove(1))})),(0,xi.Z)(Pi(Pi(t)),"keyLift",(function(e){var n=e.target,r=Yi(n,(function(e){return null!=e.sortableInfo})).sortableInfo,i=r.index,o=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:i,collection:o},t.handlePress(e)})),(0,xi.Z)(Pi(Pi(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),r=n[n.length-1].node.sortableInfo.index,i=t.newIndex+e,o=t.newIndex;if(!(i<0||i>r)){t.prevIndex=o,t.newIndex=i;var a=oo(t.newIndex,t.prevIndex,t.index),s=n.find((function(e){return e.node.sortableInfo.index===a})),c=s.node,l=t.containerScrollDelta,u=s.boundingClientRect||to(c,l),d=s.translate||{x:0,y:0},f=u.top+d.y-l.top,p=u.left+d.x-l.left,h=o<i,m=h&&t.axis.x?c.offsetWidth-t.width:0,v=h&&t.axis.y?c.offsetHeight-t.height:0;t.handleSortMove({pageX:p+m,pageY:f+v,ignoreTransition:0===e})}})),(0,xi.Z)(Pi(Pi(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),(0,xi.Z)(Pi(Pi(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),(0,xi.Z)(Pi(Pi(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,r=e.target,i=Yi(r,(function(e){return null!=e.sortableInfo}));return i&&i.sortableInfo&&!i.sortableInfo.disabled&&(n?go(r):r.sortableInfo)}));var r=new Ui;return Eo(e),t.manager=r,t.wrappedInstance=(0,i.createRef)(),t.sortableContextValue={manager:r},t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return Li(n,t),Di(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:co(e.container)||e.container,e.autoScroller=new _o(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return qi[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return qi[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockOffset,i=t.lockToContainerEdges,o=t.transitionDuration,a=t.keyboardSortingTransitionDuration,s=void 0===a?o:a,c=this.manager.isKeySorting,l=e.ignoreTransition,u=no(e),d={x:u.x-this.initialOffset.x,y:u.y-this.initialOffset.y};if(d.y-=window.pageYOffset-this.initialWindowScroll.top,d.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=d,i){var f=Si(so({height:this.height,lockOffset:r,width:this.width}),2),p=f[0],h=f[1],m={x:this.width/2-p.x,y:this.height/2-p.y},v={x:this.width/2-h.x,y:this.height/2-h.y};d.x=Qi(this.minTranslate.x+m.x,this.maxTranslate.x-v.x,d.x),d.y=Qi(this.minTranslate.y+m.y,this.maxTranslate.y-v.y,d.y)}"x"===n?d.y=0:"y"===n&&(d.x=0),c&&s&&!l&&Gi(this.helper,s),$i(this.helper,d)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,i=this.containerScrollDelta,o=this.windowScrollDelta,a=this.manager.getOrderedRefs(),s=this.offsetEdge.left+this.translate.x+i.left,c=this.offsetEdge.top+this.translate.y+i.top,l=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var d=0,f=a.length;d<f;d++){var p=a[d].node,h=p.sortableInfo.index,m=p.offsetWidth,v=p.offsetHeight,g={height:this.height>v?v/2:this.height/2,width:this.width>m?m/2:this.width/2},_=l&&h>this.index&&h<=u,b=l&&h<this.index&&h>=u,y={x:0,y:0},w=a[d].edgeOffset;w||(w=io(p,this.container),a[d].edgeOffset=w,l&&(a[d].boundingClientRect=to(p,i)));var k=d<a.length-1&&a[d+1],E=d>0&&a[d-1];k&&!k.edgeOffset&&(k.edgeOffset=io(k.node,this.container),l&&(k.boundingClientRect=to(k.node,i))),h!==this.index?(t&&Gi(p,t),this.axis.x?this.axis.y?b||h<this.index&&(s+o.left-g.width<=w.left&&c+o.top<=w.top+g.height||c+o.top+g.height<=w.top)?(y.x=this.width+this.marginOffset.x,w.left+y.x>this.containerBoundingRect.width-g.width&&k&&(y.x=k.edgeOffset.left-w.left,y.y=k.edgeOffset.top-w.top),null===this.newIndex&&(this.newIndex=h)):(_||h>this.index&&(s+o.left+g.width>=w.left&&c+o.top+g.height>=w.top||c+o.top+g.height>=w.top+v))&&(y.x=-(this.width+this.marginOffset.x),w.left+y.x<this.containerBoundingRect.left+g.width&&E&&(y.x=E.edgeOffset.left-w.left,y.y=E.edgeOffset.top-w.top),this.newIndex=h):_||h>this.index&&s+o.left+g.width>=w.left?(y.x=-(this.width+this.marginOffset.x),this.newIndex=h):(b||h<this.index&&s+o.left<=w.left+g.width)&&(y.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=h)):this.axis.y&&(_||h>this.index&&c+o.top+g.height>=w.top?(y.y=-(this.height+this.marginOffset.y),this.newIndex=h):(b||h<this.index&&c+o.top<=w.top+g.height)&&(y.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=h))),$i(p,y),a[d].translate=y):n&&(this.sortableGhost=p,Ki(p,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),l&&(this.newIndex=u);var C=l?this.prevIndex:u;r&&this.newIndex!==C&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:C,isKeySorting:l,nodes:a,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return Bi()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?(0,Ri.findDOMNode)(this):e(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return(0,i.createElement)(So.Provider,{value:this.sortableContextValue},(0,i.createElement)(e,(0,ki.Z)({ref:t},Zi(this.props,ko))))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(i.Component),(0,xi.Z)(t,"displayName",eo("sortableList",e)),(0,xi.Z)(t,"defaultProps",wo),(0,xi.Z)(t,"propTypes",bo),n}var Oo={index:Wi().number.isRequired,collection:Wi().oneOfType([Wi().number,Wi().string]),disabled:Wi().bool},To=Object.keys(Oo);function jo(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){var e,t;Ti(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=Ai(this,(e=Ii(n)).call.apply(e,[this].concat(o))),(0,xi.Z)(Pi(Pi(t)),"wrappedInstance",(0,i.createRef)()),t}return Li(n,t),Di(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,i=(0,Ri.findDOMNode)(this);i.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return Bi()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return(0,i.createElement)(e,(0,ki.Z)({ref:t},Zi(this.props,To)))}}]),n}(i.Component),(0,xi.Z)(t,"displayName",eo("sortableElement",e)),(0,xi.Z)(t,"contextType",So),(0,xi.Z)(t,"propTypes",Oo),(0,xi.Z)(t,"defaultProps",{collection:0}),n}function Do(e,t,n){var r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}var No=function(){return No=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},No.apply(this,arguments)},Po=(0,a.Z)((function(e){var t=i.useState(e.objs),n=t[0],r=t[1];return i.useEffect((function(){e.subscribeHotkey("enter",o)}),[n]),i.createElement("div",{className:"scrivito_obj_sorting_dialog scrivito_modal_large scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("h3",null,i.createElement("i",{className:"scrivito_icon"},""),(0,f.translate)("obj_sorting_dialog.title"))),i.createElement("div",{className:"scrivito_modal_body"},i.createElement(Ao,{distance:10,objs:n,onSortEnd:function(e){var t=e.oldIndex,i=e.newIndex,o=Do(n,t,i);r(o)},helperClass:"obj_sorting_item",lockToContainerEdges:!0,axis:"xy"})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_cancel",onClick:e.cancelDialog},(0,f.translate)("cancel")),i.createElement("a",{className:"scrivito_button scrivito_blue scrivito_confirm",onClick:o},(0,f.translate)("confirm"))));function o(){e.dialogDone(n)}})),Ao=xo((function(e){var t=e.objs;return i.createElement("ul",{id:"scrivito_obj_sorting_sortable"},t.map((function(e,t){return i.createElement(Io,{index:t,key:e.id(),obj:e})})))})),Io=jo((0,a.Z)((function(e){var t=e.obj;return i.createElement("li",{"data-scrivito-private-obj-id":t.id()},(0,xn.VA)(t))})));function Mo(e,n){void 0===n&&(n={title:(0,f.translate)("commands.sort_items.title")});var r=function(){var n=on.Jj.get(e);if(!n)throw new t.AQ("Obj is missing or got lost");return n};return new xe({id:"scrivito.sdk.sort_items",title:n.title,icon:["scrivito_icon_sort","className"],tooltip:function(){var t=on.Jj.get(e);if(t)return(0,f.translate)("commands.sort_items.tooltip",(0,xn.VA)(t))},disabled:function(){var t=ci(e);if(t)return t;var n=r();if(!n.hasChildren())return(0,f.translate)("commands.sort_items.no_children");var i=bn.P.get(n.objClass());return i&&!i.hasChildOrder()?(0,f.translate)("commands.sort_items.auto_sort"):n.hasChildren()&&n.children().length<2?(0,f.translate)("commands.sort_items.too_few_children"):void 0},present:function(){return!!on.Jj.get(e)},execute:function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var e,t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return e=r(),[4,(a=e.orderedChildren(),(0,o.G)((function(e){return i.createElement(Po,No({},e,{objs:a}))})))];case 1:return(t=n.sent()).dialogCancelled||e.update({childOrder:[t.value,["referencelist"]]}),[2]}var a}))}))}})}var Lo=n(92471),Ro=n(58332),Fo=n(81968),Bo=(0,a.Z)((function(e){var t=Lo((0,Fo.TD)()).origin()+"/_scrivito_extensions.html";return i.createElement(Ro.U,{cmsWindow:e.cmsWindow,src:t,style:{height:function(){var t,n=null===(t=e.cmsWindow.document())||void 0===t?void 0:t.appAdapter().getCustomComponentDimensions();return n&&0!==n.height?n.height+"px":"100%"}(),width:"100%"},className:e.className})}));function zo(e,n,r){var o=i.useRef(null),a=n?r:o.current;i.useEffect((function(){if(a){var n=(0,y.N7)((function(){var t;return null===(t=e.document())||void 0===t?void 0:t.appAdapter()})).filter(t.EN).subscribe(a);return o.current=a,function(){return n.unsubscribe()}}}),[e,a])}var Wo,Uo=(0,a.Z)((function(e){var t=i.useRef(new _.dw({id:e.name,editableInViewMode:!0,theme:e.theme})).current;return zo(t,e.isActive,i.useCallback((function(t){t.showCustomComponent(e.componentId,function(e,t){if(e)return t?{objId:e,widgetId:t}:{objId:e}}(e.objId,e.widgetId))}),[e.objId,e.widgetId])),i.createElement(Bo,{cmsWindow:t})})),Ho=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zo=function(){return Zo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zo.apply(this,arguments)},qo=(0,a.Z)((Wo=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ho(n,e),n.prototype.render=function(){var e=this;return i.createElement("div",{className:"scrivito_custom_dialog scrivito_modal_large scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("h3",null,i.createElement("span",null,(0,t.G8)(this.props.name)))),i.createElement("div",{className:"scrivito_modal_body"},i.createElement(Uo,{name:this.props.name,componentId:this.props.name,isActive:!0,theme:"light"})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("span",{className:"scrivito_button scrivito_cancel",onClick:function(){return e.props.dialogDone(void 0)}},(0,f.translate)("close"))))},n}(i.Component),Wo.displayName="CustomDialog",Wo)),Vo=function(e){var t=e.disabled,n=e.icon,r=n[0];switch(n[1]){case"className":return i.createElement("i",{className:"scrivito_icon "+r});case"url":return i.createElement(Ko,{url:r,disabled:t})}};Vo.displayName="MenuItem.MenuIcon";var Ko=function(e){var t=e.disabled,n=e.url;return i.createElement("i",{className:"scrivito_svg"},i.createElement("svg",{width:"100",height:"100",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},i.createElement("image",{xlinkHref:n,x:"0",y:"0",height:"100%",width:"100%",filter:t?"url(#scrivito_svg_icon_filter_disabled)":"url(#scrivito_svg_icon_filter)"})))};Ko.displayName="MenuItem.ImageIcon";var $o,Go,Yo=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qo=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return Yo(t,e),t.prototype.render=function(){if(!this.props.command.isPresent())return null;var e=this.props.command.icon(),t=this.props.command.isDisabled();return i.createElement("li",{className:this.className(t),title:this.props.command.menuItemTitle(),onClick:t?void 0:this.onClick},i.createElement("span",null,e&&i.createElement(Vo,{icon:e,disabled:t}),this.props.command.title(),this.props.command.isFeatureAdded()&&i.createElement(i.Fragment,null," ",i.createElement("span",{className:"scrivito_badge_new"},(0,f.translate)("new")))))},t.prototype.className=function(e){var t=["scrivito_menu_item"];return e&&t.push(" scrivito_disabled"),t.push(this.props.command.domId()),t.join(" ")},t.prototype.onClick=function(e){e.preventDefault(),e.stopPropagation(),this.props.beforeExecute(),this.props.command.execute()},t.displayName="ContextMenu.MenuItem",t}(i.Component),Xo=(0,a.Z)(Qo),Jo=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jo(t,e),t.prototype.render=function(){return i.createElement("li",{className:"scrivito_menu_separator"},i.createElement("span",null,this.props.separator.title()))},t.displayName="ContextMenu.MenuItemSeparator",t}(i.Component),ta=(0,a.Z)(ea),na=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ra=function(e){function t(t){return e.call(this,t)||this}return na(t,e),t.prototype.componentDidMount=function(){this._menuBox&&this.props.componentDidUpdate(this._menuBox)},t.prototype.componentDidUpdate=function(){this._menuBox&&this.props.componentDidUpdate(this._menuBox)},t.prototype.render=function(){var e=this,t="scrivito_menu_box jsx visible",n="scrivito_editing_marker_menu jsx";return this.props.className&&(t+=" "+this.props.className),this.props.hasRelativePosition&&(n+=" scrivito_precise_offset"),i.createElement("div",{className:n,style:{left:this.props.offset.x,top:this.props.offset.y}},i.createElement("div",{className:"scrivito_menu_box_overlay",onClick:this.props.close}),i.createElement("ul",{className:t,ref:function(t){return e._menuBox=t}},this.props.commands.map((function(t){return function(e){return"execute"in e}(t)?i.createElement(Xo,{key:t.id(),command:t,beforeExecute:e.props.close}):i.createElement(ta,{key:t.id(),separator:t})}))))},t.displayName="ContextMenu.MenuDropdown",t}(i.Component),ia=(0,a.Z)(ra),oa=function(){function e(e,t){this.elementId=e,this.cmsDocument=t}return e.prototype.width=function(){var e=this.getElementBoundaries();return e?e.width:null},e.prototype.height=function(){var e=this.getElementBoundaries();return e?e.height:null},e.prototype.offset=function(){var e=this.getElementBoundaries();if(null===e)return null;if(void 0!==e&&(0!==e.width||0!==e.height)){var t=e.x,n=e.y;return this.cmsDocument.toUiPosition({x:t,y:n})}},e.prototype.getElementBoundaries=function(){return this.cmsDocument.appAdapter().getElementBoundaries(this.elementId)},e}(),aa=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function sa(){Go&&Go.forceUpdate()}function ca(){Go&&Go.props.close()}var la=(0,a.Z)(($o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={orientationClassName:""},n.updateOrientationClassName=n.updateOrientationClassName.bind(n),n}return aa(t,e),t.prototype.componentDidMount=function(){var e=this;Go=this,this.offsetSubscription=(0,D.DU)((function(){return e.props.elementArea.offset()})).subscribe((function(t){t?e.setState({offset:t}):null===t&&e.props.close()}))},t.prototype.componentWillUnmount=function(){this.props.whenClosed&&this.props.whenClosed(),Go=void 0,this.offsetSubscription&&this.offsetSubscription.unsubscribe()},t.prototype.render=function(){var e=this.getOffset();return e?i.createElement(ia,{offset:e,hasRelativePosition:void 0!==this.props.relativePosition,close:this.props.close,commands:this.props.commands,className:this.contextMenuClassName(),componentDidUpdate:this.updateOrientationClassName}):null},t.prototype.getOffset=function(){var e=this.props.elementArea instanceof oa?this.state.offset:this.props.elementArea.offset();if(e)return this.props.relativePosition?{x:e.x+this.props.relativePosition.x,y:e.y+this.props.relativePosition.y}:e},t.prototype.contextMenuClassName=function(){var e=[];return this.props.customClassName&&e.push(this.props.customClassName),this.state.orientationClassName&&e.push(this.state.orientationClassName),e.join(" ")},t.prototype.updateOrientationClassName=function(e){var t=this.calculateOrientationClassName(e);t!==this.state.orientationClassName&&this.setState({orientationClassName:t})},t.prototype.calculateOrientationClassName=function(e){var t="";return this.shouldAlignLeft(e)&&(t+=" scrivito_left"),this.shouldAlignTop(e)&&(t+=" scrivito_top"),t},t.prototype.shouldAlignLeft=function(e){var t,n=this,r=k(".iframe_wrapper"),i=(0,D.qu)(void 0,(function(){return n.props.elementArea.offset()}));return!!i&&(r.width()||0)-i.x-((null===(t=this.props.relativePosition)||void 0===t?void 0:t.x)||0)-(r.scrollLeft()||0)<e.clientWidth},t.prototype.shouldAlignTop=function(e){var t=this,n=(0,D.qu)(void 0,(function(){return t.props.elementArea.offset()}));if(!n)return!1;var r=k(".iframe_wrapper"),i=n.y-(r.offset()||{top:0,left:0}).top;this.props.relativePosition&&(i+=this.props.relativePosition.y);var o=(r.height()||0)-i,a=e.clientHeight+25;return a>o&&a<i},t}(i.Component),$o.displayName="ContextMenu",$o));function ua(){var e;if((0,Cn.LO)())return null;var t=null===(e=En.X.getCurrentAppLocation())||void 0===e?void 0:e.objId;return t?on.Jj.getIncludingDeleted(t):null}var da=n(23884),fa=function(){function e(e){this.htmlElement=e}return e.prototype.width=function(){return this.htmlElement.offsetWidth},e.prototype.height=function(){return this.htmlElement.offsetHeight},e.prototype.offset=function(){var e=this.htmlElement.getBoundingClientRect();return{x:e.left,y:e.top}},e}(),pa=function(){return pa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pa.apply(this,arguments)};function ha(e,t,n){ma(new fa(e),t,n)}function ma(e,t,n){void 0===n&&(n={}),(0,da.L)(i.createElement(la,pa({elementArea:e,close:va,commands:t},n)),k("#context_menu"))}function va(){var e=document.getElementById("context_menu");e&&(0,Ri.unmountComponentAtNode)(e)}function ga(){return null===gn()}var _a=n(1166),ba=n(54878),ya=n(12925),wa=function(e,t){return e<t},ka=function(e,t){return e&&e.length?function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!(0,ba.Z)(a):n(a,s)))var s=a,c=o}return c}(e,(0,ya.Z)(t,2),wa):void 0},Ea=Math.floor,Ca=Math.random,Sa=n(84264),xa=n(97635),Oa=parseFloat,Ta=Math.min,ja=Math.random,Da=function(e,t,n){if(n&&"boolean"!=typeof n&&(0,Sa.Z)(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=(0,xa.Z)(e),void 0===t?(t=e,e=0):t=(0,xa.Z)(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=ja();return Ta(e+i*(t-e+Oa("1e-"+((i+"").length-1))),t)}return function(e,t){return e+Ea(Ca()*(t-e+1))}(e,t)};function Na(e,t,n){var r=Aa(e,t.children(),n);if(0!==r.length){var i=function(e){var t,n=e[e.length-1];return e.forEach((function(e){n=La(n,e)})),Ma({x:((t=n).x1+t.x2)/2,y:(t.y1+t.y2)/2},e)}(function(e){var t=[],n=e[0];return 0===Ra(n)?[n]:(e.forEach((function(e){if(!(Ra(n=La(n,e))>0))return t;t.push(e)})),t)}((0,_a.Z)(r.map(Pa)))),o=[];r.forEach((function(e,t){var n=i[t];n&&(o=o.concat(function(e,t){var n,r={left:{x1:(n=t).x1,y1:n.y1,x2:n.x1,y2:n.y2},right:{x1:n.x2,y1:n.y1,x2:n.x2,y2:n.y2},top:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y1},bottom:{x1:n.x1,y1:n.y2,x2:n.x2,y2:n.y2}},i=e.getWidgetDropZone().edges().map((function(t){return{rectangle:r[t],contentZone:e,name:t}}));return(0,Ue.Z)(i,(function(e){return["left","right","top","bottom"].indexOf(e.name)}))}(e,n)))}));var a=ka(o,(function(t){return Ia(e,t.rectangle)}));if(a)return{contentZone:a.contentZone,edgeName:a.name}}}function Pa(e){var t=e.elementArea(),n=t.offset(),r=t.width(),i=t.height();if(n&&null!==r&&null!==i)return{x1:n.x,y1:n.y,x2:n.x+r,y2:n.y+i}}function Aa(e,t,n){var r=function(e,t){var n,r;if(t.length)return t.forEach((function(t){var i=Pa(t);if(i)if(n){var o=Ia(e,i);(o<r||o===r&&1===Da(1))&&(n=t,r=o)}else n=t,r=Ia(e,i)})),n}(e,t);if(!r)return[];var i=r.getWidgetDropZone();return i&&i.isFromThisDropZone(n)?[r]:[r].concat(Aa(e,r.children(),n))}function Ia(e,t){var n=Math.max(Math.min(e.x,t.x2),t.x1),r=Math.max(Math.min(e.y,t.y2),t.y1),i=e.x-n,o=e.y-r;return Math.sqrt(i*i+o*o)}function Ma(e,t){var n=t[0],r=t[1];if(!r)return t;var i=(e.x-n.x1)/t.length,o=(e.y-n.y1)/t.length,a=(n.x2-e.x)/t.length,s=(n.y2-e.y)/t.length,c=[La(r,{x1:n.x1+Math.min(20,i),y1:n.y1+Math.min(20,o),x2:n.x2-Math.min(20,a),y2:n.y2-Math.min(20,s)})].concat(t.slice(2));return[n].concat(Ma(e,c))}function La(e,t){return{x1:Math.min(t.x2,Math.max(t.x1,e.x1)),y1:Math.min(t.y2,Math.max(t.y1,e.y1)),x2:Math.min(t.x2,Math.max(t.x1,e.x2)),y2:Math.min(t.y2,Math.max(t.y1,e.y2))}}function Ra(e){return(e.x2-e.x1)*(e.y2-e.y1)}var Fa,Ba,za,Wa=n(82802),Ua=function(){function e(e){this.widget=e}return e.prototype.canDropInto=function(e){return e.canDrop(this.widget.objClass())},e.prototype.isStructureWidget=function(){return e=this.widget.objClass(),!!(t=Wa.P.get(e))&&t.attributes.some((function(e){return"widgetlist"===e.type}));var e,t},e.prototype.dropInto=function(e,t){e.drop(this.widget,t)},e}(),Ha=Ua,Za=new D.aj;function qa(e){Ba=new Ha(e)}function Va(){Qa()}function Ka(e){if(Ba){if(Fa){var t=$a(Fa);t&&Ba.canDropInto(t)&&(Ba.dropInto(t,Fa.edgeName),e&&e())}Qa()}}function $a(e){var t=e.contentZone;if(t)return t.getWidgetDropZone()}var Ga,Ya=(Ga=function(e,t){return n=e,r=t,void(0,D.IE)((function(){if(Ba){var e=Ba.widget;if(Fa=Na(n,r,e)){var t=Fa.edgeName;"left"!==t&&"right"!==t&&function(){if(!Ba)throw new Error("Unexpected call - no drag");if(!Fa)throw new Error("onDragover: missing gesture");var e=$a(Fa),t=Fa.edgeName,n=Fa.contentZone;if(n){var r=n.elementArea();za.height("0px");var i=r.width();i&&za.width(i);var o=function(e,t){var n=e.elementArea(),r=n.offset();if(r){var i=r.y;if("top"===t){var o=e.previousSibling();if(o){var a=o.elementArea(),s=a.offset();if(!s)return;if(!(l=Xa(a,s,r)))return;i=l.y}}else{var c=e.nextSibling();if(c){var l,u=c.elementArea().offset();if(!u)return;if(!(l=Xa(n,r,u)))return;i=l.y}else{var d=n.height();if(!d)return;i+=d}}return{x:r.x,y:i}}}(n,t);if(o){if(za.offset({left:o.x,top:o.y}),e&&Ba.canDropInto(e)?za.removeClass("scrivito_dnd_forbidden"):za.addClass("scrivito_dnd_forbidden"),Ba.isStructureWidget()?za.addClass("scrivito_dnd_structure"):za.removeClass("scrivito_dnd_structure"),e&&e.isEmptyWidgetList()){var a=r.height();a&&za.height(a)}za.show()}}}()}}})).subscribeLoading(Za);var n,r},(0,t.Xq)((function(e){!function(e){window.requestAnimationFrame(e)}(e)}),Ga));function Qa(){za.hide(),Ba=void 0,Za.unsubscribe()}function Xa(e,t,n){var r=e.width(),i=e.height();if(r&&i)return{x:(t.x+r+n.x)/2,y:(t.y+i+n.y)/2}}var Ja=n(82073);function es(e){var t=En.X.getResolvedUrl((0,Ja.J)(e));return void 0===t?null:t||function(e){return ts.get(e).getWithDefault(null)}(e)}var ts=new D.X2({loadElement:function(e){return{loader:function(){return ns.retrieve(e)}}}}),ns=new t.gh((function(e){return h.i3.get("blobs/resolve_urls",{urls:e}).then((function(e){return e.results}))})),rs=n(60209),is=n(23382),os=n(89424),as=n(23857),ss=n(47838),cs=n(79458),ls=n(31261),us=n(54357),ds=n(84902),fs=Object.prototype.hasOwnProperty,ps=function(e){if(null==e)return!0;if((0,cs.Z)(e)&&((0,ss.Z)(e)||"string"==typeof e||"function"==typeof e.splice||(0,ls.Z)(e)||(0,ds.Z)(e)||(0,as.Z)(e)))return!e.length;var t=(0,os.Z)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,us.Z)(e))return!(0,is.Z)(e).length;for(var n in e)if(fs.call(e,n))return!1;return!0},hs=n(7188),ms=function(){return ms=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ms.apply(this,arguments)},vs={isInScope:function(e){return e.isEditingAsset()},applyToSearch:function(e){return e.includeEditingAssets().and("_editingAsset","equals",!0)},applyToCreate:function(e){return ms(ms({},e),{_editing_asset:!0})}};function gs(e){return function(e){return void 0===e&&(e=(0,on.GD)()),(0,on.hA)(e).and(on.rA).and(vs)}(e).and((0,on.lD)("WidgetTemplate"))}function _s(e){return void 0===e&&(e={}),(e.includeDeleted?gs().search():gs().search().excludeDeleted()).dangerouslyUnboundedTake().map((function(e){return new bs(e.objData)}))}var bs=function(){function e(e){this.obj=new on.Jj(e)}return e.prototype.id=function(){return this.obj.id()},e.prototype.description=function(){return this.descriptionField().get()},e.prototype.descriptionField=function(){return new on.cO(this.obj,"description",["string"])},e.prototype.title=function(){return this.titleField().get()||(0,f.translate)("widget_template.empty_title")},e.prototype.titleField=function(){return new on.cO(this.obj,"title",["string"])},e.prototype.thumbnail=function(){var e;return null!==(e=this.thumbnailField().get())&&void 0!==e?e:void 0},e.prototype.thumbnailField=function(){return new on.cO(this.obj,"thumbnail",["binary"])},e.prototype.modification=function(){return this.obj.modification()},e.prototype.content=function(){return this.contentField().get()[0]},e.prototype.contentField=function(){return new on.cO(this.obj,"content",["widgetlist"])},e.prototype.widgetClassNames=function(){return this.obj.widgetClassNamesWithBadPerformance()},e}();function ys(e){return gs().get(e.id())instanceof on.Jj}var ws=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function ks(){return ws(ws([],Wa.P.all().map((function(e){var t=e.name;return{description:function(){return e.description()},id:function(){return e.id()},isHiddenInSelectionDialogs:function(){return e.isHiddenInSelectionDialogs()},thumbnail:function(){return e.thumbnail()},title:function(){return e.title()},className:function(){return t},create:function(){return function(e){var t=on.E8.create({_objClass:[e]});return t.onDidPersist((function(){var e=t.obj().id(),n=t.id();En.X.initializeContentForWidget(e,n)})),t}(t)}}})),!0),(e=[],_s().forEach((function(t){if(!function(e){return e.widgetClassNames().some((function(e){return!Wa.P.get(e)}))}(t)){var n=t.content();n&&e.push({description:function(){return t.description()},id:function(){return t.id()},thumbnail:function(){return t.thumbnail()},title:function(){return t.title()},className:function(){return n.objClass()},create:function(){return n.copy()},isHiddenInSelectionDialogs:function(){var e,t=Wa.P.get(n.objClass());return null!==(e=null==t?void 0:t.isHiddenInSelectionDialogs())&&void 0!==e&&e}})}})),e),!0);var e}var Es=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Cs=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function Ss(e,t){var n=Wa.P.validClassesForField(e);return new xe({id:"scrivito.sdk.create_widget",icon:["scrivito_icon_inv_plus","className"],title:function(){var e=Os(n);if(1===e.length){var t=e[0].title();return(0,f.translate)("commands.create_widget.title_one",t)}return(0,f.translate)("commands.create_widget.title_unspecific")},present:function(){return!(0,hs.cA)()&&(!!(null==t?void 0:t.widget)||ps(e.get()))},disabled:function(){return Os(n).length?ci(e.obj().id()):(0,f.translate)("commands.create_widget.disabled")},execute:function(){return Es(this,void 0,void 0,(function(){var r;return Cs(this,(function(i){switch(i.label){case 0:return[4,(0,D.zD)((function(){return Os(n)}))];case 1:return[4,xs(i.sent())];case 2:return(r=i.sent())&&function(e,t,n){n?"bottom"===n.position?t.insertAfter(n.widget):t.insertBefore(n.widget):e.update([t])}(e,r,t),[2]}}))}))}})}function xs(e){return Es(this,void 0,void 0,(function(){var t;return Cs(this,(function(n){switch(n.label){case 0:return 1===e.length?[2,e[0].create()]:[4,Ve({title:(0,f.translate)("commands.create_widget.dialog.title"),libraryItems:e,createObjParams:void 0})];case 1:return(t=n.sent()).dialogCancelled?[2]:[2,t.value]}}))}))}function Os(e){return ks().filter((function(t){return e.some((function(e){return e.name===t.className()}))}))}function Ts(e,t){Ss(e.containingField(),{widget:e,position:t}).execute()}var js=(0,y.JH)();function Ds(){var e=js.get();return"diff"===(0,hs.ol)()&&e?e:[h.Bm,(0,on.GD)()]}function Ns(e){js.set(e)}var Ps=n(61826),As=n(52898),Is=n.n(As),Ms=n(71073),Ls=n(69321);function Rs(){var e=cn.selected;return(0,Er.FN)().length>1||A(e,{_path:"/",_siteId:"scrivitoTestSiteId"})}var Fs=n(55839),Bs=n(67655),zs=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Ws(e){var n=(0,je.$j)(e),r=function(r){function o(){var e=null!==r&&r.apply(this,arguments)||this;return e.state={hasError:!1},e}return zs(o,r),o.prototype.componentDidCatch=function(e){this.setState({hasError:!0}),(0,t.a6)(e)},o.prototype.render=function(){return this.state.hasError?function(e){return e.shouldRenderLoaderError}(e)?i.createElement(Bs.fy,null):null:i.createElement(n,this.props)},o.displayName="ErrorBoundary("+(0,je.r0)(e)+")",o}(i.Component);return Fs(r,e),r}var Us=n(7559),Hs=n(77138);function Zs(e){return{type:"SELECT_SITE",siteId:e}}var qs=n(51979),Vs=Ws((function(e){var t=e.initialSelection,n=(0,Ps.I0)(),r=t?t[0]:void 0;(0,i.useEffect)((function(){!function(e,t){!function(e,t,n,r){new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var n,r,i;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){switch(o.label){case 0:return[4,(0,D.zD)((function(){return(0,Ls.l)()}))];case 1:return n=o.sent(),r=!1,t&&n?[4,(0,D.zD)((function(){var e;return null===(e=(0,on.R2)((0,on.hA)((0,on.GD)()).and(on.E2),t))||void 0===e?void 0:e.siteId()}))]:[3,3];case 2:(i=o.sent())&&i!==n&&(r=!0),o.label=3;case 3:return e(Zs(r?void 0:n)),r&&e({type:"TOGGLE_EXPAND_SITES"}),[2]}}))}))}(n,r)}),[r]);var o=(0,Ps.v9)((function(e){return e.sites})),a=o.isExpanded,s=o.activeSiteId,c=(0,Er.WQ)(),l=[(null==c?void 0:c.siteId())||null,void 0],u=a?"expanded":"";return i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_separator toggle "+u,onClick:function(){return n({type:"TOGGLE_EXPAND_SITES"})}},(0,f.translate)("content_browser.filter.sites")),i.createElement("div",{className:"scrivito_separator_expandable "+u},i.createElement("ul",{className:"scrivito-content-browser-hierarchy-filter compact"},l.map((function(e){return i.createElement("li",{key:e||(null===e?1:0),className:Ys(s,e),onClick:function(){return function(e,t){e((0,Ms.setObjSource)(Ms.FILTER)),e(Zs(t)),e((0,Ms.deselectObjs)())}(n,e)}},i.createElement("div",{className:"scrivito-content-browser-hierarchy-radio"}),i.createElement("div",{className:"scrivito-content-browser-hierarchy-label"},void 0===e&&i.createElement(Gs,null),null===e&&i.createElement($s,null),e&&c&&i.createElement(Ks,{title:(0,qs.a)(c)})))})))))}));function Ks(e){var t=e.title;return i.createElement("span",{className:"scrivito_badge icon_globe",title:t},t||(0,f.translate)("unknown"))}function $s(){return i.createElement("span",{className:"scrivito_badge icon_globe blue"},(0,f.translate)("site_editing.global"))}function Gs(){return i.createElement("span",null,(0,f.translate)("content_browser.filter.all_sites"))}function Ys(e,t){return e===t?"active":""}var Qs=n(66890),Xs=Is()({displayName:"TreeFilter",mixins:[Qs.ExpandableFilterNodeMixin],getInitialState:function(){return this.defaultExpansionState()},_convertLegacyIconName:function(e){return"generic"===e?"sheet":e},renderIconTag:function(){if(this.props.filter.icon){var e="scrivito_customer_icon sci_"+this._convertLegacyIconName(this.props.filter.icon);return i.createElement("i",{className:e})}},getLabelClasses:function(){var e=this.openClassSetOptions();return this.props.filter.isActive()?"active "+e:e},renderSubTrees:function(){return i.createElement("ul",null,this.props.filter.children.map((function(e,t){return i.createElement(Xs,{key:e.title+"-"+t,filter:e})})))},labelToggleClick:function(){return this.props.filter.toggleActive()},render:function(){var e=this.getLabelClasses();return i.createElement("li",{className:e},this.props.filter.isLeaf()?null:this.renderArrowTag(),i.createElement("div",{className:"scrivito-content-browser-hierarchy-label",onClick:this.labelToggleClick},this.renderIconTag(),i.createElement("span",null,this.props.filter.title)),this.props.filter.isLeaf()?null:this.renderSubTrees())}}),Js=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ec=Ws(function(e){function t(t){var n=e.call(this,t)||this;return n.activateLastAddedFilter=n.activateLastAddedFilter.bind(n),n.setFilterObjSource=n.setFilterObjSource.bind(n),n}return Js(t,e),t.prototype.render=function(){var e=this.props.filter.getHierarchicalFilters().map((function(e){return i.createElement(Xs,{key:e.name,filter:e})}));return i.createElement("div",{className:this.getFilterClassName()},i.createElement("div",{className:"scrivito-content-browser-filter-fixed"},this.props.additionCount>0&&i.createElement(Hs.LastAddedFilter,{addedCount:this.props.additionCount,active:this.props.activeSource===Ms.LAST_ADDED,activateLastAddedFilter:this.activateLastAddedFilter})),i.createElement("div",{className:"scrivito-content-browser-filter-scroll"},Rs()&&i.createElement(Vs,{initialSelection:this.props.initialSelection}),Rs()&&i.createElement(tc,null),this.renderSubFiltersList(e),this.renderFilterSeparator(),this.renderAdditionalFilters()))},t.prototype.componentDidMount=function(){this.props.filter.onChange(this.setFilterObjSource),this.props.setObjSource(Ms.FILTER)},t.prototype.renderSubFiltersList=function(e,t){var n="scrivito-content-browser-hierarchy-filter";return t&&t.length>0&&(n=n+" "+t),i.createElement("ul",{className:n},e)},t.prototype.renderAdditionalFilters=function(){var e,t=(null!==(e=this.props.filter.additionalFilters)&&void 0!==e?e:[]).map((function(e){return i.createElement(Us.AdditionalOptionFilter,{key:e.field,filter:e})}));return this.renderSubFiltersList(t,"compact")},t.prototype.setFilterObjSource=function(){this.props.setObjSource(Ms.FILTER),this.props.deselectObjs()},t.prototype.getFilterClassName=function(){var e="scrivito-content-browser-filter";return this.props.additionCount>0&&(e+=" last_added"),this.props.standAlone&&(e+=" stand-alone"),e},t.prototype.activateLastAddedFilter=function(){this.props.setObjSource(Ms.LAST_ADDED),this.props.deselectObjs(),this.props.filter.deselectHierarchicalFilters()},t.prototype.renderFilterSeparator=function(){if(this.props.filter.hasAdditionalFilters()&&this.props.filter.hasHierarchicalFilters())return i.createElement("div",{className:"scrivito_separator"},f.translate("content_browser.filter.more_filters"))},t}(i.Component));function tc(){return i.createElement("div",{className:"scrivito_separator"},f.translate("content_browser.filter.filters"))}var nc,rc,ic,oc,ac,sc=n(91116),cc=Math.ceil,lc=Math.max,uc=n(94605),dc=n(23835),fc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pc=function(){return pc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pc.apply(this,arguments)};function hc(e){return(0,o.G)((function(t){return i.createElement(mc,pc({},e,t))}))}var mc=(0,a.Z)(((nc=function(e){function t(t){var n=e.call(this,t)||this;return n.confirm=n.confirm.bind(n),n.cancel=n.cancel.bind(n),n}return fc(t,e),t.prototype.componentDidMount=function(){this.props.subscribeHotkey("enter",this.confirm)},t.prototype.render=function(){var e=this.props.objIds,t=e.map((function(e){return on.Jj.get(e)})).filter(wc);if(!t.length)return null;var n=function(e){var t=e.length,n=kc(e);return t>1?(0,f.translate)("confirm_delete_dialog.title.many_objects",{count:t,type:n}):(0,f.translate)("confirm_delete_dialog.title",{type:n})}(t),r=e.length<51?function(){return yc(e)}:function(){return function(e){var t,n,r=e.map(yc),i=(0,uc.Z)(r);return n=function(e){return e.id()},(t=i)&&t.length?ae(t,(0,ya.Z)(n,2)):[]}(function(e,t,n){t=(n?(0,Sa.Z)(e,t,n):void 0===t)?1:lc((0,Ie.Z)(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=Array(cc(r/t));i<r;)a[o++]=(0,Ae.Z)(e,i,i+=t);return a}(e,50))};return i.createElement(s.E,{className:"scrivito_confirm_delete_dialog scrivito_modal_prompt scrivito_red scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon"},""),i.createElement("h3",{className:"scrivito_title"},n)),i.createElement("div",{className:"scrivito_modal_body"},i.createElement(vc,{objs:t,backlinks:r})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement(bc,{onClick:this.cancel}),i.createElement(_c,{backlinks:r,onClick:this.confirm})))},t.prototype.confirm=function(){this.props.dialogDone(!0)},t.prototype.cancel=function(){this.props.cancelDialog()},t}(i.Component)).displayName="ConfirmDeleteDialog",nc)),vc=(0,a.Z)((rc=function(e){function t(t){var n=e.call(this,t)||this;return n.openBacklink=n.openBacklink.bind(n),n}return fc(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",null,i.createElement("p",null,this.modificationNotice()),i.createElement("p",null,this.backlinksNotice()),i.createElement("ul",null,this.props.backlinks().map((function(t){return i.createElement(gc,{key:t.id(),backlink:t,openBacklink:e.openBacklink})}))))},t.prototype.modificationNotice=function(){if(!(this.props.objs.length>1)){var e=kc(this.props.objs),t=this.props.objs[0],n=(0,xn.VA)(t);return t.isNew()?(0,f.translate)("confirm_delete_dialog.is_new",{name:n,type:e}):t.isEdited()?(0,f.translate)("confirm_delete_dialog.is_edited",{name:n,type:e}):(0,f.translate)("confirm_delete_dialog.not_modified",{name:n,type:e})}},t.prototype.backlinksNotice=function(){var e=kc(this.props.objs),t=this.props.backlinks().length,n=this.props.objs.length;return 1===n&&1===t?(0,f.translate)("confirm_delete_dialog.one_obj_to_delete.one_backlink",{type:e}):1===n&&t>1?(0,f.translate)("confirm_delete_dialog.one_obj_to_delete.many_backlinks",{type:e}):n>1&&1===t?(0,f.translate)("confirm_delete_dialog.many_objs_to_delete.one_backlink",{type:e}):n>1&&t>1?(0,f.translate)("confirm_delete_dialog.many_objs_to_delete.many_backlinks",{count:t,type:e}):void 0},t.prototype.openBacklink=function(e){Av({selectionMode:"single",standAlone:!0,selection:[e.id()],disableDelete:!0})},t}(i.Component),rc.displayName="ConfirmDeleteDialog.DialogContent",rc)),gc=(0,a.Z)(((ic=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return fc(t,e),t.prototype.render=function(){return i.createElement("li",null,i.createElement("a",{href:"#",onClick:this.onClick},(0,xn.VA)(this.props.backlink)))},t.prototype.onClick=function(e){e.preventDefault(),e.stopPropagation(),this.props.openBacklink(this.props.backlink)},t}(i.Component)).displayName="ConfirmDeleteDialog.BacklinkItem",ic)),_c=(0,a.Z)((oc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fc(t,e),t.prototype.render=function(){var e=this.props.backlinks().length?(0,f.translate)("confirm_delete_dialog.confirm.has_backlinks"):(0,f.translate)("delete");return i.createElement("a",{className:"scrivito_button scrivito_red scrivito_confirm",onClick:this.props.onClick},e)},t.prototype._scrivitoRenderWhileLoading=function(){return null},t}(i.Component),oc.displayName="ConfirmDeleteDialog.ConfirmButton",oc)),bc=(0,a.Z)((ac=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fc(t,e),t.prototype.render=function(){return i.createElement("a",{className:"scrivito_button scrivito_cancel",onClick:this.props.onClick},(0,f.translate)("cancel"))},t}(i.Component),ac.displayName="ConfirmDeleteDialog.CancelButton",ac));function yc(e){return on.Jj.where("*","linksTo",e).dangerouslyUnboundedTake()}function wc(e){return e instanceof on.Jj}function kc(e){if(e.length>1)return(0,f.translate)("models.obj.name.plural");var t=e[0];return"/"===t.path()&&null!==t.siteId()?(0,f.translate)("models.site.name"):ys(t)?(0,f.translate)("models.widget_template.name"):(0,dc.Z)(t)?(0,f.translate)("models.resource.name"):(0,f.translate)("models.page.name")}function Ec(e,t){return ci(e.id(),t,"cannot_delete.disallowed_by_workflow")||((0,D.n4)(!0,(function(){return e.hasChildren()}))?(0,f.translate)("cannot_delete.obj_has_children"):null)}var Cc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sc=(0,a.Z)(function(e){function t(t){var n=e.call(this,t)||this;return n.deleteObjs=n.deleteObjs.bind(n),n}return Cc(t,e),t.prototype.render=function(){var e,t=!((e=this.props.selectedObjIds).length<1)&&e.every((function(e){var t=on.Jj.get(e);return!!t&&(0,D.n4)(!1,(function(){return null===Ec(t)}))})),n=this.props.component;return i.createElement(n,{isEnabled:t,deleteObjs:this.deleteObjs,selectedObjIds:this.props.selectedObjIds})},t.prototype.deleteObjs=function(){var e=this;hc({objIds:this.props.selectedObjIds}).then((function(t){t.value&&e.props.selectedObjIds.forEach((function(t){return e.props.dispatch((0,sc.Mk)(t))}))}))},t}(i.Component));function xc(e){return e.copyAsync().then((function(e){var t=e.id();return En.X.initializeCopy(t),e}))}function Oc(e){if(!e)return(0,f.translate)("duplicate_obj.disabled.obj_is_deleted");var t=bn.P.get(e.objClass());return t?function(e){if(e.hasChildren())return(0,f.translate)("duplicate_obj.has_children")}(e)||function(e,t){var n=cn.selected,r=gn(n);return r||(function(e,t,n){var r=n.name;if(!e.path())return!n.restrictsParent()&&A(t,{_objClass:r,_siteId:e.siteId(),_path:null});var i=e.parent(),o=null==i?void 0:i.path();if(!i||!o)return!1;var a=bn.P.get(i.objClass());if(!a)return!1;var s=e.siteId();return!!s&&n.isValidParentClass(a)&&a.isValidChildClass(n)&&I(t,{objClassName:r,siteId:s,parentPath:o})}(e,n,t)?void 0:(0,f.translate)("duplicate_obj.disabled.workflow_disallows_duplicate"))}(e,t):(0,f.translate)("duplicate_obj.disabled.unknown_obj_class")}var Tc=(0,a.Z)((function(e){var n,r=(0,Ps.I0)(),o=1===(n=e.selectedObjIds).length&&!Oc(on.Jj.get(n[0])),a=o?function(){return function(e,n,r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var i,o,a,s,c;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(l){switch(l.label){case 0:return[4,(0,D.zD)((function(){var t=on.Jj.get(e);return{sourceObj:t,title:t?(0,xn.VA)(t):void 0}}))];case 1:return i=l.sent(),o=i.sourceObj,a=i.title,o?(s=(0,t.kb)(),r(),n((0,sc.m0)(s,a)),[4,xc(o)]):[2];case 2:return c=l.sent(),n((0,sc.Yu)(s,c.id())),[2]}}))}))}(e.selectedObjIds[0],r,e.deselectHierarchicalFilters)}:void 0,s="scrivito_button scrivito_lightgrey content-browser-duplicate scrivito_left "+(o?"":"scrivito_disabled");return i.createElement("a",{className:s,onClick:a},(0,f.translate)("duplicate"))})),jc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dc=function(){return Dc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Dc.apply(this,arguments)},Nc=function(e){function t(t){var n=e.call(this,t)||this;return n.closeClick=n.closeClick.bind(n),n.doneClick=n.doneClick.bind(n),n}return jc(t,e),t.prototype.render=function(){var e=this.props.isWritable&&!this.props.disableDelete,t=this.props.isWritable,n=!this.props.standAlone;return i.createElement("div",{className:"scrivito-content-browser-footer"},e&&i.createElement(Sc,{dispatch:this.props.dispatch,selectedObjIds:this.props.selectedObjs,component:Pc}),t&&i.createElement(Tc,{selectedObjIds:this.props.selectedObjs,deselectHierarchicalFilters:this.props.deselectHierarchicalFilters}),n&&this.renderSubmitButton(),i.createElement("a",{className:this.getClassNameCloseButton(),onClick:this.closeClick},(0,f.translate)("close")))},t.prototype.currentSelectedCount=function(){return this.props.selectedObjs.length},t.prototype.closeClick=function(){this.props.promise.reject()},t.prototype.doneClick=function(){this.props.promise.resolve(this.props.selectedObjs)},t.prototype.getClassNameCloseButton=function(){var e="scrivito_button content-browser-close";return this.props.standAlone?e+" scrivito_blue":e},t.prototype.renderSubmitButton=function(){var e=function(e,t,n){if(!t)return{isValid:!0};if(e.some((function(e){return!function(e,t){var n=on.Jj.get(e);return!!n&&-1!==t.indexOf(n.objClass())}(e,t)}))){if(0===t.length)return{isValid:!1,explanation:(0,f.translate)("content_browser.footer.select_disabled_reason.none_available")};var r=t.map(Ac).join(", ");return{isValid:!1,explanation:(0,f.translate)("content_browser.footer.select_disabled_reason."+n,r)}}return{isValid:!0}}(this.props.selectedObjs,this.props.validObjClasses,this.props.selectionMode),t=e.isValid,n=e.explanation;return t?i.createElement("a",{className:"scrivito_button scrivito_blue content-browser-save",onClick:this.doneClick},(0,f.translate)("content_browser.footer.select"),i.createElement("span",{className:"scrivito-content-browser-counter selected-total"},this.currentSelectedCount())):i.createElement("a",{className:"scrivito_button scrivito_disabled content-browser-save",title:n},(0,f.translate)("content_browser.footer.select"),i.createElement("span",{className:"scrivito-content-browser-counter selected-total"},this.currentSelectedCount()))},t.displayName="Footer",t}(i.Component);function Pc(e){var t=e.isEnabled,n=e.selectedObjIds,r=e.deleteObjs,o="scrivito_button scrivito_lightgrey content-browser-delete scrivito_left",a=t?{className:o,onClick:r}:{className:o+" scrivito_disabled"};return i.createElement("a",Dc({},a),(0,f.translate)("delete"),i.createElement("span",{className:"scrivito-content-browser-counter selected-total"},n.length))}function Ac(e){var t=bn.P.get(e);return t?t.title():e}var Ic=n(26395);function Mc(){return(0,Er.FN)().length>1}var Lc=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function Rc(e){return e instanceof on.Jj?function(e){var t,n=[],r=bn.P.get(e.objClass());return r?(n.push.apply(n,Lc(Lc([Bc(e,r)],function(e){var t;return(0,Ic.S)("propertiesGroupsForObj")?En.X.propertiesGroupsForObj(e.objSpaceId(),e.id())||[]:(null===(t=bn.P.get(e.objClass()))||void 0===t?void 0:t.legacyPropertiesGroups())||[]}(e).map(Zc),!1),[Uc()],!1)),(0,dc.Z)(e)&&n.push({id:"scrivito.binaryMetadata",title:(0,f.translate)("default_inspector_description_for_obj.group_binary_metadata"),subgroups:[[{id:"system.binaryMetadata"}]]})):(n.push({id:"scrivito.general",title:(0,f.translate)("default_inspector_description_for_obj.group_general"),subgroups:[[{id:"system.permalink",attributeName:"_permalink"},{id:"system.visibility",attributeName:"_restriction"}],zc(),[{id:"system.history"}]]}),n.push(Uc())),n.push((t=[[{id:"system.path",attributeName:"_path"}],[{id:"system.objClass"},{id:"system.id"}]],Rs()&&t.push([{id:"system.siteId",attributeName:"_siteId"},{id:"system.contentId"}]),{id:"scrivito.system",title:(0,f.translate)("default_inspector_description_for_obj.group_system"),subgroups:t})),{groups:n}}(e):Hc(e)}function Fc(e){return Kc(e)?(0,uc.Z)(e.subgroups.map((function(e){return(0,_a.Z)(e.map((function(e){return e.attributeName})))}))):e.properties||[]}function Bc(e,t){var n=function(e){var t;return(0,Ic.S)("generalPropertiesForObj")?En.X.generalPropertiesForObj(e.objSpaceId(),e.id())||[]:(null===(t=bn.P.get(e.objClass()))||void 0===t?void 0:t.legacyGeneralProperties())||[]}(e),r=n.map(qc);return t.isBinary()&&-1===n.indexOf("blob")&&r.unshift(qc("blob")),t.hasTags()&&-1===n.indexOf("tags")&&r.push(qc("tags")),r.push([{id:"system.permalink",attributeName:"_permalink"},{id:"system.visibility",attributeName:"_restriction"}],zc(),[{id:"system.history"}]),{id:"scrivito.general",title:(0,f.translate)("default_inspector_description_for_obj.group_general"),subgroups:r}}function zc(){var e=[{id:"system.language",attributeName:"_language"}];return Mc()&&e.push({id:"system.site",attributeName:"_siteId"}),e}var Wc="scrivito.backlinks";function Uc(){return{id:Wc,title:(0,f.translate)("default_inspector_description_for_obj.group_backlinks"),subgroups:[[{id:"system.backlinks"}]]}}function Hc(e){var t=[];if(Wa.P.get(e.objClass())){var n=function(e){var t=function(e){var t;if(!(0,Ic.S)("generalPropertiesForWidget"))return(null===(t=Wa.P.get(e.objClass()))||void 0===t?void 0:t.legacyGeneralProperties())||[];var n=e.obj();return En.X.generalPropertiesForWidget(n.objSpaceId(),n.id(),e.id())||[]}(e);if(t.length>0){var n=t.map(qc);return{id:"scrivito.general",title:(0,f.translate)("default_inspector_description_for_obj.group_general"),subgroups:n}}}(e);n&&t.push(n);var r=function(e){var t;if(!(0,Ic.S)("propertiesGroupsForWidget"))return(null===(t=Wa.P.get(e.objClass()))||void 0===t?void 0:t.legacyPropertiesGroups())||[];var n=e.obj();return En.X.propertiesGroupsForWidget(n.objSpaceId(),n.id(),e.id())||[]}(e);r.length>0&&t.push.apply(t,r.map(Zc))}return{groups:t}}function Zc(e){var t=e.key||function(e){return e.replace(/[_/\s]+/g,"-").replace(/[^a-z0-9-]+/gi,"").replace(/[-]+/g,"-").replace(/^-+|-+$/g,"").toLowerCase()}(e.title);return function(e){return!!e.component}(e)?{id:t,title:e.title,component:e.component,properties:e.properties}:{id:t,title:e.title,subgroups:e.properties.map(qc)}}function qc(e){return[{id:"attribute."+e,attributeName:e}]}function Vc(e){return Hc(e).groups.length>0}function Kc(e){return!!e.subgroups}var $c,Gc=n(29428),Yc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qc=function(){return Qc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Qc.apply(this,arguments)},Xc=(0,a.Z)(($c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yc(t,e),t.prototype.render=function(){return i.createElement("div",{className:"group"},i.createElement(Uo,Qc({name:this.props.name,componentId:this.props.componentId,isActive:this.props.isActive},(e=this.props.content)instanceof on.Jj?{objId:e.id()}:{objId:e.obj().id(),widgetId:e.id()},{theme:this.props.theme})));var e},t}(i.Component),$c.displayName="Inspector.CustomGroup",$c)),Jc=n(82110);function el(e,n){var r,i;return e instanceof on.Jj?r=e.id():(r=e.obj().id(),i=e.id()),(0,j.LG)((0,t.It)(n),Ds(),r,i)}function tl(e,n){return(0,j.LG)((0,t.It)(n),Ds(),e.id())}var nl=n(84111);function rl(){return on.Jj.where("_modification","equals",["new","edited"])}var il=n(90619);function ol(e){if(!e.isEditingAsset())return e.isEdited()||e.isNew()?En.X.getValidationReport(e.id()):void 0}function al(e,t){var n=ol(e);return n?sl(n,t,e):0}function sl(e,t,n){var r,i=cl(e,t).length,o=(r=hl(e,t,n).map((function(e){return e.entries.length})),r&&r.length?function(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}(r,nl.Z):0);return i+o}function cl(e,t){return e[t].obj}var ll,ul=(0,D.bR)((ll=rl,{iterator:function(){return ll().iterator()},iteratorFromContinuation:function(e){return ll().iteratorFromContinuation(e)}}),(function(e){return al(e,"error")}),(function(e,t){return e+t}),0);function dl(){return rl().count()>100?"unknown":ul()}function fl(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=ol(e);return i?i[t].obj.filter((function(e){return(0,il.i)(e)&&(0,Xe.Z)(n,e.attributeName)})):[]}function pl(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=ol(e.obj());if(!i)return[];var o=i[t].widgets.find((function(t){return t.widgetId===e.id()}));return o?o.entries.filter((function(e){return(0,il.i)(e)&&(0,Xe.Z)(n,e.attributeName)})):[]}function hl(e,t,n){var r=e[t],i=[];return r.widgets.forEach((function(e){var t=e.widgetId,r=e.entries,o=n.widget(t);o&&r.length>0&&i.push({widget:o,entries:r})})),i}function ml(e,t){var n,r,i=ol(e);if(i)return(null===(n=cl(i,t)[0])||void 0===n?void 0:n.message)||(null===(r=hl(i,t,e)[0])||void 0===r?void 0:r.entries[0].message)}var vl=n(37911),gl=n(30787),_l=n.n(gl);var bl,yl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wl=function(){return wl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wl.apply(this,arguments)};var kl,El=(0,a.Z)(((bl=function(e){function n(t){var n=e.call(this,t)||this;return n.dialogDone=n.dialogDone.bind(n),n.onCancel=n.onCancel.bind(n),n.onSave=n.onSave.bind(n),n.setupImglyContainer=n.setupImglyContainer.bind(n),n}return yl(n,e),n.prototype.componentDidMount=function(){this.props.subscribeHotkey("enter",this.dialogDone)},n.prototype.render=function(){return i.createElement("div",{className:"scrivito_modal_large scrivito_dark scrivito_show image_editor_dialog"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("h3",{className:"scrivito_title"},(0,f.translate)("image_editor_dialog.dialog_header.title"))),i.createElement("div",{className:"scrivito_modal_body",ref:this.setupImglyContainer},i.createElement(Bs.aN,null)),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_cancel",onClick:this.onCancel},(0,f.translate)("cancel")),i.createElement("a",{className:"scrivito_button scrivito_blue scrivito_ok",onClick:this.onSave},(0,f.translate)("save"))))},n.prototype.onSave=function(e){e.preventDefault(),e.stopPropagation(),this.dialogDone()},n.prototype.onCancel=function(e){e.preventDefault(),e.stopPropagation(),this.props.cancelDialog()},n.prototype.dialogDone=function(){var e=this;this.imgly&&this.imgly.render("blob","image/jpeg").then((function(t){e.props.dialogDone({blob:t,filename:e.props.binary.filename()})}))},n.prototype.setupImglyContainer=function(e){var n,r,i,o,a=this;e&&(n=this.props.binary.url(),r=e,i=new Image,o=new t.BH,i.crossOrigin="Anonymous",i.src=n,i.onload=function(){var e,t=(e={image:i,container:r,renderer:"canvas",assetsUrl:$()+"/imgly_sdk",versionCheck:!1,ui:{enabled:!0}},new(_l())(e));t.ui.selectOperations({except:"stickers"}),t.run(),o.resolve(t)},o.promise).then((function(e){a.imgly=e}))},n}(i.Component)).displayName="ImageEditorDialog",bl)),Cl=n(6607),Sl=n(78246),xl=n(99316),Ol=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tl=function(){return Tl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Tl.apply(this,arguments)};function jl(e){return(0,o.G)((function(t){return i.createElement(Dl,Tl({},e,t))}))}var Dl=(0,a.Z)(((kl=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=i.createRef(),n.onConfirm=n.onConfirm.bind(n),n.onCancel=n.onCancel.bind(n),n.confirm=n.confirm.bind(n),n}return Ol(t,e),t.prototype.componentDidMount=function(){this.props.subscribeHotkey("enter",this.confirm)},t.prototype.render=function(){return i.createElement(s.E,{className:"scrivito_prompt_dialog scrivito_modal_prompt scrivito_blue scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon",dangerouslySetInnerHTML:{__html:this.props.icon}}),i.createElement("h3",{className:"scrivito_title"},function(e,t,n){var r=-1,i=(t=(0,Cl.Z)(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[(0,xl.Z)(t[r])];void 0===o&&(r=i,o=n),e=(0,Sl.Z)(o)?o.call(e):o}return e}(this.props,"title")),this.props.description&&i.createElement("p",null,this.props.description)),i.createElement("div",{className:"scrivito_modal_body"},i.createElement("input",{type:"text",autoFocus:!0,defaultValue:this.props.value||"",placeholder:this.props.placeholder,ref:this.inputRef})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{href:"#",className:"scrivito_button scrivito_cancel",onClick:this.onCancel},(0,f.translate)("cancel")),i.createElement("a",{href:"#",className:"scrivito_button scrivito_blue scrivito_ok",onClick:this.onConfirm},this.props.okButtonText)))},t.prototype.onConfirm=function(e){e.preventDefault(),e.stopPropagation(),this.confirm()},t.prototype.onCancel=function(e){e.preventDefault(),e.stopPropagation(),this.props.cancelDialog()},t.prototype.confirm=function(){this.inputRef.current&&this.props.dialogDone(this.inputRef.current.value)},t}(i.Component)).displayName="PromptDialog",kl)),Nl=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Pl=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function Al(e){var t=e.binary,n=e.isUpdating,r=e.hideMetadata,o=e.updateBinary,a=i.useState(!1),s=a[0],c=a[1];if(!o)return i.createElement(Il,{binary:t,isUpdating:n,hideMetadata:r});var l="scrivito_drag_zone";return s&&(l+=" scrivito_file_dragover"),i.createElement(i.Fragment,null,i.createElement("div",{className:l,onDrop:function(e){if(e.preventDefault(),e.stopPropagation(),o){c(!1);var n=e.dataTransfer;if(n){var r=null==t?void 0:t.filename(),i=n.files;1===(null==i?void 0:i.length)&&o(on.Kb.upload(i[0],{filename:r}))}}},onDragOver:u,onDragEnter:u,onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),c(!1)}},i.createElement(Il,{binary:t,isUpdating:n,updateBinary:o,hideMetadata:r})),!n&&i.createElement("div",{className:"scrivito_notice scrivito_transparent"},i.createElement("div",{className:"scrivito_notice_body"},(0,f.translate)("binary_attribute_component.drop_hint"))));function u(e){e.preventDefault(),e.stopPropagation(),c(!0)}}function Il(e){var t=e.binary,n=e.isUpdating,r=e.hideMetadata,o=e.updateBinary;return t?i.createElement("div",{className:"scrivito_content_preview_item"},i.createElement("div",{className:"scrivito_content_preview"},i.createElement(Ml,{binary:t,isUpdating:n,updateBinary:o})),!r&&i.createElement("div",{className:"scrivito_content_meta"},i.createElement(Ll,{binary:t,isUpdating:n,updateBinary:o}))):n?i.createElement(Hl,null):i.createElement(Ul,{updateBinary:o})}var Ml=(0,a.Z)((function(e){var t,n=e.binary,r=e.isUpdating,o=e.updateBinary;return r?i.createElement(Bs.nv,null):i.createElement(i.Fragment,null,i.createElement(Fl,{binary:n}),i.createElement("span",{className:"scrivito_content_preview_buttons"},o&&i.createElement(Bl,{filename:n.filename(),updateBinary:o}),o&&n&&("image/jpeg"===(t=n.raw().contentType())||"image/png"===t)&&i.createElement(zl,{binary:n,updateBinary:o}),i.createElement(Wl,{binary:n})))})),Ll=(0,a.Z)((function(e){var t=e.binary,n=e.isUpdating,r=e.updateBinary;return n?i.createElement(Bs.nv,null):i.createElement(i.Fragment,null,i.createElement(Rl,{binary:t,updateBinary:r}),i.createElement("span",{className:"scrivito_content_size"},vl(t.raw().contentLength())))})),Rl=(0,a.Z)((function(e){var t,n="scrivito_content_name";return e.updateBinary&&(n+=" scrivito_content_name_editable",t=(0,f.translate)("binary_attribute_component.rename")),i.createElement("span",{className:n,onClick:function(){return r()},title:t},i.createElement("span",null,e.binary.filename()),e.updateBinary&&i.createElement("i",{className:"scrivito_icon scrivito_icon_edit"}));function r(t){return Nl(this,void 0,void 0,(function(){var n,i;return Pl(this,(function(o){switch(o.label){case 0:return e.binary&&e.updateBinary?(n=e.binary.filename(),[4,jl({title:(0,f.translate)("binary_attribute_component.rename_dialog.title",n),description:t||(0,f.translate)("binary_attribute_component.rename_dialog.description"),value:n,icon:"&#xf043;",okButtonText:(0,f.translate)("binary_attribute_component.rename_dialog.ok")})]):[2];case 1:return(i=o.sent()).dialogCancelled||i.value===n||(null===i.value.match(/^[\w.-]+$/)?r((0,f.translate)("binary_attribute_component.rename_dialog.invalid_filename",i.value)):e.updateBinary(e.binary.copy({filename:i.value}))),[2]}}))}))}})),Fl=(0,a.Z)((function(e){var t=e.binary;return t.isImage()?i.createElement("img",{src:t.url()}):i.createElement("span",{className:"scrivito_icon scrivito_icon_generic"})})),Bl=(0,a.Z)((function(e){var t=e.updateBinary,n=e.filename,r=e.showTextLabel;return i.createElement("label",{className:"upload_button",title:(0,f.translate)("binary_attribute_component.upload_title")},i.createElement("input",{type:"file",onChange:function(e){var r=e.target.files;1===(null==r?void 0:r.length)&&t(on.Kb.upload(r[0],{filename:n}))}}),i.createElement("i",{className:"scrivito_icon scrivito_icon_upload"}),r&&i.createElement(i.Fragment,null," ",i.createElement("span",null,(0,f.translate)("binary_attribute_component.upload"))))})),zl=(0,a.Z)((function(e){return i.createElement("span",{className:"edit_button",title:(0,f.translate)("edit"),onClick:function(){return function(){return Nl(this,void 0,void 0,(function(){var t,n,r,a;return Pl(this,(function(s){switch(s.label){case 0:return[4,(c={binary:e.binary.raw()},(0,o.G)((function(e){return i.createElement(El,wl({},c,e))})))];case 1:return(t=s.sent()).dialogCancelled||(n=t.value,r=n.blob,a=n.filename,e.updateBinary(on.Kb.upload(r,{filename:a}))),[2]}var c}))}))}()}},i.createElement("i",{className:"scrivito_icon scrivito_icon_edit_image"}))})),Wl=(0,a.Z)((function(e){var t=e.binary;return i.createElement("a",{href:t.raw().url(),target:"_blank",title:(0,f.translate)("binary_attribute_component.download")},i.createElement("i",{className:"scrivito_icon scrivito_icon_download"}))}));function Ul(e){var t=e.updateBinary;return i.createElement("div",{className:"scrivito_content_preview_item"},i.createElement("div",{className:"scrivito_content_preview"},i.createElement("i",{className:"scrivito_icon scrivito_icon_placeholder"}),i.createElement("span",{className:"scrivito_content_preview_buttons"},t&&i.createElement(Bl,{updateBinary:t,showTextLabel:!0}))))}function Hl(){return i.createElement("div",{className:"scrivito_notice scrivito_transparent"},i.createElement(Bs.nv,null))}var Zl=(0,a.Z)((function(e){var t=e.field,n=e.hideMetadata,r=i.useState(!1),o=r[0],a=r[1];return i.createElement(Al,{binary:t.get(),isUpdating:o,hideMetadata:!!n,updateBinary:function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var n;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(r){switch(r.label){case 0:return a(!0),[4,e.intoId(t.obj().id())];case 1:return n=r.sent(),t.update(n),a(!1),[2]}}))}))}})}));function ql(e,t,n){var r=t[0],o=t[1];return i.createElement("div",null,i.createElement("div",{className:"state_changed"},i.createElement(n,{field:Vl(e,o)})),i.createElement("div",{className:"scrivito_detail_label"},i.createElement("div",{className:"state_before"},i.createElement("i",{className:"scrivito_icon scrivito_icon_history"}),i.createElement("span",null,(0,xn.X7)(e)))),i.createElement("div",{className:"state_before"},i.createElement(n,{field:Vl(e,r)})))}function Vl(e,n){var r=e.inObjScope((0,on.hA)(n));if(!r)throw new t.AQ;return r}var Kl=(0,a.Z)((function(e){return e.comparison?ql(e.field,e.comparison,(function(t){var n=t.field;return i.createElement($l,{field:n,hideMetadata:!!e.hideMetadata})})):e.readOnly?i.createElement($l,{field:e.field,hideMetadata:!!e.hideMetadata}):i.createElement(Zl,{field:e.field,hideMetadata:!!e.hideMetadata})}));function $l(e){var t=e.field,n=e.hideMetadata;return i.createElement(Al,{binary:t.get(),isUpdating:!1,hideMetadata:!!n})}var Gl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yl=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return Gl(t,e),t.prototype.render=function(){return i.createElement("div",{className:this.className(),onClick:this.onClick},i.createElement("div",{className:"pill-wrapper"},i.createElement("div",{className:"cell pill"})),i.createElement("div",{className:"cell left"},this.props.labels.false),i.createElement("div",{className:"cell right"},this.props.labels.true))},t.prototype.className=function(){return["scrivito_switch",this.props.value?"active":"",this.props.disableHighlighting?"two_valued":"",this.props.className].join(" ")},t.prototype.onClick=function(){this.props.onChange(!this.props.value)},t}(i.Component),Ql=(0,a.Z)((function(e){var t=e.field,n=e.readOnly,r=e.comparison;return r?ql(t,r,Jl):n?i.createElement(Jl,{field:t}):i.createElement(Xl,{field:t})})),Xl=(0,a.Z)((function(e){var t=e.field;return i.createElement("div",{className:"boolean_attribute_component"},i.createElement(Yl,{labels:{true:(0,f.translate)("boolean_attribute_component.yes"),false:(0,f.translate)("boolean_attribute_component.no")},value:!!t.get(),onChange:function(e){return t.update(e)}}))}));function Jl(e){var t=e.field;return i.createElement("div",{className:"boolean_attribute_component scrivito_disabled"},i.createElement(Yl,{labels:{true:(0,f.translate)("boolean_attribute_component.yes"),false:(0,f.translate)("boolean_attribute_component.no")},value:!!t.get(),onChange:function(){}}))}var eu=n(74029),tu=n(18742),nu=n(17433),ru=nu.Z&&nu.Z.isDate,iu=ru?(0,W.Z)(ru):function(e){return(0,tu.Z)(e)&&"[object Date]"==(0,eu.Z)(e)},ou=n(22648),au=n.n(ou),su=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cu=function(){return cu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cu.apply(this,arguments)},lu=(0,a.Z)((function(e){var t=e.field,n=e.readOnly,r=e.comparison;return r?ql(t,r,fu):n?i.createElement(fu,{field:t}):i.createElement(pu,{field:t})})),uu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return su(t,e),t.prototype.render=function(){return this.props.disabled?i.createElement("div",{className:"date_button"},i.createElement("span",{className:"value"},this.props.value)):i.createElement("div",{className:"date_button"},i.createElement("span",{className:"value scrivito_clickable",onClick:this.props.onClick},this.props.value),i.createElement(du,cu({},this.props)))},t}(i.Component);function du(e){return e.value?i.createElement("span",{className:"clear_btn",onClick:e.onClear},i.createElement("i",{className:"scrivito_icon scrivito_icon_cancel"})):null}var fu=(0,a.Z)((function(e){var t=e.field;return i.createElement(au(),{customInput:i.createElement(uu,{disabled:!0}),dateFormat:"yyyy-MM-dd",calendarClassName:"scrivito_datepicker",disabled:!0,onChange:function(){},selected:t.get()})})),pu=(0,a.Z)((function(e){var t=e.field;return i.createElement(au(),{customInput:i.createElement(uu,{onClear:function(){return t.update(null)}}),dateFormat:"yyyy-MM-dd",calendarClassName:"scrivito_datepicker",onChange:function(e){return iu(e)&&t.update(e)},selected:t.get()})})),hu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mu=function(){return mu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mu.apply(this,arguments)},vu=(0,a.Z)((function(e){var t=e.field,n=e.readOnly,r=e.comparison;return r?ql(t,r,_u):n?i.createElement(_u,{field:t}):i.createElement(gu,{field:t})})),gu=(0,a.Z)((function(e){var t=e.field;return i.createElement(au(),{customInput:i.createElement(bu,{onClear:function(){return t.update(null)},disabled:!1}),dateFormat:"yyyy-MM-dd HH:mm",showTimeSelect:!0,timeFormat:"HH:mm",calendarClassName:"scrivito_datetimepicker",timeIntervals:15,disabled:!1,onChange:function(e){return iu(e)&&t.update(e)},selected:t.get()})})),_u=(0,a.Z)((function(e){var t=e.field;return i.createElement(au(),{customInput:i.createElement(bu,{onClear:function(){},disabled:!0}),dateFormat:"yyyy-MM-dd HH:mm",showTimeSelect:!0,timeFormat:"HH:mm",calendarClassName:"scrivito_datetimepicker",timeIntervals:15,disabled:!0,onChange:function(){},selected:t.get()})})),bu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hu(t,e),t.prototype.render=function(){return this.props.disabled?i.createElement("div",{className:"datetime_button"},i.createElement("span",{className:"value"},this.props.value)):i.createElement("div",{className:"datetime_button"},i.createElement("span",{className:"value scrivito_clickable",onClick:this.props.onClick},this.props.value),i.createElement(yu,mu({},this.props)))},t}(i.Component);function yu(e){return e.value?i.createElement("span",{className:"clear_btn",onClick:e.onClear},i.createElement("i",{className:"scrivito_icon scrivito_icon_cancel"})):null}var wu=(0,a.Z)((function(e){return e.comparison?ql(e.field,e.comparison,(function(t){var n=t.field;return i.createElement(ku,{field:n,attribute:e.attribute})})):e.readOnly?i.createElement(ku,{field:e.field,attribute:e.attribute}):i.createElement(Eu,{field:e.field,attribute:e.attribute})})),ku=(0,a.Z)((function(e){var t=e.field,n=e.attribute,r=n.orderedValues(),o=t.get();return i.createElement("div",{className:"scrivito_disabled"},i.createElement("ul",{className:"enum_attribute"},r.map((function(e){return i.createElement("li",{key:e,className:a(e)},n.titleForValue(e))}))));function a(e){if(o===e)return"enum_attribute_active"}})),Eu=(0,a.Z)((function(e){var t=e.field,n=e.attribute,r=t.get(),o=n.orderedValues();return i.createElement("ul",{className:"enum_attribute"},o.map((function(e){return i.createElement("li",{key:e,className:a(e),onClick:function(n){return function(e){var n=e.value;e.event.stopPropagation();var i=n===r?null:n;t.update(i)}({event:n,value:e})}},n.titleForValue(e))})));function a(e){if(r===e)return"enum_attribute_active"}}));function Cu(e){return(0,a.Z)((function(t){return t.comparison?ql(t.field,t.comparison,(function(e){var n=e.field;return i.createElement(Su,{field:n,attribute:t.attribute})})):t.readOnly?i.createElement(Su,{field:t.field,attribute:t.attribute}):i.createElement(xu,{field:t.field,attribute:t.attribute,setInputError:t.setInputError,isInvalid:e})}))}function Su(e){var t,n=e.field,r=e.attribute;return i.createElement("div",{className:"display_"+r.type},i.createElement("input",{type:"text",value:(null===(t=n.get())||void 0===t?void 0:t.toString())||"",disabled:!0}))}var xu=(0,a.Z)((function(e){var t=e.field,n=e.attribute,r=e.setInputError,o=e.isInvalid,a=i.useState(""),s=a[0],c=a[1],l=t.get(),u=(null==l?void 0:l.toString())||"";return i.createElement("div",{className:"edit_"+n.type},i.createElement("input",{type:"text",value:s||u,onBlur:function(e){d(e.target.value),r(null),c("")},onChange:function(e){var t=e.target.value,n=d(t).reasonForBeingInvalid;r(n),c(t)}}),null!==l&&i.createElement(Ou,{onClick:function(e){e.preventDefault(),e.stopPropagation(),t.update(null),c("")}}));function d(e){var n=Number(e),r=0!==e.length?n:null,i=o(n)?(0,f.translate)("number_attribute_component.invalid_number"):null;return i||t.update(r),{reasonForBeingInvalid:i}}}));function Ou(e){var t=e.onClick;return i.createElement("span",{className:"clear_button delete_list_item_button scrivito_pull_right",title:(0,f.translate)("number_attribute_component.clear_button.title"),onClick:t},i.createElement("i",{className:"scrivito_icon scrivito_icon_cancel"}))}var Tu=Cu((function(e){return!isFinite(e)})),ju=n(10419),Du=n(43248);function Nu(e,t){var n={name:e,tagNames:[e],contentDefault:"",action:e,aria:e,super:function(){return this},handleClick:function(){var n=this.super().base,r=this.super().document;this.super().isActive()?function(e,t,n){var r=ju.selection,i=e.exportSelection(),o=e.getFocusedElement().ownerDocument;if(-1!==window.navigator.userAgent.indexOf("Firefox")||n)o.execCommand("removeFormat");else{try{r.getSelectionRange(t).surroundContents(o.createElement("span"))}catch(e){}e.importSelection(i,!1),e.cleanPaste(r.getSelectionRange(t).toString()),Pu(r.getSelectionRange(t).endContainer,"self"),Pu(r.getSelectionRange(t).endContainer,"after"),e.importSelection(i,!1)}}(n,r,t):function(e,t,n){var r=ju.selection,i=e.exportSelection(),o=r.getSelectionHtml(t);e.pasteHTML("<"+n+">"+o+"</"+n+">");var a=e.exportSelection().end,s=i.end-i.start,c={start:Math.max(0,a-s),end:a};e.importSelection(c,!1);var l=r.getSelectionRange(t);Pu(l.startContainer.parentNode,"before"),Pu(l.endContainer.parentNode,"after"),e.importSelection(c,!1)}(n,r,e),n.checkContentChanged(),n.checkSelection()}};return new(ju.extensions.button.extend(n))}function Pu(e,t){if(e){var n={before:e.previousSibling,self:e,after:e.nextSibling}[t];if(n&&n.nodeValue){var r={before:/\u00a0$/,self:/\u00a0/g,after:/^\u00a0/}[t],i=n.nodeValue;i.match(r)&&(n.nodeValue=i.replace(r," "))}}}function Au(e){var t;try{t=Lo(e)}catch(t){return e}return!t.protocol()&&e.match(/.@./)?"mailto:"+e:t.protocol()||e.startsWith("/")||!e.includes(".")?e:"https://"+e}var Iu=function(){return Iu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Iu.apply(this,arguments)};function Mu(e,t){var n=ju.extensions.anchor.extend(function(e,t){return{name:"scrivito_anchor",contentDefault:"",formSaveLabel:t("save"),super:function(){return this},showForm:function(e){ju.extensions.anchor.prototype.showForm.call(this,e),this.updateRelUi(e)},handleClick:function(e){var t;if(e.preventDefault(),e.stopPropagation(),null===(t=this.super().getForm().querySelector(".scrivito_html_link_collapse"))||void 0===t||t.classList.remove("show"),!this.super().isDisplayed()){var n=ju.selection.getSelectionRange(this.super().document),r=ju.selection.getSelectedParentElement(n),i=ju.util.getClosestTag(r,"a")||void 0;this.super().showForm({value:(null==i?void 0:i.getAttribute("href"))||"",target:(null==i?void 0:i.getAttribute("target"))||void 0,rel:(null==i?void 0:i.getAttribute("rel"))||void 0})}},getTemplate:function(){return("\n      <i class='medium-editor-toolbar-browse scrivito_customer_icon sci_collection' title='"+t("link.content_browser")+"'></i>\n      <input type='text' class='medium-editor-toolbar-input' placeholder='"+this.super().placeholderText+"'>\n      <div class='medium-editor-toolbar-form-wrapper'>\n        <div class='medium-editor-toolbar-form-row medium-editor-toolbar-anchor-target-toggle'>\n          <label>\n            <input type='checkbox' class='medium-editor-toolbar-anchor-target'>\n            <i class='scrivito_icon scrivito_link_icon scrivito_icon_new_window scrivito_active_open_in_new_tab' title='Open link in new tab'></i>\n            <i class='scrivito_icon scrivito_link_icon scrivito_icon_new_window' title='"+t("link.new_tab")+"'></i>\n          </label>\n        </div>\n        <i class='scrivito_icon scrivito_icon_gear' data-scrivito-medium-editor=\"rel_button\" title='"+t("link.seo_settings")+"'></i>\n        <span class='medium-editor-toolbar-save'>"+this.super().formSaveLabel+"</span>\n        <i class='medium-editor-toolbar-close scrivito_customer_icon sci_cross' style='display: none'></i>\n      </div>\n      <div class='scrivito_html_link_collapse'>\n        <div class='scrivito_html_link_collapse_body'>\n          <div class='scrivito_html_detail_label'>"+t("link.rel.title")+"</div>\n          <div class='scrivito_html_notice_body'>\n            "+[t("link.rel.description1"),t("link.rel.description2")].join("rel")+'\n          </div>\n          <ul class=\'scrivito_enum_attribute scrivito_multi\'>\n            <li data-scrivito-rel="noindex">noindex</li>\n            <li data-scrivito-rel="nofollow">nofollow</li>\n            <li data-scrivito-rel="noarchive">noarchive</li>\n            <li data-scrivito-rel="nosnippet">nosnippet</li>\n            <li data-scrivito-rel="noopener">noopener</li>\n            <li data-scrivito-rel="noreferrer">noreferrer</li>\n            <li data-scrivito-rel="notranslate">notranslate</li>\n          </ul>\n        </div>\n      </div>\n    ').replace(/\n\s*/g,"")},attachFormEvents:function(e){var t=this;ju.extensions.anchor.prototype.attachFormEvents.call(this,e);var n=e.querySelector(".medium-editor-toolbar-input");e.querySelectorAll("[data-scrivito-rel]").forEach((function(e){return e.addEventListener("click",(function(e){return t.onRelSelectionButtonClick(e)}))})),e.querySelector(".scrivito_icon_gear").addEventListener("click",(function(){return t.onToggleRelPanelButtonClick(e)})),e.querySelector(".medium-editor-toolbar-browse").addEventListener("click",(function(){return t.onContentBrowserButtonClick(n)}))},completeFormSave:function(e){if(this.super().base.restoreSelection(),e.value){var t=Iu(Iu({},e),{value:Au(e.value)});this.super().execAction(this.super().action,t),this.updateRelAttribute(t)}else this.super().execAction("unlink");this.super().base.checkSelection()},getFormOpts:function(){var e=ju.extensions.anchor.prototype.getFormOpts.call(this);return e.rel=this.selectedRelValues(),e},relButtons:function(){return Array.from(this.super().getForm().querySelectorAll(".scrivito_enum_attribute.scrivito_multi [data-scrivito-rel]"))},selectedRelValues:function(){return this.relButtons().filter((function(e){return e.classList.contains("scrivito_enum_attribute_active")})).map((function(e){return e.getAttribute("data-scrivito-rel")})).join(" ")},updateRelIndicator:function(){this.super().getForm().querySelector(".scrivito_icon_gear").classList.toggle("scrivito_active_rel_selected",this.relButtons().some((function(e){return e.classList.contains("scrivito_enum_attribute_active")})))},updateRelAttribute:function(e){var t=ju.selection.getSelectionRange(this.super().document),n=ju.selection.getSelectedParentElement(t),r=ju.util.getClosestTag(n,"a");e.rel?r.setAttribute("rel",e.rel):r.removeAttribute("rel");var i=this.super().getEditorElements()[0];this.super().base.trigger("editableInput",{},i)},updateRelUi:function(e){var t=e.rel?e.rel.split(/\s+/):void 0;this.relButtons().forEach((function(e){var n=e.getAttribute("data-scrivito-rel"),r=t&&n&&-1!==t.indexOf(n);e.classList.toggle("scrivito_enum_attribute_active",!!r)})),this.updateRelIndicator()},onToggleRelPanelButtonClick:function(e){var t;null===(t=e.querySelector(".scrivito_html_link_collapse"))||void 0===t||t.classList.toggle("show")},onRelSelectionButtonClick:function(e){e.target.classList.toggle("scrivito_enum_attribute_active"),this.updateRelIndicator()},onContentBrowserButtonClick:function(t){var n=t.value;e(n).catch((function(e){throw t.focus(),e})).then((function(e){void 0!==e&&(t.focus(),t.value=e)}))}}}(e,t));return new n}var Lu={blockquote:"quote",bold:"bold",bulletList:"unorderedlist",clean:"removeFormat",code:"code",codeBlock:"pre",header1:"h1",header2:"h2",header3:"h3",header4:"h4",header5:"h5",header6:"h6",indent:"indent",italic:"italic",link:"scrivito_anchor",mark:"mark",orderedList:"orderedlist",outdent:"outdent",strikethrough:"strikethrough",subscript:"subscript",superscript:"superscript",underline:"underline"},Ru=["address","article","aside","blockquote","dd","details","dialog","div","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","p","pre","section","tr"],Fu=[/(&lt;\/?)(:*a)/gi,"$1:$2"],Bu=[/(&lt;\/?):(:*a)/gi,"$1$2"],zu=n(12861);function Wu(e){return(0,zu.fq)(e,Uu)}function Uu(e){var t=e.obj_id,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["obj_id"]);return En.X.getUrlFor(t,n)||null}var Hu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zu=(0,a.Z)(function(e){function n(n){var r=e.call(this,n)||this;return r.stateChangeCausedByEditor=new t.AY,r.state={showSource:!1},r.iframeRef=i.createRef(),r.toolbarContainerRef=i.createRef(),r.createRichEditor=r.createRichEditor.bind(r),r.destroyRichEditor=r.destroyRichEditor.bind(r),r.showContent=r.showContent.bind(r),r.showSource=r.showSource.bind(r),r}return Hu(n,e),n.prototype.componentWillUnmount=function(){this.destroyRichEditor()},n.prototype.createRichEditor=function(){var e=this;this.destroyRichEditor();var t=this.toolbarContainerRef.current,n=this.iframeRef.current;if(t&&n&&n.contentWindow){var r=n.contentWindow.document.body,i=(0,y.M5)((function(){return t=e.props.field.get(),(0,D.IE)((function(){return Wu(t)})).result;var t}),(function(t){e.stateChangeCausedByEditor.current()||(r.innerHTML=t)}));this.unsubscribe=i.unsubscribe,r.innerHTML=i.initialValue;var o=function(e,t,n){var r=function(e){return{toolbar:(null==e?void 0:e.toolbar)||["bold","italic","link","header2","header3","bulletList","orderedList"]}}(n).toolbar.map((function(e){return Lu[e]})),i=r.includes("scrivito_anchor");return{anchorPreview:!1,extensions:{scrivito_anchor:Mu(e,t),code:Nu("code",!0),mark:Nu("mark",!1),imageDragging:{}},paste:i?{cleanPastedHTML:!0,cleanAttrs:["class","dir","download","hreflang","name","style","title","type"],preCleanReplacements:[Fu],cleanReplacements:[Bu,[new RegExp("<("+Ru.join("|")+").*?>","gi"),"<p>"],[/<(?!\/?(a|br|p)\b).*?>/gi,""]]}:{},placeholder:{text:""},toolbar:{buttons:r,standardizeSelectionStart:!0}}}(qu,f.translate,this.props.options);Object.assign(o,{contentWindow:n.contentWindow,disableEditing:this.props.readOnly,elementsContainer:document.body,ownerDocument:n.contentWindow.document,toolbar:{buttons:o.toolbar.buttons,relativeContainer:t}});var a=new ju(r,o);a.subscribe("editableInput",(function(){return e.stateChangeCausedByEditor.runWith(!0,(function(){return e.onChange(function(e){return"<p><br></p>"===e||"<br>"===e?"":e}(a.getContent()))}))})),a.subscribe("positionToolbar",(function(){return r.focus()})),this.mediumEditor=a}},n.prototype.destroyRichEditor=function(){this.unsubscribe&&this.unsubscribe(),this.mediumEditor&&this.mediumEditor.destroy(),this.unsubscribe=void 0,this.mediumEditor=void 0},n.prototype.render=function(){var e,t,n=this;return Wu(this.props.field.get()),i.createElement("div",{className:this.className()},i.createElement("div",{className:"html_nav",ref:this.toolbarContainerRef},(null===(e=this.props.options)||void 0===e?void 0:e.showHtmlSource)&&i.createElement("div",{className:"html_nav_tabs"},i.createElement("span",{className:this.state.showSource?void 0:"active",onClick:this.showContent},(0,f.translate)("html_attribute.tab.content")),i.createElement("span",{className:this.state.showSource?"active":void 0,onClick:this.showSource},(0,f.translate)("html_attribute.tab.source")))),(null===(t=this.props.options)||void 0===t?void 0:t.showHtmlSource)&&this.state.showSource?i.createElement("textarea",{disabled:this.props.readOnly,onChange:function(e){return n.onChange(e.target.value)},value:Wu(this.props.field.get())}):i.createElement("iframe",{key:[this.props.field.id(),this.props.readOnly].join(),srcDoc:Vu,sandbox:"allow-same-origin allow-scripts",onLoad:this.createRichEditor,ref:this.iframeRef}))},n.prototype.className=function(){return this.props.readOnly?"html_attribute read_only":"html_attribute"},n.prototype.showContent=function(){this.state.showSource&&this.setState({showSource:!1})},n.prototype.showSource=function(){this.state.showSource||(this.destroyRichEditor(),this.setState({showSource:!0}))},n.prototype.onChange=function(e){this.props.readOnly||this.props.field.update(e)},n}(i.Component));function qu(e){return(0,D.zD)((function(){return es(e)})).then((function(e){return Av({selection:e?[e.obj_id]:[],selectionMode:"single"})})).then((function(e){if(e.isSelected&&e.selection.length)return t=e.selection[0].id(),(0,D.zD)((function(){return En.X.getUrlFor(t)||void 0}));var t}))}var Vu="<head><style>"+Du.Z+"</style></head>",Ku=function(){return Ku=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ku.apply(this,arguments)},$u=(0,a.Z)((function(e){var t=e.attribute,n=e.field,r=e.readOnly,o=e.comparison;if(o){var a=n.getHtmlDiffContent(o);if(a)return i.createElement("div",{className:"html_diff",dangerouslySetInnerHTML:{__html:Wu(a)}})}return i.createElement(Zu,{options:Ku({showHtmlSource:!0},t.options()),field:n,readOnly:r})})),Gu=Cu((function(e){return!Number.isSafeInteger(e)}));function Yu(e,t){var n=e.restriction(),r=t.restriction();return Zn(n)&&!Zn(r)||Hn(n)&&qn(r)||qn(n)&&qn(r)&&n!==r}var Qu,Xu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ju=(0,a.Z)((function(e){var t=e.link.obj();return i.createElement("span",{className:"read_only scrivito_link_description",onClick:e.onClick},i.createElement(ed,{link:e.link,container:e.container}),t instanceof on.Jj&&i.createElement(i.Fragment,null,i.createElement("span",{className:"scrivito_margin"}),(0,xn.VA)(t),i.createElement("span",{className:"scrivito_margin"})))})),ed=(0,a.Z)((Qu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xu(t,e),t.prototype.render=function(){var e=this.props.link.obj(),t=this.getQuery(),n=this.getHash();return e instanceof on.AZ&&e.isForbidden()?i.createElement(ad,null):e instanceof on.AZ&&e.isNonexistent()?i.createElement(od,null):i.createElement(i.Fragment,null,e instanceof on.Jj&&Yu(this.props.container,e)&&i.createElement(td,null),e instanceof on.Jj&&i.createElement(nd,null),e instanceof on.Jj&&this.props.container.siteId()!==e.siteId()&&i.createElement(sd,{target:e}),e instanceof on.Jj&&t&&i.createElement(rd,{query:t}),e instanceof on.Jj&&n&&i.createElement(id,{hash:n}))},t.prototype.getQuery=function(){var e=this.props.link.query();if(e)return decodeURIComponent(e).replace("?","")},t.prototype.getHash=function(){var e=this.props.link.hash();if(e)return"#"+e},t}(i.Component),Qu.displayName="LinkObjDescription.Badges",Qu)),td=function(){return i.createElement("span",{className:"scrivito_badge icon_restrictions"},(0,f.translate)("link_obj_description.restricted"))},nd=function(){return i.createElement("span",{className:"scrivito_badge icon green"},(0,f.translate)("link_obj_description.internal"))},rd=function(e){var t=e.query;return i.createElement("span",{className:"scrivito_badge short query",title:t},t)},id=function(e){var t=e.hash;return i.createElement("span",{className:"scrivito_badge short hash",title:t},t)},od=function(){return i.createElement("span",{className:"scrivito_badge red icon_error"},(0,f.translate)("link_obj_description.deleted"))},ad=function(){return i.createElement("span",{className:"scrivito_badge icon_restrictions red"},(0,f.translate)("link_obj_description.forbidden"))},sd=(0,a.Z)((function(e){var t=e.target,n=t.siteId(),r=(0,qs.$)(t);return n?i.createElement("span",{title:r,className:"scrivito_badge short icon_globe"},(0,qs.a)(t)||(0,f.translate)("unknown")):i.createElement("span",{title:r,className:"scrivito_badge icon_globe blue"},(0,f.translate)("link_obj_description.global"))})),cd=["noindex","nofollow","noarchive","nosnippet","noopener","noreferrer","notranslate"],ld=(0,a.Z)((function(e){var t,n=e.value,r=e.onChange,o=n?n.split(" "):[];return i.createElement("div",{className:"scrivito_link_collapse_body"},i.createElement("div",{className:"scrivito_detail_label"},(0,f.translate)("link.rel.title")),i.createElement("div",{className:"scrivito_notice_body"},(0,f.translate)("link.rel.description1"),i.createElement("code",null,"rel"),(0,f.translate)("link.rel.description2")),i.createElement("ul",{className:(t="enum_attribute scrivito_multi",r||(t+=" scrivito_multi_read_only"),t)},cd.map((function(e,t){return i.createElement("li",{key:t,className:a(e),onClick:function(t){return function(e,t){e.stopPropagation(),r&&(o.includes(t)?o.splice(o.indexOf(t),1):o.push(t),r(o.length>0?o.join(" "):null))}(t,e)}},e)}))));function a(e){if(o.includes(e))return"enum_attribute_active"}})),ud=(0,a.Z)((function(e){var t=e.link,n=e.onChange,r=e.title,o=e.toggleLinkRelEditor,a=e.hasRelAttribute;return t?i.createElement(dd,{onChange:n,title:r,toggleLinkRelEditor:o,hasRelAttribute:a}):i.createElement(fd,{toggleLinkRelEditor:o,hasRelAttribute:a})})),dd=function(e){return i.createElement("div",{className:"scrivito_link_content"},i.createElement("span",{className:"scrivito_link_icon scrivito_icon_title",title:(0,f.translate)("link_item_component.link.title_placeholder")}),i.createElement("input",{type:"text",placeholder:(0,f.translate)("link_item_component.link.title_placeholder"),onChange:e.onChange,value:e.title}),i.createElement("span",{onClick:e.toggleLinkRelEditor,className:pd(e.hasRelAttribute),title:(0,f.translate)("link.seo_settings")}))},fd=function(e){return i.createElement("div",{className:"scrivito_link_content"},i.createElement("span",{className:"scrivito_link_icon scrivito_icon_title",title:(0,f.translate)("link_item_component.link.title_placeholder")}),i.createElement("span",{className:"read_only"},e.title),i.createElement("span",{onClick:e.toggleLinkRelEditor,className:pd(e.hasRelAttribute),title:(0,f.translate)("link.seo_settings")}))};function pd(e){return"scrivito_link_icon scrivito_icon_gear scrivito_link_icon_hover "+(e?"active":"")}var hd=(0,a.Z)((function(e){var t=e.link,n=e.container,r=e.currentSelection,o=e.targetClass,a=e.title,s=e.hasRelAttribute,c=e.relAttribute,l=e.toggleLinkRelEditor,u=e.isRelEditorOpen;return i.createElement("div",{className:"scrivito_link_item"},i.createElement("div",{className:"scrivito_link_content"},i.createElement("span",{className:"scrivito_link_icon scrivito_icon_link",title:(0,f.translate)("link_item_component.link.url_placeholder")}),i.createElement(md,{container:n,link:t,currentSelection:r}),i.createElement("span",{className:o,title:(0,f.translate)("link.new_tab")})),i.createElement(fd,{toggleLinkRelEditor:l,hasRelAttribute:s,title:a}),t&&u&&i.createElement("div",{className:"scrivito_link_collapse show"},i.createElement(ld,{value:c})))})),md=(0,a.Z)((function(e){var t=e.link,n=e.container,r=e.currentSelection;return t?t.isExternal()?i.createElement("span",{className:"read_only"},t.url()):i.createElement(Ju,{container:n,link:t,onClick:function(){return Av({selection:r,selectionMode:"single",standAlone:!0,disableDelete:!0})}}):i.createElement("span",{className:"read_only"})})),vd=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},gd=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},_d=(0,a.Z)((function(e){var t,n=e.link,r=e.container,o=e.onChange,a=i.useState(!1),s=a[0],c=a[1],l=i.useState(""),u=l[0],d=l[1];return i.useEffect((function(){if(n)return n.isExternal()?d(n.url()):function(e){vd(this,void 0,void 0,(function(){var n;return gd(this,(function(r){switch(r.label){case 0:return[4,bd(e)];case 1:return(n=r.sent())&&!t&&d(n),[2]}}))}))}(n),function(){t=!0}}),[]),!n||n.isExternal()||s?i.createElement("input",{autoFocus:s,onBlur:function(e){e.preventDefault(),e.stopPropagation(),o(Au(u))},onChange:function(e){e.preventDefault(),e.stopPropagation(),d(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&o(Au(u))},placeholder:(0,f.translate)("link_item_component.link.url_placeholder"),type:"text",value:u}):i.createElement(Ju,{link:n,container:r,onClick:function(e){e.preventDefault(),e.stopPropagation(),c(!0)}})}));function bd(e){return vd(this,void 0,void 0,(function(){var t;return gd(this,(function(n){switch(n.label){case 0:return[4,(0,D.zD)((function(){var t,n,r=e.obj();if(r instanceof on.Jj&&!(0,dc.Z)(r))return En.X.getUrlFor(r.id(),{hash:null!==(t=e.hash())&&void 0!==t?t:void 0,query:null!==(n=e.query())&&void 0!==n?n:void 0})}))];case 1:return(t=n.sent())?[2,Lo(t).resource()]:[2]}}))}))}var yd=(0,a.Z)((function(e){var t=!!e.onDelete;return i.createElement("div",{className:"scrivito_link_item"},t&&i.createElement("div",{className:"scrivito_link_drag"}),i.createElement("div",{className:"scrivito_link_content"},i.createElement("span",{className:"scrivito_link_icon scrivito_icon_content_browser scrivito_link_icon_hover",title:(0,f.translate)("link.content_browser"),onClick:n}),i.createElement(wd,{link:e.link,container:e.container,onUrlChange:function(e){return r({url:e,obj:null})},selectObj:n}),e.link&&i.createElement(kd,{clear:function(){return e.onChange(null)}}),i.createElement("span",{className:e.targetClass+" scrivito_link_icon_hover",onClick:function(){e.link&&r({target:"_blank"===e.link.target()?"":"_blank"})},title:(0,f.translate)("link.new_tab")})),i.createElement(ud,{link:e.link,onChange:function(e){return r({title:e.target.value})},title:e.title,toggleLinkRelEditor:e.toggleLinkRelEditor,hasRelAttribute:e.hasRelAttribute}),e.link&&e.isRelEditorOpen&&i.createElement("div",{className:"scrivito_link_collapse show"},i.createElement(ld,{value:e.relAttribute,onChange:function(e){return r({rel:e})}})),t&&i.createElement(Ed,{onClick:e.onDelete}));function n(){Av({selection:e.currentSelection,selectionMode:"single",standAlone:!1}).then((function(t){if(t.isSelected){var n=t.selection[0],r=n?{url:null,obj:n}:{};e.onChange(a(r)?null:o(r))}}))}function r(t){e.onChange(a(t)?null:o(t))}function o(t){var n=t.obj,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["obj"]),i=e.link,o=r;return n&&(o.objId=n.id()),i?i.copy(o):new on.AM(o)}function a(e){return!e.url&&!e.obj&&void 0===e.rel&&void 0===e.title&&void 0===e.target}})),wd=(0,a.Z)((function(e){var t=e.link,n=e.container,r=e.onUrlChange,o=e.selectObj;if(t&&t.isInternal()){var a=t.obj();if(a instanceof on.Jj&&(0,dc.Z)(a))return i.createElement(Ju,{link:t,onClick:o,container:n})}return i.createElement(_d,{key:(null==t?void 0:t.objId())||(null==t?void 0:t.url())||void 0,link:t,onChange:r,container:n})}));function kd(e){return i.createElement("span",{className:"scrivito_icon scrivito_icon_cancel",onClick:e.clear})}function Ed(e){return i.createElement("div",{className:"scrivito_link_action",onClick:e.onClick,title:(0,f.translate)("link_item_component.link.delete")},i.createElement("i",{className:"scrivito_icon scrivito_icon_trash"}))}var Cd=(0,a.Z)((function(e){var t=e.link,n=e.container,r=e.onChange,o=e.onDelete,a=i.useState(!1),s=a[0],c=a[1],l=(null==t?void 0:t.title())||"",u=(null==t?void 0:t.rel())||"";return r?i.createElement(yd,{container:n,currentSelection:f(),hasRelAttribute:!!(null==t?void 0:t.rel()),isRelEditorOpen:s,link:t,onChange:r,onDelete:o,relAttribute:u,targetClass:d(),title:l,toggleLinkRelEditor:function(){return c((function(e){return!e}))}}):i.createElement(hd,{container:n,currentSelection:f(),hasRelAttribute:!!(null==t?void 0:t.rel()),isRelEditorOpen:s,link:t,relAttribute:u,targetClass:d(),title:l,toggleLinkRelEditor:function(){return c((function(e){return!e}))}});function d(){var e="scrivito_link_icon scrivito_icon_new_window";return"_blank"===(null==t?void 0:t.target())&&(e+=" active"),e}function f(){var e=null==t?void 0:t.objId();return e?[e]:[]}})),Sd=(0,a.Z)((function(e){var t=e.field,n=e.readOnly,r=e.comparison;return r?ql(t,r,xd):n?i.createElement(xd,{field:t}):i.createElement(Cd,{link:t.get(),container:t.obj(),onChange:function(e){return t.update(e)}})}));function xd(e){var t=e.field;return i.createElement(Cd,{link:t.get(),container:t.obj()})}var Od=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Td=(0,a.Z)((function(e){var t=e.field,n=e.readOnly,r=e.comparison;return r?ql(t,r,jd):n?i.createElement(jd,{field:t}):i.createElement(Dd,{field:t})})),jd=(0,a.Z)((function(e){var t=e.field,n=t.get();return 0===n.length?i.createElement("div",{className:"scrivito_notice scrivito_blue"},i.createElement("div",{className:"scrivito_notice_body"},(0,f.translate)("linklist_item_component.linklist.undefined"))):i.createElement("div",{className:"scrivito_linklist_item"},i.createElement(Nd,{container:t.obj(),distance:10,helperClass:"scrivito_detail_content scrivito_detail_content_dragging",items:n,lockToContainerEdges:!0,axis:"xy",readOnly:!0}))})),Dd=(0,a.Z)((function(e){var t=e.field,n=i.useState([]),r=n[0],o=n[1];return i.createElement("div",{className:"scrivito_linklist_item"},i.createElement(Nd,{container:t.obj(),distance:10,helperClass:"scrivito_detail_content scrivito_detail_content_dragging",items:s(),lockToContainerEdges:!0,axis:"xy",onDelete:function(e,t){e.preventDefault(),e.stopPropagation();var n=s();null===n[t]?l(t):(n.splice(t,1),a(n))},onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex,r=s();a(Do(s(),t,n)),null===r[t]&&u(t,n),null===r[n]&&u(n,n-1)},readOnly:!1,onChange:function(e,t){var n=s();null===n[t]&&l(t),null===e&&c(t),a(Od(Od(Od([],n.slice(0,t),!0),[e],!1),n.slice(t+1,n.length),!0))}}),i.createElement(Ad,{onClick:function(e){e.preventDefault(),e.stopPropagation(),c(t.get().length+r.length)}}));function a(e){t.update((0,_a.Z)(e))}function s(){for(var e=t.get(),n=0,i=r;n<i.length;n++){var o=i[n];e.splice(o,0,null)}return e}function c(e){o((function(t){return Od(Od([],t,!0),[e],!1).sort()}))}function l(e){o((function(t){return t.filter((function(t){return t!==e}))}))}function u(e,t){l(e),c(t)}})),Nd=xo((function(e){return i.createElement("div",null,e.items.map((function(t,n){return i.createElement(Pd,{index:n,container:e.container,disabled:e.readOnly,key:n.toString(),onDelete:e.readOnly?void 0:function(t){return e.onDelete&&e.onDelete(t,n)},onChange:e.readOnly?void 0:function(t){return e.onChange&&e.onChange(t,n)},link:t})})))})),Pd=jo((function(e){return i.createElement("div",null,i.createElement(Cd,{link:e.link,container:e.container,onChange:e.onChange,onDelete:e.onDelete}))}));function Ad(e){return i.createElement("div",{className:"add_list_items_button scrivito_button scrivito_blue",onClick:e.onClick},i.createElement("i",{className:"scrivito_icon scrivito_icon_plus"}))}var Id=(0,a.Z)((function(e){return e.comparison?ql(e.field,e.comparison,(function(t){var n=t.field;return i.createElement(Ld,{field:n,attribute:e.attribute})})):e.readOnly?i.createElement(Ld,{field:e.field,attribute:e.attribute}):i.createElement(Md,{field:e.field,attribute:e.attribute})})),Md=(0,a.Z)((function(e){var t=e.field,n=e.attribute,r=t.get(),o=n.orderedValues();return i.createElement("div",{className:"multienum_attribute_component"},i.createElement("ul",{className:"enum_attribute scrivito_multi"},o.map((function(e){return i.createElement("li",{key:e,className:a(e),onClick:function(n){return function(e,n){e.stopPropagation(),e.preventDefault(),r.includes(n)?r.splice(r.indexOf(n),1):r.push(n),r.sort((function(e,t){return o.indexOf(e)-o.indexOf(t)})),t.update(r)}(n,e)}},n.titleForValue(e))}))));function a(e){if(r.includes(e))return"enum_attribute_active"}})),Ld=(0,a.Z)((function(e){var t=e.field,n=e.attribute,r=t.get();return i.createElement("div",{className:"multienum_attribute_component scrivito_disabled"},i.createElement("ul",{className:"enum_attribute scrivito_multi"},n.orderedValues().map((function(e){return i.createElement("li",{key:e,className:o(e)},n.titleForValue(e))}))));function o(e){if(r.includes(e))return"enum_attribute_active"}})),Rd=(0,a.Z)((function(e){if(!e.isBrowsable)return null;var t=e.reference,n=e.container;return i.createElement("span",null,i.createElement("i",{className:"scrivito_icon scrivito_icon_content_browser"}),i.createElement(Fd,{source:n,target:t,isDeleted:e.isDeleted}),t instanceof on.Jj&&i.createElement("span",{className:"title"},(0,xn.VA)(t)))})),Fd=(0,a.Z)((function(e){var t=e.source,n=e.target;return e.isDeleted?i.createElement(zd,null):n instanceof on.AZ&&n.isForbidden()?i.createElement(Wd,null):i.createElement(i.Fragment,null,n instanceof on.Jj&&Yu(t,n)&&i.createElement(Bd,null),n instanceof on.Jj&&n.siteId()!==t.siteId()&&i.createElement(Ud,{target:n}))})),Bd=function(){return i.createElement("span",{className:"scrivito_badge icon_restrictions"},(0,f.translate)("reference_label.restricted"))},zd=function(){return i.createElement("span",{className:"scrivito_badge icon_error red"},(0,f.translate)("reference_label.deleted"))},Wd=function(){return i.createElement("span",{className:"scrivito_badge icon_restrictions red"},(0,f.translate)("reference_label.forbidden"))},Ud=(0,a.Z)((function(e){var t=e.target,n=t.siteId(),r=(0,qs.$)(t);return n?i.createElement("span",{title:r,className:"scrivito_badge short icon_globe"},(0,qs.a)(t)||(0,f.translate)("unknown")):i.createElement("span",{title:r,className:"scrivito_badge icon_globe blue"},(0,f.translate)("link_obj_description.global"))})),Hd=function(){return Hd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Hd.apply(this,arguments)},Zd=(0,a.Z)((function(e){var t=e.attribute.validClassNames();return e.comparison?ql(e.field,e.comparison,(function(e){var n=e.field;return i.createElement(qd,{field:n,validObjClasses:t})})):e.readOnly?i.createElement(qd,{field:e.field,validObjClasses:t}):i.createElement(Vd,{validObjClasses:t,field:e.field})})),qd=(0,a.Z)((function(e){var t=e.field,n=e.validObjClasses,r=t.get();return i.createElement("div",{className:"referencelist_attribute_item",onClick:function(e){e.stopPropagation(),e.preventDefault(),null!==r&&$d({standAlone:!0,selection:r?[r.id()]:[],disableDelete:!0,validObjClasses:n})}},i.createElement(Rd,{reference:r,container:t.obj(),isDeleted:Gd(r),isBrowsable:null!==r}))})),Vd=(0,a.Z)((function(e){var t=e.validObjClasses,n=e.field,r=n.get();return i.createElement("div",{className:"referencelist_attribute_item scrivito_browsable",onClick:function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var i;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){switch(o.label){case 0:return e.stopPropagation(),e.preventDefault(),[4,$d({selection:r?[r.id()]:[],standAlone:!1,validObjClasses:t})];case 1:return(i=o.sent()).isSelected&&n.update(i.selection[0]||null),[2]}}))}))}},i.createElement(Rd,{reference:r,container:n.obj(),isDeleted:Gd(r),isBrowsable:!0}),null!==r&&i.createElement(Kd,{onClear:function(){return n.update(null)}}))}));function Kd(e){return i.createElement("span",{className:"clear_button delete_list_item_button scrivito_pull_right",title:(0,f.translate)("reference_attribute_component.clear_button.title"),onClick:function(t){t.stopPropagation(),t.preventDefault(),e.onClear()}},i.createElement("i",{className:"scrivito_icon scrivito_icon_cancel"}))}function $d(e){return Av(Hd(Hd({},e),{selectionMode:"single"}))}function Gd(e){return e instanceof on.Jj?e.isDeleted():e instanceof on.AZ&&e.isNonexistent()}var Yd=function(){return Yd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yd.apply(this,arguments)};function Qd(e){return i.createElement("div",{className:"referencelist_attribute_item",onClick:e.onClick},i.createElement(Rd,{container:e.container,reference:e.reference,isBrowsable:!0,isDeleted:e.isDeleted}),e.onDelete&&i.createElement(Xd,{onClick:e.onDelete}))}function Xd(e){return i.createElement("span",Yd({className:"delete_list_item_button scrivito_pull_right"},e),i.createElement("i",{className:"scrivito_icon scrivito_icon_trash"}))}var Jd=(0,a.Z)((function(e){return i.createElement("div",{className:"referencelist_attribute"},e.field.get().map((function(t,n){var r=t instanceof on.Jj?t.id():t.id;return i.createElement(Qd,{key:r+"-"+n,reference:t,container:e.field.obj(),isDeleted:e.isDeleted(t),onClick:function(n){return function(t,n){t.preventDefault(),t.stopPropagation(),e.openContentBrowser({selectionMode:"single",standAlone:!0,disableDelete:!0,selection:[n.id()]})}(n,t)}})})))})),ef=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},tf=(0,a.Z)((function(e){return i.createElement("div",{className:"referencelist_attribute"},i.createElement(nf,{items:e.field.get(),container:e.field.obj(),isDeleted:e.isDeleted,distance:10,helperClass:"scrivito_detail_content scrivito_detail_content_dragging",lockToContainerEdges:!0,axis:"xy",onItemClick:function(t,n){t.preventDefault(),t.stopPropagation();var r=e.field.get();e.openContentBrowser({selection:[r[n].id()],selectionMode:"single",standAlone:!1}).then((function(t){t.isSelected&&e.field.update(ef(ef(ef([],r.slice(0,n),!0),t.selection,!0),r.slice(n+1,r.length),!0))}))},onItemDelete:function(t,n){t.preventDefault(),t.stopPropagation();var r=e.field.get();r.splice(n,1),e.field.update(r)},onSortEnd:function(t){var n=t.oldIndex,r=t.newIndex;e.field.update(Do(e.field.get(),n,r))}}),i.createElement("div",{className:"add_list_items_button scrivito_button scrivito_blue",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.openContentBrowser({standAlone:!1}).then((function(t){t.isSelected&&e.field.update(ef(ef([],e.field.get(),!0),t.selection,!0))}))}},i.createElement("i",{className:"scrivito_icon scrivito_icon_plus"})))})),nf=xo((function(e){return i.createElement("div",null,e.items.map((function(t,n){return i.createElement(rf,{index:n,reference:t,container:e.container,isDeleted:e.isDeleted(t),onClick:function(t){return e.onItemClick(t,n)},onDelete:function(t){return e.onItemDelete(t,n)},key:n.toString()})})))}));nf.displayName="Inspector.SortableReferencelist";var rf=jo((function(e){return i.createElement("div",null,i.createElement(Qd,{reference:e.reference,container:e.container,isDeleted:e.isDeleted,onClick:e.onClick,onDelete:e.onDelete}))}));rf.displayName="Inspector.SortableReferencelistItem";var of=function(){return of=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},of.apply(this,arguments)},af=(0,a.Z)((function(e){return e.comparison?ql(e.field,e.comparison,(function(e){var n=e.field;return i.createElement(Jd,{field:n,isDeleted:sf,openContentBrowser:t})})):e.readOnly?i.createElement(Jd,{field:e.field,isDeleted:sf,openContentBrowser:t}):i.createElement(tf,{field:e.field,isDeleted:sf,openContentBrowser:t});function t(t){return Av(of(of({selection:[],selectionMode:"multi"},t),{validObjClasses:e.attribute.validClassNames()}))}}));function sf(e){return e instanceof on.Jj?e.isDeleted():e instanceof on.AZ&&e.isNonexistent()}var cf=(0,a.Z)((function(e){var t=e.field,n=e.className,r=e.readOnly,o=e.comparison;if(o){var a=t.getHtmlDiffContent(o);if(a)return i.createElement("div",{className:"html_diff",dangerouslySetInnerHTML:{__html:a}})}return r?i.createElement("input",{type:"text",className:n,value:t.get(),disabled:!0}):i.createElement("input",{type:"text",className:n,value:t.get(),onChange:function(e){return t.update(e.target.value)}})})),lf=n(97659),uf=function(){return lf.Z.Date.now()},df=n(10745),ff=Math.max,pf=Math.min,hf=n(4913),mf=function(){return mf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mf.apply(this,arguments)};function vf(e){var t=i.useState(!1),n=t[0],r=t[1];return i.useLayoutEffect((function(){return r(!0)}),[]),n?i.createElement(hf.WithContext,mf({},e)):null}var gf=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),_f=function(e){return gf.test(e)},bf="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",yf="\\ud83c[\\udffb-\\udfff]",wf="[^\\ud800-\\udfff]",kf="(?:\\ud83c[\\udde6-\\uddff]){2}",Ef="[\\ud800-\\udbff][\\udc00-\\udfff]",Cf="(?:"+bf+"|"+yf+")?",Sf="[\\ufe0e\\ufe0f]?",xf=Sf+Cf+"(?:\\u200d(?:"+[wf,kf,Ef].join("|")+")"+Sf+Cf+")*",Of="(?:"+[wf+bf+"?",bf,kf,Ef,"[\\ud800-\\udfff]"].join("|")+")",Tf=RegExp(yf+"(?="+yf+")|"+Of+xf,"g"),jf=function(e){return _f(e)?function(e){return e.match(Tf)||[]}(e):function(e){return e.split("")}(e)},Df=n(61189),Nf=function(e){return function(t){t=(0,Df.Z)(t);var n,r,i,o,a=_f(t)?jf(t):void 0,s=a?a[0]:t.charAt(0),c=a?(n=a,r=1,o=n.length,i=void 0===i?o:i,!r&&i>=o?n:(0,Ae.Z)(n,r,i)).join(""):t.slice(1);return s[e]()+c}},Pf=Nf("toUpperCase"),Af=Nf("toLowerCase"),If=(0,a.Z)((function(e){var t=e.field,n=e.readOnly,r=e.comparison;return r?ql(t,r,Mf):n?i.createElement(Mf,{field:t}):i.createElement(Lf,{field:t})})),Mf=(0,a.Z)((function(e){var t=e.field;return i.createElement("div",{className:"scrivito_disabled"},i.createElement(vf,{allowDeleteFromEmptyInput:!1,autofocus:!1,classNames:{activeSuggestion:"active_suggestion",remove:"remove",selected:"selected",suggestions:"suggestions",tag:"string",tagInput:"string_input",tagInputField:"string_input_field",tags:"strings edit_stringlist"},minQueryLength:1,placeholder:(0,f.translate)("stringlist_item_component.edit_stringlist.add_placeholder"),readOnly:!0,handleAddition:function(){},handleDelete:function(){},tags:Ff(t)}))})),Lf=(0,a.Z)((function(e){var n=e.field,r=i.useState([]),o=r[0],a=r[1],s="",c=i.useCallback(function(e,t,n){var r,i,o,a,s,c,l=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,o=i;return r=i=void 0,l=t,a=e.apply(o,n)}function h(e){return l=e,s=setTimeout(v,t),u?p(e):a}function m(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=o}function v(){var e=uf();if(m(e))return g(e);s=setTimeout(v,function(e){var n=t-(e-c);return d?pf(n,o-(e-l)):n}(e))}function g(e){return s=void 0,f&&r?p(e):(r=i=void 0,a)}function _(){var e=uf(),n=m(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return h(c);if(d)return clearTimeout(s),s=setTimeout(v,t),p(c)}return void 0===s&&(s=setTimeout(v,t)),a}return t=(0,df.Z)(t)||0,(0,Or.Z)(n)&&(u=!!n.leading,o=(d="maxWait"in n)?ff((0,df.Z)(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),_.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=i=s=void 0},_.flush=function(){return void 0===s?a:g(uf())},_}((function(e){return function(e,t){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,Promise,(function(){var n,r,i,o;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return t?(n=t.toLowerCase(),r=t.toUpperCase(),i=se([n,r,Pf(t),Pf(n),Af(t),Af(r)]),o=on.Jj.where(e,"startsWith",i),[4,(0,D.zD)((function(){return o.facet(e,{limit:100})}))]):[2,[]];case 1:return[2,a.sent().map((function(e){return e.name()}))]}}))}))}(n.name(),e)}),1e3,{leading:!0}),[]);return i.createElement("div",null,i.createElement(vf,{allowDeleteFromEmptyInput:!1,autofocus:!1,classNames:{activeSuggestion:"active_suggestion",remove:"remove",selected:"selected",suggestions:"suggestions",tag:"string",tagInput:"string_input",tagInputField:"string_input_field",tags:"strings edit_stringlist"},handleAddition:function(e){var r=(0,t.o8)(e.text);0===r.length||u(r)||(n.update(l().concat([r])),c.cancel())},handleDelete:function(e){var t=l();t.splice(e,1),n.update(t)},handleDrag:function(e,t,r){var i=l();i.splice(t,1),i.splice(r,0,e.text),n.update(i)},handleFilterSuggestions:function(e,t){return t.filter((function(e){return!u(e.text)}))},handleInputChange:function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t,n,r;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(i){switch(i.label){case 0:return s=e,e?[4,c(e.substring(0,20))]:[3,2];case 1:t=i.sent()||[],n=e.toLowerCase(),r=t.filter((function(e){return 0===e.toLowerCase().indexOf(n)})),s===e&&a(r.map(Rf)),i.label=2;case 2:return[2]}}))}))},minQueryLength:1,placeholder:(0,f.translate)("stringlist_item_component.edit_stringlist.add_placeholder"),readOnly:!1,suggestions:o,tags:Ff(n)}));function l(){return se(n.get())}function u(e){return l().map((function(e){return e.toLowerCase()})).includes(e.toLowerCase())}}));function Rf(e){return{id:e,text:e}}function Ff(e){return se(e.get()).map(Rf)}var Bf=function(){function e(e){var t=e.id,n=e.title;this._id=t,this._title=n}return e.prototype.id=function(){return this._id},e.prototype.title=function(){return this._title},e.prototype.updateParams=function(e){var t=e.title;t&&(this._title=t)},e}(),zf="widget_clipboard";function Wf(e,n){return new xe({id:"scrivito.sdk.copy_widget_from_clipboard",title:function(){return(0,f.translate)("commands.copy_widget_from_clipboard.title")},icon:["scrivito_icon_duplicate","className"],present:function(){return!(0,hs.cA)()&&(0,Y.Kt)().hasKey(zf)&&(!!n||ps(e.get()))},disabled:function(){var t,n=null===(t=(0,Y.Kt)().get(zf))?null:t.objClass,r=Wa.P.validClassesForField(e);if(r.every((function(e){return e.name!==n})))return function(e){var t=e.map((function(e){return e.title()}));return(0,f.translate)("commands.copy_widget_from_clipboard.paste_forbidden",t.join(", "))}(r)},execute:function(){var r,i=null===(r=(0,Y.Kt)().get(zf))?null:on.E8.newWithSerializedAttributes(r.widgetAttributes);return i?(n?i.insertBefore(n):e.update([i]),t.s8.resolve()):t.s8.resolve()}})}function Uf(e){return new xe({id:"scrivito.sdk.delete_widget",title:(0,f.translate)("commands.delete_widget.title"),icon:["scrivito_icon_trash","className"],present:function(){return!(0,on.f$)()},disabled:function(){return ci(e.obj().id())},execute:function(){return function(e){return(0,D.zD)((function(){return e.modification([h.Bm,(0,on.GD)()])})).then((function(e){return Zr({title:(0,f.translate)("commands.delete_widget.dialog.title"),description:Hf(e),icon:"&#xf018;",color:"red",confirmButtonTitle:(0,f.translate)("delete"),confirmButtonColor:"red"})}))}(e).then((function(t){t.dialogCancelled||e.remove()}))}})}function Hf(e){return"new"===e?(0,f.translate)("commands.delete_widget.dialog.description.irreversible"):"edited"===e?(0,f.translate)("commands.delete_widget.dialog.description.restorable_unchanged"):(0,f.translate)("commands.delete_widget.dialog.description.restorable")}function Zf(e){return new xe({id:"scrivito.sdk.duplicate_widget",title:(0,f.translate)("commands.duplicate_widget.title"),icon:["scrivito_icon_duplicate","className"],present:function(){return!(0,hs.cA)()},disabled:function(){return ci(e.obj().id())},execute:function(){return e.copy().insertAfter(e),t.s8.resolve()}})}function qf(e){return new xe({id:"scrivito.sdk.save_widget_to_clipboard",title:(0,f.translate)("commands.save_widget_to_clipboard.title"),icon:["scrivito_icon_copy","className"],execute:function(){return t=e,void(0,Y.Kt)().set(zf,{widgetAttributes:(0,on.kO)(t),objClass:t.objClass()});var t}})}var Vf=n(29060);function Kf(e,t,n){ma(e,[Ss(t),Wf(t)],{relativePosition:n})}var $f=(0,a.Z)((function(e){var t=i.useRef(null);return i.createElement("div",{className:"scrivito_empty_widget_field",ref:t,onClick:function(n){n.preventDefault(),n.stopPropagation();var r=t.current;if(r){var i=r.getBoundingClientRect(),o=i.left,a=i.top;Kf(new fa(r),e.field,{x:n.pageX-o,y:n.pageY-a})}}})})),Gf=(0,a.Z)((function(e){var t=e.field,n=e.readOnly,r=e.comparison;return r?ql(t,r,Yf):n?i.createElement(Yf,{field:t}):i.createElement(Qf,{field:t})})),Yf=(0,a.Z)((function(e){var t=e.field.get();return 0===t.length?i.createElement("div",{className:"scrivito_notice scrivito_blue"},i.createElement("div",{className:"scrivito_notice_body"},(0,f.translate)("widgetlist_attribute_component.is_empty"))):i.createElement("div",{className:"scrivito_widget_list read_only"},t.map((function(e){return i.createElement(ep,{key:e.id(),widget:e})})))})),Qf=(0,a.Z)((function(e){var t=e.field.get();return 0===t.length?i.createElement($f,{field:e.field}):i.createElement(Xf,{widgets:t,onSortEnd:function(t){var n=t.newIndex,r=t.oldIndex;e.field.update(Do(e.field.get(),r,n))},helperClass:"scrivito_detail_content_dragging",distance:10,lockToContainerEdges:!0,transitionDuration:0,useDragHandle:!0,axis:"xy"})})),Xf=xo((function(e){return i.createElement("ul",{className:"scrivito_widget_list"},e.widgets.map((function(e,t){return i.createElement(np,{key:e.id(),index:t,widget:e})})))})),Jf=(0,a.Z)((function(e){var t=e.showDetails,n=e.showMarker,r=e.widget,o=(0,xn.nx)(r);return i.createElement("div",{className:"scrivito_widget_list_item"},n&&i.createElement(rp,{widget:r}),i.createElement("div",{className:"list_item_content"},function(){if(Vc(e.widget)){var t="scrivito_icon scrivito_icon_chevron_down";return e.showDetails&&(t="scrivito_icon scrivito_icon_chevron_up"),i.createElement("span",{className:"item_content_icon",onClick:a},i.createElement("i",{className:t}))}}(),i.createElement("span",{className:"item_content_body"},o),t&&i.createElement(Wh,{content:r})),n&&i.createElement("div",null,i.createElement(Vf.OptionMarker,{widget:r,position:"top",insertWidget:Ts}),i.createElement(Vf.OptionMarker,{widget:r,position:"bottom",insertWidget:Ts})));function a(t){t.stopPropagation(),e.toggleDetails()}}));function ep(e){var t=i.useState(!1),n=t[0],r=t[1];return i.createElement("div",null,i.createElement(Jf,{showDetails:n,showMarker:!1,toggleDetails:function(){r((function(e){return!e}))},widget:e.widget}))}var tp=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){var e,t;Ti(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=Ai(this,(e=Ii(n)).call.apply(e,[this].concat(o))),(0,xi.Z)(Pi(Pi(t)),"wrappedInstance",(0,i.createRef)()),t}return Li(n,t),Di(n,[{key:"componentDidMount",value:function(){(0,Ri.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return Bi()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return(0,i.createElement)(e,(0,ki.Z)({ref:t},this.props))}}]),n}(i.Component),(0,xi.Z)(t,"displayName",eo("sortableHandle",e)),n}(Jf),np=jo((function(e){var t=i.useState(!1),n=t[0],r=t[1];return i.createElement("div",null,i.createElement(tp,{showDetails:n,showMarker:!0,toggleDetails:function(){r((function(e){return!e}))},widget:e.widget}))}));function rp(e){var t=i.useRef(null);return i.createElement("span",{className:"scrivito_editing_marker",ref:t,onClick:function(n){if(n.stopPropagation(),t.current){var r=e.widget,i=r.containingField();ha(t.current,[Zf(r),qf(r),Wf(i,r),new Bf({id:"scrivito.sdk.widget_commands.separator1"}),Uf(r)])}}},i.createElement("i",{className:"scrivito_icon"}))}var ip=n(41671),op=function(){return op=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},op.apply(this,arguments)},ap=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},sp=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function cp(e){return ap(this,void 0,Promise,(function(){var t;return sp(this,(function(n){switch(n.label){case 0:return e.isEditingAsset()?[2,lp(e)]:[4,(0,D.zD)((function(){return En.X.getUrlFor(e.id())}))];case 1:return[2,(t=n.sent())?(0,rs.O)(t):null]}}))}))}function lp(e){return ap(this,void 0,Promise,(function(){var n,r;return sp(this,(function(i){if(!(n=(0,Ja.k)((0,ip.DX)())).isCloudUi)throw new t.AQ;return r=e.id(),[2,(0,rs.I)(op(op({},n),{screen:"widgetLibrary",uiHash:r}))]}))}))}function up(e){(0,t.xw)(e,"_blank")}function dp(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,Promise,(function(){var t,n;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(r){switch(r.label){case 0:return(0,dc.Z)(e)?[4,(0,D.zD)((function(){var t;return null===(t=e.get("blob",["binary"]))||void 0===t?void 0:t.url()}))]:[3,2];case 1:return n=r.sent(),[3,4];case 2:return[4,cp(e)];case 3:n=r.sent(),r.label=4;case 4:return(t=n)&&up(t),[2]}}))}))}function fp(e){return new xe({id:"scrivito.sdk.open_obj_in_new_ui_window",title:(0,f.translate)("commands.open_obj_in_new_ui_window.title"),icon:["scrivito_icon_new_window","className"],execute:function(){return dp(e)}})}var pp=(0,a.Z)((function(e){var t=e.content.backlinks();return t.length?i.createElement("ul",null,t.map((function(e){return i.createElement("li",{key:e.id()},i.createElement(hp,{backlink:e}))}))):i.createElement(mp,{obj:e.content})})),hp=(0,a.Z)((function(e){var n=i.useRef(null);return i.createElement("a",{href:"#",ref:n,onClick:function(r){return function(e,n,r){var i,o=n.current;o&&(e.preventDefault(),e.stopPropagation(),ha(o,[(i=r.id(),new xe({id:"scrivito.sdk.open_obj_in_content_browser",icon:["scrivito_icon_content_browser","className"],title:(0,f.translate)("commands.open_obj_in_content_browser.title"),execute:function(){return Av({selectionMode:"single",standAlone:!0,selection:[i],disableDelete:!0})}})),fp(r)],{relativePosition:(0,t.jB)(e,o)}))}(r,n,e.backlink)}},(0,xn.VA)(e.backlink))})),mp=(0,a.Z)((function(e){return i.createElement("div",{className:"scrivito_notice scrivito_blue"},i.createElement("div",{className:"scrivito_notice_icon"},i.createElement("i",{className:"scrivito_icon scrivito_icon_information"})),i.createElement("div",{className:"scrivito_notice_body"},(0,f.translate)("backlinks_item_component.no_backlinks_box.message",(0,xn.VA)(e.obj))))})),vp=n(1095),gp=["contentLength","contentType","filename","filesize","height","width"],_p=(0,a.Z)((function(e){var n=e.content.metadata();return n?i.createElement("div",null,i.createElement(bp,{metadataKey:(0,f.translate)("binary_metadata_item_component.filename"),metadataValue:n.get("filename")}),i.createElement("div",{className:"row"},i.createElement(bp,{className:"col-md-6",metadataKey:(0,f.translate)("binary_metadata_item_component.content_type"),metadataValue:n.contentType()}),i.createElement(bp,{className:"col-md-6",metadataKey:(0,f.translate)("binary_metadata_item_component.content_length"),metadataValue:vl(n.contentLength())})),function(e){if(!(0,dc.Z)(e))return!1;var t=e.get("blob",["binary"]);return!!t&&t.isImage()}(e.content)&&i.createElement(yp,{width:n.get("width"),height:n.get("height")}),vp.Z.apply(void 0,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([n.keys()],gp,!1)).sort().map((function(e){return i.createElement(bp,{key:e,metadataKey:(0,t.G8)(e),metadataValue:n.get(e)})}))):null}));function bp(e){var t=e.metadataKey,n=e.metadataValue,r=e.className;return i.createElement("div",{className:"metadata-item "+r},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,t)),i.createElement("input",{value:wp(n),type:"text",disabled:!0}))}function yp(e){var t=e.width,n=e.height;return i.createElement("div",{className:"row"},i.createElement(bp,{className:"col-md-6",metadataKey:(0,f.translate)("binary_metadata_item_component.height"),metadataValue:n+" px"}),i.createElement(bp,{className:"col-md-6",metadataKey:(0,f.translate)("binary_metadata_item_component.width"),metadataValue:t+" px"}))}function wp(e){return null===e?"":iu(e)?(0,f.localizeDate)(e,"PPp"):Array.isArray(e)?e.join(", "):e.toString()}var kp=n(59949),Ep=function(){function e(e){this.data=e}return e.prototype.id=function(){return this.data.id},e.prototype.title=function(){return this.data.title||this.publishedAtForEditor()||this.id()},e.prototype.publishedAt=function(){return(0,t.sp)(this.data.published_at)},e.prototype.publishedAtMonthAndYear=function(){var e=this.publishedAt();return e?(0,f.localizeDate)(e,"MMM yyyy"):null},e.prototype.publishedBy=function(){var e=this.data.published_by;if(!e)return null;try{return Wt.get(e).description}catch(t){if(t instanceof Ht)return(0,f.translate)("revision.published_by",e);throw t}},e.prototype.changesCount=function(){return this.data.changes_count||0},e.prototype.publishedAtForEditor=function(){var e=this.publishedAt();return e?(0,f.localizeDate)(e,"PPp"):null},e}();function Cp(e){return function(e){return new D.of({state:y.n2.subState("revisions").subState("objHistory").subState(e),loader:function(){return h.i3.get("workspaces/published/objs/"+e+"/revisions")}})}(e).getWithDefault({results:[]}).results.map((function(e){return new Ep(e)}))}function Sp(){var e=new D.of({state:y.n2.subState("revisions").subState("publishHistory"),loader:function(){return h.i3.get("workspaces/published/revisions")}}).getWithDefault({results:[]});return{results:e.results.map((function(e){return new Ep(e)})),isLimited:!!e.limited}}function xp(e){return(t=Cp(e),n=function(e){return e.publishedAt()},r=["desc"],null==t?[]:((0,ss.Z)(n)||(n=null==n?[]:[n]),r=i?void 0:r,(0,ss.Z)(r)||(r=null==r?[]:[r]),(0,kp.Z)(t,n,r)))[0];var t,n,r,i}function Op(e){return(0,f.translate)("item_description.system."+(0,t.It)(e.slice(1))+".title")}var Tp=(0,a.Z)((function(e){return i.createElement("div",null,i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,Op("_lastPublished"))),i.createElement("div",{className:"input_group"},i.createElement("span",{className:"input_group_icon scrivito_icon_time"}),i.createElement("span",{className:"read_only"},function(e){var t,n,r=e.publishedAt();return r?Dp(r):e.isNew()?(0,f.translate)("item_description.not_yet_published_for_the_first_time"):e.isModified()?(t=e.id(),(n=xp(t))?Dp(n.publishedAt()):(0,f.translate)("item_description.not_available")):(0,f.translate)("item_description.not_available")}(e.content)))),i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,Op("_lastPublishedBy"))),i.createElement("div",{className:"input_group"},i.createElement("span",{className:"input_group_icon scrivito_icon_user"}),i.createElement("span",{className:"read_only"},Np(e.content,e.content.publishedBy()))))),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,Op("_lastChanged"))),i.createElement("div",{className:"input_group"},i.createElement("span",{className:"input_group_icon scrivito_icon_time"}),i.createElement("span",{className:"read_only"},Dp(e.content.lastChanged())))),i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,Op("_lastChangedBy"))),i.createElement("div",{className:"input_group"},i.createElement("span",{className:"input_group_icon scrivito_icon_user"}),i.createElement("span",{className:"read_only"},jp(e.content.lastChangedBy()))))),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,Op("_firstPublishedBy"))),i.createElement("div",{className:"input_group"},i.createElement("span",{className:"input_group_icon scrivito_icon_time"}),i.createElement("span",{className:"read_only"},Dp(e.content.firstPublishedAt())))),i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,Op("_firstPublishedBy"))),i.createElement("div",{className:"input_group"},i.createElement("span",{className:"input_group_icon scrivito_icon_user"}),i.createElement("span",{className:"read_only"},Np(e.content,e.content.firstPublishedBy()))))),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,Op("_createdAt"))),i.createElement("div",{className:"input_group"},i.createElement("span",{className:"input_group_icon scrivito_icon_time"}),i.createElement("span",{className:"read_only"},Dp(e.content.createdAt())))),i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,Op("_createdBy"))),i.createElement("div",{className:"input_group"},i.createElement("span",{className:"input_group_icon scrivito_icon_user"}),i.createElement("span",{className:"read_only"},jp(e.content.createdBy()))))))}));function jp(e){if(e)try{return Wt.get(e).description}catch(t){if(t instanceof Ht)return function(e){return(0,f.translate)("item_description.user_description_not_available",e)}(e);throw t}return(0,f.translate)("item_description.not_available")}function Dp(e){return e?(0,f.localizeDate)(e,"PPp"):(0,f.translate)("item_description.not_available")}function Np(e,t){var n;return t?jp(t):e.isNew()?(0,f.translate)("item_description.not_yet_published_for_the_first_time"):e.isModified()&&(null===(n=xp(e.id()))||void 0===n?void 0:n.publishedBy())||(0,f.translate)("item_description.not_available")}function Pp(e,t,n,r){var o=n[0],a=n[1];return i.createElement("div",null,i.createElement("div",{className:"state_changed"},i.createElement(r,{obj:Ap(t,a)})),i.createElement("div",{className:"scrivito_detail_label"},i.createElement("div",{className:"state_before"},i.createElement("i",{className:"scrivito_icon scrivito_icon_history"}),i.createElement("span",null,e))),i.createElement("div",{className:"state_before"},i.createElement(r,{obj:Ap(t,o)})))}function Ap(e,n){var r=(0,on.R2)((0,on.hA)(n),e.id());if(!r)throw new t.AQ;return r}function Ip(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,Promise,(function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(t){switch(t.label){case 0:return[4,h.i3.put("objs/check",{obj:e})];case 1:return[2,t.sent()]}}))}))}var Mp=n(15161),Lp=function(){return Lp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Lp.apply(this,arguments)};function Rp(e){return(0,o.G)((function(t){return i.createElement(Fp,Lp({},t,{language:e}))}))}var Fp=(0,a.Z)((function(e){var t=i.useState(""),n=t[0],r=t[1],o=i.useState(""),a=o[0],c=o[1];return i.useEffect((function(){e.subscribeHotkey("enter",u)}),[u]),i.useEffect((function(){e.language&&r(e.language)}),[e.language]),i.createElement(s.E,{className:"add_language_dialog"},i.createElement("div",{className:"scrivito_center_dialog_wrapper"},i.createElement("div",{className:"scrivito_modal_prompt scrivito_blue scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon scrivito_icon_comments"}),i.createElement("h3",{className:"scrivito_title"},(0,f.translate)("add_language_dialog.title")),i.createElement("p",{dangerouslySetInnerHTML:{__html:(0,f.translate)("add_language_dialog.description")}}),a&&i.createElement("div",{className:"validation_errors"},i.createElement("p",null,a))),i.createElement("div",{className:"scrivito_modal_body"},i.createElement("input",{type:"text",autoFocus:!0,placeholder:(0,f.translate)("add_language_dialog.placeholder"),value:n,onChange:function(e){c(""),r(e.target.value)}})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button",onClick:e.cancelDialog},(0,f.translate)("add_language_dialog.close")),i.createElement("a",{className:a||!l()?"scrivito_button scrivito_disabled":"scrivito_button scrivito_blue",onClick:u},(0,f.translate)("add_language_dialog.add"))))));function l(){return n.trim()}function u(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t,n;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(r){switch(r.label){case 0:return t=l(),a||!t?[2]:[4,Ip({_language:t})];case 1:return(n=r.sent()._language)?c(n.map(d).join(" ")):e.dialogDone(t),[2]}}))}))}function d(e){var t=e.code,n=e.error;return"validation.invalid_value"===t?(0,f.translate)("add_language_dialog.errors.invalid_language_code"):((0,Mp.V)("Unexpected error code "+t),n)}}));function Bp(){return new Map([["ab",(0,f.translate)("language.ab")],["aa",(0,f.translate)("language.aa")],["af",(0,f.translate)("language.af")],["ak",(0,f.translate)("language.ak")],["sq",(0,f.translate)("language.sq")],["am",(0,f.translate)("language.am")],["ar",(0,f.translate)("language.ar")],["an",(0,f.translate)("language.an")],["hy",(0,f.translate)("language.hy")],["as",(0,f.translate)("language.as")],["av",(0,f.translate)("language.av")],["ae",(0,f.translate)("language.ae")],["ay",(0,f.translate)("language.ay")],["az",(0,f.translate)("language.az")],["bm",(0,f.translate)("language.bm")],["ba",(0,f.translate)("language.ba")],["eu",(0,f.translate)("language.eu")],["be",(0,f.translate)("language.be")],["bn",(0,f.translate)("language.bn")],["bh",(0,f.translate)("language.bh")],["bi",(0,f.translate)("language.bi")],["bs",(0,f.translate)("language.bs")],["br",(0,f.translate)("language.br")],["bg",(0,f.translate)("language.bg")],["my",(0,f.translate)("language.my")],["ca",(0,f.translate)("language.ca")],["ch",(0,f.translate)("language.ch")],["ce",(0,f.translate)("language.ce")],["ny",(0,f.translate)("language.ny")],["zh",(0,f.translate)("language.zh")],["cv",(0,f.translate)("language.cv")],["kw",(0,f.translate)("language.kw")],["co",(0,f.translate)("language.co")],["cr",(0,f.translate)("language.cr")],["hr",(0,f.translate)("language.hr")],["cs",(0,f.translate)("language.cs")],["da",(0,f.translate)("language.da")],["dv",(0,f.translate)("language.dv")],["nl",(0,f.translate)("language.nl")],["dz",(0,f.translate)("language.dz")],["en",(0,f.translate)("language.en")],["eo",(0,f.translate)("language.eo")],["et",(0,f.translate)("language.et")],["ee",(0,f.translate)("language.ee")],["fo",(0,f.translate)("language.fo")],["fj",(0,f.translate)("language.fj")],["fi",(0,f.translate)("language.fi")],["fr",(0,f.translate)("language.fr")],["ff",(0,f.translate)("language.ff")],["gl",(0,f.translate)("language.gl")],["ka",(0,f.translate)("language.ka")],["de",(0,f.translate)("language.de")],["el",(0,f.translate)("language.el")],["gn",(0,f.translate)("language.gn")],["gu",(0,f.translate)("language.gu")],["ht",(0,f.translate)("language.ht")],["ha",(0,f.translate)("language.ha")],["he",(0,f.translate)("language.he")],["hz",(0,f.translate)("language.hz")],["hi",(0,f.translate)("language.hi")],["ho",(0,f.translate)("language.ho")],["hu",(0,f.translate)("language.hu")],["ia",(0,f.translate)("language.ia")],["id",(0,f.translate)("language.id")],["ie",(0,f.translate)("language.ie")],["ga",(0,f.translate)("language.ga")],["ig",(0,f.translate)("language.ig")],["ik",(0,f.translate)("language.ik")],["io",(0,f.translate)("language.io")],["is",(0,f.translate)("language.is")],["it",(0,f.translate)("language.it")],["iu",(0,f.translate)("language.iu")],["ja",(0,f.translate)("language.ja")],["jv",(0,f.translate)("language.jv")],["kl",(0,f.translate)("language.kl")],["kn",(0,f.translate)("language.kn")],["kr",(0,f.translate)("language.kr")],["ks",(0,f.translate)("language.ks")],["kk",(0,f.translate)("language.kk")],["km",(0,f.translate)("language.km")],["ki",(0,f.translate)("language.ki")],["rw",(0,f.translate)("language.rw")],["ky",(0,f.translate)("language.ky")],["kv",(0,f.translate)("language.kv")],["kg",(0,f.translate)("language.kg")],["ko",(0,f.translate)("language.ko")],["ku",(0,f.translate)("language.ku")],["kj",(0,f.translate)("language.kj")],["la",(0,f.translate)("language.la")],["lb",(0,f.translate)("language.lb")],["lg",(0,f.translate)("language.lg")],["li",(0,f.translate)("language.li")],["ln",(0,f.translate)("language.ln")],["lo",(0,f.translate)("language.lo")],["lt",(0,f.translate)("language.lt")],["lu",(0,f.translate)("language.lu")],["lv",(0,f.translate)("language.lv")],["gv",(0,f.translate)("language.gv")],["mk",(0,f.translate)("language.mk")],["mg",(0,f.translate)("language.mg")],["ms",(0,f.translate)("language.ms")],["ml",(0,f.translate)("language.ml")],["mt",(0,f.translate)("language.mt")],["mi",(0,f.translate)("language.mi")],["mr",(0,f.translate)("language.mr")],["mh",(0,f.translate)("language.mh")],["mn",(0,f.translate)("language.mn")],["na",(0,f.translate)("language.na")],["nv",(0,f.translate)("language.nv")],["nd",(0,f.translate)("language.nd")],["ne",(0,f.translate)("language.ne")],["ng",(0,f.translate)("language.ng")],["nb",(0,f.translate)("language.nb")],["nn",(0,f.translate)("language.nn")],["no",(0,f.translate)("language.no")],["ii",(0,f.translate)("language.ii")],["nr",(0,f.translate)("language.nr")],["oc",(0,f.translate)("language.oc")],["oj",(0,f.translate)("language.oj")],["cu",(0,f.translate)("language.cu")],["om",(0,f.translate)("language.om")],["or",(0,f.translate)("language.or")],["os",(0,f.translate)("language.os")],["pa",(0,f.translate)("language.pa")],["pi",(0,f.translate)("language.pi")],["fa",(0,f.translate)("language.fa")],["pl",(0,f.translate)("language.pl")],["ps",(0,f.translate)("language.ps")],["pt",(0,f.translate)("language.pt")],["qu",(0,f.translate)("language.qu")],["rm",(0,f.translate)("language.rm")],["rn",(0,f.translate)("language.rn")],["ro",(0,f.translate)("language.ro")],["ru",(0,f.translate)("language.ru")],["sa",(0,f.translate)("language.sa")],["sc",(0,f.translate)("language.sc")],["sd",(0,f.translate)("language.sd")],["se",(0,f.translate)("language.se")],["sm",(0,f.translate)("language.sm")],["sg",(0,f.translate)("language.sg")],["sr",(0,f.translate)("language.sr")],["gd",(0,f.translate)("language.gd")],["sn",(0,f.translate)("language.sn")],["si",(0,f.translate)("language.si")],["sk",(0,f.translate)("language.sk")],["sl",(0,f.translate)("language.sl")],["so",(0,f.translate)("language.so")],["st",(0,f.translate)("language.st")],["es",(0,f.translate)("language.es")],["su",(0,f.translate)("language.su")],["sw",(0,f.translate)("language.sw")],["ss",(0,f.translate)("language.ss")],["sv",(0,f.translate)("language.sv")],["ta",(0,f.translate)("language.ta")],["te",(0,f.translate)("language.te")],["tg",(0,f.translate)("language.tg")],["th",(0,f.translate)("language.th")],["ti",(0,f.translate)("language.ti")],["bo",(0,f.translate)("language.bo")],["tk",(0,f.translate)("language.tk")],["tl",(0,f.translate)("language.tl")],["tn",(0,f.translate)("language.tn")],["to",(0,f.translate)("language.to")],["tr",(0,f.translate)("language.tr")],["ts",(0,f.translate)("language.ts")],["tt",(0,f.translate)("language.tt")],["tw",(0,f.translate)("language.tw")],["ty",(0,f.translate)("language.ty")],["ug",(0,f.translate)("language.ug")],["uk",(0,f.translate)("language.uk")],["ur",(0,f.translate)("language.ur")],["uz",(0,f.translate)("language.uz")],["ve",(0,f.translate)("language.ve")],["vi",(0,f.translate)("language.vi")],["vo",(0,f.translate)("language.vo")],["wa",(0,f.translate)("language.wa")],["cy",(0,f.translate)("language.cy")],["wo",(0,f.translate)("language.wo")],["fy",(0,f.translate)("language.fy")],["xh",(0,f.translate)("language.xh")],["yi",(0,f.translate)("language.yi")],["yo",(0,f.translate)("language.yo")],["za",(0,f.translate)("language.za")]])}function zp(e){return Bp().has(e)}function Wp(e){if(!e)return(0,f.translate)("language.not_specified");var t=e.split("-")[0];return zp(t)?Bp().get(t):void 0}var Up=(0,a.Z)((function(e){var t,n=e.language,r=e.onLanguageUpdate,o=i.useState(!1),a=o[0],s=o[1];return i.createElement("div",{className:"language_picker"},i.createElement("div",{className:"item_content"},i.createElement("div",{className:"scrivito_list_accordion accordion_dropdown"},i.createElement("div",{className:(t="scrivito_list_accordion_content dropdown cursor_pointer",a&&(t+=" open"),t),onClick:c},i.createElement(Vp,{currentCode:n})),i.createElement("div",{className:"scrivito_button_addon",onClick:function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(i){switch(i.label){case 0:return e.stopPropagation(),e.preventDefault(),[4,Rp(n)];case 1:return(t=i.sent()).dialogCancelled||r(t.value),[2]}}))}))}},i.createElement("i",{className:"scrivito_icon scrivito_icon_gear"})),a&&i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_select_overlay",onClick:c}),i.createElement(Hp,{language:n,onLanguageUpdate:function(e){r(e),s(!1)}})))));function c(e){e.stopPropagation(),e.preventDefault(),s((function(e){return!e}))}})),Hp=(0,a.Z)((function(e){var t=e.language,n=e.onLanguageUpdate,r=i.useState(""),o=r[0],a=r[1];return i.createElement("div",{className:"scrivito_list_accordion_content_edit show"},i.createElement("div",{className:"scrivito_detail_content"},i.createElement("div",{className:"scrivito_search_select margin_top_10"},i.createElement(Kp,{term:o,setSearchTerm:a}),i.createElement("div",{className:"scrivito_search_select_list"},!o&&i.createElement(qp,{isChecked:null===t,onClick:function(){return n(null)}}),function(e){return(0,Ue.Z)(Array.from(Bp()).filter((function(t){return Ne([t[0],t[1]],e)})),(function(e){return e[1]}))}(o).map((function(e){var r=e[0];return i.createElement(Zp,{key:r,languageCode:r,isChecked:r===t,onClick:function(){return n(r)}})}))))))})),Zp=(0,a.Z)((function(e){var t=e.languageCode,n=e.onClick,r=e.isChecked,o=Bp().get(t);return i.createElement("div",{className:"scrivito_search_select_list_item scrivito_search_select_list_radio "+(r?"checked":""),onClick:function(e){e.stopPropagation(),e.preventDefault(),n(t)},title:o},i.createElement("span",{className:"scrivito_search_select_list_item_label"},i.createElement("div",{className:"language_name"},o),i.createElement("span",{className:"scrivito_badge blue"},t)))}));function qp(e){var t=e.onClick,n=e.isChecked;return i.createElement("div",{className:"scrivito_search_select_list_item scrivito_search_select_list_radio "+(n?"checked":" "),onClick:function(e){e.stopPropagation(),e.preventDefault(),t()}},i.createElement("span",{className:"scrivito_search_select_list_item_label"},(0,f.translate)("language.not_specified")))}function Vp(e){var t=e.currentCode,n=Wp(t);return i.createElement("div",{className:"scrivito_list_group current_language"},i.createElement("span",{className:"scrivito_list_topic"},n&&i.createElement(i.Fragment,null,i.createElement("i",{className:"scrivito_icon scrivito_icon_comments"}),i.createElement("div",{className:"current_language_name",title:n},n)),t&&i.createElement("span",{className:"scrivito_badge blue"},t)))}var Kp=(0,a.Z)((function(e){var t=e.term,n=e.setSearchTerm;return i.createElement("div",{className:"input_group_search search_languages"},i.createElement("input",{value:t,placeholder:(0,f.translate)("language_editor.search_placeholder"),type:"search",onChange:function(e){return n(e.target.value)}}),i.createElement("div",{className:"search_clear",onClick:function(){return n("")}}),i.createElement("span",{className:"input_group_btn"},i.createElement("i",{className:"scrivito_icon scrivito_icon_search"})))})),$p=(0,a.Z)((function(e){var t=e.content.language(),n=Wp(t);return i.createElement("div",{className:"language_editor"},e.readOnly?i.createElement("div",{className:"read_only_mode"},i.createElement("div",{className:"item_content"},i.createElement("div",{className:"scrivito_list_accordion"},i.createElement("div",{className:"scrivito_list_accordion_content"},i.createElement("div",{className:"scrivito_list_group current_language"},i.createElement("span",{className:"scrivito_list_topic"},n&&i.createElement(i.Fragment,null,i.createElement("i",{className:"scrivito_icon scrivito_icon_comments"}),i.createElement("div",{className:"current_language_name",title:n},n)),t&&i.createElement("span",{className:"scrivito_badge blue"},t))))))):i.createElement(Up,{language:t,onLanguageUpdate:function(t){e.content.update({_language:t})}}))})),Gp=(0,a.Z)((function(e){var t=e.content,n=e.readOnly,r=e.comparison,o=e.title;return r?Pp(o,t,r,(function(e){var t=e.obj;return i.createElement($p,{content:t,readOnly:!0})})):i.createElement($p,{content:t,readOnly:n})}));function Yp(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.apply(void 0,t).catch(Ce.M)}catch(e){(0,Ce.M)(e)}}}function Qp(e,t,n){return t.search().and("_permalink","equals",e).andNot("id","equals",n)}function Xp(){return(0,on.hA)((0,on.GD)())}var Jp=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},eh=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},th=Yp((function(e,t){return Jp(void 0,void 0,void 0,(function(){var n,r,i,o,a;return eh(this,(function(s){switch(s.label){case 0:return[4,nh((function(){return(0,f.translate)("interactions.change_permalink.dialog.title",(0,xn.VA)(e))}),n=e.permalink(),t)];case 1:return r=s.sent(),i=r.normalizedValue,o=r.originalValue,i===n?[2]:i&&o?[4,(0,Cr.S)((0,D.zD)((function(){return function(e,t){return function(e){return!e.match(/^([\w._-]+[\/\w._-]*)?$/)}(e)?"is_invalid":function(e){return"scrivito"===e.split("/")[0].toLowerCase()}(e)||function(e){return!!e.match(/(^|-)[0-9a-f]{16}$/i)}(e)?"is_scrivito":function(e,t){var n=t.siteId(),r=t.id();if(null===n)return function(e,t){return null!==Qp(e,Xp(),t).first()}(e,r);if("default"===n){var i=En.X.getSiteIdForObj(r);if(null!==i)return"string"==typeof i&&function(e,t,n){return Qp(e,Xp().and((0,on.L8)("default")),n).dangerouslyUnboundedTake().some((function(e){var n=En.X.getSiteIdForObj(e.id());return null===n||n===t}))}(e,i,r)}return function(e,t,n){return null!==Qp(e,Xp().and((0,on.L8)(t)),n).first()}(e,n,r)}(e,t)?"is_taken":void 0}(i,e)})))]:[3,3];case 2:return(a=s.sent())?th(e,(0,f.translate)("interactions.change_permalink.info."+a,o)):e.update({_permalink:[i]}),[3,4];case 3:e.update({_permalink:[null]}),s.label=4;case 4:return[2]}}))}))}));function nh(e,t,n){return Jp(this,void 0,Promise,(function(){var r;return eh(this,(function(i){switch(i.label){case 0:return[4,jl({title:e,description:n,placeholder:(0,f.translate)("interactions.change_permalink.dialog.placeholder"),value:t,icon:"&#xf04e;",okButtonText:(0,f.translate)("interactions.change_permalink.dialog.change")})];case 1:return(r=i.sent()).dialogCancelled?[2,{normalizedValue:t,originalValue:t}]:""===r.value?[2,{normalizedValue:null,originalValue:null}]:[2,{originalValue:r.value,normalizedValue:rh(r.value)}]}}))}))}function rh(e){try{return Lo(e).normalizePathname().toString().replace(/^\/|\/$/g,"")}catch(t){if(t instanceof URIError)return e;throw t}}var ih=(0,a.Z)((function(e){return e.comparison?Pp(e.title,e.content,e.comparison,(function(e){var t=e.obj;return i.createElement(ah,{value:oh(t),obj:t,readOnly:!0})})):i.createElement(ah,{value:oh(e.content),readOnly:!!e.readOnly,obj:e.content})}));function oh(e){return e.permalink()||(0,f.translate)("permalink_item_component.permalink.is_empty")}function ah(e){return i.createElement("div",{className:"input_group"},i.createElement("span",{className:"input_group_icon scrivito_icon_link_perm"}),i.createElement("span",{className:e.readOnly?"read_only":"read_only scrivito_permalink_clickable",onClick:function(t){t.stopPropagation(),t.preventDefault(),e.readOnly||th(e.obj)}},e.value))}var sh=(0,a.Z)((function(e){return e.comparison?Pp(e.title,e.content,e.comparison,(function(e){var t=e.obj;return i.createElement("span",{className:"read_only"},t.siteId())})):i.createElement("span",{className:"read_only"},e.content.siteId())}));function ch(e){var t=e.obj,n=e.newSiteId;return gn()||(null!==t.path()?(0,f.translate)("cannot_change_site.obj_has_path"):function(e,t){var n=cn.selected,r=n.workflowId();return!!r&&P({obj:{objId:e.id(),workspaceId:n.id},changes:{_siteId:t},workflowId:r})}(t,n)?function(e,t){var n=e.permalink();return!!n&&!!(0,on.hA)((0,on.GD)()).search().and("_siteId","equals",t).and("_permalink","equals",n).count()}(t,n)?(0,f.translate)("cannot_change_site.permalink_in_use"):void 0:(0,f.translate)("cannot_change_site.workflow_disallows_update"))}var lh=(0,a.Z)((function(e){return e.comparison?Pp(e.title,e.content,e.comparison,(function(e){var t=e.obj;return i.createElement(uh,{obj:t,readOnly:!0})})):i.createElement(uh,{obj:e.content,readOnly:!!e.readOnly})})),uh=(0,a.Z)((function(e){var t=i.useState(!1),n=t[0],r=t[1],o=vh(e.obj),a=!ch({obj:e.obj,newSiteId:null}),s=e.obj.siteId(),c=e.readOnly||0===o.length&&(!a||null===s),l="site_editor scrivito_select";c&&(l+=" read_only");var u=[];return s&&u.push(s),a&&u.push(null),o.forEach((function(e){return u.push(e.siteId())})),i.createElement("div",{className:l,title:c?gh(e.obj):void 0,onClick:function(){return!c&&r(!n)}},i.createElement(ph,{siteId:s,isDisabled:c}),n&&(u.length>7?i.createElement(fh,{content:e.obj,siteIds:u}):i.createElement(dh,{content:e.obj,siteIds:u})))})),dh=(0,a.Z)((function(e){var t=e.content,n=e.siteIds;return i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_select_overlay"}),i.createElement("div",{className:"site_selection_dropdown scrivito_select_options"},n.map((function(e){return i.createElement(ph,{key:e||"global",siteId:e,onChange:function(){return t.update({_siteId:e})}})}))))})),fh=(0,a.Z)((function(e){var t=e.content,n=e.siteIds,r=i.useState(""),o=r[0],a=r[1],s=n;return o&&(s=n.filter((function(e){return function(e,t){if(null===e)return Ne([(0,f.translate)("site_id_editor.global_option_title")],t);var n=(0,Er.NP)(e),r=n&&(0,qs.a)(n);return!!r&&Ne([r],t)}(e,o)}))),i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_select_overlay"}),i.createElement("div",{className:"site_selection_dropdown scrivito_select_options"},i.createElement("div",{className:"input_group_search",onClick:function(e){return e.stopPropagation()}},i.createElement("input",{className:"sites_search",autoFocus:!0,onChange:function(e){return a(e.target.value)},placeholder:(0,f.translate)("site_id_editor.search_placeholder"),type:"search",value:o}),i.createElement("span",{className:"input_group_btn"},i.createElement("i",{className:"scrivito_icon scrivito_icon_search"}))),s.map((function(e){return i.createElement(ph,{key:e||"global",siteId:e,searchTerm:o,onChange:function(){return t.update({_siteId:e})}})}))))})),ph=(0,a.Z)((function(e){var t=e.siteId,n=e.onChange,r=e.searchTerm,o="scrivito_select_option";e.isDisabled&&(o+=" scrivito_disable");var a=t&&(0,Er.NP)(t);return i.createElement("div",{className:o,onClick:n},i.createElement("div",{className:"scrivito_list_group"},i.createElement("div",{className:"scrivito_list_topic"},null===t?i.createElement("span",{className:"scrivito_badge icon_globe blue",title:(0,f.translate)("site_editing.global.tooltip")},hh((0,f.translate)("site_id_editor.global_option_title"),r)):i.createElement("span",{title:a?(0,qs.$)(a):(0,f.translate)("unknown"),className:"scrivito_badge icon_globe"},a?hh((0,qs.a)(a),r):(0,f.translate)("unknown")))))}));function hh(e,t){return e?t?i.createElement(Te(),{searchWords:Pe(t).split(" "),textToHighlight:e}):e:(0,f.translate)("unknown")}function mh(e){var t=e.siteId(),n=t?(0,Er.NP)(t):null;return(0,Er.FN)().filter((function(e){return!n||e.siteId()!==n.siteId()}))}function vh(e){return mh(e).filter((function(t){return!ch({obj:e,newSiteId:t.id()})}))}function gh(e){if(!vh(e).length)return mh(e).map((function(t){return ch({obj:e,newSiteId:t.id()})}))[0]}var _h=(0,a.Z)((function(e){var t=e.title,n=e.content,r=e.readOnly,o=e.comparison,a=n.restriction();return o?Pp(t,n,o,(function(e){var t=e.obj;return i.createElement(bh,{restriction:t.restriction()})})):r?i.createElement(bh,{restriction:a}):i.createElement(ir,{restriction:a,onChange:function(e){return n.restrict(e)}})})),bh=(0,a.Z)((function(e){var t=e.restriction;return i.createElement("div",{className:"scrivito_select read_only"},i.createElement(nr,{className:"scrivito_disable",category:Un(t)}))})),yh={binary:Kl,boolean:Ql,date:lu,datetime:vu,enum:wu,float:Tu,html:$u,integer:Gu,link:Sd,linklist:Td,multienum:Id,reference:Zd,referencelist:af,string:cf,stringlist:If,widgetlist:Gf},wh={"system.backlinks":{component:pp,skipTitle:!0},"system.binaryMetadata":{component:_p,skipTitle:!0},"system.contentId":{component:function(e){return i.createElement("span",{className:"read_only"},e.content.contentId())}},"system.history":{component:Tp,skipTitle:!0},"system.id":{component:function(e){return i.createElement("span",{className:"read_only"},e.content.id())}},"system.language":{component:Gp},"system.objClass":{component:function(e){return i.createElement("span",{className:"read_only"},e.content.objClass())}},"system.path":{component:function(e){return e.comparison?Pp(e.title,e.content,e.comparison,(function(e){var t=e.obj;return i.createElement("span",{className:"read_only"},t.path())})):i.createElement("span",{className:"read_only"},e.content.path())}},"system.permalink":{component:ih},"system.site":{component:lh},"system.siteId":{component:sh},"system.visibility":{component:_h}},kh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eh=(0,a.Z)(function(e){function n(t){var n=e.call(this,t)||this;return n.state={inputError:null},n.setInputError=n.setInputError.bind(n),n}return kh(n,e),n.prototype.setInputError=function(e){this.setState({inputError:e})},n.prototype.render=function(){var e,n,r,o=(e=this.props.item,n=this.props.content,r=this.setInputError,e.id.startsWith("system.")?n instanceof on.Jj?function(e,t){var n=function(e){return wh[e]||null}(e.id);if(!n)return null;var r=e.id,o=e.attributeName,a=t instanceof on.Jj&&!!o&&tl(t,o);return{contentComponent:i.createElement(n.component,{content:t,readOnly:Sh(t),comparison:(0,hs.cA)()&&a?Ds():void 0,title:t instanceof on.Jj&&o?Ch(r):void 0}),validationResults:null,severity:null,description:null,title:!n.skipTitle&&Ch(r)||null,isModified:a}}(e,n):null:function(e,t,n){var r=(0,Jc.Z)(t);if(!r)return null;var o=r.attribute(e.attributeName);if(!o)return null;var a=function(e){return yh[e.type]||null}(o);if(!a)return null;var s=el(t,o.name),c=new on.cO(t,o.name,o.typeInfo()),l=i.createElement(a,{readOnly:Sh(t),attribute:o,field:c,setInputError:n,comparison:(0,hs.cA)()&&s?Ds():void 0}),u=function(e,t){return{error:xh(e,t,"error"),warning:xh(e,t,"warning"),info:xh(e,t,"info")}}(t,o.name);return{contentComponent:l,validationResults:u,severity:Ph(u),title:(0,xn.X7)(c),description:o.description()||null,isModified:s}}(e,n,r));if(!o)return null;var a=o.contentComponent,s=o.validationResults,c=o.severity,l=o.description,u=o.title,d=o.isModified,f=(0,t.It)(this.props.item.id).replace(/\./g,"_")+"_item";return i.createElement("div",{className:f},i.createElement(Oh,{title:u,severity:c,isModified:d,itemId:this.props.item.id}),i.createElement(jh,{severity:c,validationResults:s,inputError:this.state.inputError},a),i.createElement(Th,{description:l}))},n}(i.Component));function Ch(e){return(0,f.translate)("item_description."+(0,t.It)(e)+".title")}function Sh(e){return!!(0,hs.cA)()||null!==ci((e instanceof on.E8?e.obj():e).id())}function xh(e,t,n){return e instanceof on.Jj?fl(e,n,t):pl(e,n,t)}function Oh(e){var t,n=e.title,r=e.severity,o=e.isModified,a=e.itemId;return n?i.createElement("div",{className:(t="scrivito_detail_label",r&&(t+=" scrivito_"+r),t),"data-item-id":a},i.createElement("div",{className:function(){if(o)return"state_changed"}()},i.createElement("i",{className:"scrivito_icon scrivito_icon_auto"}),i.createElement("span",null,n))):null}function Th(e){var t=e.description;return t?i.createElement("div",{className:"scrivito_notice_body"},t):null}function jh(e){var t=e.severity,n=e.validationResults,r=e.children,o=e.inputError,a="item_content";return t&&(a+=" scrivito_"+t),i.createElement("div",{className:a},r,i.createElement(Dh,{inputError:o,validationResults:n}))}function Dh(e){var t,n=e.inputError,r=e.validationResults;return r?(t=n?function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([{message:n,severity:"error"}],r.error,!0):r.error,i.createElement(i.Fragment,null,i.createElement(Nh,{reportEntries:t,className:"scrivito_error"}),i.createElement(Nh,{reportEntries:r.warning,className:"scrivito_warning"}),i.createElement(Nh,{reportEntries:r.info,className:"scrivito_info"}))):null}function Nh(e){return 0===e.reportEntries.length?null:i.createElement("div",{className:"scrivito_notice scrivito_validation_notice "+e.className},i.createElement("div",{className:"scrivito_notice_body"},e.reportEntries.map((function(e,n){var r=(0,t.Kw)(e.message),o=r[0],a=r[1];return i.createElement("div",{key:""+e.message+n,className:"scrivito_notice_section"},a&&i.createElement("span",{className:"scrivito_notice_headline"},o),i.createElement("span",{className:"scrivito_notice_description"},a||o))}))))}function Ph(e){return e.error.length>0?"error":e.warning.length>0?"warning":e.info.length>0?"info":null}var Ah=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ih=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ah(t,e),t.prototype.render=function(){return Kc(this.props.group)?i.createElement(Mh,{content:this.props.content,subgroups:this.props.group.subgroups}):i.createElement(Xc,{name:Gc(this.props.group.title),content:this.props.content,componentId:this.props.group.component,isActive:this.props.isActive,theme:this.props.theme})},t.displayName="Inspector.InspectorGroup",t}(i.Component);function Mh(e){var t=e.content,n=e.subgroups;return i.createElement("div",{className:"group"},n.map((function(e,n){return i.createElement(Lh,{key:n,subgroup:e,content:t})})))}function Lh(e){var t=e.content,n=e.subgroup,r="col-md-"+12/n.length;return i.createElement("div",{className:"scrivito_detail_content"},i.createElement("div",{className:"row"},n.map((function(e){return i.createElement("div",{key:e.id,className:r},i.createElement(Eh,{key:e.id,item:e,content:t}))}))))}var Rh=(0,a.Z)((function(e){var t=e.group,n=e.content;if(t.id===Wc&&n instanceof on.Jj){var r=n.backlinks().length;if(r>0)return i.createElement("span",null,t.title," (",r,")")}return i.createElement("span",null,t.title)})),Fh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bh=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},zh=(0,a.Z)(function(e){function n(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return Fh(n,e),n.prototype.render=function(){var e=this.getAttributeValidationReport(),t=e.hasErrors,n=e.hasWarnings,r=e.hasInfos,o=this.hasModifiedAttributes();return i.createElement("li",{className:this.getClassName(t,n,r,o),onClick:this.onClick},(t||n||r||o)&&i.createElement("i",{className:this.getIconClassName(t,n,r,o)}),i.createElement(Rh,{group:this.props.group,content:this.props.content}))},n.prototype.getClassName=function(e,t,n,r){var i="";return this.props.isActive&&(i+=" active"),e?i+=" scrivito_red scrivito_red_border":t?i+=" scrivito_orange scrivito_orange_border":n?i+=" scrivito_lightblue scrivito_lightblue_border":r&&(i+=" scrivito_blue"),i},n.prototype.getIconClassName=function(e,t,n,r){var i="scrivito_icon";return e||t||n?i+=" scrivito_icon_error":r&&(i+=" scrivito_icon_edited"),i},n.prototype.getAttributeValidationReport=function(){var e=Fc(this.props.group);return{hasErrors:this.hasValidationResults(e,"error"),hasWarnings:this.hasValidationResults(e,"warning"),hasInfos:this.hasValidationResults(e,"info")}},n.prototype.hasValidationResults=function(e,t){return e.length>0&&(this.props.content instanceof on.Jj?fl.apply(void 0,Bh([this.props.content,t],e,!1)):pl.apply(void 0,Bh([this.props.content,t],e,!1))).length>0},n.prototype.hasModifiedAttributes=function(){var e=this;return Fc(this.props.group).some((function(n){return(0,t.mb)(n)&&e.props.content instanceof on.Jj?tl(e.props.content,n):el(e.props.content,n)}))},n.prototype.onClick=function(e){e.stopPropagation(),this.props.onClick()},n}(i.Component)),Wh=(0,a.Z)((function(e){var t=i.useState(void 0),n=t[0],r=t[1],o=Rc(e.content);i.useEffect((function(){var t=o.groups.map((function(e){return e.id})),i=e.activeTab||n,a=i&&t.includes(i)?i:o.groups[0].id;a!==n&&r(a)}),[e.activeTab,n,o]);var a=1===o.groups.length,s="scrivito_tab_content";return a&&(s+=" single_tab"),i.createElement("div",{className:"inspector"},!a&&i.createElement("ul",{className:"scrivito_tab_nav"},i.createElement(i.Fragment,null,o.groups.map((function(t){var o=t.id;return i.createElement(zh,{key:o,content:e.content,group:t,isActive:n===o,onClick:function(){return r(o)}})})))),i.createElement("div",{className:s},o.groups.map((function(t){var r=t.id;return i.createElement(Uh,{key:r,content:e.content,group:t,isActive:n===r})}))))})),Uh=(0,a.Z)((function(e){var t,n=e.content,r=e.group,o=e.isActive;return i.createElement("div",{className:(t="scrivito_tab_pane",o&&(t+=" active"),t)},i.createElement(Ih,{isActive:o,group:r,content:n,theme:"light"}))})),Hh=n(18067),Zh=n(86946),qh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vh=(0,a.Z)(As({displayName:"InspectorHeader",propTypes:{selectedObjs:Wi().arrayOf(Wi().string).isRequired,dispatch:Wi().func.isRequired,showDeleteButton:Wi().bool.isRequired,selectionMode:Wi().string},_getMultiSelectedTitle:function(){return(0,f.translate)("content_browser.header.selected_items",this.props.selectedObjs.length)},_title:function(){if(1!==this.props.selectedObjs.length)return this._getMultiSelectedTitle();var e=this._getInspectedObj();return null!==e?(0,xn.VA)(e):void 0},_getInspectedObj:function(){var e=this.props.selectedObjs[0];return e&&on.Jj.get(e)},toggleInspectorMaximized:function(){return this.props.dispatch((0,Hh.b)())},render:function(){return i.createElement("h3",{title:this._title()},i.createElement(Zh.MaximizeInspectorToggle,{toggleInspectorMaximized:this.toggleInspectorMaximized}),this.props.selectionMode===Ms.SINGLE_SELECTION_MODE?i.createElement(Kh,{obj:this._getInspectedObj()}):i.createElement("span",{className:"scrivito_icon scrivito_icon_eye"}),i.createElement("span",{className:"title"},this._title()),this.props.showDeleteButton&&i.createElement(Sc,{dispatch:this.props.dispatch,selectedObjIds:this.props.selectedObjs,component:$h}))}})),Kh=(0,a.Z)(function(e){function t(t){var n=e.call(this,t)||this;return n._openSelected=n._openSelected.bind(n),n}return qh(t,e),t.prototype.render=function(){return i.createElement(i.Fragment,null,this.props.obj&&this.props.obj.isRestricted()&&i.createElement("span",{className:"scrivito_icon scrivito_icon_visibility",title:(0,f.translate)("content_browser.item.tooltip.is_restricted")}),i.createElement("span",{className:"scrivito_icon scrivito_icon_new_window",title:(0,f.translate)("content_browser.header.open_selected"),onClick:this._openSelected}))},t.prototype._openSelected=function(){this.props.obj&&dp(this.props.obj)},t}(i.Component));function $h(e){var t=e.isEnabled,n=e.deleteObjs,r="scrivito_icon scrivito_icon_trash scrivito_delete";if(t)return i.createElement("span",{className:r,onClick:n});var o=(0,f.translate)("content_browser.header.delete_disabled");return i.createElement("span",{className:r+" scrivito_disabled",title:o})}var Gh=(0,a.Z)(As({displayName:"Inspector",propTypes:{isWritable:Wi().bool.isRequired,disableDelete:Wi().bool.isRequired,selectedObjs:Wi().arrayOf(Wi().string).isRequired,dispatch:Wi().func.isRequired,selectionMode:Wi().string},render:function(){return i.createElement("div",{className:"scrivito-content-browser-inspector"},this._renderContent())},_renderContent:function(){var e=this.props.selectedObjs;return e.length?i.createElement(i.Fragment,null,i.createElement(Vh,{dispatch:this.props.dispatch,selectedObjs:e,showDeleteButton:this.props.isWritable&&!this.props.disableDelete,selectionMode:this.props.selectionMode}),this._inspectorContent()):null},_inspectorContent:function(){var e=this.props.selectedObjs;if(1!==e.length)return null;var t=on.Jj.get(e[0]);return i.createElement("div",{className:"inspector-content"},t&&i.createElement(Wh,{content:t}))},_canDeleteInspectedObjs:function(){return!!this.props.isWritable&&!this.props.disableDelete&&!!this.props.selectedObjs.length}})),Yh=n(62020),Qh=n(773),Xh=function(e){return"function"==typeof e?e:nl.Z},Jh=n(62657),em=n(58611),tm=n(10074),nm=n(20416),rm=n(99978),im=n(52133),om=(0,Z.Z)((function(e,t){return(0,q.Z)(e)?(0,rm.Z)(e,(0,im.Z)(t,1,q.Z,!0)):[]})),am=n(11762);function sm(e){return on.be.fromParams((0,on.tV)(),(0,et.Z)(e,"orderBy"))}var cm=function(){function e(e){this.filter=e,this.collector=new am.h(this.filter)}return e.prototype.searchRequest=function(){var e=[];return this.collector.findActiveFilterItems().forEach((function(n){var r=function(e){return e.hasQuery()?sm(e.query()):function(e){if(e.hasField())return(0,on.hA)((0,on.GD)()).search().and((0,t.eV)(e.field()),(0,t.eV)(e.operator()),e.values())}(e)}(n);r&&e.push(r)})),e},e}(),lm=function(){function e(){this.presetErrors={},this.presetValues={},this.titles={}}return e.prototype.isValid=function(){return 0===Object.keys(this.errors()).length},e.prototype.values=function(){if(this.isValid())return this.presetValues;throw new Error((0,f.translate)("content_browser.last_added.preset_error"))},e.prototype.errors=function(){return this.presetErrors},e.prototype.addValue=function(e,t,n){var r="_objClass"===e?"_obj_class":e;if(Object.prototype.hasOwnProperty.call(this.presetValues,r))return this.addError(r,this.titles[r],n);this.presetValues[r]=t,this.titles[r]=n},e.prototype.addError=function(e,t,n){if(this.presetErrors[e])return this.presetErrors[e].push(n);this.presetErrors[e]=[t,n]},e}(),um=function(){function e(e){this.queryBuilder=new cm(e)}return e.prototype.generatePresetForUpload=function(){return new lm},e.prototype.generatePresetForCreate=function(){var e=new lm,t=this.queryBuilder.searchRequest(),n=[],r=[];if(t.forEach((function(e){e.params().query.forEach((function(e){if("equals"===e.operator){var t=e.field;if("_obj_class"===t||t===["_obj_class"]){var i=e.value;if(e.negate)i&&(Array.isArray(i)?r=r.concat(i):r.push(i));else{var o;o=Array.isArray(i)?i:[i],n.push((0,vp.Z)(o,null))}}}}))})),n.length>0){var i=K.apply(void 0,n),o=om(i,r);1===o.length&&e.addValue("_obj_class",o[0])}return e},e}(),dm=function(){return dm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dm.apply(this,arguments)},fm=function(){function e(e,t){this.filter=e,this.options=t;var n=new um(e);this.preset=n.generatePresetForUpload()}return e.prototype.isValid=function(){return this.preset.isValid()},e.prototype.uploadOptions=function(e){return dm({preset:this.preset.values(),upload:e},this.options)},e.prototype.errors=function(){return this.preset.errors()},e}(),pm=n(37707),hm=function(){function e(e){var t=e.baseQuery,n=e.excludedObjIds,r=e.filter,i=e.siteId,o=e.sortCriteria,a=e.tags;if(!o)throw new Error("sortCriteria is not initialized. Please explicit initialize the sort criteria param");this.nodeQueryBuilder=new cm(r),this.filter=r,this.baseQuery=t,this.excludedObjIds=n,this.siteId=i,this.tags=a,this.sortCriteria=o}return e.prototype.searchRequest=function(){var t=[];this.baseQuery&&t.push(sm(this.baseQuery)),t=t.concat(this.nodeQueryBuilder.searchRequest());var n=this.filter.searchTerm&&this.filter.searchTerm.length>0;if(n&&t.push(on.Jj.where("*","containsPrefix",this.filter.searchTerm)),!(t.length<1)){var r=(0,on.hA)((0,on.GD)()).and(on.E2).and(this.siteRestriction()).search();return t.forEach((function(e){r=r.and(e)})),r=this.tagsQuery(r),r=e.ignoreMigrationStore(r),r=this.excludeObjIds(r),r=this.sortQuery(r,n)}},e.prototype.tagsQuery=function(e){var t=e;return this.tags&&this.tags.length>0&&this.tags.forEach((function(e){t=t.and("tags","equals",e)})),t},e.prototype.excludeObjIds=function(e){var t=e;return this.excludedObjIds&&this.excludedObjIds.length>0&&(t=t.andNot("id","equals",this.excludedObjIds)),t},e.prototype.siteRestriction=function(){switch(this.siteId){case null:return on.rA;case void 0:return on.T8;default:return(0,on.L8)(this.siteId)}},e.prototype.sortQuery=function(e,t){var n=e;return"relevance"===this.sortCriteria.sortField?t||(n=n.order("_lastChanged",pm.Vi)):n="name"===this.sortCriteria.sortField?n.order([["title",this.sortCriteria.sortDirection],["blob:filename",this.sortCriteria.sortDirection]]):n.order(this.sortCriteria.sortField,this.sortCriteria.sortDirection),n},e.ignoreMigrationStore=function(e){return e.andNot("_objClass","equals","MigrationStore")},e}(),mm=n(19742),vm=n(18216);function gm(e){var t=e.failedAdditions;return i.createElement("tr",null,i.createElement("td",{colSpan:6},i.createElement("div",{className:"scrivito-content-browser-add error",onClick:function(){return(0,vm.R)(t)},title:(0,f.translate)("content_browser.last_added.title_info")},i.createElement("span",{className:"scrivito_icon scrivito_icon_error"}),i.createElement("span",null,(0,f.translate)("content_browser.last_added.failed_upload_counts",t.length)))))}var _m=n(17418),bm=n(99253),ym=n(3799),wm=(0,a.Z)(As({displayName:"LoadableSpan",propTypes:{get:Wi().func.isRequired},render:function(){var e=this.props.getTitle?this.props.getTitle():"";return i.createElement("td",{title:e},this.props.get())},_scrivitoRenderWhileLoading:function(){return i.createElement("td",null,i.createElement(Bs.aN,null))}})),km=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Em=(0,bm.inspectComponentWrapper)((0,a.Z)(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return km(t,e),t.prototype.render=function(){var e=this;return i.createElement("tr",{onClick:this.props.handleSelectClick,className:this.props.itemClasses},i.createElement("td",null,i.createElement("div",{className:this.props.selectClasses})),i.createElement(wm,{getTitle:function(){return e.title()},get:function(){return e.renderIconsAndTitle()}}),i.createElement(wm,{get:function(){return e.contentType()}}),i.createElement(wm,{getTitle:function(){return e.contentType()},get:function(){return e.getFileTypeTitleTag()}}),i.createElement(wm,{get:function(){return e.contentLength()}}),i.createElement(wm,{getTitle:function(){return e.getLastChangedFormattedDate()},get:function(){return e.getTime()}}))},t.prototype.obj=function(){return on.Jj.get(this.props.objId)},t.prototype.title=function(){var e=this.obj();return e?(0,xn.VA)(e):null},t.prototype.contentType=function(){var e;return null===(e=this.obj())||void 0===e?void 0:e.contentType()},t.prototype.contentLength=function(){var e,t=null===(e=this.obj())||void 0===e?void 0:e.contentLength();if(void 0!==t)return vl(t)},t.prototype.getLastChangedFormattedDate=function(){var e,t=null===(e=this.obj())||void 0===e?void 0:e.lastChanged();if(t)return(0,f.localizeDate)(t,"PPPPp")},t.prototype.getTime=function(){var e,t=null===(e=this.obj())||void 0===e?void 0:e.lastChanged();if(t)return i.createElement("span",null,i.createElement("time",{dateTime:t.toISOString(),title:this.getLastChangedFormattedDate()},(0,f.localizeDateRelative)(t)))},t.prototype.getFileTypeTitleTag=function(){var e=this.contentType();if(e){var t=e.match(new RegExp("\\w+$"));return t?t[0]:void 0}},t.prototype.iconClassNames=function(){var e=this.obj();if((null==e?void 0:e.modification())||(null==e?void 0:e.isRestricted())){var t="scrivito_icon";return e.modification()&&(t+=" scrivito_"+e.modification()),e.isRestricted()&&(t+=" scrivito_icon_lock"),t}},t.prototype.iconTooltips=function(){var e=this.obj();if(e&&(e.modification()||e.isRestricted())){var t="";return e.modification()&&(t+=(0,f.translate)("content_browser.item.tooltip.is_"+e.modification())),e.isRestricted()&&(t+=(0,f.translate)("content_browser.item.tooltip.is_restricted")),t}},t.prototype.renderIconsAndTitle=function(){return i.createElement(i.Fragment,null,this.iconClassNames()&&i.createElement("i",{className:this.iconClassNames(),title:this.iconTooltips()}),i.createElement(ym.o,{obj:this.obj()})," ",this.title())},t}(i.Component))),Cm=(0,a.Z)(As({displayName:"LastAddedTableViewContent",renderedLastAddedErrorThumbComponent:function(){var e=(0,mm.failed)(this.props.additions);if(e.length)return i.createElement(gm,{failedAdditions:e})},getLastAddedTableViewItems:function(){var e=this;return this.props.additions.map((function(t){return(0,mm.isActive)(t)?i.createElement(_m.LastAddedTableViewItem,{key:t.additionId,addedItem:t}):(0,mm.isCompleted)(t)?i.createElement(Em,{toggleObjSelection:e.props.toggleObjSelection,objId:t.objId,baseSelectClass:"scrivito-content-browser-list-select ",key:t.objId,selectionMode:e.props.selectionMode||"single",selectedObjs:e.props.selectedObjs}):null}))},render:function(){return i.createElement("div",{className:"scrivito-content-browser-list-content"},i.createElement("table",null,i.createElement("tbody",null,this.renderedLastAddedErrorThumbComponent(),this.getLastAddedTableViewItems())))}})),Sm=n(96737);function xm(e){return i.createElement("div",{className:"scrivito-content-browser-list"},i.createElement("div",{className:"scrivito-content-browser-list-head"},i.createElement("table",null,i.createElement("tbody",null,i.createElement("tr",null,i.createElement("th",null),i.createElement("th",null,(0,f.translate)("content_browser.table_view.title")),i.createElement("th",null,(0,f.translate)("content_browser.table_view.type")),i.createElement("th",null,(0,f.translate)("content_browser.table_view.file_type")),i.createElement("th",null,(0,f.translate)("content_browser.table_view.file_size")),i.createElement("th",null,(0,f.translate)("content_browser.table_view.last_change")))))),e.children)}var Om=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tm=function(){return Tm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Tm.apply(this,arguments)},jm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Om(t,e),t.prototype.render=function(){var e=this.props,t=e.viewMode,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["viewMode"]);return t===em.TABLE_VIEW?i.createElement(xm,null,i.createElement(Cm,Tm({},n))):i.createElement(Sm.LastAddedThumbnailItems,Tm({},n))},t}(i.Component);function Dm(){return i.createElement("div",{className:"scrivito-content-browser-loading"},i.createElement("i",{className:"scrivito_icon scrivito_icon_refresh"}))}jm.displayName="LastAddedItems";var Nm=n(69878),Pm=function(e,t){var n=[];return(0,Qh.Z)(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n},Am=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}},Im=function(e,t){return((0,ss.Z)(e)?Nm.Z:Pm)(e,Am((0,ya.Z)(t,3)))};function Mm(e,t){return gn(e)||(A(e,t)?null:(0,f.translate)("cannot_edit.workflow_disallows_create"))}var Lm,Rm=function(){return Rm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Rm.apply(this,arguments)},Fm=function(){function e(e,t){this.filter=e,this.options=t;var n=new um(e);this.preset=n.generatePresetForCreate()}return e.prototype.createOptions=function(){if(!this.getObjClassFromPreset())throw new Error("Must not access create options of an inactive create control");return Rm({preset:this.preset.values()},this.options)},e.prototype.showCreationItem=function(){return this.isActive()},e.prototype.isActive=function(){return!this.error()},e.prototype.error=function(){if(!this.preset.isValid())return{type:"preset_conflict"};var e=this.getObjClassFromPreset();if(!e)return{type:"obj_class_not_provided"};if(e.restrictsParent())return{type:"obj_class_restricts_parent"};var t=Mm(cn.selected,{_objClass:e.name});return t?{type:"workflow_disallows_create",reason:t}:void 0},e.prototype.addPresetValue=function(e,t){this.preset.addValue(e,t,void 0)},e.prototype.getObjClassFromPreset=function(){var e=this.preset.values()._obj_class;if(e){var t=bn.P.get(e);if(t&&!t.isBinary())return t}},e}(),Bm=n(74980),zm={itemClassName:function(){var e="scrivito-content-browser-add";return this.props.objCreateControl.isActive()||(e+=" disabled"),e},iconClassName:function(){return this.props.objCreateControl.isActive()?"scrivito_icon scrivito_icon_plus":"scrivito_icon scrivito_icon_disabled"},creationNotPossibleBody:function(e){return i.createElement("ul",null,e.nodeTitles.map((function(e){return i.createElement("li",{key:e},e)})))},presetConflictBody:function(e){return i.createElement("div",null,(0,f.translate)("content_browser.add_item.preset_conflict"),Object.entries(e.fields).map((function(e){var t=e[0],n=e[1];return i.createElement("div",{key:t},i.createElement("h4",null,t),i.createElement("ul",null,n.map((function(e){return i.createElement("li",{key:e},e)}))))})))},showErrorAlert:function(e){var t;"creation_not_possible"===e.type&&(t={subtitle:(0,f.translate)("content_browser.add_item.disabled_filters"),body:this.creationNotPossibleBody(e)}),"obj_class_not_provided"===e.type&&(t={subtitle:(0,f.translate)("content_browser.add_item.error_no_obj_class")}),"preset_conflict"===e.type&&(t={body:this.presetConflictBody(e)}),"workflow_disallows_create"===e.type&&(t={body:e.reason}),t.title=(0,f.translate)("content_browser.add_item.create_impossible"),(0,nm.w)(t)},buildErrorMessage:function(e){if("creation_not_possible"===e.type){var t=e.nodeTitles.join(", ");return(0,f.translate)("content_browser.add_item.prevent_creation",t)}if("obj_class_not_provided"===e.type)return(0,f.translate)("content_browser.add_item.error_no_obj_class");if("preset_conflict"===e.type){var n=(0,f.translate)("content_browser.add_item.failed");return Object.entries(e.fields).forEach((function(e){var t=e[0],r=e[1];n+=t+": "+r.join(", ")+"\n"})),n}},iconTitle:function(){if(!this.props.objCreateControl.isActive())return this.buildErrorMessage(this.props.objCreateControl.error())},textMessage:function(){return this.props.objCreateControl.isActive()?(0,f.translate)("content_browser.add_item.create_item"):(0,f.translate)("content_browser.add_item.create_impossible")},createClick:function(){var e=this.props.objCreateControl;e.isActive()?(this.props.createObj(e.createOptions()),e.filter.deselectHierarchicalFilters()):this.showErrorAlert(e.error())}},Wm=Is()({mixins:[zm],render:function(){return i.createElement("tr",{onClick:this.createClick,"data-display-name":"TableViewAddItem"},i.createElement("td",{colSpan:"6"},i.createElement("div",{className:this.itemClassName()},i.createElement("div",{className:"scrivito-content-browser-text"},i.createElement("span",{className:this.iconClassName(),title:this.iconTitle()}),i.createElement("span",null,this.textMessage())))))}}),Um=(0,a.Z)(As({baseSelectClass:function(){return"scrivito-content-browser-list-select "},getTableViewItems:function(e){var t=this,n=Im(e,(function(e){return e.isDeleted()}));return n.map((function(e){return i.createElement(Em,{key:e.id(),objId:e.id(),selectionMode:t.props.selectionMode,baseSelectClass:t.baseSelectClass(),selectedObjs:t.props.selectedObjs,toggleObjSelection:t.props.toggleObjSelection})}))},_renderObjCreationItem:function(){if(this.props.isWritable){var e=new Fm(this.props.filter,{activeTags:this.props.activeTags});if(e.showCreationItem())return i.createElement(Wm,{objCreateControl:e,createObj:this.props.createObj})}},render:function(){return i.createElement(Bm.InfiniteScrollLoader,{isLoading:this.props.isLoading,hasMore:this.props.hasMore,fetch:this.props.fetch,tag:"div",className:"scrivito-content-browser-list-content"},i.createElement("table",null,i.createElement("tbody",null,this._renderObjCreationItem(),this.getTableViewItems(this.props.objs))))}})),Hm=n(63282),Zm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qm=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return Zm(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{className:"scrivito-content-browser-items-tag-wrapper"},i.createElement("ul",{className:"scrivito-content-browser-items-tag-list"},this.props.tags.map((function(t){return i.createElement(Vm,{key:t.name(),dispatch:e.props.dispatch,name:t.name(),count:t.count(),isActive:(0,Xe.Z)(e.props.activeTags,t.name())})}))),i.createElement("i",{onClick:this.onClick,className:"scrivito_icon scrivito_icon_slidedown"}))},t.prototype.onClick=function(){this.props.dispatch((0,Hm.aw)())},t}(i.Component),Vm=function(e){function t(t){var n=e.call(this,t)||this;return n.toggle=n.toggle.bind(n),n}return Zm(t,e),t.prototype.render=function(){return i.createElement("li",{onClick:this.toggle,className:this.props.isActive?"active":void 0},this.props.name,i.createElement("span",{className:"amount"},this.props.count))},t.prototype.toggle=function(){this.props.dispatch((0,Hm.av)(this.props.name))},t}(i.Component),Km=Is()({displayName:"ThumbnailAddItem",mixins:[zm],render:function(){return i.createElement("li",{className:"content-browser-item",onClick:this.createClick},i.createElement("div",{className:this.itemClassName()},i.createElement("div",{className:"scrivito-content-browser-text"},i.createElement("span",{className:this.iconClassName(),title:this.iconTitle()}),i.createElement("span",null,this.textMessage()))))}}),$m=n(74170),Gm=(0,a.Z)(As({render:function(){var e=this.props,t=e.isLoading,n=e.fetch,r=e.hasMore;return i.createElement(Bm.InfiniteScrollLoader,{tag:"ul",className:"items scrivito-content-browser-thumbnails small",isLoading:t,hasMore:r,fetch:n},this._renderCreationItem(),this._renderItems())},_renderCreationItem:function(){if(this.props.isWritable){var e=this.props,t=e.activeTags,n=e.createObj,r=e.filter,o=new Fm(r,{activeTags:t});return o.showCreationItem()?i.createElement(Km,{objCreateControl:o,createObj:n}):void 0}},_renderItems:function(){var e=this.props,t=e.objs,n=e.selectedObjs,r=e.selectionMode,o=e.toggleObjSelection,a=Im(t,(function(e){return e.isDeleted()}));return a.map((function(e){return i.createElement($m.l,{key:e.id(),selectedObjs:n,objId:e.id(),baseSelectClass:"scrivito-content-browser-meta",toggleObjSelection:o,selectionMode:r})}))}})),Ym=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qm=function(){return Qm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Qm.apply(this,arguments)};function Xm(e){var t=e.siteId,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["siteId"]),r=(0,Ps.v9)((function(e){return e.sites})).activeSiteId,o=t||r;return i.createElement(Jm,Qm({siteId:o},n))}var Jm=Ws((Lm=function(e){function t(t){var n=e.call(this,t)||this;return n.state={dragInProgress:!1},n.createObj=n.createObj.bind(n),n.handleFileDrop=n.handleFileDrop.bind(n),n.handleFileInput=n.handleFileInput.bind(n),n.loadNextObjs=n.loadNextObjs.bind(n),n}return Ym(t,e),t.prototype.render=function(){return i.createElement("div",{className:this.dropZoneClass(this.getTags()),onDragOver:this.changeDragState(!0),onDrop:this.handleFileDrop,onDragLeave:this.changeDragState(!1)},i.createElement(qm,{dispatch:this.props.dispatch,tags:this.getTags(),activeTags:this.props.tags.activeTags}),this.renderItems(),this.props.isWritable&&i.createElement(tv,{handleFileInput:this.handleFileInput}))},t.prototype.baseItemsClass=function(e){var t="scrivito-content-browser-items";return e.length>0&&(t+=" tags-row",this.props.tags.isExpanded&&(t+=" expanded")),this.props.isWritable&&(t+=" upload-row"),t},t.prototype.dropZoneClass=function(e){var t=this.baseItemsClass(e);return this.state.dragInProgress&&(this.props.isWritable?t+=" uploader-drag-over":t+=" uploader-drag-over-forbiden"),t},t.prototype.showConflictingPresetsAlert=function(e){var t=this,n=Object.keys(e),r=n[0],o=n.slice(1),a=i.createElement("div",null,i.createElement("p",null,"The selected properties could not be assigned to the uploaded files."),i.createElement("p",null,"Choose only one of these ",this.errorMessageForField(r),":"),i.createElement(ev,{errors:e[r]}),o.map((function(n,r){return i.createElement("div",{key:r},i.createElement("p",null,"Also, choose just one of these"," ",t.errorMessageForField(n),":"),i.createElement(ev,{errors:e[n]}))})),"Please try again.");(0,nm.w)({title:"Upload cancelled",body:i.createElement("div",null,a)})},t.prototype.errorMessageForField=function(e){return"_obj_class"===e?"types":'"'+e+'" options'},t.prototype.handleFileDrop=function(e){var t;if(this.changeDragState(!1)(e),this.props.isWritable){var n=null===(t=e.dataTransfer)||void 0===t?void 0:t.files;(null==n?void 0:n.length)&&this.uploadFiles(n)}},t.prototype.handleFileInput=function(e){this.props.isWritable&&this.uploadFiles(e.target.files)},t.prototype.uploadFiles=function(e){var t,n,r=this,i=new fm(this.props.filter,{activeTags:this.props.tags.activeTags});i.isValid()?(t=e,n=function(e){return r.uploadObj(i.uploadOptions(e))},((0,ss.Z)(t)?Yh.Z:Qh.Z)(t,Xh(n)),this.props.filter.deselectHierarchicalFilters()):this.showConflictingPresetsAlert(i.errors())},t.prototype.createObj=function(e){this.props.dispatch((0,sc.EQ)(e))},t.prototype.uploadObj=function(e){this.props.dispatch((0,sc.C$)(e))},t.prototype.changeDragState=function(e){var t=this;return function(n){n.preventDefault(),n.stopPropagation(),t.state.dragInProgress!==e&&t.setState({dragInProgress:e})}},t.prototype.getTagsQueryRequest=function(){return new hm({excludedObjIds:[],filter:this.props.filter,baseQuery:this.props.baseQuery,tags:this.props.tags.activeTags,sortCriteria:this.props.sortCriteria,siteId:this.props.siteId}).searchRequest()},t.prototype.getItemsQueryRequest=function(){return new hm({excludedObjIds:this.props.initialSelection,filter:this.props.filter,baseQuery:this.props.baseQuery,tags:this.props.tags.activeTags,sortCriteria:this.props.sortCriteria,siteId:this.props.siteId}).searchRequest()},t.prototype.getTags=function(){var e=[],t=this.getTagsQueryRequest();return t&&this.props.activeSource===Ms.FILTER&&(e=(0,D.qu)(e,(function(){return t.facet("tags",{limit:100})}))),e},t.prototype.loadNextObjs=function(){this.props.dispatch((0,tm.NY)(this.props.numToLoad+10))},t.prototype.loadObjs=function(){var e=this.getItemsQueryRequest();return void 0!==e?(0,Jh.c)(e.iterator(),this.props.numToLoad):{objs:[],done:!0}},t.prototype.initiallySelectedAndLoadedObjs=function(){var e=[];this.props.initialSelection&&(e=(0,_a.Z)(this.props.initialSelection.map((function(e){return on.Jj.get(e)}))));var t=this.loadObjs(),n=t.objs,r=t.done;return{objs:e.concat(n),done:r}},t.prototype.renderItems=function(){var e=this.initiallySelectedAndLoadedObjs(),t=e.objs,n=e.done,r=!n&&t.length<this.props.numToLoad;return r&&this.props.numToLoad===tm.j4?i.createElement(Dm,null):this.props.activeSource===Ms.LAST_ADDED?i.createElement(jm,{activeTags:this.props.tags.activeTags,selectionMode:this.props.selectionMode,toggleObjSelection:this.props.toggleObjSelection,selectedObjs:this.props.selectedObjs,viewMode:this.props.viewMode,dragInProgress:this.state.dragInProgress,additions:this.props.lastAdded.additions}):this.props.viewMode===em.TABLE_VIEW?i.createElement(xm,null,i.createElement(Um,{activeTags:this.props.tags.activeTags,filter:this.props.filter,toggleObjSelection:this.props.toggleObjSelection,isLoading:r,fetch:this.loadNextObjs,objs:t,hasMore:!n,createObj:this.createObj,selectedObjs:this.props.selectedObjs,isWritable:this.props.isWritable,selectionMode:this.props.selectionMode})):i.createElement(Gm,{objs:t,viewMode:this.props.viewMode,toggleObjSelection:this.props.toggleObjSelection,selectionMode:this.props.selectionMode,activeTags:this.props.tags.activeTags,filter:this.props.filter,isWritable:this.props.isWritable,createObj:this.createObj,selectedObjs:this.props.selectedObjs,isLoading:r,fetch:this.loadNextObjs,hasMore:!n})},t}(i.Component),Lm.displayName="TagsAndItems",Lm));function ev(e){return i.createElement("ul",null,e.errors.map((function(e){return i.createElement("li",{key:e},e)})))}function tv(e){return i.createElement("div",{className:"scrivito-content-browser-upload"},i.createElement("input",{className:"scrivito-content-browser-file-input",type:"file",multiple:!0,onChange:e.handleFileInput}),i.createElement("i",{className:"scrivito_icon scrivito_icon_upload"}),i.createElement("span",null,(0,f.translate)("content_browser.add_item.browse_file")))}var nv=n(40484),rv=(0,a.Z)(Is()({displayName:"App",updateFilter:function(e){this.setState({filter:e})},setInitiallySelectedObjIds:function(){var e=this.props.options.selection||[];this.props.dispatch((0,Ms.setInitiallySelectedObjIds)(e))},toggleObjSelection:function(e){this.props.dispatch((0,Ms.toggleSelect)(e))},deselectObjs:function(){this.props.dispatch((0,Ms.deselectObjs)())},deselectHierarchicalFilters:function(){this.state.filter.deselectHierarchicalFilters()},setObjSource:function(e){this.props.dispatch((0,Ms.setObjSource)(e))},toggleInitialSelection:function(){var e=this;this.props.options.selection&&this.props.options.selection.forEach((function(t){e.toggleObjSelection(t)}))},componentDidMount:function(){this.props.dispatch((0,Ms.changeSelectionMode)(this.props.options.selectionMode)),this.state.filter.onChange(this.updateFilter),this.setInitiallySelectedObjIds(),this.toggleInitialSelection()},getInitialState:function(){return{filter:this.props.initialFilter}},_getBodyClassName:function(){return this.props.inspector.isMaximized?"scrivito-content-browser-body scrivito-content-browser-inspector-max":"scrivito-content-browser-body"},render:function(){return i.createElement("div",{className:"scrivito-app-root"},i.createElement("div",{className:this._getBodyClassName()},i.createElement("div",{className:"scrivito-content-browser-wrapper"},i.createElement(nv.TopBar,{filter:this.state.filter,standAlone:this.props.options.standAlone}),i.createElement(ec,{filter:this.state.filter,standAlone:this.props.options.standAlone,additionCount:this.props.lastAdded.additions.length,deselectObjs:this.deselectObjs,initialSelection:this.props.selection.initiallySelectedObjIds,selectedObjs:this.props.selection.selectedObjs,setObjSource:this.setObjSource,activeSource:this.props.selection.activeSource}),i.createElement(Xm,{tags:this.props.tags,dispatch:this.props.dispatch,viewMode:this.props.objDisplay.viewMode,lastAdded:this.props.lastAdded,initialSelection:this.props.selection.initiallySelectedObjIds,toggleObjSelection:this.toggleObjSelection,selectedObjs:this.props.selection.selectedObjs,selectionMode:this.props.selection.selectionMode,setObjSource:this.setObjSource,activeSource:this.props.selection.activeSource,baseQuery:this.props.baseQuery,numToLoad:this.props.objLoad.numToLoad,sortCriteria:this.props.sortCriteria,filter:this.state.filter,isWritable:this.isWritable()})),i.createElement(Gh,{disableDelete:!!this.props.options.disableDelete,dispatch:this.props.dispatch,isWritable:this.isWritable()||!1,selectedObjs:this.props.selection.selectedObjs,selectionMode:this.props.selection.selectionMode})),i.createElement(Nc,{promise:this.props.promise,dispatch:this.props.dispatch,validObjClasses:this.props.options.validObjClasses,isWritable:this.isWritable(),disableDelete:this.props.options.disableDelete,selectedObjs:this.props.selection.selectedObjs,selectionMode:this.props.selection.selectionMode,standAlone:this.props.options.standAlone,deselectHierarchicalFilters:this.deselectHierarchicalFilters}))},isWritable:function(){return void 0!==(0,Ls.l)()&&this.props.options.isWritable}})),iv=Ps.$j((function(e){return e}))(rv),ov=(0,Z.Z)((function(e){return ae((0,im.Z)(e,1,q.Z,!0))})),av=function(){function e(e,t,n){this.filter=e,this.name=t;var r=n.enableCreate;void 0===r&&(r=n.enable_create),this.enable_create=r,this.title=n.title,this.title||(this.title=this.fallbackTitle())}return e.prototype.fallbackTitle=function(){return(e=this.name.replace(/_/g," ").trim()).charAt(0).toUpperCase()+e.slice(1);var e},e}(),sv=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cv=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.value=r.value,i.preset=r.preset,i.active=r.selected,i}return sv(t,e),t.prototype.toggleActive=function(){return this.active=!this.active,this.filter.changed()},t.prototype.isActive=function(){return!!this.active},t}(av),lv=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uv=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return delete i.enable_create,i.field=r.field,i.operator=r.operator,i.expanded=!1!==r.expanded,i.children=[],i}return lv(t,e),t.prototype.deselect=function(){return this.children.forEach((function(e){e.active=!1}))},t.prototype.isExpanded=function(){return!!this.expanded},t.prototype.hasActiveChildren=function(){return this.children.some((function(e){return e.isActive()}))},t}(av),dv=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fv=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;i.type="checkbox";var o=r.options||[];return i.children=Object.entries(o).map((function(e){var n=e[0],r=e[1];return new cv(t,n,r)})),i}return dv(t,e),t}(uv),pv=function(){function e(){this.callbacks={}}return e.prototype.on=function(e,t){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t)},e.prototype.trigger=function(e,t){var n=this,r=this.callbacks[e],i=[t];r&&r.forEach((function(e){e.apply(n,i)}))},e.prototype.onChange=function(e){this.on("change",e)},e.prototype.changed=function(){this.trigger("change",this)},e}(),hv=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mv=function(e){function t(t,n,r){var i=e.call(this,t.filter,n,r)||this;return i.value=r.value,i.query=r.query,i.preset=r.preset,i.group=t,i.active=r.selected,i}return hv(t,e),t.prototype.setActive=function(){return this.group.activate(this)},t.prototype.isActive=function(){return!!this.active},t}(av),vv=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gv=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;i.type="radio";var o=r.options||[];return i.children=Object.entries(o).map((function(e){var t=e[0],n=e[1];return new mv(i,t,n)})),i}return vv(t,e),t.prototype.activate=function(e){this.children.forEach((function(t){t.active=t===e})),this.filter.changed()},t.prototype.deactivateAll=function(){this.deselect(),this.filter.changed()},t}(uv),_v=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bv=function(e){function t(n,r,i){var o=e.call(this,n,r,i)||this;o.type="tree",o.icon=i.icon,o.query=i.query,o.expanded=i.expanded,o.value=i.value,o.field=i.field,o.operator=i.operator,o.preset=i.preset,o.active=i.selected;var a=i.options||[];return o.children=Object.entries(a).map((function(e){var r=e[0],i=e[1];return new t(n,r,i)})),o}return _v(t,e),t.prototype.isLeaf=function(){return 0===this.children.length},t.prototype.isExpanded=function(){return!!this.expanded},t.prototype.isActive=function(){return!!this.active},t.prototype.toggleActive=function(){this.isActive()?this.active=!1:(this.filter.deselectHierarchicalFilters(),this.active=!0),this.filter.changed()},t.prototype.hasActiveChildren=function(){return this.isActive()||this.children.some((function(e){return e.isActive()}))},t.prototype.deselect=function(){this.active=!1,this.children.forEach((function(e){return e.deselect()}))},t}(av),yv=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wv=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.initFilters(t),n}return yv(t,e),t.prototype.deselectHierarchicalFilters=function(){return this.getHierarchicalFilters().forEach((function(e){return e.deselect()}))},t.prototype.setSearchTerm=function(e){this.searchTerm=e,this.changed()},t.prototype.getAllFilters=function(){return ov(this.getHierarchicalFilters(),this.additionalFilters)},t.prototype.hasActiveChildren=function(){return this.getAllFilters().some((function(e){return e.hasActiveChildren()}))},t.prototype.getHierarchicalFilters=function(){return(0,uc.Z)(this.getTreeFilters().map((function(e){return e.subFilters})))},t.prototype.getTreeFilters=function(){return this.treeFilters},t.prototype.hasHierarchicalFilters=function(){return this.treeFilters.length>0},t.prototype.hasAdditionalFilters=function(){return this.additionalFilters.length>0},t.prototype.initFilters=function(e){var t=this,n=function(e){var n=e[0],r=e[1];return new bv(t,n,r)};this.treeFilters=[],this.additionalFilters=[],Object.keys(e||{}).forEach((function(r){var i=e[r];if(i)switch(i.type||"tree"){case"tree":t.treeFilters.push({config:i,subFilters:Object.entries(i.options).map(n)});break;case"radio_button":case"radioButton":t.additionalFilters.push(new gv(t,r,i));break;case"check_box":case"checkbox":t.additionalFilters.push(new fv(t,r,i))}}))},t}(pv),kv=n(36891);function Ev(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var Cv=Ev();Cv.withExtraArgument=Ev;var Sv=Cv,xv=n(12088),Ov=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tv=function(){return Tv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Tv.apply(this,arguments)};var jv=function(e){function t(t){var n=e.call(this,t)||this;return n.deferred=n.buildDeferred(),n}return Ov(t,e),t.prototype.render=function(){return i.createElement("div",{className:"scrivito-content-browser show"},i.createElement(Ps.zt,{store:this.props.store},i.createElement(iv,{initialFilter:new wv(this.props.options.filters),baseQuery:this.props.options.baseQuery,promise:this.deferred,options:this.props.options})))},t.prototype.buildDeferred=function(){var e=this,t=k.Deferred();return t.done((function(t){e.props.dialogDone(t)})).fail(this.props.cancelDialog),t},t}(i.Component),Dv={_obj_class:{options:{All:{icon:"generic",selected:!0,field:"_lastChanged",operator:"isGreaterThan",value:new Date(0)},Images:{icon:"image",field:"_objClass",operator:"equals",value:"Image"},Downloads:{icon:"zip",field:"_objClass",operator:"equals",value:"Download"}}},_modification:{title:"Changed",type:"checkbox",expanded:!0,field:"_modification",operator:"equals",options:{New:{value:["new"]},Edited:{value:["edited"]}}}},Nv=function(){return Nv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nv.apply(this,arguments)},Pv=null;function Av(e){return(0,D.zD)(ga).then((function(t){return t?function(e){return e.standAlone?Lv(e):function(e){return(0,D.zD)((function(){return function(e){return void 0===e||-1===e.findIndex(Iv)}(e.selection)})).then((function(e){return e||Zr({title:(0,f.translate)("open_content_browser.confirm_dialog.title"),description:(0,f.translate)("open_content_browser.confirm_dialog.description"),icon:"&#xf02e;",color:"yellow",confirmButtonTitle:(0,f.translate)("open_content_browser.confirm_dialog.confirm")}).then((function(e){return!e.dialogCancelled}))}))}(e).then((function(t){return t?Lv(e):{isSelected:!1}}))}(e):function(e){return Rv(Nv(Nv({},e),{isWritable:!1}))}(e)}))}function Iv(e){var t=Mv(e);return t instanceof on.AZ&&t.isForbidden()}function Mv(e){return(0,on.nl)((0,on.hA)((0,on.GD)()),e)}function Lv(e){return Rv(Nv(Nv({},e),{isWritable:!0}))}function Rv(e){var t=function(e){if(e.validObjClasses)return bn.P.existingClassesForNames(e.validObjClasses).map((function(e){return e.name}))}(e);return(0,D.zD)((function(){return function(e){return En.X.getContentBrowserConfiguration(e)||{}}(t)})).then((function(n){return function(e){var t=(0,kv.applyMiddleware)(Sv)(kv.createStore)(xv.combinedReducer);return(0,o.G)((function(n){return i.createElement(jv,Tv({store:t,options:e},n))}))}(Nv(Nv(Nv({baseQuery:Pv},e),n),{filters:(r=n.filters,r&&!ps(r)?r:Dv),validObjClasses:t}));var r})).then((function(e){return e.dialogCancelled?{isSelected:!1}:(0,D.zD)((function(){return e.value.map(Mv)})).then((function(e){return{isSelected:!0,selection:e}}))}))}function Fv(e){Pv=e}var Bv=function(){return Bv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Bv.apply(this,arguments)};function zv(e){var t=i.useState(e.initialTitle),n=t[0],r=t[1],o=i.createRef();return i.useEffect((function(){var e;return null===(e=o.current)||void 0===e?void 0:e.select()}),[]),i.useEffect((function(){return e.subscribeHotkey("enter",a)}),[n]),i.createElement(s.E,{className:"create_widget_template_dialog scrivito_modal_prompt scrivito_blue scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon"},""),i.createElement("h3",{className:"scrivito_title"},(0,f.translate)("create_widget_template_dialog.title")),i.createElement("p",null,(0,f.translate)("create_widget_template_dialog.description"))),i.createElement("div",{className:"scrivito_modal_body overflow_visible"},i.createElement("input",{type:"text",value:n,onChange:function(e){e.stopPropagation(),r(e.target.value)},placeholder:(0,f.translate)("create_widget_template_dialog.placeholder"),autoFocus:!0,ref:o})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_cancel",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.cancelDialog()}},(0,f.translate)("cancel")),i.createElement("a",{className:Wv(n),onClick:function(e){e.preventDefault(),e.stopPropagation(),a()}},(0,f.translate)("create_widget_template_dialog.confirm"))));function a(){n&&e.dialogDone(n)}}function Wv(e){return"scrivito_button scrivito_confirm "+(e?"scrivito_blue":"scrivito_disabled")}var Uv=(0,a.Z)((function(e){return i.createElement("div",{className:"scrivito_widget_details_description_attribute"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,(0,f.translate)("widget_library_component.description_attribute.title"))),i.createElement("div",{className:"item_content"},i.createElement(cf,{field:e.item.descriptionField(),readOnly:e.readOnly})))}));function Hv(e){return(0,D.zD)(ua).then((function(t){if(t&&e(t))return(0,D.zD)((function(){return[t.parent(),(0,Er.WQ)()]})).then((function(t){var n=t.find((function(t){return!!t&&!e(t)}));if(n)return Sn(n.id()).then((function(){}))}))}))}function Zv(e){return new xe({id:"scrivito.sdk.delete_obj",icon:["scrivito_icon_trash","className"],title:function(){var t=on.Jj.get(e);return t&&ys(t)?(0,f.translate)("commands.delete_obj.title_widget_template"):(0,f.translate)("commands.delete_obj.title_page")},present:function(){return!!on.Jj.get(e)},disabled:function(){var t=on.Jj.get(e);if(t)return Ec(t)},execute:function(){return hc({objIds:[e]}).then((function(t){if(t.value)return(0,Cr.S)((0,D.zD)((function(){return on.Jj.get(e)})).then((function(e){e&&Hv((function(t){return t.equals(e)})).then((function(){return e.destroy(),e.finishSaving()}))})))}))}})}function qv(e){return new xe({id:"scrivito.sdk.mark_resolved_template",title:(0,f.translate)("commands.mark_resolved_template.title"),icon:["scrivito_icon_ok_box","className"],present:function(){var t;return!(0,on.f$)()&&!!(null===(t=on.Jj.getIncludingDeleted(e))||void 0===t?void 0:t.hasConflicts())},disabled:gn,execute:function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return[4,Zr({title:(0,f.translate)("commands.mark_resolved_template.dialog.title"),description:(0,f.translate)("commands.mark_resolved_template.dialog.description"),icon:"&#xf124;",color:"red",confirmButtonTitle:(0,f.translate)("commands.mark_resolved_template.dialog.confirm"),confirmButtonColor:"red"})];case 1:return n.sent().dialogCancelled?[2]:[4,(0,D.zD)((function(){return on.Jj.get(e)}))];case 2:return(t=n.sent())?[2,t.markResolvedAsync()]:[2]}}))}))}})}var Vv=n(42825),Kv=n(84424),$v=n(62916),Gv=function(e,t,n,r){if(!(0,Or.Z)(e))return e;for(var i=-1,o=(t=(0,Cl.Z)(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var c=(0,xl.Z)(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var u=s[c];void 0===(l=r?r(u,c,s):void 0)&&(l=(0,Or.Z)(u)?u:(0,$v.Z)(t[i+1])?[]:{})}(0,Kv.Z)(s,c,l),s=s[c]}return e},Yv=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=(0,Vv.Z)(e,a);n(s,a)&&Gv(o,(0,Cl.Z)(a,e),s)}return o},Qv=n(9229),Xv=function(e,t){return function(e,t){if(null==e)return{};var n=(0,R.Z)((0,Qv.Z)(e),(function(e){return[e]}));return t=(0,ya.Z)(t),Yv(e,n,(function(e,n){return t(e,n[0])}))}(e,Am((0,ya.Z)(t)))},Jv=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},eg=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function tg(e){return function(e,t){return Jv(this,void 0,Promise,(function(){var n,r,i,o;return eg(this,(function(a){switch(a.label){case 0:return n=e.objData,[4,rg({obj:e,missingObjMessage:"The Obj cannot be reverted because it has been removed from published contents meanwhile."})];case 1:return r=a.sent(),i=(0,j.Xm)(n.get(),r),n.update(t?((o={})[t]=i[t],o):i),[2,n.finishSaving()]}}))}))}(e)}function ng(e){var t=e.objData;return t.update({_marked_deleted:j.zE}),t.finishSaving()}function rg(e){return Jv(this,void 0,void 0,(function(){var t;return eg(this,(function(n){switch(n.label){case 0:return[4,og(e.obj)];case 1:if(!(t=n.sent()))throw new Ft(e.missingObjMessage);return[2,t]}}))}))}function ig(e){return Jv(this,void 0,void 0,(function(){var t,n;return eg(this,(function(r){switch(r.label){case 0:return[4,rg({obj:e.obj,missingObjMessage:e.missingObjMessage})];case 1:if(t=r.sent(),!(n=t._widget_pool[e.widgetId]))throw new Ft(e.missingWidgetMessage);return[2,{baseObjJson:t,baseWidgetJson:n}]}}))}))}function og(e){var t=(0,h.cm)(e.objSpaceId()),n=[e.id()];return h.i3.get("workspaces/"+t+"/base_objs/mget",{ids:n}).then((function(e){return e.results[0]}))}function ag(e,n){return Jv(this,void 0,Promise,(function(){var r,i,o,a;return eg(this,(function(s){switch(s.label){case 0:return(r=e.get().map((function(e){return e.id()}))).length?[4,(0,D.zD)((function(){return e.getDiff([h.Bm,(0,on.GD)()])}))]:[2,t.s8.resolve([n])];case 1:return i=s.sent(),o=function(e,n){if((0,j.P3)(e)){var r=[],i=0,o=!0;if(e.content.forEach((function(e){var t=e[0];e[1]===n?(r.push(t),o=!1):o&&"-"!==t&&i++})),1===r.length&&"-"===r[0])return i}throw new t.AQ("The Widget could not be restored: unexpected diff for widgetlist")}(i,n),(a=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],r,!0)).splice(o,0,n),[2,a]}}))}))}function sg(e){return Xv(e,h.O6)}function cg(e){return new xe({id:"scrivito.sdk.restore_template",title:(0,f.translate)("commands.restore_template.title"),icon:["scrivito_icon_history","className"],present:function(){var t;return!(0,on.f$)()&&!!(null===(t=on.Jj.getIncludingDeleted(e))||void 0===t?void 0:t.isDeleted())},disabled:gn,execute:function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return(t=on.Jj.getIncludingDeleted(e))?[4,ng(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}})}function lg(e){return new xe({id:"scrivito.sdk.revert_template",title:(0,f.translate)("commands.revert_template.title"),icon:["scrivito_icon_history","className"],present:function(){var t;return!(0,on.f$)()&&!!(null===(t=on.Jj.get(e))||void 0===t?void 0:t.isEdited())},disabled:gn,execute:function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return[4,Zr({title:(0,f.translate)("commands.revert_template.dialog.title"),description:(0,f.translate)("commands.revert_template.dialog.description"),icon:"&#xf032;",color:"red",confirmButtonTitle:(0,f.translate)("commands.revert_template.dialog.confirm"),confirmButtonColor:"red"})];case 1:return n.sent().dialogCancelled?[2]:(t=on.Jj.get(e))?[2,tg(t)]:[2]}}))}))}})}var ug=(0,a.Z)((function(e){var t=i.useRef(null),n=e.item instanceof bs?(0,f.translate)("widget_library_component.marker.widget_template"):(0,f.translate)("widget_library_component.marker.widget_class"),r=function(e){if(e instanceof Wa.P)return[];var t=e.id();return[qv(t),cg(t),lg(t),Zv(t)]}(e.item),o=["scrivito_editing_marker"];return r.length||o.push("scrivito_disabled"),i.createElement("span",{className:o.join(" "),onClick:function(e){e.stopPropagation(),t.current&&r.length&&ha(t.current,r)},ref:t,title:n},i.createElement("i",{className:"scrivito_icon"}),i.createElement("span",{className:"scrivito_editing_marker_title"},n))})),dg=(0,a.Z)((function(e){var t=e.template,n=t.id(),r=i.useRef(new _.dw({id:"widgetContent:"+n,forceReadOnly:!0})).current;switch((0,Ic.S)("showWidgetContent")){case void 0:return null;case!1:return i.createElement("div",{className:"scrivito_notice_body"},(0,f.translate)("widget_preview.sdk_not_supported"))}var o=t.content();if(!o)return null;var a=o.id();return zo(r,!0,i.useCallback((function(e){return e.showWidgetContent(n,a)}),[n,a])),i.createElement(Bo,{cmsWindow:r,className:"scrivito_detail_iframe"})})),fg=(0,a.Z)((function(e){return i.createElement("div",{className:"scrivito_widget_details_thumbnail_attribute"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,(0,f.translate)("widget_library_component.thumbnail_attribute.title"))),i.createElement("div",{className:"item_content"},i.createElement("div",{className:"scrivito_content_preview_item"},i.createElement("div",{className:"scrivito_content_preview"},e.readOnly?i.createElement(De,{thumbnail:e.item.thumbnail()}):i.createElement(Zl,{field:e.item.thumbnailField(),hideMetadata:!0})))))})),pg=(0,a.Z)((function(e){return i.createElement("div",{className:"scrivito_widget_details_title_attribute"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,(0,f.translate)("widget_library_component.title_attribute.title"))),i.createElement("div",{className:"item_content"},i.createElement(cf,{field:e.item.titleField(),readOnly:e.readOnly})))})),hg=(0,a.Z)((function(e){var t=e.item,n=e.showAnimation,r=e.onAnimationEnd,o=e.showMoreDetails,a=e.toggleMoreDetails,s=t instanceof bs,c=["scrivito_list_accordion","scrivito_detail_fixed_width","scrivito_editing_item"];return n&&c.push("scrivito_wiggle_even"),t instanceof Wa.P&&c.push("bg_grey"),vg(t)&&c.push("scrivito_editing_item_deleted"),i.createElement("div",{className:"scrivito_markers_active"},i.createElement("div",{className:c.join(" "),id:t.id(),onAnimationEnd:r},i.createElement(ug,{item:t}),i.createElement("div",{className:"scrivito_list_accordion_content",onClick:function(){return s&&a()}},i.createElement("div",{className:"scrivito_list_group"},i.createElement("div",{className:"thumbnail"},i.createElement(De,{thumbnail:t.thumbnail()}))),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},t.title()),i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",null,t.description()))),s&&i.createElement("div",{className:"scrivito_list_action "+(o&&"active")},i.createElement("span",{className:"scrivito_button_small "+(o&&"active")},i.createElement("i",{className:"scrivito_icon scrivito_icon_gear"}),(0,f.translate)(o?"widget_library_component.hide_details_button":"widget_library_component.show_details_button")))),o&&i.createElement(mg,{item:t})))})),mg=(0,a.Z)((function(e){var t=e.item;if(t instanceof Wa.P)return null;var n=vg(t)||null!==ci(t.id());return i.createElement("div",{className:"scrivito_list_accordion_content_edit show"},i.createElement("div",{className:"scrivito_detail_content"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-9"},i.createElement(pg,{item:t,readOnly:n}),i.createElement(Uv,{item:t,readOnly:n})),i.createElement("div",{className:"col-md-3"},i.createElement(fg,{item:t,readOnly:n}))),i.createElement(dg,{template:t})))}));function vg(e){return!(e instanceof Wa.P)&&"deleted"===e.modification()}var gg=function(){return gg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gg.apply(this,arguments)},_g=(0,y.JH)(),bg=(0,y.JH)();function yg(){return"widgetLibrary"===(0,Cn.LO)()}function wg(e){var t;_g.set(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""),(null==e?void 0:e.showMoreDetails)&&jg(e.id,!0),(0,Cn.lB)("widgetLibrary",null==e?void 0:e.id)}function kg(){(0,Cn.oP)()}var Eg=(0,a.Z)((function(){if(!yg())return null;var e=He(_s({includeDeleted:(0,hs.cA)()}));return i.createElement(i.Fragment,null,i.createElement(Cg,null),i.createElement(Sg,null),0===e.length&&i.createElement(xg,null),e.map((function(e){return i.createElement(hg,{item:e,key:e.id(),showAnimation:Og(e.id()),onAnimationEnd:function(){return _g.set("")},showMoreDetails:Tg(e.id()),toggleMoreDetails:function(){return jg(e.id(),!Tg(e.id()))}})})))}));function Cg(){return i.createElement("span",{className:"scrivito_button_fixed scrivito_wobble scrivito_animated",title:(0,f.translate)("widget_library_component.close"),onClick:kg},i.createElement("i",{className:"scrivito_icon scrivito_icon_close"}))}function Sg(){return i.createElement("div",{className:"scrivito_detail_header"},i.createElement("div",{className:"scrivito_detail_content"},i.createElement("div",{className:"row align-items-center"},i.createElement("div",{className:"col-md-9 col-sm-12"},i.createElement("h1",null,(0,f.translate)("widget_library_component.title"))))))}function xg(){var e="de"===(0,f.getLocale)()?"https://www.scrivito.com/widget-bibliothek":"https://www.scrivito.com/widget-library";return i.createElement("div",{className:"scrivito_empty_state scrivito_bright"},i.createElement("div",{className:"illustration no_widgets"}),i.createElement("span",null,(0,f.translate)("widget_library_component.empty_state")),i.createElement("span",null,i.createElement("a",{href:e,target:"_blank"},(0,f.translate)("widget_library_component.more_info"))))}function Og(e){var t;return(null!==(t=_g.get())&&void 0!==t?t:(0,Cn.oG)())===e}function Tg(e){var t,n;return null!==(n=(null!==(t=bg.get())&&void 0!==t?t:{})[e])&&void 0!==n&&n}function jg(e,t){var n,r;bg.set(gg(gg({},null!==(r=bg.get())&&void 0!==r?r:{}),((n={})[e]=t,n)))}function Dg(e){return new xe({id:"scrivito.sdk.add_widget_template_to_library",icon:["scrivito_icon_plus","className"],title:(0,f.translate)("commands.add_widget_template_to_library.title"),feature:"widgetLibrary",present:function(){var t=Wa.P.get(e.objClass());return(0,p.ZG)()&&!!t&&!Mm(cn.selected,{_editing_asset:!0})},execute:function(){return function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t,n,r;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return(t=Wa.P.get(e.objClass()))?[4,(s={initialTitle:(0,f.translate)("commands.add_widget_template_to_library.initial_title",t.title())},(0,o.G)((function(e){return i.createElement(zv,Bv({},s,e))})))]:[2];case 1:return(n=a.sent()).dialogCancelled||(r=function(e,t,n){var r={title:[e,"string"]};t&&(r.content=[[t.copy()],"widgetlist"]);var i=(0,on.f_)(gs(void 0),r);return new bs(i.objData)}(n.value,e),wg({id:r.id(),showMoreDetails:!0})),[2]}var s}))}))}(e)}})}function Ng(e,t){return new xe({id:"scrivito.sdk.restore_widget",title:(0,f.translate)("commands.restore_widget.title"),icon:["scrivito_icon_history","className"],present:function(){return!(0,on.f$)()&&!e.isDeleted()&&!e.widget(t)},disabled:gn,execute:function(){return(0,Cr.S)(function(e,t){return function(e,t){return Jv(this,void 0,Promise,(function(){var n,r,i,o,a,s,c,l,u,d,f,p,h,m;return eg(this,(function(v){switch(v.label){case 0:return[4,ig({obj:e,widgetId:t,missingObjMessage:"The Widget cannot be restored because its Obj has been removed from published contents meanwhile.",missingWidgetMessage:"The Widget cannot be restored because it has been removed from published contents meanwhile."})];case 1:return n=v.sent(),r=n.baseObjJson,i=n.baseWidgetJson,o=(0,j.uw)(r,t),a=o.parentWidgetId,s=o.attributeName,c=a?e.widget(a):e,[4,ag(new on.cO(c,s,["widgetlist"]),t)];case 2:return l=v.sent(),a?u={_widget_pool:(f={},f[t]=sg(i),f[a]=(p={},p[s]=["widgetlist",l],p),f)}:((h={_widget_pool:(m={},m[t]=sg(i),m)})[s]=["widgetlist",l],u=h),(d=e.objData).update(u),[2,d.finishSaving()]}}))}))}(e,t)}(e,t))}})}function Pg(e){return new xe({id:"scrivito.sdk.revert_widget",title:(0,f.translate)("commands.revert_widget.title"),icon:["scrivito_icon_history","className"],present:function(){return!(0,on.f$)()&&"edited"===e.modification([h.Bm,(0,on.GD)()])},disabled:gn,execute:function(){return Zr({title:(0,f.translate)("commands.revert_widget.dialog.title"),description:(0,f.translate)("commands.revert_widget.dialog.description"),icon:"&#xf032;",color:"red",confirmButtonTitle:(0,f.translate)("commands.revert_widget.dialog.confirm"),confirmButtonColor:"red"}).then((function(t){if(!t.dialogCancelled)return(0,Cr.S)(function(e,t){return function(e,t,n){return Jv(this,void 0,Promise,(function(){var r,i,o,a,s,c,l,u;return eg(this,(function(d){switch(d.label){case 0:return[4,ig({obj:e,widgetId:t,missingObjMessage:"The Widget cannot be reverted because its Obj has been removed from published contents meanwhile.",missingWidgetMessage:"The Widget cannot be reverted because it has been removed from published contents meanwhile."})];case 1:if(r=d.sent().baseWidgetJson,i=e.objData,o=i.get(),a=o._widget_pool,!(s=a[t]))throw new Ft("The Widget cannot be reverted, because it has been deleted meanwhile. Try restore instead.");return c=(0,j.Dv)(sg(s),sg(r)),i.update({_widget_pool:(l={},l[t]=n?(u={},u[n]=c[n],u):c,l)}),[2,i.finishSaving()]}}))}))}(e,t)}(e.obj(),e.id()))}))}})}var Ag=function(){return Ag=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ag.apply(this,arguments)};function Ig(e){return(0,o.G)((function(t){return i.createElement(Mg,Ag({},e,t))}))}var Mg=(0,a.Z)((function(e){var t=function(){var t=(0,on.R2)((0,on.hA)(e.objSpaceId),e.objId);return t&&e.widgetId?t.widget(e.widgetId):t}();return i.createElement("div",{className:"scrivito_details_dialog scrivito_modal_medium scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("h3",null,i.createElement("i",{className:"scrivito_icon"},""),i.createElement("span",{className:"dialog_title"},null===t?"":(0,f.translate)("details_dialog.title",(0,xn.aZ)(t))))),i.createElement("div",{className:"scrivito_modal_body"},t&&i.createElement(Wh,{content:t,activeTab:e.activeTab})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_cancel scrivito_blue",onClick:function(t){t.preventDefault(),e.dialogDone(void 0)}},(0,f.translate)("close"))))}));function Lg(e){return new xe({id:"scrivito.sdk.widget_details",title:(0,f.translate)("commands.widget_details.title"),icon:["scrivito_icon_settings","className"],disabled:function(){if(!Vc(e))return(0,f.translate)("commands.widget_details.has_no_properties")},execute:function(){return Ig({objSpaceId:e.objSpaceId(),objId:e.obj().id(),widgetId:e.id()})}})}function Rg(e){return new Bf({id:"scrivito.sdk.widget_commands.separator"+e})}var Fg=n(31233),Bg=function(){function e(e,t){this._field=e,this._anchorWidget=t}return e.prototype.isEmptyWidgetList=function(){return!this._anchorWidget},e.prototype.edges=function(){return this._anchorWidget?["top","bottom"]:["top"]},e.prototype.isFromThisDropZone=function(e){return!!e.isPersisted()&&e.equals(this.anchorWidget)},e.prototype.canDrop=function(e){return Wa.P.validClassesForField(this._field).some((function(t){return t.name===e}))},e.prototype.drop=function(e,t){if(this._isAllowedEdge(t)){var n=this._anchorWidget;if(e.isPersisted()){if(this._isDropback(e))return;var r=this._isInnerObjMove(e);!function(e,t,n){var r=n.anchorWidget,i=n.edge,o=e;n.isInnerObjMove||(o=e.copy()),e.remove(),Wg(o,t,{anchorWidget:r,edge:i})}(e,this._field,{anchorWidget:n,edge:t,isInnerObjMove:r})}else Wg(e,this._field,{anchorWidget:n,edge:t})}},Object.defineProperty(e.prototype,"field",{get:function(){return this._field},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchorWidget",{get:function(){return this._anchorWidget},enumerable:!1,configurable:!0}),e.prototype._isDropback=function(e){return!!this._anchorWidget&&this._anchorWidget.equals(e)},e.prototype._isAllowedEdge=function(e){return this.edges().some((function(t){return t===e}))},e.prototype._isInnerObjMove=function(e){var t=this._field.getContainer();return(t instanceof on.Jj?t.id():t.obj().id())===e.obj().id()},e}(),zg=Bg;function Wg(e,t,n){var r=n.anchorWidget,i=n.edge;r?"top"===i?e.insertBefore(r):e.insertAfter(r):t.update([e])}var Ug=function(){function e(e,t,n){this.data=e,this.datas=t,this.cmsDocument=n}return e.prototype.children=function(){var t=this;return this.datas.filter((function(e){return e.parentElementId===t.data.elementId})).map((function(n){return new e(n,t.datas,t.cmsDocument)}))},e.prototype.elementArea=function(){return new oa(this.data.elementId,this.cmsDocument)},e.prototype.nextSibling=function(){return this.sibling(1)},e.prototype.previousSibling=function(){return this.sibling(-1)},e.prototype.getWidgetDropZone=function(){var e=this.data.content;return function(e){return"widgetlist"===e.type}(e)?this.dropZoneFromWidgetlistReference(e):this.dropZoneFromWidgetReference()},e.prototype.sibling=function(t){if("widgetlist"!==this.data.content.type){var n=this.getObj(),r=this.getWidget(),i=n.siblingWidget(r,t);if(i){var o=this.siblingDatas().find((function(e){return e.content.widgetId===i.id()}));return o?new e(o,this.datas,this.cmsDocument):void 0}}},e.prototype.siblingDatas=function(){var e=this;return this.datas.filter((function(t){return t.parentElementId===e.data.parentElementId}))},e.prototype.dropZoneFromWidgetReference=function(){var e=this.getWidget();return new zg(e.containingField(),e)},e.prototype.dropZoneFromWidgetlistReference=function(e){return new zg(new on.cO(this.data.content.widgetId?this.getWidget():this.getObj(),e.attributeName,["widgetlist"]))},e.prototype.getObj=function(){var e=on.Jj.get(this.data.content.objId);if(!e)throw new t.AQ("Missing obj");return e},e.prototype.getWidget=function(){var e=this.getObj(),n=this.data.content.widgetId;if(!n)throw new t.AQ("Missing the widget ID");var r=e.widget(n);if(!r)throw new t.AQ("Missing the widget");return r},e}(),Hg=Ug,Zg=function(){function e(e){this.cmsDocument=e}return e.prototype.children=function(){var e=this,t=this.cmsDocument.appAdapter().getContentZoneData();return t?t.filter((function(e){return!e.parentElementId})).map((function(n){return new Hg(n,t,e.cmsDocument)})):[]},e}(),qg=Zg,Vg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kg=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},$g=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Gg=function(){function e(e,t){var n=this;this.onAppAdapterPort=t,this.replicationProcesses=new j.rc((function(e,t){return(0,j.Wv)(e,t,n.getAppAdapter().objReplicationMessageStream(e,t),"source")})),this._cmsDocument=e}return e.prototype.canEdit=function(e,t){this.ensureCalledWithCurrentWorkspaceId(e,"canEdit");var n=cn.getWithoutLoadingError(e);return!!n&&null===ci(t,n)},e.prototype.canWrite=function(e){return this.ensureCalledWithCurrentWorkspaceId(e,"canWrite"),ga()},e.prototype.comparisonBase=function(){return Ds()[0]},e.prototype.comparisonRange=function(){return Ds()},e.prototype.getResolvedUrl=function(e){return es(e)},e.prototype.getContentStateId=function(e){return(0,j.Dk)(["workspace",e])},e.prototype.currentEditingContext=function(){return{windowName:this._cmsDocument.window().browsingContextName()}},e.prototype.currentEditor=function(){var e=Wt.current;return{id:e.id,name:e.description}},e.prototype.currentEditorTeams=function(){return ft(st(Wt.current.id)).map((function(e){return{id:e.id(),name:e.title(),description:e.description()}}))},e.prototype.currentWorkspace=function(){var e,t,n=(0,on.tV)();return{id:n,title:null!==(t=null===(e=cn.getWithoutLoadingError(n))||void 0===e?void 0:e.title)&&void 0!==t?t:""}},e.prototype.setAppAdapter=function(e){this.onAppAdapterPort&&this.onAppAdapterPort(e)},e.prototype.showWidgetMenu=function(e,t,n,r){return Kg(this,void 0,Promise,(function(){var i,o;return $g(this,(function(a){switch(a.label){case 0:return[4,(0,D.zD)((function(){return on.Jj.get(t)}))];case 1:return(i=a.sent())&&(o=function(e,t,n){return(0,on.f$)()?function(e,t,n){var r;if(n){var i=null===(r=(0,on.R2)((0,on.hA)(n),e.id()))||void 0===r?void 0:r.widget(t);return i?[Lg(i),qf(i)]:void 0}}(e,t,n):(0,hs.cA)()?function(e,t){var n=e.widget(t);return n?[Lg(n),Pg(n),Uf(n)]:[Ng(e,t)]}(e,t):function(e,t){var n=e.widget(t);if(n){var r=n.containingField();return[Lg(n),Rg(1),Zf(n),qf(n),Wf(r,n),Dg(n),Rg(2),Pg(n),Uf(n)]}}(e,t)}(i,n,null==r?void 0:r.objSpaceId))?(ma(new oa(e,this._cmsDocument),o),[2]):[2]}}))}))},e.prototype.showWidgetlistMenu=function(e,t,n,r,i){var o=this;(function(e,t){return(0,D.zD)((function(){var n=on.Jj.get(e);return t?n.widget(t):n}))})(n,i).then((function(n){var i=new on.cO(n,r,["widgetlist"]);Kf(new oa(e,o._cmsDocument),i,t)}))},e.prototype.showChildListMenu=function(e,t){ma(new oa(e,this._cmsDocument),[jn(t,{title:"commands.add_subpage.child_list.title",tooltip:"commands.add_subpage.child_list.tooltip",parentWithoutPath:"commands.add_subpage.child_list.no_path"}),Ar(t,{title:(0,f.translate)("copy_obj_from_clipboard.child_list.title"),navigateToCreatedObj:!0}),Yr(t,{navigateToCreatedObj:!0}),fi(t,{navigateToMovedObj:!0}),Mo(t)])},e.prototype.insertWidget=function(e,t,n){(0,D.zD)((function(){return on.Jj.get(e)})).then((function(e){if(e){var r=e.widget(t);r&&Ts(r,n)}}))},e.prototype.startDrag=function(e,t){(0,D.zD)((function(){return on.Jj.get(e)})).then((function(n){if(!n)throw new Error("No Obj found for startDrag("+e+", "+t+")");var r=n.widget(t);if(!r)throw new Error("No Widget found for startDrag("+e+", "+t+")");qa(r)}))},e.prototype.endDrag=function(){Va()},e.prototype.objReplicationMessageStream=function(e,t){return this.replicationProcesses.get(e,t).replicationMessages()},e.prototype.finishSavingObj=function(e,t){return j.vr.get(e,t).finishSaving()},e.prototype.finishReplicatingObj=function(e,t){return this.replicationProcesses.get(e,t).finishReplicating()},e.prototype.navigateToExternalUrl=function(e){(0,Fg.B)(e)},e.prototype.openInNewUiWindow=function(e){up((0,rs.O)(e))},e.prototype.configureContentBrowser=function(e){var t=e.baseQuery;t&&Fv(t)},e.prototype.openContentBrowser=function(e){return Av(e).then((function(e){return e.isSelected?{isSelected:!0,selection:e.selection.map((function(e){return e.id()}))}:{isSelected:!1}}))},e.prototype.retrieveObjQuery=function(e,t){return Xg(h.Qw.retrieveObjQuery(e,t))},e.prototype.retrieveFacetQuery=function(e,t){return Xg(h.Qw.retrieveFacetQuery(e,t))},e.prototype.retrieveSuggest=function(e,t){return Xg(h.Qw.retrieveSuggest(e,t))},e.prototype.retrieveBinaryMetadata=function(e,t){return Xg(h.Qw.retrieveBinaryMetadata(e,t))},e.prototype.retrieveBinaryUrls=function(e,t,n){return Xg(h.Qw.retrieveBinaryUrls(e,t,n))},e.prototype.retrieveObjFieldDiffs=function(e,t,n){return Xg(h.Qw.retrieveObjFieldDiffs(e,t,n))},e.prototype.configureTenant=function(e){(0,d.yP)(e)},e.prototype.uploadBinary=function(e,t,n,r){return C(e,t,n,r)},e.prototype.copyBinary=function(e,t,n,r){return S(e,t,n,r)},e.prototype.openCustomDialog=function(e){var t;t={name:e},(0,o.G)((function(e){return i.createElement(qo,Zo({},t,e))}))},e.prototype.translate=function(e){return(0,f.translate)("STABLE_SDK."+e)},e.prototype.dragTo=function(e){return Kg(this,void 0,Promise,(function(){var t,n=this;return $g(this,(function(r){switch(r.label){case 0:return[4,(0,D.zD)((function(){return n._cmsDocument.toUiPosition(e)}))];case 1:return t=r.sent(),Ya(t,new qg(this._cmsDocument)),[2]}}))}))},e.prototype.drop=function(){Ka()},e.prototype.getUiContext=function(){return{theme:this._cmsDocument.window().getTheme()}},e.prototype.getAppAdapter=function(){return this._cmsDocument.appAdapter()},e.prototype.ensureCalledWithCurrentWorkspaceId=function(e,n){if(e!==(0,on.tV)())throw new t.Ix("Called "+n+" for a workspace other than current")},e}(),Yg=Gg,Qg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vg(t,e),t}(t.Ix);function Xg(e){return e.then((function(e){return e}),(function(e){throw e instanceof h.XF?new Qg(e.message):e}))}var Jg=n(46672),e_={canEdit:Jg.HT,canWrite:Jg.HT,comparisonBase:Jg.HT,comparisonRange:Jg.HT,getContentStateId:Jg.HT,translate:Jg.HT,currentEditor:Jg.HT,currentEditorTeams:Jg.HT,currentWorkspace:Jg.HT,currentEditingContext:Jg.HT,getUiContext:Jg.HT,getResolvedUrl:Jg.HT,retrieveObjQuery:Jg.H8,retrieveFacetQuery:Jg.H8,retrieveSuggest:Jg.H8,retrieveBinaryMetadata:Jg.H8,retrieveBinaryUrls:Jg.H8,retrieveObjFieldDiffs:Jg.H8,copyBinary:Jg.H8,uploadBinary:Jg.H8,objReplicationMessageStream:Jg.M,finishSavingObj:Jg.H8,finishReplicatingObj:Jg.H8,insertWidget:Jg.H8,navigateToExternalUrl:Jg.H8,openInNewUiWindow:Jg.H8,configureContentBrowser:Jg.H8,openContentBrowser:Jg.H8,openCustomDialog:Jg.H8,setAppAdapter:Jg.H8,configureTenant:Jg.H8,showWidgetMenu:Jg.H8,showWidgetlistMenu:Jg.H8,showChildListMenu:Jg.H8,startDrag:Jg.H8,endDrag:Jg.H8,dragTo:Jg.H8,drop:Jg.H8},t_=n(86649),n_=new WeakMap,r_=new t.BH;function i_(){return r_.promise}function o_(){var e,n;e=(0,Jg.kg)(window),n=function(e){r_.resolve();var n=e.window;return n_.set(n,e),function(e){if(!(0,p.ZG)())return t.s8.resolve().then((function(){return function(e){if(e.origin!==window.location.origin)throw new v("Connection denied from unknown origin "+e.origin+".");if(e.clientVersion!==(0,t.ux)())throw new v("Scrivito UI version "+(0,t.ux)()+" is not equal to the Scrivito SDK version "+e.clientVersion+" your application is using.")}(e)}));if((0,d.Af)())return t.s8.resolve();var n,r=e.clientVersion,a=e.origin;return function(e){var t=e.split(".",2),n=t[0],r=t[1],i=g.split(".",2),o=i[0],a=i[1];return n!==o||Number(r)<Number(a)}(r)?(n={title:(0,f.translate)("update_required"),message:(0,f.translate)("update_required.details",{clientVersion:r,minVersion:g,origin:a})},(0,o.G)((function(e){return i.createElement(u,l({},n,e))}))).then():function(e){return h.i3.get("check_origin",{origin:e}).then((function(e){return e.allowed}))}(a).then((function(e){if(!e)throw new v("Connection denied from untrusted origin "+a+".")}))}(e).then((function(){if(n_.get(n)===e){n_.delete(n);var r=(0,_.i9)(n);if(r)return function(e,n){var r=new b(e),i=new t.BH,o=new Yg(r,(function(e){return i.resolve((0,Jg.oc)(e))})),a=w((0,Jg.fv)(i.promise),r),s=(0,Jg.hb)(t_.oY,(0,Jg.B8)(a));n.includes("adapterSpec")||(s.getAdapterSpec=function(){return l_}),r.setAppAdapter(s),e.setDocument(r);var c=new MessageChannel,l=w((0,Jg.oc)(c.port1),r);return(0,Jg.XP)(l,(0,Jg.Sp)(e_,o),e_,a_),c.port2}(r,e.clientCapabilities)}})).catch((function(e){if(!(e instanceof v))throw e;(0,t.H)(e.message)}))},e.incomingMessages.subscribe((function(t){var r=t.data;(function(e){var t=e;return t&&"ScrivitoConnectRequest"===t.type&&"string"==typeof t.requestId&&"string"==typeof t.clientVersion})(r)&&n({window:t.remoteWindow,origin:t.remoteOrigin,clientVersion:r.clientVersion,clientCapabilities:r.clientCapabilities||[]}).then((function(n){n&&e.sendMessage({remoteWindow:t.remoteWindow,remoteOrigin:t.remoteOrigin,data:{type:"ScrivitoConnectResponse",requestId:r.requestId},ports:[n]})}))}))}function a_(e){var n=(0,t.jQ)(e.message);return e instanceof Qg?((0,t.H)(n),n):((0,t.a6)(e),"Unexpected error in Scrivito UI: "+n)}var s_,c_,l_={descriptionForObj:!0,getClasses:!0,getContentBrowserConfiguration:!0,getHomepageId:!0,getSiteIdForObj:!0,titleForObj:!0,titleForWidget:!0,getElementBoundaries:!0,getContentZoneData:!0,getCustomComponentDimensions:!0,getDocumentTitle:!0,getScrollPosition:!0,getCurrentAppLocation:!0,getValidationReport:!0,getResolvedUrl:!0,getUrlFor:!0,getMenuPatch:!0,objReplicationMessageStream:!0,executeCustomCommand:!0,initializeContentForObj:!0,initializeContentForWidget:!0,initializeCopy:!0,navigateTo:!0,scrollIntoView:!0,showCustomComponent:!0};function u_(e,n){return new t.s8((function(r){s_?(n(),r()):(e.on("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",(function(){return r()})),(0,t.Y3)(n))}))}c_={create:function(e){var t=k(".scrivito_overlay").last();t.removeClass("scrivito_show");var n=k('<div class="scrivito_overlay"></div>');return e.before(n),u_(n,(function(){n.addClass("scrivito_show")})),{overlay:n,predecessor:t}},destroy:function(e){var t=e.overlay,n=e.predecessor;u_(t,(function(){t.removeClass("scrivito_show")})).then((function(){t.remove(),n.length&&n.addClass("scrivito_show")}))},removeAll:function(){k(".scrivito_overlay").remove()}},scrivito.withDialogOverlay=function(e,n){var r=scrivito.dialogOverlay.create(e);return(0,t.sH)(n,(function(){scrivito.dialogOverlay.destroy(r)}))},scrivito.dialogOverlay=c_;var d_=n(82719),f_=n(48171),p_=function(){return p_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p_.apply(this,arguments)},h_=(0,a.Z)((function(e){var t,n,r,o,a=i.useState(null),s=a[0],c=a[1],l=i.useState(null),u=l[0],d=l[1],f=(t=e.referenceElement,n=s,o={strategy:"fixed",placement:e.placement||"auto",modifiers:[]},e.disableArrow?(o.modifiers.push({name:"arrow",options:{enabled:!1}}),o.modifiers.push({name:"offset",options:{offset:[250,0]}}),o.modifiers.push({name:"preventOverflow",options:{boundary:(0,d_.Sz)()}})):(o.modifiers.push({name:"arrow",options:{element:u,padding:10}}),o.modifiers.push({name:"offset",options:{offset:[10,0]}}),o.modifiers.push({name:"preventOverflow",options:{altAxis:!0}})),r=o,f_.D(t,n,r)),p=f.styles,h=f.attributes;return e.referenceElement?i.createElement("div",p_({className:"info-popup","data-name":e.name,ref:c,style:p.popper},h.popper),!e.disableArrow&&i.createElement("div",{className:"info-popup-arrow",ref:d,style:p.arrow}),e.children):null})),m_=n(49904),v_=Array.prototype.splice,g_=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=(0,ya.Z)(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return function(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;(0,$v.Z)(i)?v_.call(e,i,1):(0,m_.Z)(e,i)}}}(e,i),n},__=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},b_=0,y_=(0,y.JH)();function w_(){return y_.get()||[]}function k_(e,n){i.useEffect((function(){if(n){var r=b_++;return(0,t.Y3)((function(){y_.set(__(__([],w_(),!0),[{id:r,feature:e,referenceElement:n}],!1))})),function(){(0,t.Y3)((function(){y_.set(g_(__([],w_(),!0),{id:r}))}))}}}),[n])}var E_,C_=(0,y.JH)(),S_=(0,a.Z)((function(){return C_.get()?null:i.createElement(i.Fragment,null,w_().map((function(e){var t=e.id,n=e.feature,r=e.referenceElement;return i.createElement(x_,{key:t,feature:n,referenceElement:r})})))})),x_=(0,a.Z)((function(e){var n=e.feature,r=e.referenceElement;if(!pe(n))return null;var o=me(n),a=ve(n);return i.createElement(h_,{name:n,referenceElement:r},i.createElement("div",{className:"info-popup-headline"},i.createElement("span",{className:"info-popup-headline-content"},(0,f.translate)("feature."+n+".title"))),i.createElement("div",{className:"info-popup-content"},i.createElement("span",{className:"info-popup-description"},i.createElement(M,{text:(0,f.translate)("feature."+n+".description")}),a&&i.createElement("img",{src:a})),i.createElement("div",{className:"info-popup-steps"},o&&i.createElement("span",{className:"info-popup-btn more_info_button",onClick:function(){return o&&(0,t.xw)(o,"_blank")}},(0,f.translate)("added_feature_popups.more_info")),i.createElement("span",{className:"info-popup-btn right close_button",onClick:function(){return he(n)}},(0,f.translate)("added_feature_popups.close")))))})),O_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T_=(0,a.Z)((E_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O_(t,e),t.prototype.render=function(){return(0,Cr.l)()?i.createElement("div",{className:"scrivito_overlay scrivito_show"},i.createElement("i",{className:"scrivito_icon scrivito_processing"},"")):null},t}(i.Component),E_.displayName="SavingOverlay",E_)),j_=n(83418);function D_(e){var t="info-popup-btn";return e.alignment&&(t+=" "+e.alignment),i.createElement("span",{className:t,onClick:e.onClick},e.title)}function N_(){return i.createElement("span",{className:"info-popup-end",onClick:j_.SQ},i.createElement("i",{className:"scrivito_icon scrivito_icon_cancel",title:(0,f.translate)("tour.button.end")}))}var P_=(0,a.Z)((function(e){var t=(0,j_.h2)(e.reference||"topbar");return i.createElement(h_,{name:e.name,referenceElement:t,placement:e.placement,disableArrow:!e.reference},i.createElement("div",{className:"info-popup-headline"},i.createElement("span",{className:"info-popup-headline-content"},e.title),i.createElement(N_,null)),i.createElement("div",{className:"info-popup-content"},i.createElement("span",{className:"info-popup-description"},e.description),e.picture&&i.createElement(A_,{picture:e.picture}),i.createElement(I_,null)))}));function A_(e){var t=e.picture,n=$()+"/tour/"+t;return i.createElement("img",{src:n})}function I_(){return i.createElement("div",{className:"info-popup-steps"},i.createElement(D_,{title:(0,f.translate)("tour.button.prev"),onClick:j_.Rk}),i.createElement(D_,{title:(0,f.translate)("tour.button.next"),alignment:"right",onClick:j_.Q}))}var M_=function(){return M_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},M_.apply(this,arguments)};function L_(e){return i.createElement(P_,M_({picture:(0,t.It)(e.name)+".gif",title:(0,f.translate)("tour."+e.name+".title"),description:(0,f.translate)("tour."+e.name+".description")},e))}var R_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F_=function(e){function t(t){return e.call(this,t)||this}return R_(t,e),t.prototype.render=function(){return[i.createElement("div",{key:"overlay",className:"info-popup-overlay"}),i.createElement("div",{key:"popup",className:"info-popup center-screen","data-name":this.props.name},i.createElement("div",{className:"info-popup-headline"},i.createElement("span",{className:"info-popup-headline-content"},this.props.title),i.createElement(N_,null)),i.createElement("div",{className:"info-popup-content"},this.props.children))]},t.displayName="Tour.SplashScreen",t}(i.Component),B_=(0,a.Z)(F_),z_=function(){return z_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},z_.apply(this,arguments)};function W_(e){return i.createElement(P_,z_({reference:e.name,title:(0,f.translate)("tour."+e.name+".title"),description:(0,f.translate)("tour."+e.name+".description")},e))}var U_,H_=[function(){return i.createElement(B_,{name:"intro",title:(0,f.translate)("tour.intro.title")},i.createElement("p",null,(0,f.translate)("tour.intro.description1")),i.createElement("p",null,(0,f.translate)("tour.intro.description2")),i.createElement("img",{src:$()+"/tour/start_tour.gif"}),i.createElement("div",{className:"info-popup-steps"},i.createElement(D_,{title:(0,f.translate)("tour.button.skip"),onClick:j_.SQ}),i.createElement(D_,{title:(0,f.translate)("tour.button.start"),alignment:"right",onClick:j_.Q})))},function(){return i.createElement(W_,{name:"editMode",placement:"bottom-end"})},function(){return i.createElement(L_,{name:"editText"})},function(){return i.createElement(L_,{name:"addWidget"})},function(){return i.createElement(L_,{name:"widgetMenu"})},function(){return i.createElement(W_,{name:"pageMenu",placement:"left-start"})},function(){return i.createElement(W_,{name:"hierarchy",placement:"left"})},function(){return i.createElement(W_,{name:"contentBrowser",placement:"left"})},function(){return i.createElement(W_,{name:"workspaces",placement:"left"})},function(){return i.createElement(W_,{name:"publish",placement:"bottom"})},function(){return i.createElement(B_,{name:"outro",title:(0,f.translate)("tour.outro.title")},i.createElement("p",null,(0,f.translate)("tour.outro.description1"),i.createElement("a",{href:"https://www.scrivito.com/support",target:"_blank"},(0,f.translate)("tour.outro.description1.link_title")),"."),i.createElement("p",null,(0,f.translate)("tour.outro.description2"),i.createElement("a",{href:"https://www.scrivito.com/documentation",target:"_blank"},(0,f.translate)("tour.outro.description2.link_title")),(0,f.translate)("tour.outro.description3"),i.createElement("a",{href:"https://www.scrivito.com/user-guide",target:"_blank"},(0,f.translate)("tour.outro.description3.link_title")),"."),i.createElement("p",null,(0,f.translate)("tour.outro.description4")),i.createElement("img",{src:$()+"/tour/start_tour.gif"}),i.createElement("div",{className:"info-popup-steps"},i.createElement(D_,{title:(0,f.translate)("tour.button.back"),onClick:j_.Rk}),i.createElement(D_,{title:(0,f.translate)("close"),alignment:"right",onClick:j_.SQ})))}],Z_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q_=(0,a.Z)(((U_=function(e){function t(t){var n=e.call(this,t)||this;return(0,j_.A2)(H_.length),n}return Z_(t,e),t.prototype.componentDidMount=function(){(0,j_.fL)()},t.prototype.render=function(){if(!(0,j_.O8)()||(0,j_.rG)())return null;var e=H_[(0,j_.VK)()];return e?i.createElement(e):null},t}(i.Component)).displayName="Tour",U_)),V_=[];function K_(e){V_.push(e)}function $_(){return i.useEffect((function(){return(0,t.Y3)((function(){return V_.forEach((function(e){return e()}))})),function(){V_=[]}}),[]),i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_properties_fullscreen"},i.createElement(Eg,null)),i.createElement("div",{id:"menubar"}),i.createElement(o.S,null),i.createElement("div",{id:"error_dialog"}),i.createElement("div",{id:"context_menu"}),i.createElement("div",{id:"image_editor_dialog"}),i.createElement(q_,null),i.createElement(S_,null),i.createElement(T_,null),i.createElement("svg",{height:"0",width:"0"},i.createElement("filter",{id:"scrivito_svg_icon_filter"},i.createElement("feColorMatrix",{type:"matrix",values:"1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0 1 0"})),i.createElement("filter",{id:"scrivito_svg_icon_filter_disabled"},i.createElement("feColorMatrix",{type:"matrix",values:"1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0 1 0"}),i.createElement("feColorMatrix",{type:"matrix",values:".14 0 0 0 0 .14 0 0 0 0 .14 0 0 0 0 0 0 0 1 0"}))))}var G_={logAppConfigTo:En.$},Y_=n(1448);function Q_(e){var t=this;(0,d.Af)()||pe(e)&&K_((function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(t){switch(t.label){case 0:return C_.set(!0),[4,ke({feature:e,title:(0,f.translate)("feature."+e+".title"),description:(0,f.translate)("feature."+e+".description"),docUrl:me(e),imgUrl:ve(e)})];case 1:return t.sent(),C_.set(!1),[2]}}))}))}))}var X_=n(25338),J_=function(){return J_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},J_.apply(this,arguments)};function eb(){if(!(0,d.Af)()){var e=J_(J_({},function(){var e={},t=(0,Y.Kt)().get("editing_context");if(function(e){if(!e)return!1;if(!(0,Or.Z)(e))return!1;var t=e,n=t.displayMode,r=t.workspaceId;return!(void 0!==n&&!(0,hs.Y0)(n)||void 0!==r&&"string"!=typeof r)}(t)){var n=t.displayMode,r=t.workspaceId;n&&(e.displayMode=n),r&&(e.workspaceId=r)}return e}()),function(){var e={},t=new Lo((0,ip.DX)()).search(!0);(0,hs.Y0)(t._scrivito_display_mode)&&(e.displayMode=t._scrivito_display_mode);var n=t._scrivito_workspace_id;return"string"==typeof n&&(e.workspaceId=n),e}()),t=e.displayMode,n=e.workspaceId;n&&(0,on.P6)(n),t&&function(e){return!(0,on.f$)()||"diff"===e||"view"===e}(t)&&(0,hs.UC)(t),document.hasFocus()&&nb(),(0,X_.rk)("editingContext",nb),(0,y.N7)(hs.ol).subscribe(nb)}}function tb(e,t){var n=t.workspaceId,r=t.displayMode,i=new Lo(e);return n&&i.setQuery("_scrivito_workspace_id",n),r&&i.setQuery("_scrivito_display_mode",r),i}function nb(){var e;e={displayMode:(0,hs.ol)(),workspaceId:(0,on.tV)()},(0,Y.Kt)().set("editing_context",e)}var rb=n(57161);function ib(e){var t=e.displayMode,n=e.comparisonRange,r=ob({workspaceId:(0,on.tV)(),displayMode:t}).toString();return"diff"===t?(0,rb.XA)(n,r):r}function ob(e){return tb((0,ip.DX)(),e)}function ab(e){var t=ob(e).href();return(0,Fg.B)(t)}function sb(){var e=cn.readable().map((function(e){return e.workflowId()}));return ov(Vt(),e).length>1}var cb=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},lb=(0,a.Z)((function(e){var t=i.useState(!1),n=t[0],r=t[1];return e.workflows.length<2?null:i.createElement(i.Fragment,null,i.createElement("label",{className:e.isDisabled?"scrivito_disabled":""},(0,f.translate)("create_workspace_dialog.workflow_select.title")),i.createElement("div",{className:"workflow_select scrivito_select"+(e.isDisabled?" scrivito_disabled":"")},i.createElement(pb,{workflow:e.selectedWorkflow,isActive:!1,onClick:function(){return r(!0)}}),n&&i.createElement(ub,{workflows:cb([e.selectedWorkflow],e.workflows.filter((function(t){return!t.equals(e.selectedWorkflow)})),!0),onChange:function(t){r(!1),e.onChange(t)},onClose:function(){return r(!1)}})))}));function ub(e){return i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_select_overlay",onClick:e.onClose}),i.createElement("div",{className:"scrivito_select_options"},e.workflows.map((function(t){return i.createElement(pb,{key:t.id(),workflow:t,isActive:0===e.workflows.indexOf(t),onClick:function(){return e.onChange(t)}})}))))}var db,fb,pb=(0,a.Z)((function(e){var t="scrivito_select_option";return e.isActive&&(t+=" active"),i.createElement("div",{className:t,onClick:e.onClick},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon scrivito_icon_workflow"})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},e.workflow.title()),i.createElement("span",{className:"scrivito_list_meta"},e.workflow.description())))})),hb=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mb=(0,a.Z)(((db=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n.onTitleChange=n.onTitleChange.bind(n),n}return hb(t,e),t.prototype.render=function(){return i.createElement("div",{className:"create_workspace_form scrivito_fieldset",onClick:this.onClick},i.createElement("div",{className:this.legendClassName()},this.legendTitle()),i.createElement("input",{type:"text",className:this.inputClassName(),value:this.props.title||"",placeholder:(0,f.translate)("editable_workspace_dialog.create_workspace_form.placeholder"),onChange:this.onTitleChange}),i.createElement(lb,{workflows:this.props.workflows,selectedWorkflow:this.props.workflow,isDisabled:!this.props.hasFocus,onChange:this.props.onWorkflowChange}))},t.prototype.legendClassName=function(){var e="scrivito_fieldset_legend";return this.props.hasFocus||(e+=" scrivito_disabled"),e},t.prototype.legendTitle=function(){return 0===this.props.workspaces.length?(0,f.translate)("editable_workspace_dialog.create_workspace_form.create_workspace"):(0,f.translate)("editable_workspace_dialog.create_workspace_form.or_create_workspace")},t.prototype.inputClassName=function(){if(!this.props.hasFocus)return"scrivito_disabled"},t.prototype.onClick=function(e){e.stopPropagation(),this.props.hasFocus||this.props.onFocus()},t.prototype.onTitleChange=function(e){e.stopPropagation(),this.props.onTitleChange(e.target.value)},t}(i.Component)).displayName="EditableWorkspaceDialog.CreateWorkspaceForm",db)),vb=(0,a.Z)((function(e){var t=e.workspace.primaryOwner();if(!t)return null;var n=e.workspace.membersCount()-1;return i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content"},i.createElement("span",{className:"first-owner"},t.description),n>0&&i.createElement("span",{className:"amount"},"+",n)))})),gb=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_b=(0,a.Z)(((fb=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isOpen:!1},n.onClick=n.onClick.bind(n),n.onChange=n.onChange.bind(n),n}return gb(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{className:"workspace_select scrivito_fieldset",onClick:this.onClick},i.createElement("div",{className:this.legendClassName()},this.legendTitle()),i.createElement("div",{className:this.selectClassName()},i.createElement(wb,{workspace:this.props.selectedWorkspace,isActive:!1,displayWorkflowInfo:this.props.displayWorkflowInfo,onClick:function(){!e.isDropdownDisabled()&&e.setState({isOpen:!0})}}),this.state.isOpen&&i.createElement(bb,{workspaces:this.sortedWorkspaces(),displayWorkflowInfo:this.props.displayWorkflowInfo,onChange:this.onChange,onClose:function(){return e.setState({isOpen:!1})}})))},t.prototype.legendClassName=function(){var e="scrivito_fieldset_legend";return this.props.hasFocus||(e+=" scrivito_disabled"),e},t.prototype.legendTitle=function(){return(0,f.translate)("editable_workspace_dialog.workspace_select.select")},t.prototype.selectClassName=function(){var e="scrivito_select";return this.props.hasFocus||(e+=" scrivito_disabled"),this.isDropdownDisabled()&&(e+=" read_only"),e},t.prototype.sortedWorkspaces=function(){var e=this;return function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([this.props.selectedWorkspace],this.props.workspaces.filter((function(t){return!t.equals(e.props.selectedWorkspace)})),!0)},t.prototype.onClick=function(e){e.stopPropagation(),this.props.hasFocus||this.props.onFocus()},t.prototype.onChange=function(e){this.setState({isOpen:!1}),this.props.onChange(e)},t.prototype.isDropdownDisabled=function(){return 1===this.props.workspaces.length},t}(i.Component)).displayName="EditableWorkspaceDialog.WorkspaceSelect",fb));function bb(e){return i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_select_overlay",onClick:e.onClose}),i.createElement("div",{className:"scrivito_select_options"},e.workspaces.map((function(t){return i.createElement(wb,{key:t.id,workspace:t,isActive:0===e.workspaces.indexOf(t),displayWorkflowInfo:e.displayWorkflowInfo,onClick:function(){return e.onChange(t)}})}))))}var yb,wb=(0,a.Z)((function(e){var t,n="scrivito_select_option";return e.isActive&&(n+=" active"),i.createElement("div",{className:n,onClick:e.onClick},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon scrivito_icon_ws"})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},e.workspace.titleForEditor),e.displayWorkflowInfo?i.createElement("span",{className:"scrivito_list_meta"},null===(t=e.workspace.workflow())||void 0===t?void 0:t.title()):i.createElement(vb,{workspace:e.workspace})))})),kb=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eb=function(){return Eb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Eb.apply(this,arguments)};function Cb(e){return(0,o.G)((function(t){return i.createElement(Sb,Eb({},e,t))}))}var Sb=(0,a.Z)((yb=function(e){function t(t){var n=e.call(this,t)||this,r={activeGroup:null,selectWorkspace:null,createWorkspace:{title:null,workflow:null}};return n.canSelectWorkspace()?r.activeGroup="selectWorkspace":n.canCreateWorkspace()&&(r.activeGroup="createWorkspace"),n.canSelectWorkspace()&&(r.selectWorkspace=n.props.workspaces[0]),n.canCreateWorkspace()&&(r.createWorkspace.workflow=n.props.workflows[0]),n.state=r,n.onCancel=n.onCancel.bind(n),n.onSubmit=n.onSubmit.bind(n),n.submit=n.submit.bind(n),n.onWorkspaceSelectFocus=n.onWorkspaceSelectFocus.bind(n),n.onWorkspaceSelectChange=n.onWorkspaceSelectChange.bind(n),n.onCreateFormFocus=n.onCreateFormFocus.bind(n),n.onCreateFormTitleChange=n.onCreateFormTitleChange.bind(n),n.onCreateFormWorkflowChange=n.onCreateFormWorkflowChange.bind(n),n}return kb(t,e),t.prototype.componentDidMount=function(){this.props.subscribeHotkey("enter",this.submit)},t.prototype.render=function(){return i.createElement(s.E,{className:"editable_workspace_dialog scrivito_modal_prompt scrivito_blue scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon"},""),i.createElement("h3",{className:"scrivito_title"},this.props.title),i.createElement("p",null,this.props.description)),i.createElement("div",{className:"scrivito_modal_body overflow_visible"},this.canSelectWorkspace()&&i.createElement(_b,{workspaces:this.props.workspaces,workflows:this.props.workflows,selectedWorkspace:this.state.selectWorkspace,displayWorkflowInfo:sb(),onChange:this.onWorkspaceSelectChange,hasFocus:"selectWorkspace"===this.state.activeGroup,onFocus:this.onWorkspaceSelectFocus}),this.canCreateWorkspace()&&i.createElement(mb,{workspaces:this.props.workspaces,workflows:this.props.workflows,title:this.state.createWorkspace.title,onTitleChange:this.onCreateFormTitleChange,workflow:this.state.createWorkspace.workflow,onWorkflowChange:this.onCreateFormWorkflowChange,hasFocus:"createWorkspace"===this.state.activeGroup,onFocus:this.onCreateFormFocus})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_ scrivito_cancel",onClick:this.onCancel},(0,f.translate)("cancel")),i.createElement("a",{className:this.submitClassName(),onClick:this.onSubmit,href:"#"},"selectWorkspace"===this.state.activeGroup?(0,f.translate)("editable_workspace_dialog.select"):(0,f.translate)("editable_workspace_dialog.create"))))},t.prototype.canSelectWorkspace=function(){return this.props.workspaces.length>0},t.prototype.canCreateWorkspace=function(){return this.props.workflows.length>0},t.prototype.submitClassName=function(){var e="scrivito_button scrivito_confirm";return"selectWorkspace"===this.state.activeGroup&&this.state.selectWorkspace||"createWorkspace"===this.state.activeGroup&&this.state.createWorkspace.title&&this.state.createWorkspace.workflow?e+=" scrivito_blue":e+=" scrivito_disabled",e},t.prototype.onSubmit=function(e){e.preventDefault(),e.stopPropagation(),this.submit()},t.prototype.onCancel=function(e){e.preventDefault(),e.stopPropagation(),this.props.cancelDialog()},t.prototype.submit=function(){var e=this;"selectWorkspace"===this.state.activeGroup&&this.state.selectWorkspace?this.props.dialogDone(this.state.selectWorkspace):"createWorkspace"===this.state.activeGroup&&this.state.createWorkspace.title&&this.state.createWorkspace.workflow&&(0,Cr.S)(cn.createAsync(this.state.createWorkspace.title,this.state.createWorkspace.workflow.id())).then((function(t){return e.props.dialogDone(t)})).catch(Ce.M)},t.prototype.onWorkspaceSelectChange=function(e){this.setState({selectWorkspace:e})},t.prototype.onWorkspaceSelectFocus=function(){this.setState({activeGroup:"selectWorkspace"})},t.prototype.onCreateFormTitleChange=function(e){var t=this.state.createWorkspace;t.title=e,this.setState(Eb(Eb({},this.state),{createWorkspace:t}))},t.prototype.onCreateFormWorkflowChange=function(e){var t=this.state.createWorkspace;t.workflow=e,this.setState(Eb(Eb({},this.state),{createWorkspace:t}))},t.prototype.onCreateFormFocus=function(){this.setState({activeGroup:"createWorkspace"})},t}(i.Component),yb.displayName="EditableWorkspaceDialog",yb)),xb=function(){return xb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xb.apply(this,arguments)},Ob=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Tb=(0,a.Z)((function(e){var t=r("conflict"),n=r("modified");return i.createElement(s.E,{className:"transfer_errors_dialog scrivito_modal_prompt scrivito_red scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon scrivito_icon_attention"}),i.createElement("h3",{className:"scrivito_title"},(0,f.translate)("transfer_errors_dialog.title"))),i.createElement("div",{className:"scrivito_modal_body"},n.length>0&&i.createElement(jb,{title:(0,f.translate)("transfer_errors_dialog.modified"),objs:n}),t.length>0&&i.createElement(jb,{title:(0,f.translate)("transfer_errors_dialog.conflicting"),objs:t})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_close",onClick:e.cancelDialog},(0,f.translate)("ok"))));function r(t){return e.errors.reduce((function(e,n){return n.reason===t?Ob(Ob([],e,!0),[n.obj],!1):e}),[])}})),jb=(0,a.Z)((function(e){var t=e.title,n=e.objs;return i.createElement(i.Fragment,null,i.createElement("p",null,t),i.createElement("ul",null,n.map((function(e){return i.createElement("li",{key:e.id()},(0,xn.VA)(e))}))))})),Db=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nb=function(e){function t(t,n){var r=e.call(this)||this;return r.objId=t,r.reason=n,r}return Db(t,e),t}(t.Ix);function Pb(e){return e.objData.getAttribute("_conflicts")?t.s8.reject(new Nb(e.id(),"conflict")):t.s8.resolve()}function Ab(e,t){var n=e.id();return Lb(n,t).then((function(e){if(e&&e._modification)throw new Nb(n,"modified")}))}function Ib(e,n){var r=e.id(),i=cn.selected.id;return t.s8.all([Rb(r,i),Rb(r,n)]).then((function(e){var t=e[0],n=e[1];if(t&&n&&(0,j.rK)(t,n))throw new Nb(r,"conflict")}))}function Mb(e,t,n){return h.i3.put("workspaces/"+t+"/objs/"+e,{obj:n})}function Lb(e,t,n){return void 0===n&&(n="objs"),h.i3.get("workspaces/"+t+"/"+n+"/mget",{ids:[e]}).then((function(e){return e.results[0]}))}function Rb(e,t){return Lb(e,t,"base_objs")}function Fb(e,n){var r=(0,Cr.S)(function(e,n){return Hv((function(t){return t.isNew()&&e.some((function(e){return t.equals(e)}))})).then((function(){return function(e,n){return t.s8.all(e.map((function(e){return function(e,n){return t.s8.all([Pb(e),Ab(e,n),Ib(e,n)]).then((function(){return function(e,t){switch(e.objData.getAttribute("_modification")){case"new":return function(e,t){var n=e.objData;return Mb(e.id(),t,n.get()).then((function(){return n.update({_marked_deleted:!0}),n.finishSaving()}))}(e,t);case"deleted":return function(e,t){return Mb(e.id(),t,{_marked_deleted:!0}).then((function(){return ng(e)}))}(e,t);default:return function(e,t){var n=e.objData,r=e.id();return Lb(r,t).then((function(i){var o=(0,j.Xm)(i,n.get());return Mb(r,t,o).then((function(){return tg(e)}))}))}(e,t)}}(e,n)}))}(e,n).catch((function(e){if(e instanceof Nb)return e;throw e}))}))).then((function(e){return e.filter((function(e){return e instanceof Nb}))}))}(e,n)}))}(e,n));return r.then((function(t){return function(e,t){var n,r=e.map((function(e){var n=e.reason,r=e.objId;return{reason:n,obj:t.find((function(e){return e.id()===r}))}}));r.length&&(n={errors:r},(0,o.G)((function(e){return i.createElement(Tb,xb({},n,e))})))}(t,e)})),r}function Bb(e){return void 0===e&&(e=(0,on.GD)()),(0,on.hA)(e).search().and("_modification","equals",["new","edited","deleted"]).includeDeleted().includeEditingAssets()}var zb=n(19672),Wb=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ub=function(e){function t(t){var n=e.call(this,t)||this;return n.containerRef=i.createRef(),n.onScrollFrame=n.onScrollFrame.bind(n),n}return Wb(t,e),t.prototype.componentDidMount=function(){this.fillContainer()},t.prototype.componentDidUpdate=function(){this.fillContainer()},t.prototype.render=function(){var e=i.Children.toArray(this.props.children);return this.props.isLoading&&e.push(i.createElement(Bs.aN,{key:"loader"})),i.createElement(this.props.scrollbars||zb.ZP,{className:"infinite_scrollbars",ref:this.containerRef,onScrollFrame:this.onScrollFrame,children:e})},t.prototype.fillContainer=function(){!this.props.hasMore||this.props.isLoading||this.isContainerFull()||this.props.loadMore()},t.prototype.onScrollFrame=function(){this.props.hasMore&&!this.props.isLoading&&this.isViewportAtBottom()&&this.props.loadMore()},t.prototype.isContainerFull=function(){var e=this.containerRef.current;if(!e)return!1;var t=e.getValues(),n=t.clientHeight,r=t.scrollHeight;return 0===n||r>n},t.prototype.isViewportAtBottom=function(){var e=this.containerRef.current;if(!e)return!1;var t=e.getValues();return t.scrollTop>=t.scrollHeight-2*t.clientHeight},t}(i.Component);function Hb(e){return new xe({id:"scrivito.sdk.mark_resolved_obj",title:(0,f.translate)("commands.mark_resolved_obj.title"),icon:["scrivito_icon_ok_box","className"],present:function(){if((0,on.f$)())return!1;var t=on.Jj.getIncludingDeleted(e);return!!t&&t.hasConflicts()},disabled:gn,execute:function(){return Zr({title:(0,f.translate)("commands.mark_resolved_obj.dialog.title"),description:(0,f.translate)("commands.mark_resolved_obj.dialog.description"),icon:"&#xf124;",color:"red",confirmButtonTitle:(0,f.translate)("commands.mark_resolved_obj.dialog.confirm"),confirmButtonColor:"red"}).then((function(t){if(!t.dialogCancelled)return(0,D.zD)((function(){return on.Jj.get(e)})).then((function(e){if(e)return e.markResolvedAsync()}))}))}})}function Zb(e){return new xe({id:"scrivito.sdk.restore_obj",title:(0,f.translate)("commands.restore_obj.title"),icon:["scrivito_icon_history","className"],present:function(){if((0,on.f$)())return!1;var t=xr(e);return!!t&&t.isDeleted()},disabled:gn,execute:function(){return(0,Cr.S)(function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return[4,(0,D.zD)((function(){return xr(e)}))];case 1:return(t=n.sent())?[2,ng(t)]:[2]}}))}))}(e))}})}function qb(e){return new xe({id:"scrivito.sdk.revert_obj",title:(0,f.translate)("commands.revert_obj.title"),icon:["scrivito_icon_history","className"],present:function(){return!(0,on.f$)()&&!!on.Jj.get(e)},disabled:function(){return gn()||function(e){var t=on.Jj.get(e);if(t){if(!t.isModified())return(0,f.translate)("commands.revert_obj.unmodified");if(t.isNew())return(0,f.translate)("commands.revert_obj.is_new")}}(e)},execute:function(){return Zr({title:(0,f.translate)("commands.revert_obj.dialog.title"),description:(0,f.translate)("commands.revert_obj.dialog.description"),icon:"&#xf032;",color:"red",confirmButtonTitle:(0,f.translate)("commands.revert_obj.dialog.confirm"),confirmButtonColor:"red"}).then((function(t){if(!t.dialogCancelled){var n=on.Jj.get(e);if(n)return tg(n)}}))}})}var Vb=n(26868);function Kb(e){var t=e.date,n=e.className,r=t?(0,f.localizeDate)(t,"PPPPp"):void 0;return i.createElement("span",{className:n,title:r},t&&i.createElement($b,{date:t}))}function $b(e){var t=e.date,n=i.useState(new Date),r=n[0],o=n[1];return i.useEffect((function(){var e=setInterval((function(){return o(new Date)}),3e4);return function(){return clearInterval(e)}}),[]),i.createElement(i.Fragment,null,(0,f.localizeDateRelative)(t,(0,Vb.default)([t,r])))}function Gb(e){var t=e.errors,n=e.warnings;return t>0&&n>0?(0,f.translate)("notifications_count.errors_and_warnings",t+n):1===t?(0,f.translate)("notifications_count.only_error"):t>1?(0,f.translate)("notifications_count.only_errors",t):1===n?(0,f.translate)("notifications_count.only_warning"):(0,f.translate)("notifications_count.only_warnings",n)}function Yb(e,t){if(void 0===t&&(t={notAvailableFallback:"",hideEmail:!1}),e)try{var n=Wt.get(e),r=n.description,i=n.email;return!i||t.hideEmail?r:r+" ("+i+")"}catch(e){if(e instanceof Ht)return t.notAvailableFallback;throw e}return t.notAvailableFallback}function Qb(e,t){if(!e.isModified())return!1;var n=t.workflowId();return!!n&&(0,D.n4)(!1,(function(){return!si(e.id(),n)||function(e,t,n){return!P({obj:{objId:e,workspaceId:t},workflowId:n})}(e.id(),t.id,n)}))}function Xb(e,t){return ml(e,"error")||(e.hasConflicts()?(0,f.translate)("most_severe_notification.has_conflicts"):Qb(e,t)?(0,f.translate)("most_severe_notification.inadmissible_changes"):ml(e,"warning"))}function Jb(e){if(!e.isModified())return[];var t=(0,on.tV)();return cn.byModifiedObj(e).filter((function(e){return e.id!==t}))}function ey(e){return ty(e)||ry(e)||function(e){return oy(e)>0}(e)}function ty(e){return ny(e)>0}function ny(e){var t=al(e,"error");return e.hasConflicts()&&(t+=1),ay(e)&&(t+=1),t}function ry(e){return iy(e)>0}function iy(e){return al(e,"warning")}function oy(e){return al(e,"info")+Jb(e).length}function ay(e){return Qb(e,cn.selected)}function sy(e,t){e instanceof on.Jj?function(e,t){(0,dc.Z)(e)?function(e){Ig({objSpaceId:e.objSpaceId(),objId:e.id()})}(e):function(e,t){!function(e,t,n,r){new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var n;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(r){switch(r.label){case 0:return e.isEditingAsset()?[2,wg({id:e.id(),showMoreDetails:!1})]:(Sn(e.id()),t?[4,(0,D.zD)((function(){return cy(e,t)}))]:[3,2]);case 1:(n=r.sent())?Ig({objSpaceId:e.objSpaceId(),objId:e.id(),activeTab:n}):function(e,t){En.X.scrollIntoView({objId:e.id(),attributeName:t})}(e,t),r.label=2;case 2:return[2]}}))}))}(e,t)}(e,t):function(e,t){(0,D.zD)((function(){return ua()})).then((function(n){if(e.obj().equals(n)||Sn(e.obj().id()),function(e){En.X.scrollIntoView({widgetId:e.id(),objId:e.obj().id()})}(e),t){var r=cy(e,t);r&&Ig({objSpaceId:e.objSpaceId(),objId:e.obj().id(),widgetId:e.id(),activeTab:r})}}))}(e,t)}function cy(e,t){var n,r=Rc(e).groups;if(r)return r.forEach((function(e){var r=Fc(e);r&&(0,Xe.Z)(r,t)&&(n=e.id)})),n}var ly=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},uy=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function dy(e){return ly(this,void 0,Promise,(function(){var t;return uy(this,(function(n){switch(n.label){case 0:return!e.isDeleted()||(0,dc.Z)(e)||(0,hs.cA)()?[3,2]:[4,fy(e)];case 1:return(t=n.sent())&&(0,Fg.B)(t),[3,3];case 2:sy(e),n.label=3;case 3:return[2]}}))}))}function fy(e){return ly(this,void 0,Promise,(function(){var t;return uy(this,(function(n){switch(n.label){case 0:return[4,cp(e)];case 1:return[2,(t=n.sent())&&tb(t,{displayMode:"diff"}).href()]}}))}))}var py=n(69057),hy=function(){return hy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hy.apply(this,arguments)},my=(0,a.Z)((function(e){if(!e.obj.isModified())return null;var t,n=ny(e.obj),r=iy(e.obj),o=cn.selected,a=Yb(e.obj.lastChangedBy(),{notAvailableFallback:(0,f.translate)("workspace_changes_dialog.change_item.not_available"),hideEmail:!0}),s=Yb(e.obj.lastChangedBy(),{notAvailableFallback:(0,f.translate)("workspace_changes_dialog.change_item.not_available")}),c=(0,xn.VA)(e.obj),l=(0,qs.a)(e.obj);return i.createElement("div",{className:(t="scrivito_list_item scrivito_clickable",n>0?t+=" scrivito_error":r>0&&(t+=" scrivito_warning"),e.isMenuOpen&&(t+=" show_menu"),e.isMarkedForTransfer(e.obj)&&(t+=" scrivito_selected"),e.isTransferMode&&e.obj.hasConflicts()&&(t+=" scrivito_disable"),t),title:function(){var t=Xb(e.obj,cn.selected);if(e.isTransferMode&&e.obj.hasConflicts())return(0,f.translate)("workspace_changes_dialog.change_item."+e.obj.modification()+".conflict");if(t)return t;var n="obj.tooltip.is_"+e.obj.modification();return e.obj.isRestricted()?(0,f.translate)("obj.tooltip.is_restricted")+(0,f.translate)(n):(0,f.translate)(n)}(),"data-obj-id":e.obj.id(),onClick:function(t){t.stopPropagation(),e.isTransferMode?function(t){t.hasConflicts()||e.toggleMarkedForTransfer(t)}(e.obj):(0,py.D)(t)?function(e){ly(this,void 0,Promise,(function(){var t;return uy(this,(function(n){switch(n.label){case 0:return!e.isDeleted()||(0,dc.Z)(e)?[3,2]:[4,fy(e)];case 1:return(t=n.sent())&&up(t),[3,3];case 2:dp(e),n.label=3;case 3:return[2]}}))}))}(e.obj):(dy(e.obj),e.closeDialog())}},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:function(){var t="scrivito_icon scrivito_"+e.obj.modification();return e.obj.isRestricted()&&(t+=" scrivito_icon_lock"),t}()},e.obj.isEditingAsset()?"":"")),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},i.createElement("span",null,c)),i.createElement(vy,{obj:e.obj,errors:n,warnings:r}),l&&i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content"},i.createElement("span",{className:"scrivito_badge"},l)))),i.createElement("div",{className:"scrivito_list_group reorder"},i.createElement(Kb,{date:e.obj.lastChanged(),className:"scrivito_list_topic"}),i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content"},(0,f.translate)("workspace_changes_dialog.change_item.last_changed")))),i.createElement("div",{className:"scrivito_list_group reorder"},i.createElement("span",{className:"scrivito_list_topic last_changed_by",title:s},a),i.createElement("span",{className:"scrivito_list_meta"},(0,f.translate)("workspace_changes_dialog.change_item.last_changed_by"))),o.currentUserCan("write")?i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_list_group icon_only"},i.createElement("div",{className:"scrivito_list_action",onClick:function(t){t.stopPropagation(),e.isMenuOpen?e.closeMenu():e.openMenu()}},i.createElement("span",{className:"menu_icon"},i.createElement("span",{className:"menu_icon_dot"})))),e.isMenuOpen&&i.createElement(by,{obj:e.obj,closeMenu:e.closeMenu})):i.createElement("div",{className:"scrivito_list_group icon_only"},i.createElement("i",{className:"scrivito_icon scrivito_icon_no_edit"})))}));function vy(e){return i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",null,e.errors>0||e.warnings>0?i.createElement(gy,hy({},e)):i.createElement(_y,{obj:e.obj})))}var gy=(0,a.Z)((function(e){return i.createElement(i.Fragment,null,i.createElement("i",{className:"scrivito_icon scrivito_icon_error"}),Gb(e))}));function _y(e){var t=e.obj.isEditingAsset()?(0,f.translate)("workspace_changes_dialog.widget_template"):e.obj.objClass();return i.createElement(i.Fragment,null,i.createElement("i",{className:"scrivito_icon scrivito_icon_generic"}),t)}function by(e){var t=e.obj,n=e.closeMenu,r=[Zb(t.id()),qb(t.id()),Hb(t.id()),Zv(t.id())];return i.createElement("div",{className:"scrivito_list_menu"},r.map((function(e){if(e.isPresent()){var t=e.icon(),r=e.isDisabled();return i.createElement("span",{key:e.id(),className:"scrivito_list_menu_item "+e.domId()+" "+(r?"scrivito_disabled":""),title:o(e),onClick:function(t){t.stopPropagation(),function(e){e.isDisabled()||(e.execute(),n())}(e)}},t&&i.createElement(Vo,{icon:t,disabled:r}),i.createElement("span",null,e.title()))}})));function o(e){return e.isDisabled()?e.reasonForBeingDisabled()||void 0:e.title()}}function yy(e){return e.objs.length||e.hasMore?i.createElement(Ub,{isLoading:e.isLoading,hasMore:e.hasMore,loadMore:e.loadMore},i.createElement("div",{className:"scrivito_property_padding"},i.createElement(wy,{objs:e.objs,closeDialog:e.closeDialog,isTransferMode:e.isTransferMode,isMarkedForTransfer:e.isMarkedForTransfer,toggleMarkedForTransfer:e.toggleMarkedForTransfer}))):i.createElement("div",{className:"scrivito_detail_content"},i.createElement("div",{className:"scrivito_notice scrivito_blue"},i.createElement("div",{className:"scrivito_notice_icon"},i.createElement("i",{className:"scrivito_icon"})),i.createElement("div",{className:"scrivito_notice_body"},(0,f.translate)("workspace_changes_dialog.no_changes_notice"))))}var wy=(0,a.Z)((function(e){var t=i.useState(null),n=t[0],r=t[1];if(0===e.objs.length)return null;var o="scrivito_list_flex_section state_normal";return e.isTransferMode&&(o+=" scrivito_list_multiselect"),i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:o},e.objs.map((function(t){return i.createElement(my,{key:t.id(),obj:t,closeDialog:e.closeDialog,isTransferMode:e.isTransferMode,isMarkedForTransfer:e.isMarkedForTransfer,toggleMarkedForTransfer:e.toggleMarkedForTransfer,isMenuOpen:n===t.id(),openMenu:function(){return r(t.id())},closeMenu:function(){return r(null)}})}))))})),ky=(0,a.Z)((function(e){var t,n="scrivito_icon "+(e.isTransferMode?" scrivito_icon_transfer":" scrivito_icon_edited");return i.createElement("div",{className:"scrivito_modal_header flex_header"},i.createElement("i",{className:n}),i.createElement("h3",{className:"flex_title text_ellipsis"},i.createElement("span",{className:"title"},(t="workspace_changes_dialog.dialog_header.title",e.isTransferMode&&(t+=".is_transfer_mode"),(0,f.translate)(t,cn.selected.titleForEditor)))," ",i.createElement("small",{className:"subtitle"},e.isTransferMode?function(){var t=e.objsToTransferCount;if(t)return(0,f.translate)("workspace_changes_dialog.dialog_header.count_title.is_transfer_mode"+(1===t?".one":".many"),t)}():function(){var t=e.objsCount;if(t){var n="workspace_changes_dialog.dialog_header.count_title"+(1===t?".one":".many");return e.hasMore&&(n+=".has_more"),(0,f.translate)(n,t)}}())),e.objsCount&&i.createElement(Ey,{orderBy:e.orderBy,setOrderBy:e.setOrderBy}))}));function Ey(e){var n=e.orderBy,r=e.setOrderBy,o=i.useState(null),a=o[0],s=o[1],c="scrivito_icon scrivito_icon_sort_"+d(n.attribute,n.direction);return i.createElement("div",{className:"order_toggle scrivito_list_sort"},i.createElement("span",{className:"scrivito_button scrivito_small scrivito_right",onClick:function(){a&&ha(a,[l("last_changed"),u("last_changed","asc"),u("last_changed","desc"),l("obj_class"),u("obj_class","desc"),u("obj_class","asc"),l("modification"),u("modification","desc"),u("modification","asc")],{customClassName:"scrivito_left"})}},i.createElement("i",{className:c}),i.createElement("span",{className:"toggle_title"},(0,f.translate)("workspace_changes_dialog.order_toggle."+n.attribute+"."+n.direction)),i.createElement("i",{className:"scrivito_icon scrivito_icon_chevron_down",ref:s})));function l(e){var t="workspace_changes_dialog.order_toggle."+e;return new Bf({id:"scrivito.ui."+t,title:(0,f.translate)(t)})}function u(e,i){var o="workspace_changes_dialog.order_toggle."+e+"."+i;return new xe({id:"scrivito.ui."+o,title:(0,f.translate)(o),icon:["up"===d(e,i)?"scrivito_icon_sort_up":"scrivito_icon_sort_down","className"],disabled:function(){if(e===n.attribute&&i===n.direction)return(0,f.translate)("workspace_changes_dialog.order_toggle.is_disabled")},execute:function(){return t.s8.resolve(r({attribute:e,direction:i}))}})}function d(e,t){return{last_changed:{asc:"up",desc:"down"},obj_class:{desc:"up",asc:"down"},modification:{desc:"up",asc:"down"}}[e][t]}}var Cy=n(74205),Sy=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sy(t,e),t}(t.Ix),Oy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sy(t,e),t}(t.Ix),Ty=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sy(t,e),t}(t.Ix),jy=function(e){function t(t){var n=e.call(this)||this;return n.errorCount=t,n}return Sy(t,e),t}(t.Ix),Dy=function(){function e(e){this.workspace=e}return e.prototype.checkAndPublish=function(e){var t=this;return void 0===e?this.checkAndPublish(Date.now()+2e4):this.checkValidationErrors().then((function(){return t.checkAndFetchPublishApproval()})).then((function(e){return h.i3.put("workspaces/"+t.workspace.id+"/publish",e).then((function(){}))})).catch((function(n){return t.handleCheckAndPublishError(n,e)}))},e.prototype.check=function(){var e=this;return this.fetchCheck(0).then((function(t){return e.handleCheckResult(t,[])}))},e.prototype.fetchPublishApproval=function(e){return(0,Pt.hj)("PUT","workspaces/"+this.workspace.id+"/publish_approval",{data:{certificates:e}})},e.prototype.checkValidationErrors=function(){return(0,D.zD)((function(){return ul()})).then((function(e){return e&&t.s8.reject(new jy(e))}))},e.prototype.checkAndFetchPublishApproval=function(){var e=this;return(0,Bt.t3)()?this.check().then((function(n){return n?e.fetchPublishApproval(n):t.s8.reject(new Ty)})):t.s8.resolve(void 0)},e.prototype.fetchCheck=function(e){return(0,Pt.hj)("GET","workspaces/"+this.workspace.id+"/check?from="+e).then((function(e){var t=e.result;return"pass"===t?{result:t,pass:e.pass,certificate:e.certificate}:{result:t}}))},e.prototype.handleCheckResult=function(e,n){var r=this;if("fail"===e.result)return t.s8.resolve(!1);if(n.push(e.certificate),"END"===e.pass.until)return t.s8.resolve(n);var i=parseInt(e.pass.until,10)+1;return this.fetchCheck(i).then((function(e){return r.handleCheckResult(e,n)}))},e.prototype.handleConstraintError=function(e){return(0,t.H)(e.message),t.s8.reject(new Oy)},e.prototype.handleOutdatedError=function(e){return this.workspace.isAutoUpdate()?this.checkAndPublish():((0,t.H)(e.message),(0,Wr.a)(e.message),t.s8.reject(e))},e.prototype.handleCheckAndPublishError=function(e,n){var r=this;if(e instanceof Ty)return t.s8.reject(e);if(e instanceof jy)return t.s8.reject(e);var i=e.code;return"precondition_not_met.workflow_constraint_violated"===i?this.handleConstraintError(e):"precondition_not_verifiable.workspace.publish.content_state_id"===i?this.handleOutdatedError(e):"precondition_not_met.workspace.publish.content_state_id"===i?Date.now()>n?t.s8.reject(new xy):(0,t.Dc)(1).then((function(){return r.checkAndPublish(n)})):"precondition_not_met.workspace.publish.exceeds_obj_limit"===i?((0,t.H)(e.message),(0,Cy.B)({message:(0,f.translate)("workspace_publisher.exceeds_obj_limit"),details:[e.message]}),t.s8.reject(e)):((0,Pt.Gb)(e),t.s8.reject(e))},e}();function Ny(){return new xe({id:"scrivito.publishWorkspace",title:(0,f.translate)("commands.publish_workspace.title"),tooltip:(0,f.translate)("commands.publish_workspace.tooltip"),present:function(){return Py()},disabled:function(){return Ay()},execute:function(){return function(e,n){return function(e){return Zr({title:(0,f.translate)("interactions.publish_workspace.dialog.title",e.titleForEditor),description:(0,f.translate)("interactions.publish_workspace.dialog.description"),icon:"&#xf033;",color:"blue",confirmButtonTitle:(0,f.translate)("interactions.publish_workspace.dialog.confirm"),confirmButtonColor:"blue"})}(e).then((function(e){var r;if(!e.dialogCancelled)return r=(0,Cr.S)(n.checkAndPublish().then(Yy)).catch((function(e){if(e instanceof jy)t=e.errorCount,(0,Wr.a)((0,f.translate)("workspace_publisher.found_validation_errors.title"),{body:1===t?(0,f.translate)("workspace_publisher.found_validation_errors.body.one"):(0,f.translate)("workspace_publisher.found_validation_errors.body.many",t),icon:"error"});else if(e instanceof Ty)Zr({title:(0,f.translate)("interactions.publish_workspace.error_dialog.title"),description:(0,f.translate)("interactions.publish_workspace.error_dialog.description"),icon:"&#xf033;",confirmButtonTitle:(0,f.translate)("interactions.publish_workspace.error_dialog.confirm")}).then((function(e){e.dialogCancelled||Ky()}));else if(e instanceof Oy)Zr({title:(0,f.translate)("interactions.publish_workspace.constraint_violated.title"),description:(0,f.translate)("interactions.publish_workspace.constraint_violated.description"),icon:"&#xf01d;",color:"red",confirmButtonTitle:(0,f.translate)("interactions.publish_workspace.constraint_violated.confirm"),cancelButtonTitle:(0,f.translate)("close")}).then((function(e){e.dialogCancelled||Ky()}));else{if(!(e instanceof xy))throw e;(0,Wr.a)((0,f.translate)("interactions.publish_workspace.alert.invalid_certificates"))}var t})),Gy=!0,(0,t.sH)(r,(function(){return Gy=!1}))}))}(e=cn.selected,new Dy(e));var e}})}function Py(){return cn.selected.currentUserCan("publish")}function Ay(){return 0===Bb().count()?(0,f.translate)("commands.publish_workspace.no_changes"):Py()?dl()>0?(0,f.translate)("commands.publish_workspace.has_validation_results"):void 0:(0,f.translate)("commands.publish_workspace.cannot_publish")}function Iy(){return new xe({id:"scrivito.submitWorkspace",title:(0,f.translate)("commands.submit_workspace.title"),tooltip:(0,f.translate)("commands.submit_workspace.tooltip"),present:function(){return My()},disabled:function(){return Ly()},execute:function(){return e=cn.selected,(0,Cr.S)(e.submitForReview());var e}})}function My(){return cn.selected.currentUserCan("submit_to_review")&&!cn.selected.isInReviewStage()&&cn.selected.isOwnedBy(Ct())}function Ly(){if(0===Bb().count())return(0,f.translate)("commands.submit_workspace.no_changes")}var Ry=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fy=(0,a.Z)(function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n.registerTourReference=n.registerTourReference.bind(n),n}return Ry(t,e),t.prototype.render=function(){if(!this.props.command.isPresent())return null;var e=this.props.command.isDisabled(),t=this.props.tag||"a",n=this.props.tourReferenceName&&this.registerTourReference;return i.createElement(t,{className:this.buttonClassName(e),title:this.props.command.menuItemTitle(),onClick:e?void 0:this.onClick},i.createElement("i",{className:this.iconClassName()}),i.createElement("span",{className:"scrivito_button_label",ref:n},this.props.command.title()))},t.prototype.registerTourReference=function(e){this.props.tourReferenceName&&(0,j_.Mf)(this.props.tourReferenceName,e)},t.prototype.buttonClassName=function(e){var t=this.props.className;return e&&(t+=" scrivito_disabled"),t},t.prototype.iconClassName=function(){var e=this.props.command.icon();return"scrivito_icon "+this.props.iconClassName+" "+(e&&"className"===e[1]?e[0]:"")},t.prototype.onClick=function(e){var t;e.preventDefault(),e.stopPropagation(),this.props.command.execute(),null===(t=this.props.onClick)||void 0===t||t.call(null)},t}(i.Component));function By(e){var t=e.anyChangePresent,n=e.enableTransferMode,r=e.closeDialog;return i.createElement(i.Fragment,null,i.createElement(Fy,{className:"publish_changes_button scrivito_button scrivito_left scrivito_blue",iconClassName:"scrivito_icon_publish",command:Ny(),onClick:r}),i.createElement(Fy,{className:"submit_changes_button scrivito_button scrivito_left scrivito_blue",iconClassName:"scrivito_icon_submit",command:Iy(),onClick:r}),i.createElement(zy,{anyChangePresent:t,enableTransferMode:n}),i.createElement(Wy,{closeDialog:r}))}function zy(e){var t=e.anyChangePresent,n=e.enableTransferMode,r=t?ga()?void 0:(0,f.translate)("workspace_changes_dialog.transfer_disabled.cannot_edit"):(0,f.translate)("workspace_changes_dialog.transfer_disabled.no_changes"),o=void 0!==r,a="enable_transfer_mode_button scrivito_button scrivito_left "+(o?"scrivito_disabled":"scrivito_darkgrey");return i.createElement("a",{className:a,onClick:function(e){e.preventDefault(),e.stopPropagation(),o||n()},title:r},i.createElement("i",{className:"scrivito_icon scrivito_icon_transfer"}),i.createElement("span",null,(0,f.translate)("workspace_changes_dialog.enable_transfer_mode_button.title")))}function Wy(e){var t=e.closeDialog;return i.createElement("a",{className:"close_dialog_button scrivito_button",onClick:function(e){e.preventDefault(),e.stopPropagation(),t()}},(0,f.translate)("close"))}function Uy(e){var t=e.objsToTransferCount,n=e.transferChanges,r=e.disableTransferMode;return i.createElement(i.Fragment,null,i.createElement(Hy,{objsToTransferCount:t,transferChanges:n}),i.createElement(Zy,{objsToTransferCount:t,disableTransferMode:r}))}function Hy(e){var t=e.objsToTransferCount,n=e.transferChanges,r="transfer_changes_button scrivito_button scrivito_left "+(t?"scrivito_blue":"scrivito_disabled");return i.createElement("a",{className:r,onClick:function(e){e.preventDefault(),e.stopPropagation(),t&&n()}},(0,f.translate)("workspace_changes_dialog.transfer_changes_button.title"))}function Zy(e){var t=e.objsToTransferCount,n=e.disableTransferMode;return i.createElement("a",{className:"disable_transfer_mode_button scrivito_button",onClick:function(e){e.preventDefault(),e.stopPropagation(),n()}},t?(0,f.translate)("cancel"):(0,f.translate)("done"))}var qy=function(){return qy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qy.apply(this,arguments)},Vy=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function Ky(e){return void 0===e&&(e={}),(0,o.G)((function(t){return i.createElement($y,qy({},e,t))}))}var $y=(0,a.Z)((function(e){var n=i.useState(100),r=n[0],o=n[1],a=i.useState(!1),s=a[0],c=a[1],l=i.useState([]),u=l[0],d=l[1],p=i.useState({attribute:"last_changed",direction:"desc"}),h=p[0],m=p[1];i.useEffect((function(){c(!!e.isTransferMode)}),[e.isTransferMode]),i.useEffect((function(){e.subscribeHotkey("escape",w)}),[]);var v,g=Bb().order((v=h.attribute,"_"+(0,t.eV)(v)),h.direction).iterator(),_=(0,D.cw)(g,r),b=!_.done;return i.createElement("div",{className:"workspace_changes_dialog workspace_changes scrivito_modal_large scrivito_show"},i.createElement(ky,{objsCount:_.objs.length,hasMore:b,isTransferMode:s,objsToTransferCount:u.length,orderBy:h,setOrderBy:m}),i.createElement("div",{className:"scrivito_modal_body"},i.createElement(yy,{objs:_.objs,isLoading:b&&_.objs.length<r,hasMore:b,loadMore:function(){return o(r+100)},isTransferMode:s,isMarkedForTransfer:y,toggleMarkedForTransfer:function(e){d(y(e)?u.filter((function(t){return t.id()!==e.id()})):Vy(Vy([],u,!0),[e],!1))},closeDialog:w})),i.createElement("div",{className:"scrivito_modal_footer"},s&&i.createElement(Uy,{objsToTransferCount:u.length,transferChanges:Yp((function(){return(e=u,(0,Cr.S)((0,D.zD)((function(){return{workspaces:cn.selected.otherWritable(),workflows:Xt()}}))).then((function(e){var t=e.workspaces,n=e.workflows;return Cb({title:(0,f.translate)("interactions.transfer_changes.dialog.title"),description:(0,f.translate)("interactions.transfer_changes.dialog.description"),workspaces:t,workflows:n}).then((function(e){if(!e.dialogCancelled)return e.value}))})).then((function(t){return t?function(e){return(0,D.zD)((function(){return cn.selected.workflowId()!==e.workflowId()})).then((function(e){if(e)return t=(0,f.translate)("interactions.transfer_changes.workflow_changed"),(0,Wr.a)(t,{color:"yellow",icon:"information"});var t}))}(t).then((function(){return Fb(e,t.id).then((function(e){return{transferCancelled:!1,errors:e}}))})):{transferCancelled:!0}}))).then((function(e){if(!e.transferCancelled){var t=e.errors.map((function(e){return e.objId})),n=u.filter((function(e){return t.includes(e.id())}));d(n)}}));var e})),disableTransferMode:function(){c(!1),d([])}})||i.createElement(By,{anyChangePresent:_.objs.length>0,enableTransferMode:function(){return c(!0)},closeDialog:w})));function y(e){return!!u.find((function(t){return t.id()===e.id()}))}function w(){va(),e.dialogDone()}})),Gy=!1;function Yy(){return ab({workspaceId:"published"})}var Qy,Xy,Jy,ew=!1;function tw(){var e;ew?nw():(0,t.sH)((e=(0,on.tV)(),(0,j.PD)(e).then((function(){return(0,j.x0)(e)})).catch((function(e){e instanceof h.YV&&(Gy||(0,Wr.a)((0,f.translate)("handle_missing_current_workspace.working_copy_not_found"),{icon:"information",color:"grey"}).then((function(){return ab({workspaceId:"published"})})))}))),nw)}function nw(){window.setTimeout(tw,2e3)}function rw(e,t){for(var n=BigInt(1),r=0;r<t;r++)n*=e;return n}var iw=function(){return iw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},iw.apply(this,arguments)};function ow(){(0,o.G)((function(e){return i.createElement(aw,iw({},e))}))}var aw=(0,a.Z)((function(e){return i.createElement("div",{className:"scrivito_details_dialog scrivito_modal_small scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("h3",null,i.createElement("i",{className:"scrivito_icon scrivito_icon_settings"}),"Scrivito UI Feature Manager")),i.createElement("div",{className:"scrivito_modal_body"},i.createElement("div",{className:"scrivito_detail_content"},i.createElement("div",{className:"scrivito_notice scrivito_blue"},i.createElement("div",{className:"scrivito_notice_body"},"BIG FAT WARNING: This is an EXPERIMENTAL tool for INTERNAL usage!")),i.createElement("div",{className:"scrivito_notice_body"},i.createElement("ul",null,i.createElement("li",null,"Checking enables a feature"),i.createElement("li",null,"Changes are applied immediately and persisted in your browser"))),i.createElement("div",{className:"item_content"},i.createElement("ul",{className:"enum_attribute"},ge().map((function(e){return i.createElement("li",{key:e,className:t(e),onClick:function(t){return function(e,t){e.preventDefault(),e.stopPropagation(),J(t)?function(e){var t=Q([],ee(),!0),n=t.indexOf(e);-1!==n&&(t.splice(n,1),X.set(t))}(t):function(e){var t=Q([],ee(),!0);-1===t.indexOf(e)&&(t.push(e),X.set(t))}(t)}(t,e)}},e)})))))),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_cancel",onClick:function(){e.cancelDialog()}},(0,f.translate)("done"))));function t(e){if(J(e))return"enum_attribute_active"}}));var sw="recentlyVisitedHomepages";function cw(){var e=Re(sw,(0,Y.GH)()).filter(uw);return Me(e,10)}function lw(e){Le(sw,e,(0,Y.GH)())}function uw(e){try{return""!==new URL(e).host}catch(e){return!1}}var dw=function(){return dw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dw.apply(this,arguments)};function fw(){(0,o.G)((function(e){return i.createElement(pw,dw({},e))}))}var pw=(0,a.Z)((function(e){i.useEffect((function(){return e.disableEscapeHotkey()}),[]);var t=cw();return i.createElement(s.E,{className:"cloud-ui-welcome scrivito_modal_plain svt-design scrivito_show"},i.createElement("div",{className:"svt-bg"},i.createElement("header",null,i.createElement("a",{href:"https://www.scrivito.com/",target:"_blank",rel:"noopener",className:"svt-logo"},"Scrivito"),i.createElement("a",{href:"https://www.scrivito.com/",target:"_blank",rel:"noopener",className:"svt-btn-outline-blue"},(0,f.translate)("welcome_ui_dialog.what_is_scrivito"))),i.createElement("main",null,i.createElement("div",{className:"container-fluid"},i.createElement("h1",{className:"h1 svt-text-blue"},(0,f.translate)("welcome_ui_dialog.title")),i.createElement("h2",{className:"h3 svt-text-darkblue"},(0,f.translate)("welcome_ui_dialog.which_website")),i.createElement("br",null),i.createElement("div",{className:"row"},i.createElement(hw,{website:t[0]})),i.createElement("div",{className:"row"},i.createElement(mw,{websites:t,key:JSON.stringify(t)}),i.createElement(vw,null)))),i.createElement("footer",null,i.createElement("p",{className:"svt-text-footer"},i.createElement("a",{href:"https://www.scrivito.com/",target:"_blank",rel:"noopener"},"Scrivito")," ",(0,f.translate)("welcome_ui_dialog.footer.proudly")," ",i.createElement("a",{href:"https://www.justrelate.com/",target:"_blank",rel:"noopener"},"JustRelate Group")," ",(0,f.translate)("welcome_ui_dialog.footer.city")," - ©"," ",(new Date).getFullYear()," –"," ",(0,f.translate)("welcome_ui_dialog.footer.copyright")))))})),hw=(0,a.Z)((function(e){var t=i.useRef(null);i.useEffect((function(){var e;return null===(e=t.current)||void 0===e?void 0:e.focus()}),[]);var n=e.website;return n?i.createElement("div",{className:"col-md-6 col-lg-5"},i.createElement("div",{className:"svt-box svt-border-blue scrivito-last-used-website"},i.createElement("h4",{className:"h4 svt-text-blue"},i.createElement("i",{className:"svt-icon svt-icon-login"}),(0,f.translate)("welcome_ui_dialog.last_used_website")),i.createElement("button",{className:"svt-btn-blue svt-btn-block",type:"button",onClick:function(e){return gw(e,n)},ref:t},_w(n),i.createElement("i",{className:"scrivito_icon scrivito_icon_svt_arrow"})))):null})),mw=(0,a.Z)((function(e){var t=i.useState(e.websites[1]),n=t[0],r=t[1];return e.websites.length<2?null:i.createElement("div",{className:"col-md-6 col-lg-5"},i.createElement("div",{className:"svt-box scrivito-previously-used-websites"},i.createElement("h4",{className:"h4 svt-text-blue"},i.createElement("i",{className:"svt-icon svt-icon-time"}),(0,f.translate)("welcome_ui_dialog.previously_used_websites")),i.createElement("form",{onSubmit:function(e){return gw(e,n)}},i.createElement("div",{className:"input-group"},i.createElement("select",{className:"custom-select",onChange:function(e){return r(e.target.value)},value:n},e.websites.map((function(e){return i.createElement("option",{value:e,key:e},_w(e))}))),i.createElement("div",{className:"input-group-append"},i.createElement("button",{className:"svt-btn-blue",type:"submit"},i.createElement("i",{className:"scrivito_icon scrivito_icon_svt_arrow"})))))))})),vw=(0,a.Z)((function(){var e=i.useState(""),t=e[0],n=e[1],r=i.useRef(null);return i.useEffect((function(){var e;0===cw().length&&(null===(e=r.current)||void 0===e||e.focus())}),[]),i.createElement("div",{className:"col-md-6 col-lg-5"},i.createElement("div",{className:"svt-box scrivito-enter-url"},i.createElement("h4",{className:"h4 svt-text-blue"},i.createElement("i",{className:"svt-icon svt-icon-write"}),(0,f.translate)("welcome_ui_dialog.enter_url")),i.createElement("form",{onSubmit:function(e){return gw(e,t)}},i.createElement("div",{className:"input-group"},i.createElement("input",{type:"text",className:"form-control",placeholder:(0,f.translate)("welcome_ui_dialog.enter_url_placeholder"),required:!0,onChange:function(e){return n(e.target.value)},ref:r}),i.createElement("div",{className:"input-group-append"},i.createElement("button",{className:"svt-btn-blue",type:"submit"},i.createElement("i",{className:"scrivito_icon scrivito_icon_svt_arrow"})))))))}));function gw(e,n){e.preventDefault(),e.stopPropagation(),(0,t.gB)(window.location.origin+"/"+n)}function _w(e){try{var t=new URL(e),n="/"===t.pathname?"":t.pathname;return""+t.host+n}catch(t){if(!(t instanceof TypeError))throw t;throw new TypeError(t.message+" - "+JSON.stringify(e))}}var bw=n(51079);function yw(){return fe("sidebarPageProperties")||!!(0,bw.L)("uiContext")}var ww=new G(Y.GH,"isSidebarOpen");function kw(e){ww.set(e)}function Ew(){return!0===ww.get()}var Cw=["fixed","flappy"],Sw=new G(Y.GH,"preferredUserSidebarMode");function xw(){var e=Sw.get();return function(e){return Cw.includes(e)}(e)?e:"fixed"}var Ow,Tw,jw=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dw=function(){function e(e){this.events=e.events,this.states=e.states,this.superStateEvents=e.superStateEvents,this.actions=e.actions,this.currentState=e.initialState}return e.prototype.triggerEvent=function(e){if(!(0,Xe.Z)(this.events,e))throw new Nw('Unknown event "'+e+'"');if(!this.currentState)throw new Nw("Invalid state detected. Maybe initial state was not set?");if(this.superStateEvents){var t=this.superStateEvents[e];if(t)return void this.executeRule(t,e)}var n=this.states[this.currentState];if(!n)throw new Nw('Missing rules for state "'+this.currentState+'"');var r=n[e];r&&this.executeRule(r,e)},e.prototype.getCurrentState=function(){return this.currentState},e.prototype.executeRule=function(e,t){var n=this,r=e.transitionTo,i=e.execute;if(!r)throw new Nw('Missing target state for source state "'+this.currentState+'" and event "'+t+'"');this.currentState=r,i&&i.forEach((function(e){var t=n.actions[e];if(!t)throw new Nw('Unknown action "'+e+'"');t()}))},e}(),Nw=function(e){function t(t){return e.call(this,t)||this}return jw(t,e),t}(t.AQ);function Pw(){if(!(0,on.f$)())return(0,f.translate)("sidebar.reason_for_history_being_disabled")}function Aw(){return gn()||("widgetLibrary"===(0,Cn.LO)()?(0,f.translate)("sidebar.reason_for_widgets_being_disabled"):void 0)}function Iw(){if(cn.selected.isPublished())return(0,f.translate)("sidebar.changes_list_button.disabled")}var Mw=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lw=(0,a.Z)(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mw(t,e),t.prototype.render=function(){return i.createElement("div",{className:"scrivito_browse_content scrivito_button_bar",title:(0,f.translate)("sidebar.browse_content_button.hint"),onClick:this.onClick,ref:function(e){return(0,j_.Mf)("contentBrowser",e)}},i.createElement("i",{className:"scrivito_icon scrivito_icon_content_browser"}))},t.prototype.onClick=function(e){e.preventDefault(),e.stopPropagation(),Av({selectionMode:"single",standAlone:!0})},t}(i.Component)),Rw=(0,a.Z)((function(e){var t=e.togglePanel,n=e.isActive,r=i.useRef(null);k_("sidebarChangesList",r.current);var o,a=Iw(),s=Bb().count(),c=!a&&s>0,l="scrivito_icon scrivito_icon_edited_outline "+(c?"scrivito_wobble scrivito_animated":"");return i.createElement("div",{ref:r,title:a||(n?(0,f.translate)("sidebar.changes_list_button.hint.active"):(0,f.translate)("sidebar.changes_list_button.hint")),className:(o="changes_list_button scrivito_button_bar",n&&(o+=" active"),a&&(o+=" scrivito_disabled"),o),onClick:function(){a||t()}},i.createElement("i",{className:l}),c&&i.createElement("span",{className:"amount scrivito_blue"},s))})),Fw=n(62100),Bw=n.n(Fw);function zw(){return new xe({id:"scrivito.sdk.logout",icon:["scrivito_icon_logout","className"],title:(0,f.translate)("commands.log_out.title"),execute:function(){throw new t.AQ("Should never be called")}})}var Ww=(0,a.Z)((function(){var e=zw();if(!e.isPresent())return null;var t=function(e){var t=(0,d.pR)(),n=(0,d.sQ)();if(t)return"https://"+n+"/tenants/"+t+"/logout"}();if(!t)return null;var n=i.useRef(null),r=(0,Fo.TD)(),o=e.icon();return i.createElement("li",{className:"scrivito_menu_item scrivito_logout_menu_item",onClick:function(e){e.stopPropagation(),e.preventDefault(),n.current&&n.current.submit()},title:e.menuItemTitle()},i.createElement("form",{className:"logout_user_form",method:"POST",action:t,ref:n},i.createElement("span",null,o&&i.createElement(Vo,{icon:o,disabled:!1}),e.title()),i.createElement("input",{type:"hidden",name:"return_to",value:r})))})),Uw=new G(Y.GH,"preferredUserSidebarWidth");function Hw(){return new xe({id:"scrivito.toggleSidebarMode",title:(0,f.translate)("commands.toggle_sidebar_mode."+(Zw()?"disable_fixed_mode":"enable_fixed_mode")),icon:[Zw()?"scrivito_icon_hide_sidebar":"scrivito_icon_show_sidebar","className"],execute:function(){return Sw.set("fixed"===xw()?"flappy":"fixed"),Uw.clear(),void(0,Fg.W)()}})}function Zw(){return"fixed"===xw()}var qw=(0,a.Z)((function(){var e=Hw();if(!e.isExecutable())return null;var t=e.icon();return i.createElement("li",{className:"scrivito_menu_item scrivito_toggle_sidebar_mode_menu_item",onClick:function(t){t.stopPropagation(),t.preventDefault(),e.execute()},title:e.menuItemTitle()},i.createElement("span",null,t&&i.createElement(Vo,{icon:t,disabled:!1}),e.title()))})),Vw=["en","de",null];function Kw(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,Promise,(function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:return(0,d.Af)()?[2]:[4,(0,D.zD)((function(){return(0,Ic.S)("getForcedEditorLanguage")}))];case 1:return e.sent()?((0,D.DU)((function(){return En.X.getForcedEditorLanguage()})).subscribe((function(e){Gw(e)&&e!==$w()&&(function(e){(0,Y.Kt)().set("forcedEditorLanguage",e)}(e),(0,Fg.W)())})),[2]):[2]}}))}))}function $w(){if((0,d.Af)())return null;var e=(0,Y.Kt)().get("forcedEditorLanguage");return Gw(e)?e:null}function Gw(e){return Vw.includes(e)}var Yw=new G(Y.GH,"preferredUserLanguage");function Qw(){return new xe({id:"scrivito.toggleUserLanguage",title:(0,f.translate)("commands.toggle_user_language.title"),icon:["scrivito_icon_comments","className"],present:function(){return null===$w()},execute:function(){var e;e="en"===(0,f.getLocale)()?"de":"en",Yw.set(e),(0,Fg.W)()}})}var Xw,Jw,ek=(0,a.Z)((function(){var e=Qw();if(!e.isExecutable())return null;var t=e.icon();return i.createElement("li",{className:"scrivito_menu_item scrivito_toggle_user_language_menu_item",onClick:function(t){t.stopPropagation(),t.preventDefault(),e.execute()},title:e.menuItemTitle()},i.createElement("span",null,t&&i.createElement(Vo,{icon:t,disabled:!1}),e.title()))})),tk=(0,a.Z)((function(){var e=i.useState(!1),t=e[0],n=e[1],r=i.useState(null),o=r[0],a=r[1];k_("preferredUserSidebarMode",o);var s,c=Wt.current,l=Bw()(c.description),u="profile-initials initials-size-"+l.length,d=(0,f.translate)("sidebar.current_user.logged_in_as",{userDescription:Yb(c.id)});return i.createElement(i.Fragment,null,t&&i.createElement("div",{className:"scrivito_menu_box_overlay",onClick:p}),i.createElement("div",{className:(s="current_user_button scrivito_button_bar scrivito_bottom_fixed ",t&&(s+="active"),s),title:d,onClick:p,ref:a},i.createElement("span",{className:u},i.createElement("span",null,l)),t&&i.createElement(nk,{description:c.description})));function p(e){e.stopPropagation(),e.preventDefault(),n((function(e){return!e}))}})),nk=(0,a.Z)((function(e){var t=e.description;return i.createElement("ul",{className:"current_user_menu scrivito_menu_box scrivito_bottomleft active"},i.createElement("li",{className:"scrivito_menu_separator"},i.createElement("span",null,(0,f.translate)("sidebar.current_user_menu.signed_is_as"))),i.createElement("li",{className:"scrivito_menu_separator"},i.createElement("span",{className:"scrivito_headline"},t)),i.createElement(ek,null),i.createElement(qw,null),i.createElement(Ww,null))})),rk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ik=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return rk(t,e),t.prototype.render=function(){var e=(0,f.translate)("sidebar.hide_controls_button.hint");return i.createElement("div",{className:"scrivito_hide_controls scrivito_button_bar scrivito_bottom_fixed",title:e,onClick:this.onClick},i.createElement("i",{className:"scrivito_icon scrivito_icon_hide_ui"}))},t.prototype.onClick=function(e){e.preventDefault(),e.stopPropagation(),this.props.hideMenubar()},t}(i.Component),ok=(Xw={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},function(e){return null==Xw?void 0:Xw[e]}),ak=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sk=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),ck=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lk=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,uk="a-z\\xdf-\\xf6\\xf8-\\xff",dk="A-Z\\xc0-\\xd6\\xd8-\\xde",fk="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pk="["+fk+"]",hk="\\d+",mk="["+uk+"]",vk="[^\\ud800-\\udfff"+fk+hk+"\\u2700-\\u27bf"+uk+dk+"]",gk="(?:\\ud83c[\\udde6-\\uddff]){2}",_k="[\\ud800-\\udbff][\\udc00-\\udfff]",bk="["+dk+"]",yk="(?:"+mk+"|"+vk+")",wk="(?:"+bk+"|"+vk+")",kk="(?:['’](?:d|ll|m|re|s|t|ve))?",Ek="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ck="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Sk="[\\ufe0e\\ufe0f]?",xk=Sk+Ck+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",gk,_k].join("|")+")"+Sk+Ck+")*",Ok="(?:"+["[\\u2700-\\u27bf]",gk,_k].join("|")+")"+xk,Tk=RegExp([bk+"?"+mk+"+"+kk+"(?="+[pk,bk,"$"].join("|")+")",wk+"+"+Ek+"(?="+[pk,bk+yk,"$"].join("|")+")",bk+"?"+yk+"+"+kk,bk+"+"+Ek,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hk,Ok].join("|"),"g"),jk=function(e,t,n){return e=(0,Df.Z)(e),void 0===(t=n?void 0:t)?function(e){return lk.test(e)}(e)?function(e){return e.match(Tk)||[]}(e):function(e){return e.match(ck)||[]}(e):e.match(t)||[]},Dk=RegExp("['’]","g"),Nk=(Jw=function(e,t,n){return e+(n?"_":"")+t.toLowerCase()},function(e){return function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}(jk(function(e){return(e=(0,Df.Z)(e))&&e.replace(ak,ok).replace(sk,"")}(e).replace(Dk,"")),Jw,"")}),Pk=(0,a.Z)((function(e){return i.createElement("div",{className:(t="scrivito_"+e.name+"_button scrivito_button_bar",e.isActive&&(t+=" active"),e.reasonForBeingDisabled&&(t+=" scrivito_disabled"),t),title:function(){if(e.reasonForBeingDisabled)return e.reasonForBeingDisabled;var t="sidebar."+Nk(e.name)+"_button.hint";return e.isActive?(0,f.translate)(t+".active"):(0,f.translate)(t)}(),ref:function(t){e.tourReference&&(0,j_.Mf)(e.tourReference,t)},onClick:function(){e.reasonForBeingDisabled||e.togglePanel()}},i.createElement("i",{className:e.getIconClassName()}));var t}));function Ak(e){var t=e.isActive,n=e.togglePanel;return i.createElement(Pk,{name:"hierarchy",getIconClassName:function(){return"scrivito_icon scrivito_icon_tree"},isActive:t,togglePanel:n,tourReference:"hierarchy"})}function Ik(e){var t=e.isActive,n=e.togglePanel;return i.createElement(Pk,{name:"history",getIconClassName:function(){return"scrivito_icon scrivito_icon_history"},reasonForBeingDisabled:Pw(),isActive:t,togglePanel:n})}var Mk,Lk,Rk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rk(t,e),t.prototype.render=function(){return i.createElement("div",{className:this.buttonClassName(),title:this.buttonHint(),onClick:this.props.togglePanel},i.createElement(Bk,null),i.createElement(zk,null))},t.prototype.buttonClassName=function(){var e="scrivito_notifications_button scrivito_button_bar";return this.props.isActive&&(e+=" active"),e},t.prototype.buttonHint=function(){return this.props.isActive?(0,f.translate)("sidebar.notifications_button.hint.active"):(0,f.translate)("sidebar.notifications_button.hint")},t}(i.Component),Bk=(0,a.Z)((Mk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rk(t,e),t.prototype.render=function(){return i.createElement("i",{className:this.className(ua())})},t.prototype.className=function(e){var t="scrivito_icon scrivito_icon_pot_error";return e&&ey(e)&&(t+=" scrivito_wobble scrivito_animated"),t},t}(i.Component),Mk.displayName="Sidebar.NotificationsButton.Icon",Mk)),zk=(0,a.Z)((Lk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rk(t,e),t.prototype.render=function(){var e=ua();if(!e)return null;var t=ny(e),n=iy(e),r=ny(e)+n,o=r>0?r:oy(e);return 0===o?null:i.createElement("span",{className:"amount scrivito_"+this.color(t,n)},o)},t.prototype.color=function(e,t){return e>0?"red":t>0?"orange":"blue"},t}(i.Component),Lk.displayName="Sidebar.NotificationsButton.Counter",Lk)),Wk=(0,a.Z)((function(e){var t=e.isActive,n=e.togglePanel;return Uk()?i.createElement(Pk,{name:"pageProperties",getIconClassName:function(){return"scrivito_icon scrivito_icon_settings"},isActive:t,togglePanel:n}):null}));function Uk(){return!!ua()&&yw()}var Hk=n(33146),Zk=(0,a.Z)((function(e){var t=e.previewSize;return(null==t?void 0:t.icon)?i.createElement("img",{src:t.icon,className:"scrivito_icon"}):i.createElement("i",{className:function(){var e,n=null==t?void 0:t.width,r=null===(e=(0,Hk.B)().find((function(e){var t=e.width;return t&&n&&n<=t})))||void 0===e?void 0:e.width;return r?"scrivito_icon scrivito_icon_"+r+"_preview_size":"scrivito_icon scrivito_icon_default_preview_size"}()})})),qk=n(16748),Vk=(0,a.Z)((function(e){var t=e.isActive,n=e.togglePanel,r="scrivito_preview_sizes_button scrivito_button_bar";t&&(r+=" active");var o=t?(0,f.translate)("sidebar.preview_sizes_button.hint.active"):(0,f.translate)("sidebar.preview_sizes_button.hint");return i.createElement("div",{className:r,title:o,onClick:n},i.createElement(Zk,{previewSize:(0,qk.id)()}))}));function Kk(e){var t=e.isActive,n=e.togglePanel;return i.createElement(Pk,{name:"search",getIconClassName:function(){return"scrivito_icon scrivito_icon_search"},isActive:t,togglePanel:n})}var $k=(0,a.Z)((function(e){var t=e.togglePanel,n=e.isActive,r=i.useRef(null);return k_("sitesPanel",r.current),Gk()?i.createElement("div",{ref:r},i.createElement(Pk,{name:"sites",getIconClassName:function(){return"scrivito_icon scrivito_icon_globe"},isActive:n,togglePanel:t})):null}));function Gk(){return Mc()||A(cn.selected,{_path:"/",_siteId:"scrivitoTestSiteId"})}var Yk=(0,a.Z)((function(e){var t=e.togglePanel,n=e.isActive;return Qk()?i.createElement(Pk,{name:"translations",getIconClassName:function(){return"scrivito_icon scrivito_icon_translations"},isActive:n,togglePanel:t}):null}));function Qk(){return function(){var e;if(!fe("translations"))return!1;var t=null===(e=ua())||void 0===e?void 0:e.siteId();if(!t)return!1;var n=(0,Er.NP)(t);return!!n&&(0,on.s1)(n).length>1}()}var Xk=(0,a.Z)((function(e){var t=e.isActive,n=e.togglePanel;return i.createElement(Pk,{getIconClassName:function(){return"scrivito_icon scrivito_icon_widget"},isActive:t,name:"widgetLibrary",reasonForBeingDisabled:Aw(),togglePanel:n})}));function Jk(e){return function(e){return e.isInReviewStage()&&!e.isAssigned()}(e)?"submitted":function(e){return e.isInReviewStage()&&e.isAssigned()}(e)?"in_review":function(e){return!e.isInReviewStage()&&e.isAssigned()}(e)?"was_in_review":"normal"}function eE(e,t){return t.filter((function(t){return Jk(t)===e}))}function tE(e){return cn.readable().filter((function(t){return!t.isOwnedBy(e)&&(t.isInReviewStage()||t.isAssigned())}))}var nE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rE=(0,a.Z)(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nE(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{className:this.className(),title:this.hint(),ref:function(e){return(0,j_.Mf)("workspaces",e)},onClick:function(){return e.props.togglePanel()}},i.createElement("i",{className:"scrivito_icon scrivito_icon_ws"}),i.createElement(iE,null))},t.prototype.className=function(){var e="scrivito_workspaces_button scrivito_button_bar";return this.props.isActive&&(e+=" active"),e},t.prototype.hint=function(){var e=Ct(),t=e&&oE(e);return t?1===t?(0,f.translate)("sidebar.workspaces_button.hint.submitted_workspaces.one"):t>1?(0,f.translate)("sidebar.workspaces_button.hint.submitted_workspaces.many",t):void 0:this.props.isActive?(0,f.translate)("sidebar.workspaces_button.hint.active"):(0,f.translate)("sidebar.workspaces_button.hint")},t}(i.Component)),iE=(0,a.Z)((function(){var e=Ct();if(!e)return null;var t=oE(e);return 0===t?null:i.createElement("span",{className:"amount scrivito_grey"},t)}));function oE(e){return eE("submitted",tE(e)).length}var aE=(0,a.Z)((function(e){var t=e.activePanel,n=e.togglePanel,r=e.hideMenubar,o=i.useState(!1),a=o[0],s=o[1];return i.useEffect((function(){Promise.all([(0,D.zD)(Gk),(0,D.zD)(Qk),(0,D.zD)(Uk)]).then((function(){return s(!0)}))}),[]),i.createElement("div",{className:"scrivito_first_level"},i.createElement("div",{className:a?"":"hidden"},i.createElement(Kk,{key:"searchButton",isActive:"search"===t,togglePanel:function(){return n("search")}}),i.createElement($k,{key:"sitesButton",isActive:"sites"===t,togglePanel:function(){return n("sites")}}),i.createElement(Ak,{key:"hierarchyButton",isActive:"hierarchy"===t,togglePanel:function(){return n("hierarchy")}}),i.createElement(Lw,null),i.createElement("div",{className:"scrivito_separator_bar"}),i.createElement(Xk,{isActive:"widgetLibrary"===t,togglePanel:function(){return n("widgetLibrary")}}),i.createElement(Yk,{isActive:"translations"===t,togglePanel:function(){return n("translations")}}),i.createElement(Wk,{isActive:"pageProperties"===t,togglePanel:function(){return n("pageProperties")}}),i.createElement(Fk,{isActive:"notifications"===t,togglePanel:function(){return n("notifications")}}),i.createElement("div",{className:"scrivito_separator_bar"}),i.createElement(rE,{isActive:"workspaces"===t,togglePanel:function(){return n("workspaces")}}),i.createElement(Rw,{isActive:"changesList"===t,togglePanel:function(){return n("changesList")}}),i.createElement(Ik,{isActive:"history"===t,togglePanel:function(){return n("history")}}),i.createElement("div",{className:"scrivito_separator_bar"}),i.createElement(Vk,{isActive:"previewSizes"===t,togglePanel:function(){return n("previewSizes")}}),i.createElement(tk,null),i.createElement(ik,{hideMenubar:r})))})),sE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cE=function(){return cE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cE.apply(this,arguments)},lE={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},uE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return sE(t,e),t.prototype.render=function(){return i.createElement("div",{className:this.props.className||"",style:cE(cE({position:"absolute",userSelect:"none"},lE[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(i.PureComponent),dE=n(89518),fE=n.n(dE),pE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hE=function(){return hE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hE.apply(this,arguments)},mE={width:"auto",height:"auto"},vE=fE()((function(e,t,n){return Math.max(Math.min(e,n),t)})),gE=fE()((function(e,t){return Math.round(e/t)*t})),_E=fE()((function(e,t){return new RegExp(e,"i").test(t)})),bE=function(e){return Boolean(e.touches&&e.touches.length)},yE=fE()((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n}),0),i=Math.abs(t[r]-e);return 0===n||i<n?t[r]:e})),wE=fE()((function(e,t){return e.substr(e.length-t.length,t.length)===t})),kE=fE()((function(e){return"auto"===(e=e.toString())||wE(e,"px")||wE(e,"%")||wE(e,"vh")||wE(e,"vw")||wE(e,"vmax")||wE(e,"vmin")?e:e+"px"})),EE=function(e,t,n,r){if(e&&"string"==typeof e){if(wE(e,"px"))return Number(e.replace("px",""));if(wE(e,"%"))return t*(Number(e.replace("%",""))/100);if(wE(e,"vw"))return n*(Number(e.replace("vw",""))/100);if(wE(e,"vh"))return r*(Number(e.replace("vh",""))/100)}return e},CE=fE()((function(e,t,n,r,i,o,a){return r=EE(r,e.width,t,n),i=EE(i,e.height,t,n),o=EE(o,e.width,t,n),a=EE(a,e.height,t,n),{maxWidth:void 0===r?void 0:Number(r),maxHeight:void 0===i?void 0:Number(i),minWidth:void 0===o?void 0:Number(o),minHeight:void 0===a?void 0:Number(a)}})),SE=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],xE="__resizable_base__",OE=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableRight=0,n.resizableTop=0,n.resizableBottom=0,n.targetLeft=0,n.targetTop=0,n.appendBase=function(){if(!n.resizable||!n.window)return null;var e=n.parentNode;if(!e)return null;var t=n.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",t.classList?t.classList.add(xE):t.className+=xE,e.appendChild(t),t},n.removeBase=function(e){var t=n.parentNode;t&&t.removeChild(e)},n.ref=function(e){e&&(n.resizable=e)},n.state={isResizing:!1,width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return pE(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||mE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&wE(e.propsSize[t].toString(),"%")){if(wE(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return kE(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?kE(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?kE(t.height):n("height")}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%";var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){var n,r,i=this.props.boundsByDirection,o=this.state.direction,a=i&&_E("left",o),s=i&&_E("top",o);if("parent"===this.props.bounds){var c=this.parentNode;c&&(n=a?this.resizableRight-this.parentLeft:c.offsetWidth+(this.parentLeft-this.resizableLeft),r=s?this.resizableBottom-this.parentTop:c.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,r=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(e=e&&e<n?e:n),r&&Number.isFinite(r)&&(t=t&&t<r?t:r),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,i=this.state,o=i.direction,a=i.original,s=this.props,c=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,u=s.lockAspectRatioExtraWidth,d=a.width,f=a.height,p=l||0,h=u||0;return _E("right",o)&&(d=a.width+(e-a.x)*r/n,c&&(f=(d-h)/this.ratio+p)),_E("left",o)&&(d=a.width-(e-a.x)*r/n,c&&(f=(d-h)/this.ratio+p)),_E("bottom",o)&&(f=a.height+(t-a.y)*r/n,c&&(d=(f-p)*this.ratio+h)),_E("top",o)&&(f=a.height-(t-a.y)*r/n,c&&(d=(f-p)*this.ratio+h)),{newWidth:d,newHeight:f}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,o=i.lockAspectRatio,a=i.lockAspectRatioExtraHeight,s=i.lockAspectRatioExtraWidth,c=void 0===r.width?10:r.width,l=void 0===n.width||n.width<0?e:n.width,u=void 0===r.height?10:r.height,d=void 0===n.height||n.height<0?t:n.height,f=a||0,p=s||0;if(o){var h=(u-f)*this.ratio+p,m=(d-f)*this.ratio+p,v=(c-p)/this.ratio+f,g=(l-p)/this.ratio+f,_=Math.max(c,h),b=Math.min(l,m),y=Math.max(u,v),w=Math.min(d,g);e=vE(e,_,b),t=vE(t,y,w)}else e=vE(e,c,l),t=vE(t,u,d);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),i=r.left,o=r.top,a=r.right,s=r.bottom;this.resizableLeft=i,this.resizableRight=a,this.resizableTop=o,this.resizableBottom=s}},t.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,r=0,i=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(r=e.nativeEvent.clientX,i=e.nativeEvent.clientY):e.nativeEvent&&bE(e.nativeEvent)&&(r=e.nativeEvent.touches[0].clientX,i=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var o=this.window.getComputedStyle(this.resizable);if("auto"!==o.flexBasis){var a=this.parentNode;if(a){var s=this.window.getComputedStyle(a).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",n=o.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var c={original:{x:r,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:hE(hE({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(c)}},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&bE(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var t=this.props,n=t.maxWidth,r=t.maxHeight,i=t.minWidth,o=t.minHeight,a=bE(e)?e.touches[0].clientX:e.clientX,s=bE(e)?e.touches[0].clientY:e.clientY,c=this.state,l=c.direction,u=c.original,d=c.width,f=c.height,p=this.getParentSize(),h=CE(p,this.window.innerWidth,this.window.innerHeight,n,r,i,o);n=h.maxWidth,r=h.maxHeight,i=h.minWidth,o=h.minHeight;var m=this.calculateNewSizeFromDirection(a,s),v=m.newHeight,g=m.newWidth,_=this.calculateNewMaxFromBoundary(n,r),b=this.calculateNewSizeFromAspectRatio(g,v,{width:_.maxWidth,height:_.maxHeight},{width:i,height:o});if(g=b.newWidth,v=b.newHeight,this.props.grid){var y=gE(g,this.props.grid[0]),w=gE(v,this.props.grid[1]),k=this.props.snapGap||0;g=0===k||Math.abs(y-g)<=k?y:g,v=0===k||Math.abs(w-v)<=k?w:v}this.props.snap&&this.props.snap.x&&(g=yE(g,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(v=yE(v,this.props.snap.y,this.props.snapGap));var E={width:g-u.width,height:v-u.height};d&&"string"==typeof d&&(wE(d,"%")?g=g/p.width*100+"%":wE(d,"vw")?g=g/this.window.innerWidth*100+"vw":wE(d,"vh")&&(g=g/this.window.innerHeight*100+"vh")),f&&"string"==typeof f&&(wE(f,"%")?v=v/p.height*100+"%":wE(f,"vw")?v=v/this.window.innerWidth*100+"vw":wE(f,"vh")&&(v=v/this.window.innerHeight*100+"vh"));var C={width:this.createSizeForCssProperty(g,"width"),height:this.createSizeForCssProperty(v,"height")};"row"===this.flexDir?C.flexBasis=C.width:"column"===this.flexDir&&(C.flexBasis=C.height),this.setState(C),this.props.onResize&&this.props.onResize(e,l,this.resizable,E)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,i=t.original;if(n&&this.resizable){var o={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,o),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:hE(hE({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,o=t.handleClasses,a=t.handleWrapperStyle,s=t.handleWrapperClass,c=t.handleComponent;if(!n)return null;var l=Object.keys(n).map((function(t){return!1!==n[t]?i.createElement(uE,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:o&&o[t]},c&&c[t]?c[t]:null):null}));return i.createElement("div",{className:s,style:a},l)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==SE.indexOf(n)||(t[n]=e.props[n]),t}),{}),n=hE(hE(hE({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var r=this.props.as||"div";return i.createElement(r,hE({ref:this.ref,style:n,className:this.props.className},t),this.state.isResizing&&i.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(i.PureComponent);function TE(e){var t=void 0===e?{}:e,n=t.title,r=t.tooltip;return new xe({id:"scrivito.openWorkspaceChanges",title:n||(0,f.translate)("commands.open_workspace_changes.title"),tooltip:r||(0,f.translate)("commands.open_workspace_changes.tooltip"),execute:Ky})}var jE=(0,a.Z)((function(e){var t=e.command,n=e.closeMenu;if(!t.isPresent())return null;var r=t.icon(),o=!t.isExecutable(),a=["scrivito_list_menu_item",t.domId()];o&&a.push("scrivito_disabled");var s=o?t.reasonForBeingDisabled()||void 0:t.title();return i.createElement("span",{className:a.join(" "),title:s,onClick:function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(r){switch(r.label){case 0:return e.stopPropagation(),[4,(0,D.zD)((function(){return t.isExecutable()}))];case 1:return r.sent()?(t.execute(),n(),[2]):[2]}}))}))}},r&&i.createElement(Vo,{icon:r,disabled:o}),i.createElement("span",null,t.title(),t.isFeatureAdded()&&i.createElement(i.Fragment,null," ",i.createElement("span",{className:"scrivito_badge_new"},(0,f.translate)("new")))))})),DE=(0,a.Z)((function(e){var t=e.commandsAndSeparators,n=e.isMenuOpen,r=e.openMenu,o=e.closeMenu;return i.createElement(i.Fragment,null,i.createElement("span",{className:"scrivito_list_action",onClick:function(e){e.stopPropagation(),r()}},i.createElement("span",{className:"menu_icon"},i.createElement("span",{className:"menu_icon_dot"}))),n&&i.createElement(i.Fragment,null,i.createElement(PE,{closeMenu:o}),i.createElement(NE,{commandsAndSeparators:t,closeMenu:o})))})),NE=(0,a.Z)((function(e){var t=e.commandsAndSeparators,n=e.closeMenu;return i.createElement("span",{className:"scrivito_list_menu"},t.map((function(e){return e instanceof xe?i.createElement(jE,{key:e.id(),command:e,closeMenu:n}):i.createElement("span",{key:e.id(),className:"scrivito_list_menu_item separator"})})))}));function PE(e){var t=e.closeMenu;return i.createElement("span",{className:"scrivito_menu_box_overlay inline_menu",onClick:function(e){e.stopPropagation(),t()}})}function AE(e){var t=(0,on.hA)((0,on.GD)()),n=(0,Ls.l)();return n&&(t=t.and((0,on.L8)(n))),IE(t,e)}function IE(e,t){var n=e.search().and("blob","equals",null);return t.split(/\s+/).filter((function(e){return e})).reduce((function(e,t){return e.and("*","containsPrefix",t)}),n)}var ME=(0,a.Z)((function(e){var t=e.className,n=i.useState({attribute:"_lastChanged",direction:"desc"}),r=n[0],o=n[1],a=i.useState(30),s=a[0],c=a[1],l=i.useState(""),u=l[0],d=l[1],p=function(e){var t=Bb();return e.length?t.and(AE(e)):t}(u),h=p.order(r.attribute,r.direction).iterator(),m=(0,D.cw)(h,s),v=m.done,g=m.objs;if(!g.length&&!u&&v)return i.createElement("div",{className:t},i.createElement("div",{className:"scrivito_no_changes_box scrivito_property_padding"},i.createElement("div",{className:"scrivito_list_big"},i.createElement("div",{className:"scrivito_notice scrivito_grey"},i.createElement("div",{className:"scrivito_notice_body"},(0,f.translate)("sidebar.changes_panel.no_changes"))))));var _=p.count();return i.createElement("div",{className:t},i.createElement(Ub,{isLoading:!v&&g.length<s,hasMore:!v&&!ZE({visibleChangesCount:s,overallChangesCount:_}),loadMore:function(){c((function(e){return Math.min(e+30,300)}))}},i.createElement(zE,{overallChangesCount:_}),i.createElement(WE,null),i.createElement(UE,{searchTerm:u,setSearchTerm:d}),i.createElement(BE,{onOrderChange:function(e){e.stopPropagation();var t=e.target.value;o({attribute:t,direction:"_objClass"===t?"asc":"desc"})}}),u&&!g.length&&v?i.createElement(HE,null):i.createElement(i.Fragment,null,i.createElement(FE,{objs:g,searchTerm:u}),i.createElement(LE,{visibleChangesCount:s,overallChangesCount:_}))))})),LE=(0,a.Z)((function(e){var t=e.visibleChangesCount,n=e.overallChangesCount;return ZE({visibleChangesCount:t,overallChangesCount:n})?i.createElement("div",{className:"show_all_changes"},i.createElement("div",{className:"scrivito_description"},(0,f.translate)("sidebar.changes_list_panel.show_all_changes.info",{visibleChangesCount:t,overallChangesCount:n})),i.createElement("div",{className:"scrivito_property_padding"},i.createElement("div",{className:"scrivito_list_flex_buttons"},i.createElement("div",{className:"scrivito_list_flex_button",onClick:function(e){e.stopPropagation(),Ky()}},(0,f.translate)("sidebar.changes_list_panel.show_all_changes.button_title"))))):null})),RE=(0,a.Z)((function(e){var t=e.modifiedObj,n=e.searchTerm,r=i.useState(!1),o=r[0],a=r[1],s=cn.selected,c=t.id(),l=t.modification(),u=t.lastChanged(),d=(0,xn.VA)(t),p=(0,qs.a)(t);return l?i.createElement("div",{className:function(){var e,n="change_item scrivito_list_item";return o&&(n+=" show_menu"),ty(t)?n+" scrivito_red_border":ry(t)?n+" scrivito_orange_border":(null===(e=ua())||void 0===e?void 0:e.id())===t.id()?n+" active":n}(),title:Xb(t,s)||(0,f.translate)("obj.tooltip.is_"+l),onClick:function(e){e.stopPropagation(),dy(t)}},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon scrivito_"+l},t.isEditingAsset()?"":"")),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},n?m(d):d),i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content"},n?m(h()):h()),i.createElement(Kb,{date:u,className:"scrivito_list_meta_content"})),p&&i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content"},i.createElement("span",{className:"scrivito_badge"},p)))),s.currentUserCan("write")?i.createElement(DE,{isMenuOpen:o,openMenu:function(){return a(!0)},closeMenu:function(){return a(!1)},commandsAndSeparators:[Zb(c),qb(c),Hb(c),Zv(c)]}):i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon scrivito_icon_no_edit"}))):null;function h(){return t.isEditingAsset()?(0,f.translate)("sidebar.changes_list_panel.widget_template"):t.objClass()}function m(e){var t=n.split(" ");return i.createElement(Te(),{searchWords:t,textToHighlight:e})}})),FE=(0,a.Z)((function(e){var t=e.objs,n=e.searchTerm;return i.createElement("div",{className:"scrivito_property_padding"},i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:"scrivito_list_flex_section state_normal"},t.map((function(e){return i.createElement(RE,{key:e.id(),modifiedObj:e,searchTerm:n})})))))})),BE=(0,a.Z)((function(e){var t=e.onOrderChange;return i.createElement("div",{className:"scrivito_sidebar_separator scrivito_transparent"},i.createElement("div",{className:"scrivito_sidebar_select changes_order_select"},i.createElement("select",{onChange:t},i.createElement("option",{disabled:!0},(0,f.translate)("sidebar.changes_list_panel.order_type.title")),i.createElement("option",{value:"_lastChanged"},(0,f.translate)("sidebar.changes_list_panel.order_type.last_changed")),i.createElement("option",{value:"_objClass"},(0,f.translate)("sidebar.changes_list_panel.order_type.obj_class")),i.createElement("option",{value:"_modification"},(0,f.translate)("sidebar.changes_list_panel.order_type.modification")))))})),zE=(0,a.Z)((function(e){var t=e.overallChangesCount;return i.createElement("div",{className:"scrivito_general_workspaces_group"},i.createElement("div",{className:"scrivito_sidebar_separator"},i.createElement("span",null,(0,f.translate)("sidebar.changes_list_panel.title",t))))})),WE=(0,a.Z)((function(){return i.createElement("ul",{className:"scrivito_sidebar_action"},i.createElement(Fy,{tag:"li",command:TE({title:(0,f.translate)("sidebar.changes_list_panel.publish.title"),tooltip:(0,f.translate)("sidebar.changes_list_panel.publish.tooltip")}),className:"scrivito_sidebar_action_item scrivito_publish_button",iconClassName:"scrivito_icon_publish"}),i.createElement(Fy,{tag:"li",command:new xe({id:"scrivito.openTransferChangesDialog",title:(0,f.translate)("commands.open_transfer_changes_dialog.title"),tooltip:(0,f.translate)("commands.open_transfer_changes_dialog.tooltip"),execute:function(){return Ky({isTransferMode:!0})}}),className:"scrivito_sidebar_action_item scrivito_transfer_changes",iconClassName:"scrivito_icon_transfer"}))})),UE=(0,a.Z)((function(e){var t=e.searchTerm,n=e.setSearchTerm;return i.createElement("div",{className:"scrivito_search_box"},i.createElement("form",{onSubmit:function(e){return e.preventDefault()}},i.createElement("div",{className:"search_input_group"},i.createElement("input",{value:t,placeholder:(0,f.translate)("sidebar.changes_list_panel.search_placeholder"),onChange:function(e){return n(e.target.value)}}),i.createElement("div",{className:"search_clear",onClick:function(){return n("")}}),i.createElement("div",{className:"search_input_group_btn"},i.createElement("button",{className:"button_search"},i.createElement("i",{className:"scrivito_icon scrivito_icon_search"}))))))})),HE=(0,a.Z)((function(){return i.createElement("div",{className:"scrivito_empty_state"},i.createElement("div",{className:"illustration no_results"}),i.createElement("span",null,(0,f.translate)("sidebar.changes_list_panel.search_no_results")))}));function ZE(e){var t=e.visibleChangesCount;return t<e.overallChangesCount&&t+30>300}function qE(e){return e.until?i.createElement(i.Fragment,null,e.children):null}function VE(e){return new xe({id:"scrivito.sdk.duplicate_obj",title:(0,f.translate)("commands.duplicate_obj.title"),icon:["scrivito_icon_duplicate","className"],disabled:function(){return Oc(on.Jj.get(e))},execute:function(){var t=on.Jj.get(e);return(0,Cr.S)(xc(t)).then((function(e){return Sn(e.id())}))}})}function KE(e){var t=e.objSpaceId,n=e.objId,r=e.title;return new xe({id:"scrivito.sdk.open_page_details",icon:["scrivito_icon_settings","className"],title:r||(0,f.translate)("commands.open_page_details.title"),execute:function(){return function(e,t){return Ig({objSpaceId:e,objId:t})}(t,n)}})}var $E=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},GE=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function YE(){return $E(this,void 0,void 0,(function(){return GE(this,(function(e){return[2,Zr({title:(0,f.translate)("commands.remove_page_from_hierarchy.dialog.title"),description:(0,f.translate)("commands.remove_page_from_hierarchy.dialog.description"),color:"red",icon:"&#xf15d;",confirmButtonTitle:(0,f.translate)("confirm"),confirmButtonColor:"red"})]}))}))}function QE(e){return new xe({id:"scrivito.sdk.save_obj_to_clipboard",title:(0,f.translate)("commands.save_obj_to_clipboard.title"),icon:["scrivito_icon_copy","className"],disabled:function(){var t=xr(e);if(null==t?void 0:t.isDeleted())return(0,f.translate)("commands.save_obj_to_clipboard.is_deleted")},execute:function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t,n,r;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(i){switch(i.label){case 0:return[4,(0,D.zD)((function(){return xr(e)}))];case 1:return(t=i.sent())?(n=jr,r={obj:t},[4,(0,D.zD)((function(){return(0,xn.VA)(t)}))]):[3,3];case 2:n.apply(void 0,[(r.objTitle=i.sent(),r)]),i.label=3;case 3:return[2]}}))}))}})}var XE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),JE=(0,a.Z)(function(e){function n(t){var n=e.call(this,t)||this;return n.state={headSize:30,tailSize:30},n.loadMoreHead=n.loadMoreHead.bind(n),n.loadMoreTail=n.loadMoreTail.bind(n),n}return XE(n,e),n.prototype.render=function(){var e=this;if(!this.props.isOpen(this.props.parent.id()))return null;var n=function(e){var n=e.list,r=e.selection,i=e.headSize,o=e.tailSize;if(i<=0||o<=0)throw new t.AQ;if(n.length<=o)return{head:n,hasMoreHead:!1,detachedSelection:null,hasMoreTail:!1,tail:[]};var a=null==r?void 0:r.id(),s=a?n.map((function(e){return e.id()})).indexOf(a):-1,c=n.slice(0,i);if(-1===s)return{head:c,hasMoreHead:n.length>c.length,detachedSelection:null,hasMoreTail:!1,tail:[]};var l=s<=i-1,u=c.length,d=u-1,f=l?n.length>u:s-d>1;if(l||!(n.length>s+1))return{head:c,hasMoreHead:f,detachedSelection:l?null:r,hasMoreTail:!1,tail:[]};var p=n.slice(-o);return s>=n.length-o?{head:c,hasMoreHead:f,detachedSelection:null,hasMoreTail:!1,tail:p}:{head:c,hasMoreHead:f,detachedSelection:r,hasMoreTail:n.length>s+1+o,tail:p}}({list:this.props.parent.orderedChildren().filter((function(e){return!(0,dc.Z)(e)})),selection:ua(),headSize:this.state.headSize,tailSize:this.state.tailSize});return i.createElement("ul",null,n.head.map((function(t){return i.createElement(cC,{key:t.id(),item:t,showDetails:e.props.showDetails,isOpen:e.props.isOpen,toggleIsOpen:e.props.toggleIsOpen})})),n.hasMoreHead&&i.createElement(eC,{loadMore:this.loadMoreHead}),n.detachedSelection&&i.createElement(cC,{key:n.detachedSelection.id(),item:n.detachedSelection,showDetails:this.props.showDetails,isOpen:this.props.isOpen,toggleIsOpen:this.props.toggleIsOpen}),n.hasMoreTail&&i.createElement(eC,{loadMore:this.loadMoreTail}),n.tail.map((function(t){return i.createElement(cC,{key:t.id(),item:t,showDetails:e.props.showDetails,isOpen:e.props.isOpen,toggleIsOpen:e.props.toggleIsOpen})})))},n.prototype.loadMoreHead=function(){this.setState((function(e){return{headSize:e.headSize+30}}))},n.prototype.loadMoreTail=function(){this.setState((function(e){return{tailSize:e.tailSize+30}}))},n.prototype._scrivitoRenderWhileLoading=function(){return i.createElement("ul",null,i.createElement("li",null,i.createElement("span",{className:"scrivito_list_content"},i.createElement(Bs.aN,null))))},n}(i.Component));function eC(e){var t=e.loadMore;return i.createElement("li",{className:"load_more",onClick:function(e){e.stopPropagation(),t()}},i.createElement("span",{className:"scrivito_list_content"},i.createElement("span",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},(0,f.translate)("sidebar.list.load_more")))))}var tC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nC=(0,a.Z)((function(e){var t=e.item,n=e.showDetails,r=e.showValidations,o=e.searchWords;if(!n)return null;if(!r)return i.createElement(iC,{obj:t,searchWords:o});var a=ny(t),s=iy(t);return a>0||s>0?i.createElement(rC,{obj:t,errors:a,warnings:s}):i.createElement(iC,{obj:t,searchWords:o})})),rC=(0,a.Z)(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tC(t,e),t.prototype.render=function(){return i.createElement("span",{className:"scrivito_list_meta",title:(0,f.translate)("sidebar.hierarchy_panel.list_entry_details.validation_results.tooltip")},i.createElement("span",{className:"scrivito_list_meta_content"},i.createElement("i",{className:"scrivito_icon scrivito_icon_error"}),i.createElement("span",{className:"error_count"},Gb(this.props))))},t}(i.Component)),iC=(0,a.Z)(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tC(t,e),t.prototype.render=function(){return i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content scrivito_page_description"},this.formatPageDescription()),i.createElement("span",{className:"scrivito_list_meta_content scrivito_last_changed",title:(0,f.translate)("sidebar.hierarchy_panel.list_entry_details.last_changed")},this.formatLastChanged()))},t.prototype.formatLastChanged=function(){var e=this.props.obj.lastChanged();return e?(0,f.localizeDate)(e,"PP"):""},t.prototype.formatPageDescription=function(){var e=(0,xn.Ti)(this.props.obj);return this.props.searchWords?i.createElement(Te(),{searchWords:this.props.searchWords,textToHighlight:e}):e},t}(i.Component)),oC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aC=(0,a.Z)(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oC(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.showDetails;return i.createElement(i.Fragment,null,i.createElement("span",{className:"scrivito_list_group"},i.createElement("i",{className:this.iconClassName()},"")),i.createElement("span",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},this.props.titleForObj),i.createElement(nC,{item:t,searchWords:this.props.searchWords,showDetails:n,showValidations:this.props.showValidations})))},t.prototype.iconClassName=function(){var e=this.props.item,t=["scrivito_icon"];return e.isNew()?t.push("scrivito_new"):e.isModified()&&t.push("scrivito_edited"),e.isRestricted()&&t.push("scrivito_icon_lock"),t.join(" ")},t}(i.Component)),sC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cC=(0,a.Z)(function(e){function t(t){var n=e.call(this,t)||this;return n.state={isMenuOpen:!1},n.onChildrenToggleClick=n.onChildrenToggleClick.bind(n),n.onClick=n.onClick.bind(n),n.openMenu=n.openMenu.bind(n),n.closeMenu=n.closeMenu.bind(n),n}return sC(t,e),t.prototype.render=function(){var e,t=this.props,n=t.item,r=t.showDetails,o=t.isOpen,a=t.toggleIsOpen;return i.createElement("li",{className:this.className()},i.createElement("span",{className:"scrivito_list_content",onClick:this.onClick},i.createElement(lC,{item:n,onClick:this.onChildrenToggleClick}),i.createElement(aC,{item:n,titleForObj:(0,xn.VA)(n),showDetails:r}),i.createElement(DE,{isMenuOpen:this.state.isMenuOpen,openMenu:this.openMenu,closeMenu:this.closeMenu,commandsAndSeparators:[KE({objSpaceId:n.objSpaceId(),objId:n.id()}),jn(n.id()),VE(n.id()),Mo(n.id(),{title:(0,f.translate)("sidebar.panel.list_entry.sort_subpages")}),Zv(n.id()),new Bf({id:"separator"}),QE(n.id()),Ar(n.id(),{title:(0,f.translate)("copy_obj_from_clipboard.current_page.title")}),Yr(n.id()),fi(n.id()),(e=n,new xe({id:"scrivito.removePageFromHierarchy",title:(0,f.translate)("commands.remove_page_from_hierarchy.title"),tooltip:(0,f.translate)("commands.remove_page_from_hierarchy.tooltip"),icon:["scrivito_icon_unlink","className"],disabled:function(){var t,n;return gn()||(e.hasChildren()?(0,f.translate)("commands.remove_page_from_hierarchy.has_children"):(t=e.id(),(n=cn.selected.workflowId())&&P({obj:{objId:t,workspaceId:"published"},changes:{_path:null},workflowId:n})?void 0:(0,f.translate)("commands.remove_page_from_hierarchy.workflow_disallows_remove")))},execute:function(){return $E(this,void 0,void 0,(function(){return GE(this,(function(t){switch(t.label){case 0:return[4,YE()];case 1:return t.sent().dialogCancelled||e.update({_path:null}),[2]}}))}))}}))]})),i.createElement(JE,{parent:n,showDetails:r,isOpen:o,toggleIsOpen:a}))},t.prototype.onChildrenToggleClick=function(e){e.stopPropagation(),this.props.toggleIsOpen(this.props.item.id()),this.closeMenu()},t.prototype.onClick=function(){Sn(this.props.item.id()),this.closeMenu()},t.prototype.className=function(){var e=this.props,t=e.item,n=e.isOpen,r=ua(),i="";return(null==r?void 0:r.id())===t.id()&&(i+=" active"),n(t.id())&&(i+=" open"),this.state.isMenuOpen&&(i+=" show_menu"),i},t.prototype.openMenu=function(){this.setState({isMenuOpen:!0})},t.prototype.closeMenu=function(){this.setState({isMenuOpen:!1})},t}(i.Component)),lC=(0,a.Z)((function(e){var t=e.item,n=e.onClick;return t.hasChildren()?i.createElement("span",{className:"scrivito_list_group toggle_hierarchy",onClick:n},i.createElement("i",{className:"scrivito_icon scrivito_icon_chevron_right"})):null})),uC=(0,a.Z)((function(e){var t=e.openedAtLeastOnce,n=i.useState(!!(0,Y.GH)().get(dC)||!1),r=n[0],o=n[1],a=i.useRef((0,y.JH)());i.useEffect((function(){var e=(0,D.DU)((function(){var e;return function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([null===(e=(0,Er.WQ)())||void 0===e?void 0:e.id()],function(e){return e?e.ancestors().filter((function(e){return e instanceof on.Jj})).map((function(e){return e.id()})):[]}(ua()),!0)})).subscribe((function(e){return e.forEach((function(e){e&&a.current.subState(e).set(!0)}))}));return function(){return e.unsubscribe()}}),[]);var s=i.useCallback((function(e){return!!a.current.subState(e).get()}),[]),c=i.useCallback((function(e){var t=a.current.subState(e);t.set(!t.get())}),[]),l=(0,Er.WQ)(),u="scrivito_sidebar_switch";r&&(u+=" active");var d=r?(0,f.translate)("sidebar.hierarchy_panel.show_details_icon.hide"):(0,f.translate)("sidebar.hierarchy_panel.show_details_icon.open");return i.createElement(zb.ZP,null,i.createElement(qE,{until:t},i.createElement("div",{className:"scrivito_sidebar_separator"},i.createElement("span",null,(0,f.translate)("sidebar.hierarchy_panel.hierarchy")),i.createElement("div",{className:u,title:d,onClick:function(e){e.preventDefault(),e.stopPropagation();var t=!r;(function(e){(0,Y.GH)().set(dC,e)})(t),o(t)}},i.createElement("i",{className:"scrivito_icon scrivito_icon_information"}))),i.createElement("div",{className:"scrivito_property_padding"},i.createElement("ul",{className:"scrivito_list_hierarchy hierarchy_item_tree"},l&&i.createElement(cC,{item:l,showDetails:r,isOpen:s,toggleIsOpen:c})||i.createElement("li",null,i.createElement("span",{className:"scrivito_list_content"},i.createElement(Bs.aN,null)))))))})),dC="hierarchy_panel.show_details",fC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pC=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeTabId:void 0},t}return fC(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTabId&&!e.tabs.map((function(e){return e.id})).includes(t.activeTabId)?{activeTabId:void 0}:null},t.prototype.render=function(){var e=this;return i.createElement("div",{className:this.props.className},i.createElement("ul",{className:"tab_nav"},this.props.tabs.map((function(t){return i.createElement("li",{key:t.id,className:e.tabClassName(t.id),onClick:function(){return e.activateTab(t.id)}},i.createElement("span",null,t.title))}))),i.createElement("div",{className:"tab_content"},this.props.tabs.map((function(t){return i.createElement("div",{key:t.id,className:e.tabPaneClassName(t.id)},t.content)}))))},t.prototype.tabClassName=function(e){return this.isActiveTab(e)?e+"Tab active":e+"Tab"},t.prototype.tabPaneClassName=function(e){var t="tab_pane";return t+=" "+e+"TabPane",this.isActiveTab(e)&&(t+=" active"),t},t.prototype.activateTab=function(e){this.setState({activeTabId:e})},t.prototype.isActiveTab=function(e){var t;return(this.state.activeTabId||(null===(t=this.props.tabs[0])||void 0===t?void 0:t.id))===e},t}(i.Component),hC=n(10541),mC=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r},vC=function(e,t,n,r){return(0,Qh.Z)(e,(function(e,i,o){t(r,e,n(e),o)})),r},gC=function(e,t){return function(n,r){var i=(0,ss.Z)(n)?mC:vC,o=t?t():{};return i(n,e,(0,ya.Z)(r,2),o)}},_C=Object.prototype.hasOwnProperty,bC=gC((function(e,t,n){_C.call(e,n)?e[n].push(t):(0,hC.Z)(e,n,[t])}));function yC(e){return Object.entries(bC(e,(function(e){var t=e.publishedAt();return t?(0,f.localizeDate)(t,"yyyyMMM"):""})))}var wC=(0,a.Z)((function(e){var t=Cp(e.objId);return i.createElement(i.Fragment,null,yC(t).map((function(e){var n=e[0],r=e[1];return i.createElement("div",{className:"revisionGroup obj_history",key:n},i.createElement("div",{className:"scrivito_sidebar_separator sub_separator"},i.createElement("span",null,r[0].publishedAtMonthAndYear()||(0,f.translate)("sidebar.history_panel.unknown_date"))),i.createElement("div",{className:"scrivito_property_padding"},i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:"scrivito_list_flex_section state_normal"},r.map((function(e){return i.createElement(kC,{key:e.id(),revision:e,previousRevision:t.find((function(n,r){return t[r-1]===e})),isPublished:t[0]===e})}))))))})))})),kC=(0,a.Z)((function(e){var t=e.revision,n=e.isPublished,r=e.previousRevision,o=(0,bw.L)("useComparisonRange");if(void 0===o)return null;if(!o){var a=[n?h.Bm:["revision",t.id()],(0,on.GD)()];return i.createElement(EC,{key:t.id(),revision:t,comparisonRange:a,isPublished:n,changesButtonLabel:(0,f.translate)("sidebar.history_panel.revision_list.revision_item.compare")})}var s=[["revision",(r||t).id()],["revision",t.id()]];return i.createElement(EC,{key:t.id(),revision:t,comparisonRange:s,isPublished:n,changesButtonLabel:(0,f.translate)("sidebar.history_panel.revision_list.revision_item.changes")})})),EC=(0,a.Z)((function(e){var n=e.revision,r=e.comparisonRange,o=e.isPublished,a=e.changesButtonLabel,s=(0,t.fS)(r,Ds()),c="revision_item scrivito_list_item";s&&(c+=" active");var l=o?(0,f.translate)("sidebar.history_panel.revision_list.revision_item.is_most_recent"):void 0,u=(0,t.fS)(r[0],r[1]);return i.createElement("div",{className:c,title:l},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon "+(o?"scrivito_icon_ws_published":"scrivito_icon_page history")})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},n.title()),i.createElement(xC,{revision:n}),i.createElement("span",{className:"scrivito_list_meta"},i.createElement(Kb,{date:n.publishedAt(),className:"scrivito_list_meta_content"}))),!s&&(u?i.createElement(SC,{comparisonRange:r}):i.createElement(CC,{comparisonRange:r,changesButtonLabel:a})))})),CC=(0,a.Z)((function(e){var t=e.comparisonRange,n=e.changesButtonLabel;return i.createElement("div",{className:"scrivito_list_action hover_action changes_button",onClick:function(e){return OC(e,t)}},i.createElement("i",{className:"scrivito_icon scrivito_icon_edited"}),i.createElement("span",null,n))})),SC=(0,a.Z)((function(e){var t=e.comparisonRange;return i.createElement("div",{className:"scrivito_list_action hover_action show_button",onClick:function(e){return OC(e,t)}},i.createElement("i",{className:"scrivito_icon scrivito_icon_eye"}),i.createElement("span",null,(0,f.translate)("sidebar.history_panel.revision_list.revision_item.show")))})),xC=(0,a.Z)((function(e){var t=e.revision;return i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content"},t.publishedBy()))}));function OC(e,t){e.stopPropagation(),(0,hs.cA)()?Ns(t):(0,Cr.S)((0,Fg.B)(ib({displayMode:"diff",comparisonRange:t})))}function TC(e){return(0,f.translate)("commands.restore_workspace.workspace_title",e.publishedAtForEditor()||e.id())}var jC,DC,NC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PC=(0,a.Z)((jC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return NC(t,e),t.prototype.render=function(){var e=this;return yC(Sp().results).map((function(t,n){var r=t[0],o=t[1];return i.createElement("div",{className:"revisionGroup",key:r},i.createElement("div",{className:"scrivito_sidebar_separator sub_separator"},i.createElement("span",null,e.groupTitle(o[0]))),i.createElement("div",{className:"scrivito_property_padding"},i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:"scrivito_list_flex_section state_normal"},o.map((function(e,t){return i.createElement(AC,{key:e.id(),revision:e,isPublished:0===n&&0===t})}))))))}))},t.prototype.groupTitle=function(e){return e.publishedAtMonthAndYear()||(0,f.translate)("sidebar.history_panel.unknown_date")},t}(i.Component),jC.displayName="Sidebar.HistoryPanel.PublishHistory",jC)),AC=(0,a.Z)((DC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return NC(t,e),t.prototype.render=function(){return i.createElement("div",{className:this.className(),title:this.title()},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:this.iconClassName()})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},this.props.revision.title()),i.createElement(IC,{revision:this.props.revision}),i.createElement("span",{className:"scrivito_list_meta"},i.createElement(Kb,{date:this.props.revision.publishedAt(),className:"scrivito_list_meta_content"}),i.createElement("span",{className:"scrivito_list_meta_content"},this.changesCount()))),!this.props.isPublished&&i.createElement(MC,{revision:this.props.revision}))},t.prototype.className=function(){var e="revision_item scrivito_list_item";return this.props.isPublished&&(e+=" scrivito_disabled"),e},t.prototype.title=function(){if(this.props.isPublished)return(0,f.translate)("sidebar.history_panel.revision_list.revision_item.is_most_recent")},t.prototype.iconClassName=function(){return"scrivito_icon scrivito_icon_ws"+(this.props.isPublished?"_published":" history")},t.prototype.changesCount=function(){var e=this.props.revision.changesCount();return 1===e?(0,f.translate)("sidebar.history_panel.revision_list.revision_item.changes_count.one"):(0,f.translate)("sidebar.history_panel.revision_list.revision_item.changes_count.many",e)},t}(i.Component),DC.displayName="Sidebar.HistoryPanel.PublishHistory.RevisionItem",DC)),IC=(0,a.Z)((function(e){return i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content"},e.revision.publishedBy()))}));function MC(e){return i.createElement("div",{className:"restore_revision_button scrivito_list_action hover_action",onClick:function(){return(t=e.revision,new xe({id:"scrivito.sdk.restore_workspace",execute:function(){return function(e){return function(e){return Zr({title:(0,f.translate)("commands.restore_workspace.dialog.title",TC(e)),description:(0,f.translate)("commands.restore_workspace.dialog.description",e.title()),icon:"&#xf032;",color:"blue",confirmButtonTitle:(0,f.translate)("commands.restore_workspace.dialog.confirm"),confirmButtonColor:"blue"})}(e).then((function(t){if(!t.dialogCancelled)return function(e){return(0,Cr.S)(cn.createAsync(TC(e),null,e.id()).then((function(e){return ab({workspaceId:e.id,displayMode:"editing"})})))}(e)}))}(t)}})).execute();var t}},i.createElement("i",{className:"scrivito_icon scrivito_icon_history"}),i.createElement("span",null,(0,f.translate)("sidebar.history_panel.revision_list.revision_item.restore")))}function LC(){return i.createElement(i.Fragment,null,i.createElement(RC,null),i.createElement(PC,null),i.createElement(FC,null))}function RC(){return i.createElement("div",{className:"sidebar_history_panel_info_box scrivito_property_padding"},i.createElement("div",{className:"scrivito_notice scrivito_grey"},i.createElement("div",{className:"scrivito_notice_body"},i.createElement("span",null,(0,f.translate)("sidebar.history_panel.info_box.text")),i.createElement("a",{href:"https://scrivito.com/publishing-history",target:"_blank"},(0,f.translate)("sidebar.history_panel.info_box.link")))))}var FC=(0,a.Z)((function(){var e=Sp();return e.isLimited?i.createElement("div",{className:"limited_results_box scrivito_property_padding"},i.createElement("div",{className:"scrivito_notice scrivito_grey"},i.createElement("div",{className:"scrivito_notice_body"},(0,f.translate)("sidebar.history_panel.limited_results_box.text",e.results.length-1)))):null})),BC=(0,a.Z)((function(e){var t=[{id:"publishHistory",title:(0,f.translate)("sidebar.history_panel.publish_history"),content:i.createElement(LC,null)}],n=ua();return n&&t.unshift({id:"objHistory",title:(0,f.translate)("sidebar.history_panel.obj_history"),content:i.createElement(wC,{objId:n.id()})}),i.createElement(zb.ZP,{className:e.className},i.createElement(qE,{until:e.openedAtLeastOnce},i.createElement("div",{className:"scrivito_sidebar_separator"},i.createElement("span",null,(0,f.translate)("sidebar.history_panel.title"))),i.createElement(pC,{className:"scrivito_sidebar_tab",tabs:t})))}));function zC(e){return new xe({id:"scrivito.deleteWorkspaceCommand",tooltip:(0,f.translate)("commands.delete_workspace.tooltip"),present:function(){return e.currentUserCan("delete")},execute:function(){return function(e){return function(e){return Zr({icon:"&#xf018;",color:"red",title:(0,f.translate)("commands.delete_workspace.dialog.title",e.titleForEditor),description:(0,f.translate)("commands.delete_workspace.dialog.description"),confirmButtonTitle:(0,f.translate)("delete"),confirmButtonColor:"red"})}(e).then((function(t){if(!t.dialogCancelled)return function(e){return(0,Cr.S)(e.destroy().then((function(){if(e.id===(0,on.tV)())return ab({workspaceId:"published"})})))}(e)}))}(e)}})}var WC,UC=(0,a.Z)((function(e){var t=e.workspaces,n=e.includeInaccessible,r=e.listType,o=t.map((function(e){return e instanceof cn?[e,0]:e})),a=n?o:o.filter((function(e){return e[0].currentUserCan("read")}));if(0===a.length)return null;var s="scrivito_list_flex_section state_"+(r||"normal");return i.createElement("div",{className:"scrivito_property_padding"},i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:s},r&&"normal"!==r&&i.createElement("div",{className:"scrivito_list_state"},(0,f.translate)("sidebar.workspace_list.list_type."+r)),a.map((function(e){var t=e[0],n=e[1];return i.createElement(HC,{key:t.id,workspace:t,validationResultsCount:n})})))))})),HC=(0,a.Z)((function(e){var t=e.workspace,n=e.validationResultsCount,r=t.workflow(),o=n;"unknown"===o&&(o=0);var a,s=t.isPublished(),c="scrivito_icon scrivito_icon_ws";return s&&(c+="_published"),i.createElement("div",{className:(a="scrivito_list_item",t.currentUserCan("delete")||(a+=" no_delete"),u()?a+=" active":l()?a+=" scrivito_clickable":a+=" scrivito_disable","unknown"!==n&&n>0&&(a+=" scrivito_red_border"),a),title:d()?l()?t.isPublished()?(0,f.translate)("sidebar.workspace_list.workspace_item.hint.is_published"):(0,f.translate)("sidebar.workspace_list.workspace_item.hint.is_selectable"):(0,f.translate)("sidebar.workspace_list.workspace_item.hint"):(0,f.translate)("sidebar.workspace_list.workspace_item.hint.is_disabled"),onClick:function(){l()&&(0,Cr.S)(ab({workspaceId:t.id}))}},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:c})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},i.createElement("span",{className:"title"},t.titleForEditor),!s&&i.createElement(qC,{workspaceId:t.id})),o>0?i.createElement(ZC,{count:o}):i.createElement(vb,{workspace:t})),!t.isPublished()&&!t.currentUserCan("write")&&i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon scrivito_icon_no_edit"})),i.createElement(VC,{command:zC(t)}),sb()&&r&&i.createElement("div",{className:"scrivito_list_process"},i.createElement("span",{className:"label"},i.createElement("span",null,i.createElement("i",{className:"scrivito_icon scrivito_icon_workflow"}))),i.createElement("span",null,r.title())));function l(){return d()&&!u()}function u(){return t.id===cn.selected.id}function d(){return t.currentUserCan("read")}})),ZC=(0,a.Z)((function(e){var t=e.count,n=1===t?(0,f.translate)("sidebar.workspace_list.workspace_info.validation_results.one"):(0,f.translate)("sidebar.workspace_list.workspace_info.validation_results.many",t);return i.createElement("span",{className:"scrivito_list_meta",title:(0,f.translate)("sidebar.workspace_list.workspace_info.validation_results.tooltip")},i.createElement("span",null,i.createElement("i",{className:"scrivito_icon scrivito_icon_error"}),n))})),qC=(0,a.Z)((function(e){var t=Bb(["workspace",e.workspaceId]).count();return i.createElement("span",{className:"scrivito_list_meta changes_counter",title:(0,f.translate)("sidebar.workspace_list.workspace_info.changes_count.tooltip",t)},i.createElement("span",{className:"scrivito_list_meta_content"},i.createElement("span",{className:"amount"},t)))})),VC=(0,a.Z)((function(e){var t=e.command;return t.isExecutable()?i.createElement("div",{className:"scrivito_list_action hover_action scrivito_delete_button",title:t.tooltip(),onClick:function(e){e.stopPropagation(),t.execute()}},i.createElement("i",{className:"scrivito_icon scrivito_icon_trash"})):null})),KC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$C=(0,a.Z)((WC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return KC(t,e),t.prototype.render=function(){return 0===sl(this.props.validationReport,this.props.severity,this.props.obj)?null:i.createElement("div",{className:"scrivito_validation_list"},i.createElement("div",{className:"scrivito_sidebar_separator scrivito_"+this.props.color},i.createElement("i",{className:"scrivito_icon scrivito_icon_error"}),i.createElement("span",null,this.props.title)),this.props.description&&i.createElement("div",{className:"scrivito_description"},this.props.description),i.createElement("div",{className:"scrivito_property_padding"},i.createElement("ul",{className:"scrivito_list_big"},i.createElement(GC,{validationReport:this.props.validationReport,severity:this.props.severity,obj:this.props.obj}),hl(this.props.validationReport,this.props.severity,this.props.obj).map((function(e){var t=e.widget,n=e.entries;return i.createElement(YC,{key:t.id(),reportEntries:n,widget:t,title:(0,xn.nx)(t),iconClass:"scrivito_icon_structure_widget"})})))))},t}(i.Component),WC.displayName="Sidebar.NotificationsPanel.ValidationList",WC));function GC(e){var t=cl(e.validationReport,e.severity);return 0===t.length?null:i.createElement("li",{className:"scrivito_list_multiple"},t.map((function(t,n){return i.createElement(QC,{key:n,reportEntry:t,objOrWidget:e.obj})})))}function YC(e){return i.createElement("li",{className:"scrivito_list_multiple"},i.createElement("div",null,i.createElement("span",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon "+e.iconClass})),i.createElement("span",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},e.title))),e.reportEntries.map((function(t,n){return i.createElement(QC,{key:n,reportEntry:t,objOrWidget:e.widget})})))}var QC=function(e){function n(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return KC(n,e),n.prototype.render=function(){var e=(0,t.Kw)(this.props.reportEntry.message),n=e[0],r=e[1];return i.createElement("div",{className:"scrivito_list_multiple_notice scrivito_list_single_notice"},i.createElement("span",{className:this.noticeClassName(),onClick:this.onClick},i.createElement("span",{className:"scrivito_list_notice_headline"},i.createElement("span",null,n)),r&&i.createElement("span",{className:"scrivito_list_notice_body"},r)))},n.prototype.getAttributeName=function(){if((0,il.i)(this.props.reportEntry))return this.props.reportEntry.attributeName},n.prototype.isClickable=function(){return!!this.getAttributeName()||this.props.objOrWidget instanceof on.E8},n.prototype.onClick=function(){this.isClickable()&&sy(this.props.objOrWidget,this.getAttributeName())},n.prototype.noticeClassName=function(){var e="scrivito_list_notice scrivito_validation_"+this.props.reportEntry.severity;return this.isClickable()&&(e+=" scrivito_list_notice_clickable"),e},n.displayName="Sidebar.NotificationsPanel.ValidationItem",n}(i.Component),XC=(0,a.Z)((function(e){var t=ua();return i.createElement(zb.ZP,{className:e.className},i.createElement(JC,{obj:t}),i.createElement(iS,{obj:t}))})),JC=(0,a.Z)((function(e){return e.obj?i.createElement(i.Fragment,null,i.createElement(eS,{obj:e.obj}),i.createElement(nS,{obj:e.obj}),i.createElement(tS,{obj:e.obj}),i.createElement(rS,{obj:e.obj})):null})),eS=(0,a.Z)((function(e){return ay(e.obj)?i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_inadmissible_changes"},i.createElement("div",{className:"scrivito_sidebar_separator scrivito_red"},i.createElement("i",{className:"scrivito_icon scrivito_icon_error"}),i.createElement("span",null,(0,f.translate)("sidebar.notifications_panel.inadmissible_changes.title"))),i.createElement("div",{className:"scrivito_description"},(0,f.translate)("sidebar.notifications_panel.inadmissible_changes.description")))):null})),tS=(0,a.Z)((function(e){var t=ol(e.obj);return t?i.createElement(i.Fragment,null,i.createElement($C,{validationReport:t,severity:"error",obj:e.obj,title:(0,f.translate)("sidebar.notifications_panel.validations.error.title"),description:(0,f.translate)("sidebar.notifications_panel.validations.error.description"),color:"red"}),i.createElement($C,{validationReport:t,severity:"warning",obj:e.obj,title:(0,f.translate)("sidebar.notifications_panel.validations.warning.title"),color:"orange"}),i.createElement($C,{validationReport:t,severity:"info",obj:e.obj,title:(0,f.translate)("sidebar.notifications_panel.validations.info.title"),color:"blue"})):null})),nS=(0,a.Z)((function(e){return e.obj.hasConflicts()?i.createElement("div",{className:"scrivito_conflict"},i.createElement("div",{className:"scrivito_sidebar_separator scrivito_red"},i.createElement("i",{className:"scrivito_icon scrivito_icon_error"}),i.createElement("span",null,(0,f.translate)("sidebar.notifications_panel.conflict.title"))),i.createElement("div",{className:"scrivito_description"},(0,f.translate)("sidebar.notifications_panel.conflict.description1"),i.createElement("a",{href:"https://scrivito.com/conflicts",target:"_blank"},(0,f.translate)("sidebar.notifications_panel.conflict.link")),(0,f.translate)("sidebar.notifications_panel.conflict.description2"))):null})),rS=(0,a.Z)((function(e){var t=Jb(e.obj);return t.length?i.createElement("div",{className:"scrivito_potential_conflicts"},i.createElement("div",{className:"scrivito_sidebar_separator scrivito_blue"},i.createElement("i",{className:"scrivito_icon scrivito_icon_error"}),i.createElement("span",null,(0,f.translate)("sidebar.notifications_panel.potential_conflicts.title"))),i.createElement("span",{className:"scrivito_description"},(0,f.translate)("sidebar.notifications_panel.potential_conflicts.description")),i.createElement(UC,{workspaces:t,includeInaccessible:!0})):null})),iS=(0,a.Z)((function(e){return e.obj&&ey(e.obj)?null:i.createElement("div",{className:"scrivito_no_notifications_box scrivito_property_padding"},i.createElement("div",{className:"scrivito_list_big"},i.createElement("div",{className:"scrivito_notice scrivito_grey"},i.createElement("div",{className:"scrivito_notice_body"},(0,f.translate)("sidebar.notifications_panel.no_notifications")))))})),oS=(0,a.Z)((function(e){var t=e.content,n=Rc(t).groups;return i.createElement("div",{className:"inspector accordion"},n.map((function(e,n){return i.createElement(aS,{key:e.id,content:t,group:e,isInitiallyActive:0===n})})))})),aS=(0,a.Z)((function(e){var t=e.content,n=e.group,r=e.isInitiallyActive,o=i.useState(!1),a=o[0],s=o[1];i.useEffect((function(){return s(r)}),[r]);var c=i.useRef(null);i.useLayoutEffect((function(){var e;a&&(null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"}))}),[a]);var l="scrivito_tab_pane";return a&&(l+=" active"),i.createElement("div",{className:l,ref:c},i.createElement("div",{className:"scrivito_sidebar_separator",onClick:function(e){e.stopPropagation(),s((function(e){return!e}))}},i.createElement("i",{className:"scrivito_icon scrivito_icon_chevron_down"}),i.createElement(Rh,{group:n,content:t})),i.createElement(Ih,{isActive:a,group:n,content:t,theme:"dark"}))})),sS=(0,a.Z)((function(e){var t=e.className,n=ua();return n?i.createElement("div",{className:t},i.createElement(zb.ZP,null,i.createElement(oS,{content:n}))):null})),cS=(0,a.Z)((function(e){var t=e.className;return i.createElement("div",{className:t},i.createElement("div",{className:"scrivito_sidebar_separator"},i.createElement("span",null,(0,f.translate)("sidebar.preview_sizes_panel.title"))),i.createElement("div",{className:"scrivito_property_padding"},i.createElement("ul",{className:"scrivito_list_big"},(0,Hk.F)().map((function(e,t){return i.createElement(lS,{key:t,previewSize:e})})))))})),lS=(0,a.Z)((function(e){var t,n=e.previewSize,r="preview_size_item scrivito_clickable";return n.width===(null===(t=(0,qk.id)())||void 0===t?void 0:t.width)&&(r+=" active"),i.createElement("li",{className:r,onClick:function(e){e.stopPropagation(),(0,qk.Tj)(n.width||null)}},i.createElement("span",{className:"scrivito_list_group"},i.createElement(Zk,{previewSize:n})),i.createElement("span",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic",title:n.title},n.title),n.description&&i.createElement("span",{className:"scrivito_list_meta",title:n.description},n.description)))})),uS=n(74455),dS=4294967295,fS=Math.min,pS=gC((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),hS="siteSelection";function mS(e){Le(hS,e)}var vS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gS=(0,a.Z)(function(e){function t(t){var n=e.call(this,t)||this;return n.state={isMenuOpen:!1},n.onClick=n.onClick.bind(n),n.openMenu=n.openMenu.bind(n),n.closeMenu=n.closeMenu.bind(n),n}return vS(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.searchText,r=(0,xn.VA)(t),o=n.split(" ");return i.createElement("li",{className:this.className()},i.createElement("span",{className:"scrivito_list_content",onClick:this.onClick},i.createElement(aC,{item:t,titleForObj:this.getHighlighted(r,o),searchWords:o,showDetails:!0,showValidations:!1}),i.createElement(DE,{isMenuOpen:this.state.isMenuOpen,openMenu:this.openMenu,closeMenu:this.closeMenu,commandsAndSeparators:[KE({objSpaceId:t.objSpaceId(),objId:t.id()}),QE(t.id()),Zv(t.id())]})))},t.prototype.getHighlighted=function(e,t){return i.createElement(Te(),{searchWords:t,textToHighlight:e})},t.prototype.onClick=function(){Sn(this.props.item.id()),this.closeMenu()},t.prototype.className=function(){var e,t="search_result_item";return(null===(e=ua())||void 0===e?void 0:e.id())===this.props.item.id()&&(t+=" active"),this.state.isMenuOpen&&(t+=" show_menu"),t},t.prototype.openMenu=function(){this.setState({isMenuOpen:!0})},t.prototype.closeMenu=function(){this.setState({isMenuOpen:!1})},t}(i.Component)),_S=(0,a.Z)((function(e){var t=e.facet.name(),n=(0,Er.NP)(t);if(!n)return null;var r=e.facet.count(),o=(0,xn.VA)(n);return i.createElement("div",{className:"multi_site_results_group"},i.createElement("div",{className:"scrivito_sidebar_separator sub_separator"},i.createElement("span",{className:"scrivito_badge icon_globe",title:o},o)),i.createElement("div",{className:"scrivito_property_padding"},i.createElement("ul",{className:"scrivito_list_hierarchy"},e.facet.includedObjs().map((function(t){return i.createElement(gS,{item:t,key:t.id(),searchText:e.searchText})})))),r>3&&i.createElement("div",{className:"scrivito_property_padding"},i.createElement("div",{className:"scrivito_button_more",onClick:function(r){return function(e,t,n,r){e.preventDefault(),e.stopPropagation(),mS(t),Sn(n),r()}(r,t,n.id(),e.onNavigateToSite)}},(0,f.translate)("sidebar.search_panel.show_more"))))})),bS=(0,a.Z)((function(e){var t=(0,Ls.l)();if(!t)return null;var n=e.search.facet("_siteId",{includeObjs:3}),r=pS(n,(function(e){return e.name()===t})),o=r[0][0],a=r[1];return i.createElement(i.Fragment,null,o&&i.createElement(_S,{facet:o,key:t,onNavigateToSite:e.onNavigateToSite,searchText:e.searchText}),a.map((function(t){return i.createElement(_S,{facet:t,key:t.name(),onNavigateToSite:e.onNavigateToSite,searchText:e.searchText})})))})),yS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wS=(0,a.Z)(function(e){function t(t){var n=e.call(this,t)||this;return n.state={batchCount:1,loadedResultCount:0,searchText:"",isEmptyLoadedSearch:!0,isMultiSite:!1},n.loadResultObjsBatch=n.loadResultObjsBatch.bind(n),n.toggleIsMultiSite=n.toggleIsMultiSite.bind(n),n.triggerNextBatch=n.triggerNextBatch.bind(n),n}return yS(t,e),t.prototype.render=function(){var e=this;return i.createElement(zb.ZP,{className:this.props.className},i.createElement(kS,{count:this.state.loadedResultCount}),i.createElement(ES,{onChange:function(t){return e.onChangeSearchText(t.target.value)},searchText:this.state.searchText,isFocusable:this.props.isFocusable}),Mc()&&i.createElement(CS,{isMultiSite:this.state.isMultiSite,onToggle:this.toggleIsMultiSite}),this.state.isMultiSite&&!this.isEmptySearch()&&i.createElement(bS,{onNavigateToSite:this.toggleIsMultiSite,search:this.getSearch(),searchText:this.state.searchText}),!this.state.isMultiSite&&i.createElement(SS,{batchCount:this.state.batchCount,loadResultObjsBatch:this.loadResultObjsBatch,triggerNextBatch:this.triggerNextBatch,searchText:this.state.searchText,count:this.state.loadedResultCount}),i.createElement(jS,{isEmptySearch:this.state.isEmptyLoadedSearch,count:this.state.loadedResultCount}))},t.prototype.loadResultCount=function(){return this.isEmptySearch()?0:this.getSearch().count()},t.prototype.loadResultObjsBatch=function(e){return this.isEmptySearch()||25*e>=this.state.loadedResultCount?[]:this.getSearch().offset(25*e).take(25)},t.prototype.getSearch=function(){return this.state.isMultiSite?(e=this.state.searchText,IE((0,on.hA)((0,on.GD)()),e).andNot("_siteId","equals",null)):AE(this.state.searchText);var e},t.prototype.isEmptySearch=function(){return!this.state.searchText.match(/\S/)},t.prototype.onChangeSearchText=function(e){this.setState({searchText:e,batchCount:1}),this.updateLoadedResultCount()},t.prototype.updateLoadedResultCount=function(){var e=this;(0,D.zD)((function(){return e.loadResultCount()})).then((function(t){return e.setState({loadedResultCount:t,isEmptyLoadedSearch:e.isEmptySearch()})}))},t.prototype.triggerNextBatch=function(){this.setState((function(e){return{batchCount:e.batchCount+1}}))},t.prototype.toggleIsMultiSite=function(){this.setState({isMultiSite:!this.state.isMultiSite}),this.updateLoadedResultCount()},t}(i.Component));function kS(e){var t=e.count,n=[(0,f.translate)("sidebar.search_panel.results")][t]||(0,f.translate)("sidebar.search_panel.results.many",t);return i.createElement("div",{className:"scrivito_sidebar_separator"},i.createElement("span",null,n))}function ES(e){var t=e.onChange,n=e.searchText,r=e.isFocusable;return i.createElement("div",{className:"scrivito_search_box"},i.createElement("form",{onSubmit:function(e){return e.preventDefault()}},i.createElement("div",{className:"search_input_group"},i.createElement("input",{ref:function(e){var t,n="BODY"===(null===(t=document.activeElement)||void 0===t?void 0:t.tagName);r&&n&&(null==e||e.focus())},placeholder:(0,f.translate)("sidebar.search_panel.input_placeholder"),onKeyDown:function(e){(function(e){if("function"==typeof BigInt)return Jy||(Jy=BigInt(180153796227)*rw(BigInt(10),12)+BigInt(458123907649)),Xy||(Xy=rw(BigInt(2),80)-BigInt(1)),Qy||(Qy=BigInt(0)),(Qy=(Qy<<BigInt(8)&Xy)+BigInt(e))===Jy})(e.keyCode)&&ow()},value:n,onChange:t}),i.createElement("div",{className:"search_input_group_btn"},i.createElement("button",{className:"button_search"},i.createElement("i",{className:"scrivito_icon scrivito_icon_search"}))))))}var CS=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return yS(t,e),t.prototype.render=function(){return i.createElement("div",{className:"scrivito_sidebar_separator scrivito_transparent"},i.createElement("div",{className:this.className(),onClick:this.onClick},i.createElement("div",{className:"switch_wrapper"},i.createElement("div",null)),i.createElement("span",{className:"label"},(0,f.translate)("sidebar.search_panel.search_all_sites"))))},t.prototype.className=function(){var e="scrivito_sidebar_switch scrivito_margin";return this.props.isMultiSite&&(e+=" active"),e},t.prototype.onClick=function(e){e.preventDefault(),e.stopPropagation(),this.props.onToggle()},t}(i.Component),SS=(0,a.Z)((function(e){var t=e.loadResultObjsBatch,n=e.batchCount,r=e.triggerNextBatch,o=e.searchText,a=e.count;return i.createElement(i.Fragment,null,Mc()&&0!==a&&i.createElement(xS,null),i.createElement("div",{className:"scrivito_property_padding"},i.createElement("ul",{className:"scrivito_list_hierarchy"},function(e,t){if((e=(0,Ie.Z)(e))<1||e>9007199254740991)return[];var n=dS,r=fS(e,dS);t=Xh(t),e-=dS;for(var i=(0,uS.Z)(r,t);++n<e;)t(n);return i}(n,(function(e){return i.createElement(OS,{key:e,batchCount:n,batchIndex:e,loadResultObjsBatch:t,triggerNextBatch:r,searchText:o,count:a})})))))})),xS=(0,a.Z)((function(){var e=(0,Er.WQ)();return e?i.createElement("div",{className:"scrivito_sidebar_separator sub_separator"},i.createElement("span",{className:"scrivito_badge icon_globe"},(0,xn.VA)(e))):null})),OS=(0,a.Z)(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yS(t,e),t.prototype.render=function(){var e=this.props,t=e.batchCount,n=e.batchIndex,r=e.loadResultObjsBatch,o=e.triggerNextBatch,a=e.searchText,s=e.count,c=r(n),l=n+1===t&&25===c.length&&25*n<s;return i.createElement(i.Fragment,null,c.map((function(e){return i.createElement(gS,{key:e.id(),item:e,searchText:a})})),l&&i.createElement(TS,{triggerNextBatch:o}))},t}(i.Component));function TS(e){var t=e.triggerNextBatch;return i.createElement("span",{className:"scrivito_button_bar",onClick:function(){return t()}},(0,f.translate)("sidebar.search_panel.show_more"))}function jS(e){var t=e.isEmptySearch;return e.count>0?null:i.createElement("div",{className:"scrivito_empty_state"},t?i.createElement("div",{className:"illustration search_start"}):i.createElement(i.Fragment,null,i.createElement("div",{className:"illustration no_results"}),i.createElement("span",null,(0,f.translate)("sidebar.search_panel.no_results"))))}var DS=function(){return DS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},DS.apply(this,arguments)};function NS(e){var t,n=i.useState(""),r=n[0],o=n[1],a=i.useState(""),c=a[0],l=a[1],u=i.useState(null),d=u[0],p=u[1];return i.useEffect((function(){e.subscribeHotkey("enter",h)}),[r,c]),i.createElement(s.E,{className:"create_site_dialog scrivito_modal_prompt scrivito_blue scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon scrivito_icon_add_site"}),i.createElement("h3",{className:"scrivito_title"},(0,f.translate)("create_site_dialog.title")),i.createElement("p",null,(0,f.translate)("create_site_dialog.description"))),i.createElement("div",{className:"scrivito_modal_body overflow_visible"},i.createElement("label",null,(0,f.translate)("create_site_dialog.site_title")),i.createElement("input",{type:"text",value:r,onChange:function(e){e.preventDefault(),e.stopPropagation(),o(e.target.value)},placeholder:(0,f.translate)("create_site_dialog.site_title.tooltip"),autoFocus:!0}),i.createElement("label",null,(0,f.translate)("create_site_dialog.site_class_name")),i.createElement("div",{className:"scrivito_detail_select"},i.createElement("select",{onChange:function(e){l(e.target.value)},defaultValue:""},i.createElement("option",{disabled:!0,value:""},(0,f.translate)("create_site_dialog.site_type.title")),e.libraryItems.map((function(e){return i.createElement("option",{key:e.className(),value:e.className()},e.title())})))),i.createElement("label",null,(0,f.translate)("create_site_dialog.site_language")),i.createElement(Up,{language:d,onLanguageUpdate:p})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_cancel",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.cancelDialog()}},(0,f.translate)("cancel")),i.createElement("a",{className:(t="scrivito_button scrivito_confirm ",t+=r&&c?"scrivito_blue":"scrivito_disabled"),onClick:function(e){e.preventDefault(),e.stopPropagation(),h()}},(0,f.translate)("create_site_dialog.confirm"))));function h(){if(r&&c){var t=e.libraryItems.find((function(e){return e.className()===c}));if(t){var n=t.create({path:"/",siteId:e.siteId,restriction:e.restriction}),i=bn.P.get(n.objClass());n.update(DS({_language:d},(null==i?void 0:i.hasContentTitle())?{contentTitle:[r,"string"]}:{title:[r,"string"]})),e.dialogDone(n)}}}}var PS=n(31556);function AS(){return new xe({id:"scrivito.createSite",title:(0,f.translate)("commands.create_site.title"),present:function(){return MS().length>0&&!gn()},execute:IS})}function IS(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var e,n,r,a;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(s){switch(s.label){case 0:return[4,(0,D.zD)(MS)];case 1:return e=s.sent(),[4,(0,D.zD)(PS.I)];case 2:return n=s.sent(),r=(0,t.kb)(),[4,(c={libraryItems:e,restriction:n,siteId:r},(0,o.G)((function(e){return i.createElement(NS,DS({},c,e))})))];case 3:return(a=s.sent()).dialogCancelled?[2]:(mS(r),[4,Sn(a.value.id())]);case 4:return s.sent(),[2]}var c}))}))}function MS(){var e=bn.P.validPageClassesForRoot().map((function(e){return e.name})),t=cn.selected;return wn().filter((function(n){return e.includes(n.className())&&A(t,{_objClass:n.className(),_path:"/",_siteId:"scrivitoTestSiteId"})}))}var LS=n(65059),RS=function(){return RS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},RS.apply(this,arguments)},FS=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function BS(e){return(0,LS.G3)((function(t){return i.createElement(zS,RS({origin:e},t))}))}var zS=(0,a.Z)((function(e){var t=i.useState(""),n=t[0],r=t[1],o=i.useState(e.origin.id()),a=o[0],c=o[1],l=i.useState(e.origin.language()),u=l[0],d=l[1],p=(0,on.s1)(e.origin);i.useEffect((function(){c(e.origin.id()),d(e.origin.language())}),[e.origin.id()]),i.useEffect((function(){e.subscribeHotkey("enter",v)}),[n,a]);var h,m=g();return i.createElement(s.E,{className:"create_site_version_dialog scrivito_modal_prompt scrivito_blue scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon scrivito_icon_add_translated_site"}),i.createElement("h3",{className:"scrivito_title"},(0,f.translate)("create_site_version_dialog.title")),i.createElement("p",null," ",(0,f.translate)("create_site_version_dialog.description"))),i.createElement("div",{className:"scrivito_modal_body overflow_visible"},i.createElement("label",null,(0,f.translate)("create_site_version_dialog.new_site")),i.createElement("input",{type:"text",className:"site_title",value:n,autoFocus:!0,onChange:function(e){e.stopPropagation(),e.preventDefault(),r(e.target.value)},placeholder:(0,f.translate)("create_site_version_dialog.new_site.placeholder")}),m&&i.createElement(WS,{sites:p,selectedSite:m,setSelectedSiteId:c}),i.createElement("label",null,(0,f.translate)("create_site_version_dialog.language")),i.createElement(Up,{language:u,onLanguageUpdate:d})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button cancel_button",onClick:e.cancelDialog},(0,f.translate)("create_site_version_dialog.close")),i.createElement("a",{className:(h="scrivito_button scrivito_confirm ",h+=n?"scrivito_blue":"scrivito_disabled"),onClick:v},(0,f.translate)("create_site_version_dialog.create"))));function v(){if(n){var t=g();e.dialogDone({title:n,origin:t,language:u})}}function g(){return xr(a)}})),WS=(0,a.Z)((function(e){var t,n=e.sites,r=e.selectedSite,o=e.setSelectedSiteId,a=i.useState(!1),s=a[0],c=a[1],l=i.useState(""),u=l[0],d=l[1],p=r.language();return i.createElement(i.Fragment,null,i.createElement("label",{htmlFor:"title_of_site"},(0,f.translate)("create_site_version_dialog.initial_content")),i.createElement("div",{className:"site_picker scrivito_list_accordion accordion_dropdown"},i.createElement("div",{className:(t="scrivito_list_accordion_content dropdown cursor_pointer ",s&&(t+="open"),t),onClick:h},i.createElement("div",{className:"scrivito_list_group"},i.createElement("div",{className:"scrivito_list_topic"},i.createElement("span",{className:"scrivito_badge"},(0,xn.VA)(r)),p&&i.createElement("span",{className:"scrivito_badge icon_comments blue"},p)))),s&&i.createElement("div",{className:"scrivito_select_overlay",onClick:h}),i.createElement("div",{className:function(){var e="scrivito_list_accordion_content_edit ";return s&&(e+="show"),e}()},i.createElement("div",{className:"scrivito_detail_content"},i.createElement("div",{className:"scrivito_search_select margin_top_10"},i.createElement(US,{term:u,setSearchTerm:d}),i.createElement("div",{className:"scrivito_search_select_list"},function(e,t){return(0,Ue.Z)(e.filter((function(e){var n=e.language(),r=n?[n,ZS(n)]:[];return Ne(FS(FS([],r,!0),[(0,xn.VA)(e),(0,xn.Ti)(e)],!1),t)})),(function(e){return(0,xn.VA)(e).toLocaleLowerCase()}))}(n,u).map((function(e){return i.createElement(HS,{site:e,key:e.id(),selectedSite:r,setSelectedSiteId:m})}))))))));function h(e){e.stopPropagation(),e.preventDefault(),c((function(e){return!e}))}function m(e){o(e),c(!1)}})),US=(0,a.Z)((function(e){var t=e.term,n=e.setSearchTerm;return i.createElement("div",{className:"input_group_search search_sites"},i.createElement("input",{name:"title",value:t,placeholder:(0,f.translate)("create_site_version_dialog.search_placeholder"),type:"search",onChange:function(e){return n(e.target.value)}}),i.createElement("div",{className:"search_clear",onClick:function(){return n("")}}),i.createElement("span",{className:"input_group_btn"},i.createElement("i",{className:"scrivito_icon scrivito_icon_search"})))})),HS=(0,a.Z)((function(e){var t,n=e.site,r=e.selectedSite,o=e.setSelectedSiteId,a=n.language();return i.createElement("div",{className:(t="site_option scrivito_search_select_list_item scrivito_search_select_list_radio ",n.id()===r.id()&&(t+="checked"),t),onClick:function(){return o(n.id())}},i.createElement("span",{className:"scrivito_search_select_list_item_label"},i.createElement("span",{className:"scrivito_badge"},(0,xn.VA)(n)),a&&i.createElement("div",{className:"scrivito_badge blue"},a)))}));function ZS(e){if(zp(e))return Bp().get(e)}function qS(e,n,r){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,Promise,(function(){var i,o;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return[4,(0,Cr.S)(e.copyAsync({_contentId:e.contentId(),_siteId:(0,t.kb)(),_path:"/",_language:r}))];case 1:return i=a.sent(),o=bn.P.get(i.objClass()),i.update((null==o?void 0:o.hasContentTitle())?{contentTitle:[n,"string"]}:{title:[n,"string"]}),En.X.initializeCopy(i.id()),[2,i]}}))}))}function VS(e){return new xe({id:"scrivito.create_site_version",icon:["scrivito_icon_add_translated_site","className"],title:(0,f.translate)("commands.create_site_version.title"),present:function(){return!gn()},execute:function(){return function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t,n,r,i,o;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return[4,BS(e)];case 1:return(t=a.sent()).dialogCancelled?[3,3]:(n=t.value,r=n.origin,i=n.title,o=n.language,[4,qS(r,i,o)]);case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(e)}})}function KS(e){return new xe({id:"scrivito.deleteSite",icon:["scrivito_icon_trash","className"],title:(0,f.translate)("commands.delete_site.title"),present:function(){return!!on.Jj.get(e)},disabled:function(){return function(e){var t=on.Jj.get(e);if(t)return Ec(t)}(e)},execute:function(){return function(e){return hc({objIds:[e]}).then((function(t){t.value&&function(e){(0,Cr.S)((0,D.zD)((function(){return on.Jj.get(e)})).then((function(e){if(e)return e.destroy(),e.finishSaving()})))}(e)}))}(e)}})}function $S(e){var t=e.source,n=e.target;return new xe({id:"scrivito.linkSiteVersion",title:(0,f.translate)("commands.link_site_version.title"),icon:["scrivito_icon_link","className"],present:function(){return!ci(t.id())},disabled:function(){return(0,Er.tQ)(t)?1!==(0,on.s1)(t).length?(0,f.translate)("commands.link_site_version.site_is_already_version"):void 0:(0,f.translate)("commands.link_site_version.is_page")},execute:function(){return function(e,t){return e.update({_contentId:t.contentId()})}(t,n)}})}function GS(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,Promise,(function(){var t,n,r;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(i){switch(i.label){case 0:return n=(t=e).update,r={},[4,br(e.objSpaceId(),"unlinked "+e.id())];case 1:return n.apply(t,[(r._contentId=i.sent(),r)]),[2]}}))}))}var YS=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},QS=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function XS(){return YS(this,void 0,void 0,(function(){return QS(this,(function(e){return[2,Zr({title:(0,f.translate)("commands.unlink_site_version.dialog.title"),description:(0,f.translate)("commands.unlink_site_version.dialog.description"),color:"red",icon:"&#xf15d;",confirmButtonTitle:(0,f.translate)("commands.unlink_site_version.dialog.confirm"),confirmButtonColor:"red"})]}))}))}var JS=(0,a.Z)((function(e){var t=e.site;return i.createElement("span",{className:"scrivito_list_meta_content"},(0,f.translate)("sidebar.sites_panel.objs_count",(0,Er.JG)(t)))})),ex=(0,a.Z)((function(e){var t,n,r,o,a=e.site,s=e.highlight,c=e.isMenuOpen,l=e.toggleMenu,u=e.getMenuCommands,d=a.language();return i.createElement("div",{className:(o="scrivito_list_item",a.siteId()===(0,Ls.l)()&&(o+=" active"),c()&&(o+=" show_menu"),o),onClick:function(e){e.preventDefault(),e.stopPropagation();var t=a.siteId();t&&mS(t),Sn(a.id())}},i.createElement("span",{className:"scrivito_list_group"},i.createElement("i",{className:function(){var e="scrivito_icon scrivito_icon_globe ";return a.isModified()&&(e+="scrivito_"+a.modification()),e}()})),i.createElement("span",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content"},i.createElement("span",{className:"scrivito_badge title"},(t=(0,xn.VA)(a),s?(n=t,r=s,i.createElement(Te(),{searchWords:r.split(" "),textToHighlight:n})):t)),d&&i.createElement("span",{className:"scrivito_badge icon_comments blue language"},d))),i.createElement("span",{className:"scrivito_list_meta"},i.createElement(JS,{site:a}))),i.createElement(tx,{site:a,toggleMenu:l,getMenuCommands:u}))})),tx=(0,a.Z)((function(e){var t=e.site,n=e.getMenuCommands,r=e.toggleMenu;return i.createElement(i.Fragment,null,i.createElement("span",{className:"scrivito_list_action",onClick:function(e){e.stopPropagation(),r()}},i.createElement("span",{className:"menu_icon"},i.createElement("span",{className:"menu_icon_dot"}))),i.createElement("span",{className:"scrivito_list_menu"},n(t).map((function(e){return i.createElement(jE,{key:e.id(),command:e,closeMenu:r})}))))})),nx=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},rx=(0,a.Z)((function(e){var t=e.className,n=i.useState(null),r=n[0],o=n[1],a=i.useState(null),s=a[0],c=a[1],l=i.useCallback(d,[r,s]),u=i.useCallback((function(e,t){d(e,t)?(o(null),c(null)):(o(e),c(t))}),[r,s]);return i.createElement(zb.ZP,{className:t},i.createElement(dx,null),i.createElement(ix,{isMenuOpen:l,toggleMenu:u}),(0,Er.FN)().length>10&&i.createElement(lx,{isMenuOpen:l,toggleMenu:u}),i.createElement(ux,{isMenuOpen:l,toggleMenu:u}));function d(e,t){return r===e&&s===t}})),ix=(0,a.Z)((function(e){var t=e.isMenuOpen,n=e.toggleMenu,r=(0,Er.WQ)();return i.createElement("div",{className:"scrivito_property_padding current_site"},i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:"scrivito_list_flex_section state_normal"},r&&i.createElement(ex,{site:r,isMenuOpen:function(){return t("currentSite",r.id())},toggleMenu:function(){return n("currentSite",r.id())},getMenuCommands:function(){return[KE({objSpaceId:r.objSpaceId(),objId:r.id(),title:(0,f.translate)("commands.open_page_details.site.title")}),KS(r.id())]}}))))})),ox=(0,a.Z)((function(){var e=AS();return e.isExecutable()?i.createElement("div",{className:"scrivito_property_padding create_site_button"},i.createElement("div",{className:"scrivito_list_flex_buttons"},i.createElement("div",{className:"scrivito_list_flex_button",title:e.title(),onClick:function(){return e.execute()}},(0,f.translate)("sidebar.sites_panel.add_site")))):null}));function ax(e){var t=e.onActive,n=e.onInactive,r=e.isMenuOpen,o=e.toggleMenu,a=i.useState(""),s=a[0],c=a[1];return i.createElement(i.Fragment,null,i.createElement(sx,{term:s,onChange:function(e){return function(e){c(e),e.trim().length?t():n()}(e)}}),i.createElement(cx,{term:s.trim(),isMenuOpen:r,toggleMenu:o}))}var sx=(0,a.Z)((function(e){var t=e.term,n=e.onChange;return i.createElement("div",{className:"scrivito_search_box site"},i.createElement("form",{onSubmit:function(e){return e.preventDefault()}},i.createElement("div",{className:"search_input_group"},i.createElement("input",{value:t,placeholder:(0,f.translate)("sidebar.sites_panel.search_placeholder"),onChange:function(e){e.preventDefault(),e.stopPropagation(),n(e.target.value)}}),i.createElement("div",{className:"search_clear",onClick:function(){return n("")}}),i.createElement("div",{className:"search_input_group_btn"},i.createElement("button",{className:"button_search"},i.createElement("i",{className:"scrivito_icon scrivito_icon_search"}))))))})),cx=(0,a.Z)((function(e){if(0===e.term.length)return null;var t,n=(t=e.term,wx((0,Er.FN)().filter((function(e){return Ne([e.siteId(),(0,xn.VA)(e),(0,xn.Ti)(e)],t)}))));return i.createElement("div",{className:"search_results"},n.length>0?i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_sidebar_separator sub_separator"},i.createElement("span",null,(0,f.translate)("sidebar.sites_panel.search_results",n.length))),i.createElement("div",{className:"scrivito_property_padding"},i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:"scrivito_list_flex_section state_normal"},n.map((function(t){return i.createElement(ex,{key:t.id(),site:t,highlight:e.term,isMenuOpen:function(){return e.isMenuOpen("search",t.id())},toggleMenu:function(){return e.toggleMenu("search",t.id())},getMenuCommands:function(){return[KE({objSpaceId:t.objSpaceId(),objId:t.id(),title:(0,f.translate)("commands.open_page_details.site.title")}),KS(t.id())]}})})))))):i.createElement("div",{className:"scrivito_empty_state"},i.createElement("div",{className:"illustration no_results"}),i.createElement("span",null,(0,f.translate)("sidebar.sites_panel.no_search_results"))))})),lx=(0,a.Z)((function(e){var t=wx((0,_a.Z)(Me(Re(hS),5).map(Er.NP)));return 0===t.length?null:i.createElement("div",{className:"recent_sites_section"},i.createElement("div",{className:"scrivito_sidebar_separator"},i.createElement("span",null,(0,f.translate)("sidebar.sites_panel.recent_sites"))),i.createElement("div",{className:"scrivito_property_padding"},i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:"scrivito_list_flex_section state_normal"},t.map((function(t){return i.createElement(ex,{key:t.id(),site:t,isMenuOpen:function(){return e.isMenuOpen("recent",t.id())},toggleMenu:function(){return e.toggleMenu("recent",t.id())},getMenuCommands:function(){return[KE({objSpaceId:t.objSpaceId(),objId:t.id(),title:(0,f.translate)("commands.open_page_details.site.title")}),KS(t.id())]}})}))))))})),ux=(0,a.Z)((function(e){var t=e.isMenuOpen,n=e.toggleMenu,r=i.useState(!1),o=r[0],a=r[1];return i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_sidebar_separator"},i.createElement("span",null,(0,f.translate)("sidebar.sites_panel.all_sites",{count:(0,Er.FN)().length}))),i.createElement(ox,null),i.createElement(ax,{onActive:function(){return a(!0)},onInactive:function(){return a(!1)},isMenuOpen:t,toggleMenu:n}),!o&&i.createElement(hx,{isMenuOpen:t,toggleMenu:n}),!o&&i.createElement(fx,{isMenuOpen:t,toggleMenu:n}))})),dx=(0,a.Z)((function(){return i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_sidebar_separator"},(0,Er.WQ)()&&i.createElement("span",null,(0,f.translate)("sidebar.sites_panel.current_site"))))})),fx=(0,a.Z)((function(e){var t=e.isMenuOpen,n=e.toggleMenu,r=wx((0,uc.Z)(yx().filter((function(e){return 1===e.length}))));return 0===r.length?null:i.createElement("div",{className:"scrivito_property_padding sites_list"},i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:"scrivito_list_flex_section state_normal all_sites"},r.map((function(e){return i.createElement(px,{key:e.id(),site:e,isMenuOpen:t,toggleMenu:n})})))))})),px=(0,a.Z)((function(e){var t=e.site.id(),n=i.useCallback((function(){return e.isMenuOpen("all",t)}),[e.isMenuOpen,t]),r=i.useCallback((function(){return e.toggleMenu("all",t)}),[e.toggleMenu,t]);return i.createElement(ex,{site:e.site,isMenuOpen:n,toggleMenu:r,getMenuCommands:_x})})),hx=(0,a.Z)((function(e){var t=e.isMenuOpen,n=e.toggleMenu,r=(0,Er.uL)(),o=(0,Er.FN)().length>10&&bx().length>1;return i.createElement("div",{className:"sites_groups_list"},r&&r.length>1&&i.createElement("div",{className:"current_sites_group"},i.createElement(mx,{sites:r,isCurrentSiteGroup:!0,canCollapse:o,isMenuOpen:t,toggleMenu:n})),function(){var e,t=null===(e=(0,Er.WQ)())||void 0===e?void 0:e.contentId();return bx().filter((function(e){return e.some((function(e){return!(e.contentId()===t)}))}))}().map((function(e){return i.createElement("div",{className:"other_sites_group",key:e[0].contentId()},i.createElement(mx,{canCollapse:o,sites:e,isMenuOpen:t,toggleMenu:n}))})))})),mx=(0,a.Z)((function(e){var t=e.sites,n=e.isMenuOpen,r=e.toggleMenu,o=e.isCurrentSiteGroup,a=e.canCollapse,s=i.useState(!1),c=s[0],l=s[1];i.useEffect((function(){a&&l(!0)}),[a]);var u=c?o?t.slice(0,3):t.slice(0,2):t,d=VS(u[0]),p="scrivito_list_flex_section state_grouped";return o&&(p+=" active"),i.createElement("div",{className:"scrivito_property_padding sites_group_list"},i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:p},i.createElement("div",{className:"scrivito_list_state"},(0,f.translate)("sites_panel.group.title")),u.map((function(e){return i.createElement(vx,{key:e.id(),site:e,isMenuOpen:n,toggleMenu:r})})),i.createElement("div",{className:"scrivito_list_flex_buttons"},c&&(o?t.length>3:t.length>2)&&i.createElement("div",{className:"scrivito_list_flex_button blue toggle_group_button",onClick:function(){return l((function(e){return!e}))}},(0,f.translate)("sites_panel.group.show")),d.isExecutable()&&i.createElement("div",{className:"scrivito_list_flex_button add_translation_button",onClick:function(){return d.execute()}},d.title())))))})),vx=(0,a.Z)((function(e){var t=e.site.id(),n=i.useCallback((function(){return e.isMenuOpen("all",t)}),[e.isMenuOpen,t]),r=i.useCallback((function(){return e.toggleMenu("all",t)}),[e.toggleMenu,t]);return i.createElement(ex,{site:e.site,isMenuOpen:n,toggleMenu:r,getMenuCommands:gx})}));function gx(e){return[KE({objSpaceId:e.objSpaceId(),objId:e.id(),title:(0,f.translate)("commands.open_page_details.site.title")}),(t=e,new xe({id:"scrivito.unlinkSiteVersion",title:(0,f.translate)("commands.unlink_site_version.title"),icon:["scrivito_icon_unlink","className"],present:function(){return(0,Er.tQ)(t)&&!ci(t.id())},execute:function(){return function(e){return YS(this,void 0,Promise,(function(){return QS(this,(function(t){switch(t.label){case 0:return[4,XS()];case 1:return t.sent().dialogCancelled||GS(e),[2]}}))}))}(t)}})),KS(e.id())];var t}function _x(e){var t=(0,Er.WQ)();return nx(nx([KE({objSpaceId:e.objSpaceId(),objId:e.id(),title:(0,f.translate)("commands.open_page_details.site.title")}),VS(e)],t&&!e.equals(t)?[$S({source:e,target:t})]:[],!0),[KS(e.id())],!1)}function bx(){return yx().filter((function(e){return e.length>1}))}function yx(){return Object.values(bC((0,Er.FN)(),(function(e){return e.contentId()}))).map(wx)}function wx(e){return(0,Ue.Z)(e,(function(e){return(0,xn.VA)(e).toLocaleLowerCase()}))}var kx=function(){return kx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kx.apply(this,arguments)};function Ex(e,n,r){return new xe({id:"scrivito.create_page_version",title:(0,f.translate)("commands.create_page_version.title"),tooltip:(0,f.translate)("commands.create_page_version.tooltip"),present:function(){var e=r&&(0,t.Lg)(r,"_scrivitoProbeNewObj");return!Mm(cn.selected,kx({_siteId:n},e&&{_path:e}))},execute:function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(i){switch(i.label){case 0:return[4,Sr(e,n,r)];case 1:return(t=i.sent())&&Sn(t.id()),[2]}}))}))}})}var Cx=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Sx=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function xx(e){return new xe({id:"scrivito.unlinkPageVersion",title:(0,f.translate)("commands.unlink_page_version.title"),icon:["scrivito_icon_unlink","className"],tooltip:(0,f.translate)("commands.unlink_page_version.tooltip"),present:function(){return!(0,Er.tQ)(e)&&!ci(e.id())},execute:function(){return function(e){return Cx(this,void 0,Promise,(function(){return Sx(this,(function(t){switch(t.label){case 0:return[4,Ox()];case 1:return t.sent().dialogCancelled||GS(e),[2]}}))}))}(e)}})}function Ox(){return Cx(this,void 0,void 0,(function(){return Sx(this,(function(e){return[2,Zr({title:(0,f.translate)("commands.unlink_page_version.dialog.title"),description:(0,f.translate)("commands.unlink_page_version.dialog.description"),color:"red",icon:"&#xf15d;",confirmButtonTitle:(0,f.translate)("commands.unlink_page_version.dialog.confirm"),confirmButtonColor:"red"})]}))}))}var Tx,jx=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Dx=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Nx=(0,a.Z)((function(e){var t=e.className,n=ua();return n?i.createElement("div",{className:t},i.createElement("ul",{className:"scrivito_sidebar_tab_nav active"},i.createElement("li",{className:"current_page_tab active"},i.createElement("span",null,(0,f.translate)("sidebar.translations_panel.current_page_tab.title")))),i.createElement("div",{className:"scrivito_sidebar_tab_content current_page_tab_content"},i.createElement("div",{className:"scrivito_sidebar_tab_pane active"},i.createElement("div",{className:"scrivito_description"},(0,f.translate)("sidebar.translations_panel.current_page_tab.description")),i.createElement(Px,{currentPage:n}),i.createElement(Ax,{currentPage:n}),i.createElement(Ix,{currentPage:n})))):null})),Px=(0,a.Z)((function(e){var t,n=e.currentPage,r=i.useState(!1),o=r[0],a=r[1],s="scrivito_icon scrivito_"+n.modification(),c=(0,qs.a)(n);return i.createElement("div",{className:"current_page scrivito_property_padding"},i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:(t="translation_item scrivito_list_item fixed_height active scrivito_selected",o&&(t+=" show_menu"),t)},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:s},"")),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},(0,xn.VA)(n)),i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content"},c&&i.createElement("span",{className:"scrivito_badge"},c),n.language()&&i.createElement("span",{className:"scrivito_badge icon_comments blue"},n.language())))),i.createElement(DE,{isMenuOpen:o,openMenu:function(){return a(!0)},closeMenu:function(){return a(!1)},commandsAndSeparators:[KE({objSpaceId:n.objSpaceId(),objId:n.id()}),Zv(n.id())]}))))})),Ax=(0,a.Z)((function(e){var t=e.currentPage,n=(0,on.s1)(t);return 1===n.length?null:i.createElement("div",{className:"existing_translations"},i.createElement("div",{className:"scrivito_sidebar_separator"},i.createElement("span",null,(0,f.translate)("sidebar.translations_panel.current_page_tab.existing_translations"))),i.createElement("div",{className:"scrivito_property_padding"},i.createElement("div",{className:"scrivito_list_flex list_topic_muted"},i.createElement("div",{className:"scrivito_list_flex_section state_normal"},n.map((function(e){return i.createElement(Mx,{key:e.id(),version:e,currentPage:t})}))))))})),Ix=(0,a.Z)((function(e){var t=e.currentPage,n=(0,Er.uL)().filter((function(e){return!(0,on.OW)(t,e.siteId())}));if(!n.length)return null;var r=Dr();return i.createElement("div",{className:"potential_translations"},i.createElement("div",{className:"scrivito_sidebar_separator "},i.createElement("span",null,(0,f.translate)("sidebar.translations_panel.current_page_tab.potential_translations"))),n.map((function(e){return i.createElement(Lx,{key:e.id(),site:e,currentPage:t,objClipboard:r})})))})),Mx=(0,a.Z)((function(e){var t,n=e.version,r=e.currentPage,o=n.equals(r),a="scrivito_icon scrivito_"+n.modification(),s=(0,qs.a)(n),c=xx(n);return i.createElement("div",{className:(t="translation_item scrivito_list_item",o&&(t+=" active scrivito_selected"),t),onClick:function(){o||Sn(n.id())}},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:a},"")),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},(0,xn.VA)(n)),i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content"},s&&i.createElement("span",{className:"scrivito_badge"},s),n.language()&&i.createElement("span",{className:"scrivito_badge icon_comments blue"},n.language())))),c.isExecutable()&&i.createElement("div",{className:"scrivito_list_action hover_action unlink_translation",onClick:function(e){e.stopPropagation(),c.execute()},title:c.tooltip()},i.createElement("i",{className:"scrivito_icon scrivito_icon_unlink"}),i.createElement("span",null,(0,f.translate)("sidebar.translations_panel.current_page_tab.existing_translation.unlink"))))})),Lx=(0,a.Z)((function(e){var t=e.site,n=e.currentPage,r=e.objClipboard,o=(0,qs.a)(t),a=Ex(n,t.siteId());return i.createElement("div",{className:"potential_translation scrivito_property_padding"},i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:"scrivito_list_flex_section state_normal"},i.createElement("div",{className:"translation_item scrivito_list_item border_blue"},i.createElement("div",{className:"scrivito_list_label"},(0,f.translate)("sidebar.translations_panel.current_page_tab.potential_translations.state")),i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon"},"")),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content"},o&&i.createElement("span",{className:"scrivito_badge"},o),t.language()&&i.createElement("span",{className:"scrivito_badge icon_comments blue"},t.language())))),i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon scrivito_icon_inv_plus"})),a.isExecutable()&&i.createElement("div",{className:"scrivito_list_action hover_action add_version_button",title:a.tooltip(),onClick:function(e){return jx(this,void 0,void 0,(function(){return Dx(this,(function(t){return e.stopPropagation(),e.preventDefault(),a.execute(),[2]}))}))}},i.createElement("i",{className:"scrivito_icon scrivito_icon_inv_plus"}),i.createElement("span",null,a.title()))),(null==r?void 0:r.obj.siteId())===t.siteId()&&i.createElement(Rx,{objClipboard:r,currentPage:n}))))})),Rx=(0,a.Z)((function(e){var t=e.objClipboard,n=e.currentPage,r=function(e){var t=e.source,n=e.target;return new xe({id:"scrivito.linkPageVersion",title:(0,f.translate)("commands.link_page_version.title"),present:function(){return!ci(t.id())},disabled:function(){return(0,Er.tQ)(t)?(0,f.translate)("commands.link_page_version.is_site"):1!==(0,on.s1)(t).length?(0,f.translate)("commands.link_page_version.page_is_already_version"):void 0},execute:function(){return t.update({_contentId:n.contentId()})}})}({source:t.obj,target:n});return r.isPresent()?i.createElement("div",{className:"scrivito_list_item border_blue marked_page cursor_pointer",onClick:function(){return jx(this,void 0,void 0,(function(){return Dx(this,(function(e){return Sn(t.obj.id()),[2]}))}))},title:r.reasonForBeingDisabled()||r.title()},i.createElement("div",{className:"scrivito_list_label"},(0,f.translate)("sidebar.translations_panel.current_page_tab.potential_translations.clipboard_page")),i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon"},"")),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},t.objTitle),i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content"},i.createElement("span",{className:"scrivito_badge"},t.obj.siteId()),t.obj.language()&&i.createElement("span",{className:"scrivito_badge icon_comments blue"},t.obj.language())))),i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon scrivito_icon_add_link"})),r.isExecutable()&&i.createElement("div",{className:"scrivito_list_action hover_action link_version",onClick:function(e){e.stopPropagation(),r.execute()}},i.createElement("i",{className:"scrivito_icon scrivito_icon_add_link"}),i.createElement("span",null,r.title()))):null}));function Fx(){var e;Tx&&(null===(e=Tx.parentNode)||void 0===e||e.removeChild(Tx),Tx=void 0)}function Bx(e){e.dataTransfer.dropEffect="move",e.preventDefault();var n=(0,d_.Sz)();if(!n)throw new t.AQ;var r=(0,_.j0)(n),i=null==r?void 0:r.document();if(!i)throw new t.AQ;Ya({x:e.pageX,y:e.pageY},new qg(i))}var zx=(0,a.Z)((function(e){var n=e.libraryItem,r=e.highlight,o=i.useState(!1),a=o[0],s=o[1];return i.createElement("div",{className:"obj_class_item"},i.createElement("div",{className:"obj_class_item_content",draggable:!0,onDragEnd:function(){s(!1),Fx(),Va(),(0,d_.oU)()},onDragStart:function(e){s(!0),function(e,n){var r,i=e.dataTransfer,o=e.target;i.effectAllowed="move",i.setData("text/plain",o.id),r=n.id(),window.setTimeout((function(){Tx||((Tx=document.createElement("div")).id="widgetCreationDropzone",Tx.setAttribute("data-cancel-message",(0,f.translate)("sidebar.widget_library_panel.drop_to_cancel")),Tx.addEventListener("dragover",Bx),Tx.addEventListener("drop",(function(){return function(e){Fx(),Ka((function(){return ze(e)}))}(r)})),function(){var e=document.getElementById("scrivito_ui");if(!e)throw new t.AQ;return e}().prepend(Tx))}),0),qa(n.create())}(e,n)},onMouseDown:d_.wU,onMouseLeave:function(){a||(0,d_.oU)()},title:n.description()},i.createElement("div",{className:"thumbnail"},i.createElement(De,{thumbnail:n.thumbnail()})),i.createElement("div",{className:"title"},r?i.createElement(Te(),{searchWords:r.split(" "),textToHighlight:n.title()}):n.title())))})),Wx=(0,a.Z)((function(e){var t,n=e.className,r=e.openedAtLeastOnce,o=Aw(),a=i.useState(""),s=a[0],c=a[1],l="scrivito_sidebar_separator "+(o?"":"space_below");return i.createElement(zb.ZP,{className:n},i.createElement(qE,{until:r},i.createElement("div",{className:l},i.createElement("span",null,(0,f.translate)("sidebar.widget_library_panel.title"))),o?i.createElement(qx,{message:o}):i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_search_box site widget_library"},i.createElement("form",{onSubmit:function(e){return e.preventDefault()}},i.createElement("div",{className:"search_input_group"},i.createElement("input",{value:s,placeholder:(0,f.translate)("sidebar.widget_library_panel.search_placeholder"),onChange:function(e){e.preventDefault(),e.stopPropagation(),c(e.target.value)},autoFocus:!0}),i.createElement("div",{className:"search_clear",onClick:function(){return c("")}}),i.createElement("div",{className:"search_input_group_btn"},i.createElement("button",{className:"button_search"},i.createElement("i",{className:"scrivito_icon scrivito_icon_search"})))))),s?i.createElement(Ux,{searchTerm:s}):i.createElement(i.Fragment,null,i.createElement(Hx,{className:"last_used_widgets_class_list",title:(0,f.translate)("sidebar.widget_library_panel.last_used"),libraryItems:(t=Vx(),He(We(t,6)))}),i.createElement(Hx,{className:"all_widgets_class_list",title:(0,f.translate)("sidebar.widget_library_panel.all"),libraryItems:Vx()})))))}));function Ux(e){var t=e.searchTerm,n=Vx(t);return 0===n.length?i.createElement(i.Fragment,null,i.createElement(Zx,{title:(0,f.translate)("sidebar.widget_library_panel.search_results",0)}),i.createElement("div",{className:"scrivito_empty_state"},i.createElement("div",{className:"illustration no_results"}),i.createElement("span",null,(0,f.translate)("sidebar.widget_library_panel.no_search_results")))):i.createElement(Hx,{className:"search_results_widgets_class_list",searchTerm:t,title:(0,f.translate)("sidebar.widget_library_panel.search_results",n.length),libraryItems:n})}function Hx(e){var t=e.title,n=e.className,r=e.libraryItems,o=e.searchTerm;return 0===r.length?null:i.createElement("div",{className:n},i.createElement(Zx,{title:t}),i.createElement("div",{className:"scrivito_property_padding obj_class_item_grid"},r.map((function(e){return i.createElement(zx,{key:e.id(),libraryItem:e,highlight:o})}))))}function Zx(e){var t=e.title;return i.createElement("div",{className:"scrivito_sidebar_separator sub_separator"},i.createElement("span",null,t))}function qx(e){var t=e.message;return i.createElement("div",{className:"scrivito_no_notifications_box scrivito_property_padding"},i.createElement("div",{className:"scrivito_list_big"},i.createElement("div",{className:"scrivito_notice scrivito_grey"},i.createElement("div",{className:"scrivito_notice_body"},t))))}function Vx(e){return He(ks().filter((function(t){return!t.isHiddenInSelectionDialogs()&&(!e||Ne([t.className(),t.title(),t.description()],e))})))}function Kx(){return new xe({id:"scrivito.assignWorkspace",title:(0,f.translate)("commands.assign_workspace.title"),tooltip:(0,f.translate)("commands.assign_workspace.tooltip"),present:function(){var e=Ct();return!!e&&cn.selected.currentUserCan("assign")&&!cn.selected.isAssignedTo(e)},execute:function(){return function(e,n){if(!n)throw new t.AQ("Missing user ID");return(0,Cr.S)(e.assign(n))}(cn.selected,Ct())}})}var $x=function(){return $x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$x.apply(this,arguments)},Gx=(0,a.Z)((function(e){var t=i.useState(""),n=t[0],r=t[1],o=i.useState(e.preselectWorkflow),a=o[0],c=o[1];return i.useEffect((function(){e.subscribeHotkey("enter",l)}),[n,a]),i.useEffect((function(){c(e.preselectWorkflow)}),[e.preselectWorkflow]),i.createElement(s.E,{className:"create_workspace_dialog scrivito_modal_prompt scrivito_blue scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon"},""),i.createElement("h3",{className:"scrivito_title"},(0,f.translate)("create_workspace_dialog.title")),i.createElement("p",null,(0,f.translate)("create_workspace_dialog.description"))),i.createElement("div",{className:"scrivito_modal_body overflow_visible"},i.createElement("input",{type:"text",value:n,onChange:function(e){e.stopPropagation(),r(e.target.value)},placeholder:(0,f.translate)("create_workspace_dialog.placeholder"),autoFocus:!0}),i.createElement(lb,{workflows:e.workflows,selectedWorkflow:a,onChange:c})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_cancel",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.cancelDialog()}},(0,f.translate)("cancel")),i.createElement("a",{className:"scrivito_button scrivito_confirm "+(n?"scrivito_blue":"scrivito_disabled"),onClick:function(e){e.preventDefault(),e.stopPropagation(),l()}},(0,f.translate)("create_workspace_dialog.confirm"))));function l(){n&&e.dialogDone({title:n,workflow:a})}}));function Yx(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var e,t,n,r,a,s,c,l,u,d;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(f){switch(f.label){case 0:return[4,(0,D.zD)((function(){return[Xt(),Qx()]}))];case 1:return e=f.sent(),t=e[0],n=e[1],r=n||t[0],[4,(p={workflows:t,preselectWorkflow:r},(0,o.G)((function(e){return i.createElement(Gx,$x({},p,e))})))];case 2:return(a=f.sent()).dialogCancelled?[2]:(s=a.value,c=s.title,l=s.workflow,[4,(0,Cr.S)(cn.createAsync(c,l.id()))]);case 3:return u=f.sent(),d={workspaceId:u.id},(0,on.f$)()&&(d.displayMode="editing"),[2,ab(d)]}var p}))}))}function Qx(){var e=ua();if(!e)return null;var t=Jt(e.id()),n=cn.selected.workflowId();return n&&t.some((function(e){return e.id()===n}))?en(n):t[0]}var Xx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xx(t,e),t.prototype.render=function(){var e=this,t=this.props.role;return i.createElement("li",{onClick:function(){return e.onClick()},className:this.classNames()},(0,f.translate)("workspace_members_dialog.role_title."+t),i.createElement("span",null,(0,f.translate)("workspace_members_dialog.role_description."+t)))},t.prototype.classNames=function(){var e="";return this.props.isActive&&(e+="enum_attribute_active"),this.props.readOnly&&(e+=" read_only"),e},t.prototype.onClick=function(){this.props.readOnly||this.props.onClick()},t}(i.Component);function eO(e){var t=e.role,n=e.handleRoleSelection,r=e.readOnly;return i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,(0,f.translate)("workspace_members_dialog.user_role"))),i.createElement("div",{className:"item_content"},i.createElement("ul",{className:"enum_attribute enum_block"},i.createElement(Jx,{role:"owner",isActive:"owner"===t,onClick:function(){return n("owner")},readOnly:r}),i.createElement(Jx,{role:"writer",isActive:"writer"===t,onClick:function(){return n("writer")},readOnly:r}),i.createElement(Jx,{role:"reader",isActive:"reader"===t,onClick:function(){return n("reader")},readOnly:r}))),i.createElement("br",null))}var tO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nO=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},rO={suggestions:[],additions:[],role:"owner"},iO=function(e){function t(t){var n=e.call(this,t)||this;return n.state=rO,n.deleteAll=n.deleteAll.bind(n),n.handleAddition=n.handleAddition.bind(n),n.handleDelete=n.handleDelete.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.saveAll=n.saveAll.bind(n),n.setRole=n.setRole.bind(n),n}return tO(t,e),t.prototype.render=function(){var e=!!this.state.additions.length;return i.createElement("div",{className:"scrivito_list_accordion_input_autocomplete"},i.createElement("ul",{className:"scrivito_list_accordion_autocomplete_choices"},i.createElement("li",{className:"scrivito_list_accordion_input_autocomplete_search"},i.createElement(vf,{allowAdditionFromPaste:!1,allowDragDrop:!1,autocomplete:1,classNames:{activeSuggestion:"scrivito_list_accordion_input_autocomplete_result highlighted",remove:"close",suggestions:"scrivito_list_accordion_input_autocomplete_results show",tag:"scrivito_list_accordion_autocomplete_choice scrivito_button scrivito_blue",tagInput:"",tagInputField:"",selected:"scrivito_list_accordion_autocomplete_choices"},handleAddition:this.handleAddition,handleDelete:this.handleDelete,handleFilterSuggestions:oO,handleInputChange:this.handleInputChange,minQueryLength:1,placeholder:(0,f.translate)("workspace_members_dialog.user_search.placeholder"),suggestions:this.state.suggestions,tags:this.state.additions}))),e&&i.createElement("div",{className:"scrivito_list_accordion_content_edit show"},i.createElement("div",{className:"scrivito_detail_content"},i.createElement(eO,{role:this.state.role,handleRoleSelection:this.setRole}),i.createElement("a",{className:"scrivito_button scrivito_right scrivito_cancel",onClick:this.deleteAll},(0,f.translate)("cancel")),i.createElement("a",{className:"scrivito_button scrivito_blue scrivito_right scrivito_save",onClick:this.saveAll},(0,f.translate)("workspace_members_dialog.add_users."+(1===this.state.additions.length?"one":"many"))))))},t.prototype.handleAddition=function(e){this.state.additions.some((function(t){var n=t.id;return e.id===n}))||this.state.suggestions.some((function(t){var n=t.id;return e.id===n}))&&this.setState((function(t){var n=t.additions;return{additions:nO(nO([],n,!0),[e],!1),suggestions:[]}}))},t.prototype.handleDelete=function(e){var t=nO([],this.state.additions,!0);t.splice(e,1),this.setState({additions:t,suggestions:[]})},t.prototype.deleteAll=function(){this.setState(rO)},t.prototype.saveAll=function(){this.props.addUsers(this.addedUserIds(),this.state.role),this.deleteAll()},t.prototype.addedUserIds=function(){return this.state.additions.map((function(e){return e.id}))},t.prototype.setRole=function(e){this.setState({role:e})},t.prototype.handleInputChange=function(e){var t=this;this.lastInput=e,Wt.suggest(e).then((function(n){if(t.lastInput===e){var r=n.filter((function(e){return!(0,Xe.Z)(t.props.disallowedUserIds,e.id)&&!(0,Xe.Z)(t.addedUserIds(),e.id)})).map((function(e){return{id:e.id,text:Yb(e.id)}}));t.setState({suggestions:r})}}))},t}(i.Component);function oO(e,t){return t.filter((function(t){return-1!==t.text.toLowerCase().indexOf(e.toLowerCase())}))}var aO=(0,a.Z)((function(e){var t=e.userId,n=e.handleDelete,r=e.handleSave,o=e.role,a=e.isReadOnly,s=i.useState(null),c=s[0],l=s[1],u=i.useState(!1),d=u[0],p=u[1],h=i.useMemo((function(){return Yb(t,{notAvailableFallback:(0,f.translate)("workspace_members_dialog.user_description_not_available")})}),[t]),m=i.useMemo((function(){return(0,f.translate)("workspace_members_dialog.role_title."+o)}),[o]);return i.useEffect((function(){l(o)}),[o]),i.createElement("div",{className:"scrivito_list_accordion"},i.createElement("div",{className:"scrivito_list_accordion_content",onClick:function(){p((function(e){return!e})),l(o)}},i.createElement("div",{className:"scrivito_list_group_inline"},i.createElement("div",{className:"scrivito_list_group"},i.createElement("div",{className:"profile-image"})),i.createElement("span",{className:"scrivito_list_topic"},h),i.createElement("span",{className:"user_role_meta"},i.createElement("i",{className:"scrivito_icon "+sO[o]}),m)),i.createElement("div",{className:"scrivito_list_action"},i.createElement("span",{className:"scrivito_button_small"},i.createElement("i",{className:"scrivito_icon scrivito_icon_gear"}),(0,f.translate)("edit")))),d&&c&&i.createElement("div",{className:"scrivito_list_accordion_content_edit show"},i.createElement("div",{className:"scrivito_detail_content"},i.createElement(eO,{role:c,handleRoleSelection:l,readOnly:a}),a?i.createElement(lO,{onCancel:v}):i.createElement(cO,{onSave:function(){c&&(r(t,c),p(!1))},onDelete:function(){n(t)},onCancel:v}))));function v(){p(!1),l(o)}})),sO={owner:"scrivito_icon_user",reader:"scrivito_icon_eye",writer:"scrivito_icon_edit"};function cO(e){var t=e.onSave,n=e.onDelete,r=e.onCancel;return i.createElement(i.Fragment,null,i.createElement("a",{className:"scrivito_button scrivito_right scrivito_cancel",onClick:r},(0,f.translate)("cancel")),i.createElement("a",{className:"scrivito_button scrivito_blue scrivito_right scrivito_save",onClick:t},(0,f.translate)("save")),i.createElement("a",{className:"scrivito_button scrivito_darkgrey scrivito_right",onClick:n},(0,f.translate)("delete")))}function lO(e){var t=e.onCancel;return i.createElement(i.Fragment,null,i.createElement("a",{className:"scrivito_button scrivito_right scrivito_cancel",onClick:t},(0,f.translate)("cancel")),i.createElement("a",{className:"scrivito_button scrivito_right scrivito_save scrivito_disabled"},(0,f.translate)("save")),i.createElement("span",{className:"scrivito_button scrivito_right scrivito_disabled",title:(0,f.translate)("workspace_members_dialog.delete_user.cannot_delete_current_user.tooltip")},(0,f.translate)("delete")))}var uO,dO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fO=function(){return fO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fO.apply(this,arguments)},pO=(0,a.Z)((uO=function(e){function t(t){var n=e.call(this,t)||this;return n.state={memberships:fO({},t.initialMemberships)},n.addUsers=n.addUsers.bind(n),n.closeDialog=n.closeDialog.bind(n),n.delete=n.delete.bind(n),n.save=n.save.bind(n),n.setRoleFor=n.setRoleFor.bind(n),n}return dO(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{className:"workspace_members_dialog scrivito_modal_large scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("h3",null,i.createElement("i",{className:"scrivito_icon scrivito_icon_group"}),(0,f.translate)("workspace_members_dialog.title",this.props.workspaceTitleForEditor))),i.createElement("div",{className:"scrivito_modal_body"},i.createElement("div",{className:"scrivito_detail_content"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,(0,f.translate)("workspace_members_dialog.users"))),i.createElement(iO,{addUsers:this.addUsers,disallowedUserIds:this.sortedUserIds()}),i.createElement("div",{className:"scrivito_list_accordion_small"},this.sortedUserIds().map((function(t){return i.createElement(aO,{key:t,role:e.state.memberships[t].role,handleSave:e.setRoleFor,handleDelete:e.delete,userId:t,isReadOnly:e.isReadOnly(t)})}))))),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_close",onClick:this.closeDialog},(0,f.translate)("close"))))},t.prototype.isReadOnly=function(e){return this.sortedUserIds().length<2&&Ct()===e},t.prototype.sortedUserIds=function(){return e=Object.keys(this.state.memberships),(0,Ue.Z)(e,(function(e){var t=Yb(e);return t?"0"+t:"1"+e}));var e},t.prototype.addUsers=function(e,t){this.setState((function(n){var r=n.memberships;return{memberships:fO(fO({},r),hO(e,t))}}),this.save)},t.prototype.setRoleFor=function(e,t){this.setState((function(n){var r,i=n.memberships;return{memberships:fO(fO({},i),(r={},r[e]={role:t},r))}}),this.save)},t.prototype.delete=function(e){var t=this,n=Yb(e,{notAvailableFallback:(0,f.translate)("workspace_members_dialog.user_description_not_available")});Zr({title:(0,f.translate)("workspace_members_dialog.confirm_delete_user.title"),description:(0,f.translate)("workspace_members_dialog.confirm_delete_user.description",{user:n,title:this.props.workspaceTitleForEditor}),icon:"&#xf00a;",color:"red",confirmButtonTitle:(0,f.translate)("workspace_members_dialog.confirm_delete_user"),confirmButtonColor:"red"}).then((function(n){n.dialogCancelled||t.setState((function(t){var n=t.memberships;return{memberships:(0,et.Z)(n,e)}}),t.save)}))},t.prototype.save=function(){this.props.updateMemberships(this.state.memberships)},t.prototype.closeDialog=function(){this.props.dialogDone()},t}(i.Component),uO.displayName="WorkspaceMembersDialog",uO));function hO(e,t){return e.reduce((function(e,n){var r;return fO(fO({},e),((r={})[n]={role:t},r))}),{})}function mO(){return new xe({id:"scrivito.rejectWorkspace",title:(0,f.translate)("commands.reject_workspace.title"),tooltip:(0,f.translate)("commands.reject_workspace.tooltip"),disabled:function(){var e=cn.selected;if(!e.isInReviewStage()&&e.isAssigned())return(0,f.translate)("commands.reject_workspace.is_rejected")},present:function(){return cn.selected.isAssignedTo(function(){var e=Ct();if(!e)throw new t.AQ("Missing user ID");return e}())},execute:function(){return e=cn.selected,(0,Cr.S)(e.withdraw());var e}})}function vO(){return new xe({id:"scrivito.unassignWorkspace",title:(0,f.translate)("commands.unassign_workspace.title"),tooltip:(0,f.translate)("commands.unassign_workspace.tooltip"),present:function(){var e=Ct();return!!e&&cn.selected.isAssignedTo(e)},execute:function(){return function(e,n){if(!n)throw new t.AQ("Missing user ID");return(0,Cr.S)(e.unassign(n))}(cn.selected,Ct())}})}function gO(){return new xe({id:"scrivito.withdrawWorkspace",title:(0,f.translate)("commands.withdraw_workspace.title"),tooltip:(0,f.translate)("commands.withdraw_workspace.tooltip"),disabled:function(){if(cn.selected.isAssigned())return(0,f.translate)("commands.withdraw_workspace.is_being_reviewed")},present:function(){var e=Ct();return!!e&&cn.selected.isInReviewStage()&&cn.selected.isOwnedBy(e)&&!cn.selected.isAssignedTo(e)},execute:function(){return e=cn.selected,(0,Cr.S)(e.withdraw());var e}})}var _O,bO,yO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wO=(0,a.Z)((_O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yO(t,e),t.prototype.render=function(){return i.createElement(zb.ZP,{className:this.props.className},i.createElement(qE,{until:this.props.openedAtLeastOnce},i.createElement(kO,null),i.createElement(EO,null),i.createElement(CO,null),i.createElement(SO,null),i.createElement(OO,null),i.createElement(xO,null)))},t}(i.Component),_O.displayName="Sidebar.WorkspacesPanel",_O)),kO=(0,a.Z)((function(){return i.createElement("div",{className:"scrivito_general_workspaces_group"},i.createElement("div",{className:"scrivito_sidebar_separator"},i.createElement("span",null,(0,f.translate)("sidebar.workspaces_panel.general_workspaces_group.title"))),i.createElement("ul",{className:"scrivito_sidebar_action"},i.createElement(jO,null)))})),EO=(0,a.Z)((function(){var e,t,n=cn.selected;return n.isPublished()||(e=i.createElement("ul",{className:"scrivito_sidebar_action"},i.createElement(DO,null),i.createElement(NO,null),i.createElement(AO,null),i.createElement(IO,null),i.createElement(MO,null),i.createElement(PO,null))),n.isPublished()||(t=i.createElement("ul",{className:"scrivito_sidebar_action"},i.createElement(LO,null),i.createElement(FO,null),i.createElement(RO,{workspace:n}),i.createElement(BO,{workspace:n}))),i.createElement("div",{className:"scrivito_current_workspace_group"},i.createElement("div",{className:"scrivito_sidebar_separator"},i.createElement("span",null,(0,f.translate)("sidebar.workspaces_panel.current_workspace_group.title"))),i.createElement(UC,{workspaces:[[n,dl()]],listType:Jk(n)}),e,t)})),CO=(0,a.Z)((function(){return cn.selected.isPublished()?null:i.createElement(TO,{title:(0,f.translate)("workspace.title.published"),workspaces:[cn.published]})})),SO=(0,a.Z)((bO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yO(t,e),t.prototype.render=function(){var e=Ct();if(!e)return null;var t=cn.ownedBy(e);return 0===t.length?null:i.createElement("div",{className:"scrivito_workspaces_group"},i.createElement("div",{className:"scrivito_sidebar_separator"},i.createElement("span",null,(0,f.translate)("sidebar.workspaces_panel.my_workspaces_group.title"))),i.createElement(UC,{listType:"submitted",workspaces:eE("submitted",t)}),i.createElement(UC,{listType:"in_review",workspaces:eE("in_review",t)}),i.createElement(UC,{listType:"was_in_review",workspaces:eE("was_in_review",t)}),i.createElement(UC,{listType:"normal",workspaces:eE("normal",t)}))},t}(i.Component),bO.shouldRenderLoaderError=!0,bO)),xO=(0,a.Z)((function(){var e=Ct();if(!e)return null;var t=cn.readable().filter((function(t){return!t.isOwnedBy(e)&&!t.isInReviewStage()&&!t.isAssigned()}));return i.createElement(TO,{title:(0,f.translate)("sidebar.workspaces_panel.other_workspaces_group.title"),workspaces:t})})),OO=(0,a.Z)((function(){var e=Ct();if(!e)return null;var t=tE(e);return 0===t.length?null:i.createElement("div",{className:"scrivito_workspaces_group"},i.createElement("div",{className:"scrivito_sidebar_separator"},i.createElement("span",null,(0,f.translate)("sidebar.workspaces_panel.in_review_workspaces.title"))),i.createElement(UC,{listType:"submitted",workspaces:eE("submitted",t)}),i.createElement(UC,{listType:"in_review",workspaces:eE("in_review",t)}),i.createElement(UC,{listType:"was_in_review",workspaces:eE("was_in_review",t)}))})),TO=(0,a.Z)((function(e){return e.workspaces&&0===e.workspaces.length?null:i.createElement("div",{className:"scrivito_workspaces_group"},i.createElement("div",{className:"scrivito_sidebar_separator"},i.createElement("span",null,e.title)),e.workspaces&&i.createElement(UC,{workspaces:e.workspaces}),e.isLoading&&i.createElement(Bs.aN,null))}));function jO(){return i.createElement(Fy,{tag:"li",command:new xe({id:"scrivito.createWorkspaceCommand",title:(0,f.translate)("commands.create_workspace.title"),tooltip:(0,f.translate)("commands.create_workspace.tooltip"),disabled:function(){if(0===Xt().length)return(0,f.translate)("commands.create_workspace.no_startable_workflows")},execute:Yx}),className:"scrivito_sidebar_action_item scrivito_create_workspace_button",iconClassName:"scrivito_icon_inv_plus scrivito_blue"})}function DO(){return i.createElement(Fy,{tag:"li",command:Ny(),className:"scrivito_sidebar_action_item scrivito_publish_button",iconClassName:"scrivito_icon_publish scrivito_blue"})}function NO(){return i.createElement(Fy,{tag:"li",command:Iy(),className:"scrivito_sidebar_action_item scrivito_submit_button",iconClassName:"scrivito_icon_submit"})}function PO(){return i.createElement(Fy,{tag:"li",command:gO(),className:"scrivito_sidebar_action_item scrivito_withdraw_button",iconClassName:"scrivito_icon_return"})}function AO(){return i.createElement(Fy,{tag:"li",command:Kx(),className:"scrivito_sidebar_action_item scrivito_assign_button",iconClassName:"scrivito_icon_assignme"})}function IO(){return i.createElement(Fy,{tag:"li",command:vO(),className:"scrivito_sidebar_action_item scrivito_unassign_button",iconClassName:"scrivito_icon_unassignme"})}function MO(){return i.createElement(Fy,{tag:"li",command:mO(),className:"scrivito_sidebar_action_item scrivito_reject_button",iconClassName:"scrivito_icon_return"})}function LO(){return i.createElement(Fy,{tag:"li",command:TE(),className:"scrivito_sidebar_action_item scrivito_changes_button",iconClassName:"scrivito_icon_edited"})}function RO(e){return i.createElement(Fy,{tag:"li",command:(t=e.workspace,new xe({id:"scrivito.renameWorkspace",title:(0,f.translate)("commands.rename_workspace.title"),tooltip:(0,f.translate)("commands.rename_workspace.tooltip"),disabled:function(){return t.isInReviewStage()&&t.currentUserCan("submit_to_review")?(0,f.translate)("commands.rename_workspace.is_submitted"):t.currentUserCan("write")?void 0:(0,f.translate)("commands.rename_workspace.is_forbidden")},execute:function(){return function(e){var t=e.title,n=e.titleForEditor;return jl({title:(0,f.translate)("rename_workspace_dialog.title",n),placeholder:n,value:t||"",icon:"&#xf043;",okButtonText:(0,f.translate)("confirm")})}({title:t.title,titleForEditor:t.titleForEditor}).then((function(e){if(!e.dialogCancelled)return t.update({title:e.value})}))}})),className:"scrivito_sidebar_action_item scrivito_rename_workspace_button",iconClassName:"scrivito_icon_title"});var t}function FO(){return i.createElement(Fy,{tag:"li",command:new xe({id:"scrivito.openWorkspaceMembers",title:(0,f.translate)("commands.open_workspace_members.title"),tooltip:(0,f.translate)("commands.open_workspace_members.tooltip"),disabled:function(){if(!cn.selected.currentUserCan("invite_to"))return(0,f.translate)("commands.open_workspace_members.is_forbidden")},execute:function(){return e=cn.selected,(0,o.G)((function(t){return i.createElement(pO,fO({},t,{workspaceTitleForEditor:e.titleForEditor,updateMemberships:function(t){return e.update({memberships:t})},initialMemberships:e.memberships}))}));var e}}),className:"scrivito_sidebar_action_item scrivito_workspace_members_button",iconClassName:"scrivito_icon_group"})}function BO(e){return i.createElement(Fy,{tag:"li",command:(t=e.workspace,new xe({id:"scrivito.rebaseWorkspace",title:(0,f.translate)("commands.rebase_workspace.title"),tooltip:(0,f.translate)("commands.rebase_workspace.tooltip"),present:function(){return!t.isAutoUpdate()},disabled:function(){if(!t.currentUserCan("write"))return(0,f.translate)("commands.rebase_workspace.is_forbidden")},execute:function(){return(0,Cr.S)(t.rebase()).then((function(){return function(e){return(0,D.zD)((function(){return e.hasConflicts()})).then((function(e){if(e)return Zr({title:(0,f.translate)("commands.rebase_workspace.has_conflicts.title"),description:(0,f.translate)("commands.rebase_workspace.has_conflicts.description"),icon:"&#xf01d;",confirmButtonTitle:(0,f.translate)("commands.rebase_workspace.open_changes_dialog")}).then((function(e){if(!e.dialogCancelled)return Ky()}))}))}(t)})).then((function(){return(0,Fg.W)()}))}})),className:"scrivito_sidebar_action_item scrivito_renase_button",iconClassName:"scrivito_icon_refresh"});var t}var zO=function(){return zO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zO.apply(this,arguments)},WO=["changesList","details","hierarchy","history","notifications","pageProperties","previewSizes","search","sites","translations","widgetLibrary","workspaces"],UO=(0,a.Z)((function(e){var t=i.useState(!1),n=t[0],r=t[1],o=i.useState(!1),a=o[0],s=o[1];if(i.useEffect((function(){s(!0)}),[]),i.useEffect((function(){!n&&e.isOpen&&r(!0)}),[n,e.isOpen]),(0,d.Af)())return null;var c=function(){var e=Uw.get();if("number"==typeof e&&e<=50)return e}(),l=c?c+"vw":225,u=i.createElement(i.Fragment,null,i.createElement(wS,zO({key:"searchPanel"},p("search"),{isFocusable:e.isOpen&&!e.isAnimating})),i.createElement(rx,zO({},p("sites"))),i.createElement("div",{className:h("hierarchy")},i.createElement(uC,{openedAtLeastOnce:n})),i.createElement(Nx,zO({},p("translations"))),i.createElement(Wx,zO({},p("widgetLibrary"),{openedAtLeastOnce:n})),i.createElement(wO,zO({},p("workspaces"),{openedAtLeastOnce:n})),i.createElement(ME,zO({},p("changesList"))),i.createElement(sS,zO({},p("pageProperties"))),i.createElement(BC,zO({},p("history"),{openedAtLeastOnce:n})),i.createElement(XC,zO({},p("notifications"))),i.createElement(cS,zO({},p("previewSizes"))));return a&&"fixed"===xw()?i.createElement("div",{onTransitionEnd:m,className:f(),style:{marginRight:c?"min(-"+c+"vw, -225px":-225}},i.createElement(OE,{size:{width:l,height:"100%"},maxWidth:"50vw",minWidth:225,onResize:HO,className:"sidebar_resizable_container",handleWrapperClass:"scrivito_sidebar_resize_handle",enable:{bottom:!1,bottomLeft:!1,bottomRight:!1,left:!0,right:!1,top:!1,topLeft:!1,topRight:!1}},u)):i.createElement("div",{onTransitionEnd:m,className:f(),style:{width:225,marginRight:"-225px"}},u);function f(){var t="scrivito_second_level scrivito_small_screen";return e.isAnimating&&(t+=" animating"),e.isOpen&&(t+=" open"),t}function p(t){return{isActive:t===e.activePanel,className:h(t)}}function h(t){var n="scrivito_dark scrivito_"+t+"_panel scrivito_second_level_content";return t===e.activePanel&&(n+=" scrivito_show"),n}function m(t){t.target===t.currentTarget&&e.onTransitionEnd()}}));function HO(e,n,r){var i;e.stopPropagation(),i=function(e){var n=document.documentElement.clientWidth;if(!n)throw new t.AQ;return e*(100/n)}(r.getBoundingClientRect().width),Uw.set(Math.min(50,i))}var ZO,qO,VO="sidebar.activePanel",KO="workspaces";function $O(){ZO=void 0,qO=void 0}function GO(){var e=(0,Y.GH)().get(VO);return function(e){return"string"==typeof e&&-1!==WO.indexOf(e)}(e)?"history"===e&&Pw()||"widgetLibrary"===e&&Aw()||"changesList"===e&&Iw()?KO:"pageProperties"!==e||yw()?e:KO:KO}var YO=(0,a.Z)((function(e){var t=e.hideMenubar,n=i.useState(!_()),r=n[0],o=n[1],a=i.useState(!1),s=a[0],c=a[1],l=i.useState(KO),u=l[0],f=l[1],p=i.useRef();i.useLayoutEffect((function(){var e;return c(y()),p.current=function(e){var t=new Dw({events:["open","close","mouseOver","willOpenTimeout","openTransitionFinished","mouseLeave","willCloseTimeout","closeTransitionFinished","hide","unhideAndClose","unhideAndDisable"],initialState:e.initialState,states:{isClosed:{open:{transitionTo:"isOpening",execute:["openSidebar"]},mouseOver:{transitionTo:"willOpen",execute:["setWillOpenTimeout"]}},willOpen:{open:{transitionTo:"isOpening",execute:["clearWillOpenTimeout","openSidebar"]},willOpenTimeout:{transitionTo:"isOpening",execute:["openSidebar"]},mouseLeave:{transitionTo:"isClosed",execute:["clearWillOpenTimeout"]}},isOpening:{openTransitionFinished:{transitionTo:"isOpen"}},isOpen:{mouseLeave:{transitionTo:"willClose",execute:["setWillCloseTimeout"]},close:{transitionTo:"isDisabled",execute:["closeSidebar"]}},willClose:{willCloseTimeout:{transitionTo:"isClosing",execute:["closeSidebar"]},mouseOver:{transitionTo:"isOpen",execute:["clearWillCloseTimeout"]}},isClosing:{closeTransitionFinished:{transitionTo:"isClosed"}},isDisabled:{open:{transitionTo:"isOpening",execute:["openSidebar"]}},isHidden:{unhideAndClose:{transitionTo:"isClosed"},unhideAndDisable:{transitionTo:"isDisabled"}}},superStateEvents:{hide:{transitionTo:"isHidden",execute:["closeSidebar"]}},actions:{openSidebar:e.openSidebar,closeSidebar:e.closeSidebar,setWillOpenTimeout:function(){Ow=window.setTimeout((function(){return t.triggerEvent("willOpenTimeout")}),500)},setWillCloseTimeout:function(){Tw=window.setTimeout((function(){return t.triggerEvent("willCloseTimeout")}),500)},clearWillOpenTimeout:function(){Ow&&clearTimeout(Ow)},clearWillCloseTimeout:function(){Tw&&clearTimeout(Tw)}}});return t}({openSidebar:function(){o(!0),kw(!0),c(!0)},closeSidebar:function(){o(!0),kw(!1),c(!1)},initialState:y()?"isOpen":"isClosed"}),(0,D.zD)(GO).then((function(e){_()&&Ew()&&!s?v(e):f(e)})),null===(e=QO())||void 0===e||e.classList.add("scrivito_sidebar_show_first_level"),b(),ZO=function(){return m("workspaces")},qO=g,$O}),[]),i.useEffect((function(){b()}));var h=_()?"scrivito_sidebar scrivito_sidebar_sticky":"scrivito_sidebar";return i.createElement("div",{className:h,onMouseOver:function(){var e;_()||null===(e=p.current)||void 0===e||e.triggerEvent("mouseOver")},onMouseLeave:function(){var e;_()||null===(e=p.current)||void 0===e||e.triggerEvent("mouseLeave")}},i.createElement(aE,{activePanel:u,togglePanel:m,hideMenubar:function(){p.current&&(t(),p.current.triggerEvent("hide"))}}),i.createElement(UO,{activePanel:u,isAnimating:r,isOpen:s,onTransitionEnd:function(){p.current&&(r&&o(!1),s?p.current.triggerEvent("openTransitionFinished"):(p.current.triggerEvent("closeTransitionFinished"),"isDisabled"===p.current.getCurrentState()&&u&&f(null)))}}));function m(e){p.current&&(function(e){(0,Y.GH)().set(VO,e)}(e),s?e===u&&"isOpen"===p.current.getCurrentState()?p.current.triggerEvent("close"):f(e):v(e))}function v(e){p.current&&(f(e),p.current.triggerEvent("open"))}function g(){p.current&&(u?p.current.triggerEvent("unhideAndClose"):p.current.triggerEvent("unhideAndDisable"))}function _(){return"fixed"===xw()}function b(){var e,t;_()&&(s&&!(0,d.Af)()?null===(e=QO())||void 0===e||e.classList.add("scrivito_sidebar_show_second_level_fixed"):null===(t=QO())||void 0===t||t.classList.remove("scrivito_sidebar_show_second_level_fixed"))}function y(){return!!_()&&Ew()}}));function QO(){return document.getElementById("scrivito_ui")}function XO(){if(cn.selected.isPublished())return!0;if(Py()&&!Ay())return!0;var e=My();return!(e&&!Ly()||e)}var JO=n(22605),eT=(0,n(49197).Z)((function(e,t){return null==e?{}:function(e,t){return Yv(e,t,(function(t,n){return(0,JO.Z)(e,n)}))}(e,t)}));function tT(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var e,t,n,r,i;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){switch(o.label){case 0:return[4,(0,D.zD)((function(){return nT()}))];case 1:return e=o.sent(),t=e.libraryItems,n=e.siteId,t&&n?[4,(0,D.zD)(PS.I)]:[2];case 2:return r=o.sent(),[4,Ve({title:(0,f.translate)("commands.create_page.dialog.title"),libraryItems:t,createObjParams:{siteId:n,restriction:r}})];case 3:return(i=o.sent()).dialogCancelled?[2]:[4,Sn(i.value.id())];case 4:return o.sent(),[2]}}))}))}function nT(){var e=(0,Ls.l)();if(!e)return{reasonForDisabled:(0,f.translate)("commands.create_page.disabled.workflow_disallows_create")};var t=bn.P.validPageClassesInSelectionDialogs().map((function(e){return e.name})),n=cn.selected,r=wn().filter((function(e){var n=e.className(),r=bn.P.get(n);return r&&t.includes(n)&&!r.restrictsParent()}));if(0===r.length)return{reasonForDisabled:(0,f.translate)("commands.create_page.disabled.no_suitable_subpages")};var i=r.filter((function(t){return A(n,{_objClass:t.className(),_siteId:e,_path:null})}));return 0===i.length?{reasonForDisabled:(0,f.translate)("commands.create_page.disabled.workflow_disallows_create")}:{libraryItems:i,siteId:e}}var rT=function(){return rT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rT.apply(this,arguments)};function iT(){return(0,o.G)((function(e){return i.createElement(oT,rT({},e))}))}var oT=(0,a.Z)((function(e){return i.createElement(s.E,{className:"current_page_link_dialog scrivito_modal_prompt scrivito_blue scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon scrivito_icon_link"}),i.createElement("h3",{className:"scrivito_title"},(0,f.translate)("current_page_link_dialog.title"))),i.createElement("div",{className:"scrivito_modal_body"},i.createElement("p",null,(0,f.translate)("current_page_link_dialog.description")),i.createElement("input",{className:"scrivito_full_width",type:"text",readOnly:!0,value:ib({displayMode:(0,hs.cA)()?"diff":"view",comparisonRange:Ds()}),ref:function(e){return null==e?void 0:e.select()}})),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button scrivito_close",onClick:e.cancelDialog},(0,f.translate)("close"))))}));function aT(e){return new xe({id:"scrivito.sdk.open_share_page_dialog",icon:["scrivito_icon_link_perm","className"],title:(0,f.translate)("commands.open_share_page_dialog.title"),disabled:function(){var t;if(null===(t=on.Jj.getIncludingDeleted(e))||void 0===t?void 0:t.isDeleted())return(0,f.translate)("commands.open_share_page_dialog.is_deleted")},execute:iT})}var sT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cT=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return sT(t,e),t.prototype.render=function(){return i.createElement("a",{className:this.className(),onClick:this.onClick},this.props.title)},t.prototype.className=function(){return this.props.className+" scrivito_button scrivito_right"+(this.props.isDisabled?" scrivito_lightgrey scrivito_disabled":" "+this.props.colorClassName)},t.prototype.onClick=function(e){e.preventDefault(),e.stopPropagation(),this.props.onClick()},t.displayName="TeamsDialog.FormButton",t}(i.Component),lT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uT=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},dT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lT(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{className:"item_content"},i.createElement("ul",{className:"enum_attribute scrivito_multi enum_block"},rt().map((function(t){return i.createElement(fT,{key:t,permission:t,isSelected:e.isPermissionSelected(t),onClick:function(){return e.onPermissionClicked(t)}})}))))},t.prototype.isPermissionSelected=function(e){return-1!==this.props.permissions.indexOf(e)},t.prototype.onPermissionClicked=function(e){this.isPermissionSelected(e)?this.removePermission(e):this.addPermission(e)},t.prototype.removePermission=function(e){this.props.onChange((0,vp.Z)(this.props.permissions,e))},t.prototype.addPermission=function(e){this.props.onChange(uT(uT([],this.props.permissions,!0),[e],!1))},t.displayName="TeamDialog.EditTeamForm.PermissionList",t}(i.Component),fT=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return lT(t,e),t.prototype.render=function(){return i.createElement("li",{className:this.className(),onClick:this.onClick},i.createElement("div",null,(0,f.translate)("models.team_permission."+this.props.permission)),i.createElement("span",null,(0,f.translate)("models.team_permission."+this.props.permission+".description")))},t.prototype.className=function(){if(this.props.isSelected)return"enum_attribute_active"},t.prototype.onClick=function(e){e.stopPropagation(),this.props.onClick()},t}(i.Component);function pT(e){if(e instanceof h.XF)switch(e.code){case"validation.empty":return(0,f.translate)("teams_dialog.team_validation_error.title_empty");case"validation.taken":return(0,f.translate)("teams_dialog.team_validation_error.title_taken");case"validation.invalid_value":return(0,f.translate)("teams_dialog.team_validation_error.title_invalid");case"precondition_not_met.team_limit_reached":return(0,f.translate)("teams_dialog.team_validation_error.limit_reached")}return null}var hT,mT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vT=(0,a.Z)((hT=function(e){function t(t){var n=e.call(this,t)||this;return n.onSubmit=Yp((function(){return(e={title:n.state.title,description:n.state.description,permissions:n.state.permissions},h.i3.post("teams",e).then((function(e){var t=e.id,n=lt(e,["id"]);return vt.addItem(t,n),new dt(t)}))).then((function(){n.reset(),n.props.onClose()})).catch((function(e){var t=pT(e);if(!t)throw e;n.setState({titleError:t})}));var e})),n.state={title:"",description:"",permissions:[],titleError:void 0},n.onTitleChange=n.onTitleChange.bind(n),n.onDescriptionChange=n.onDescriptionChange.bind(n),n.onPermissionsChange=n.onPermissionsChange.bind(n),n}return mT(t,e),t.prototype.render=function(){return i.createElement("div",{className:this.className()},i.createElement("div",{className:"scrivito_detail_content"},i.createElement("div",{className:"scrivito_detail_label large"},i.createElement("span",null,(0,f.translate)("teams_dialog.add_team_form.form_title"))),i.createElement("div",{className:this.titleLabelClassName()},i.createElement("span",null,(0,f.translate)("teams_dialog.add_team_form.title"))),i.createElement("input",{type:"text",value:this.state.title,className:this.titleInputClassName(),onChange:this.onTitleChange}),this.state.titleError&&i.createElement("div",{className:"scrivito_notice scrivito_transparent scrivito_text_red"},i.createElement("div",{className:"scrivito_notice_icon"},i.createElement("i",{className:"scrivito_icon scrivito_icon_error"})),i.createElement("div",{className:"scrivito_notice_body"},this.state.titleError)),i.createElement("div",{className:"add_team_form_description_label scrivito_detail_label"},i.createElement("span",null,(0,f.translate)("teams_dialog.add_team_form.description"))),i.createElement("input",{type:"text",value:this.state.description,onChange:this.onDescriptionChange}),i.createElement("div",{className:"add_team_form_description_label scrivito_detail_label"},i.createElement("span",null,(0,f.translate)("teams_dialog.add_team_form.permissions"))),i.createElement(dT,{permissions:this.state.permissions,onChange:this.onPermissionsChange}),i.createElement("br",null),i.createElement("a",{className:"add_team_form_close_button scrivito_button scrivito_right",onClick:this.props.onClose},(0,f.translate)("cancel")),i.createElement(cT,{title:(0,f.translate)("add"),className:"add_team_form_submit_button",colorClassName:"scrivito_blue",onClick:this.onSubmit})))},t.prototype.className=function(){var e="scrivito_list_accordion_content_edit add_team_form";return this.props.isOpen&&(e+=" show"),e},t.prototype.titleLabelClassName=function(){var e="add_team_form_title_label scrivito_detail_label";return this.state.titleError&&(e+=" scrivito_red"),e},t.prototype.titleInputClassName=function(){if(this.state.titleError)return"scrivito_error"},t.prototype.onTitleChange=function(e){e.preventDefault(),e.stopPropagation(),this.setState({title:e.target.value,titleError:void 0})},t.prototype.onDescriptionChange=function(e){e.preventDefault(),e.stopPropagation(),this.setState({description:e.target.value})},t.prototype.onPermissionsChange=function(e){this.setState({permissions:e})},t.prototype.reset=function(){this.setState({title:"",description:"",permissions:[]})},t}(i.Component),hT.displayName="TeamsDialog.AddTeamForm",hT));function gT(e){if(!(e instanceof h.XF))return null;var t=e.code,n=e.details,r=e.message;return function(e){return"string"==typeof e.field}(n)?{field:n.field,code:t,message:r}:null}function _T(e){if(e instanceof h.XF&&"precondition_not_met.user_limit_reached"===e.code)return(0,f.translate)("interactions.create_member.precondition_error.user_limit_reached");var t=gT(e);if(t&&"email"===t.field){if("validation.missing"===t.code)return(0,f.translate)("interactions.create_member.validation_error.email_missing");if("validation.taken"===t.code)return(0,f.translate)("interactions.create_member.validation_error.email_taken");if("validation.invalid_value"===t.code)return(0,f.translate)("interactions.create_member.validation_error.email_invalid")}throw e}function bT(){var e=rt();return TT.getWithDefault([]).filter((function(t){return e.includes(t)}))}var yT,wT,kT,ET,CT,ST,xT,OT,TT=new D.of({state:y.n2.subState("basePermissions"),loader:function(){return h.i3.get("users/base_permissions").then((function(e){return e.results}))}}),jT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DT=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},NT=(0,a.Z)((yT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jT(t,e),t.prototype.render=function(){var e=this;return i.createElement(i.Fragment,null,i.createElement("div",{className:"item_content"},i.createElement("ul",{className:"enum_attribute enum_block scrivito_multi"},pt().map((function(t){return i.createElement(PT,{key:t.id(),team:t,isReadOnly:!!e.props.isReadOnly,isSelected:e.isTeamSelected(t),onClick:function(){return e.onTeamClicked(t)}})})),i.createElement(AT,null))),i.createElement("br",null))},t.prototype.isTeamSelected=function(e){return!!this.props.teams.find((function(t){return t.id()===e.id()}))},t.prototype.onTeamClicked=function(e){this.isTeamSelected(e)?this.removeFromTeam(e):this.addToTeam(e)},t.prototype.addToTeam=function(e){this.props.onChange(DT(DT([],this.props.teams,!0),[e],!1))},t.prototype.removeFromTeam=function(e){this.props.onChange(this.props.teams.filter((function(t){return!t.equals(e)})))},t}(i.Component),yT.displayName="TeamsDialog.UserTeamList",yT)),PT=(0,a.Z)(((wT=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return jT(t,e),t.prototype.render=function(){return i.createElement("li",{className:this.className(),onClick:this.onClick,title:this.props.team.description()},this.props.team.title(),i.createElement("span",null,this.props.team.permissions().map((function(e){return i.createElement("span",{key:e,className:"tag"},(0,f.translate)("models.team_permission."+e))}))))},t.prototype.className=function(){var e="user_team_item";return this.props.isReadOnly&&(e+=" read_only"),this.props.isSelected&&(e+=" enum_attribute_active"),e},t.prototype.onClick=function(e){e.stopPropagation(),this.props.isReadOnly||this.props.onClick()},t}(i.Component)).displayName="TeamsDialog.UserTeamList.UserTeamItem",wT)),AT=(0,a.Z)((function(){return i.createElement("li",{className:"enum_attribute_active no_edit base_permissions"},i.createElement("span",{className:"title"},(0,f.translate)("teams_dialog.base_permissions.title")),i.createElement("span",null,bT().map((function(e){return i.createElement("span",{key:e,className:"tag"},(0,f.translate)("models.team_permission."+e))}))))})),IT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MT=function(e){function t(t){var n=e.call(this,t)||this;return n.onSubmit=Yp((function(){return function(e){var t=e.email,n=e.teams;return(0,Cr.S)(bt.create({email:t})).then((function(e){if(n)return e.updateTeams(n)}),_T)}({email:n.state.email.trim(),teams:n.state.teams}).then((function(e){e?n.setState({emailError:e}):(n.reset(),n.props.onClose())}))})),n.state={email:"",teams:[],emailError:void 0},n.onEmailChange=n.onEmailChange.bind(n),n.onTeamsChange=n.onTeamsChange.bind(n),n}return IT(t,e),t.prototype.render=function(){return i.createElement("div",{className:this.className()},i.createElement("div",{className:"scrivito_detail_content"},i.createElement("div",{className:"scrivito_detail_label large"},i.createElement("span",null,(0,f.translate)("teams_dialog.add_user_form.title"))),i.createElement("div",{className:this.emailLabelClassName()},i.createElement("span",null,(0,f.translate)("teams_dialog.add_user_form.email"))),i.createElement("input",{type:"text",value:this.state.email,className:this.emailInputClassName(),placeholder:(0,f.translate)("teams_dialog.add_user_form.email_placeholder"),onChange:this.onEmailChange}),this.state.emailError&&i.createElement("div",{className:"scrivito_notice scrivito_transparent scrivito_text_red"},i.createElement("div",{className:"scrivito_notice_icon"},i.createElement("i",{className:"scrivito_icon scrivito_icon_error"})),i.createElement("div",{className:"scrivito_notice_body"},this.state.emailError)),i.createElement("div",{className:"add_user_form_teams_label scrivito_detail_label"},i.createElement("span",null,(0,f.translate)("teams_dialog.add_user_form.teams"))),i.createElement(NT,{teams:this.state.teams,onChange:this.onTeamsChange}),i.createElement("a",{className:"add_user_form_close_button scrivito_button scrivito_right",onClick:this.props.onClose},(0,f.translate)("cancel")),i.createElement("a",{className:"add_user_form_submit_button scrivito_button scrivito_blue scrivito_right",onClick:this.onSubmit},(0,f.translate)("add"))))},t.prototype.className=function(){var e="scrivito_list_accordion_content_edit add_user_form";return this.props.isOpen&&(e+=" show"),e},t.prototype.emailLabelClassName=function(){var e="add_user_form_email_label scrivito_detail_label";return this.state.emailError&&(e+=" scrivito_red"),e},t.prototype.emailInputClassName=function(){if(this.state.emailError)return"scrivito_error"},t.prototype.onEmailChange=function(e){this.setState({email:e.target.value,emailError:void 0})},t.prototype.onTeamsChange=function(e){this.setState({teams:e})},t.prototype.reset=function(){this.setState({email:"",teams:[]})},t.displayName="TeamsDialog.AddUserForm",t}(i.Component),LT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RT=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},FT=(0,a.Z)(((kT=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isFormOpen:!1},n.toggleForm=n.toggleForm.bind(n),n}return LT(t,e),t.prototype.render=function(){return i.createElement("div",{className:"base_permissions scrivito_list_accordion"},i.createElement("div",{className:"scrivito_list_accordion_content"},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon scrivito_icon_group"})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},(0,f.translate)("teams_dialog.base_permissions.title")),i.createElement("span",{className:"scrivito_list_meta"},bT().map((function(e){return i.createElement("span",{key:e,className:"tag"},(0,f.translate)("models.team_permission."+e))})))),i.createElement("div",{className:this.buttonsClassName()},i.createElement("span",{className:this.buttonClassName(),onClick:this.toggleForm},i.createElement("i",{className:"scrivito_icon scrivito_icon_gear"}),(0,f.translate)("edit")))),i.createElement(BT,{isOpen:this.state.isFormOpen,onClose:this.toggleForm}))},t.prototype.buttonsClassName=function(){var e="scrivito_list_action";return this.state.isFormOpen&&(e+=" active"),e},t.prototype.buttonClassName=function(){var e="scrivito_button_small";return this.state.isFormOpen&&(e+=" active"),e},t.prototype.toggleForm=function(){this.setState({isFormOpen:!this.state.isFormOpen})},t}(i.Component)).displayName="TeamsDialog.TeamList.BasePermissions",kT)),BT=(0,a.Z)(((ET=function(e){function n(n){var r=e.call(this,n)||this;return r.onSave=Yp((function(){return r.state.nextPermissions?(e=r.state.nextPermissions,h.i3.put("users/base_permissions",{permissions:e}).then((function(){return TT.set(e)}))):t.s8.resolve();var e})),r.state={nextPermissions:null},r.onChange=r.onChange.bind(r),r.onClose=r.onClose.bind(r),r}return LT(n,e),n.prototype.render=function(){return i.createElement("div",{className:this.className()},i.createElement("div",{className:"scrivito_detail_content"},i.createElement(dT,{permissions:this.state.nextPermissions||bT(),onChange:this.onChange}),i.createElement("br",null),i.createElement("a",{className:"base_permissions_close_button scrivito_button scrivito_right",onClick:this.onClose},this.hasChanges()?(0,f.translate)("cancel"):(0,f.translate)("close")),i.createElement(cT,{title:(0,f.translate)("save"),className:"base_permissions_save_button",colorClassName:"scrivito_blue",isDisabled:!this.hasChanges(),onClick:this.onSave})))},n.prototype.className=function(){var e="base_permissions_form scrivito_list_accordion_content_edit";return this.props.isOpen&&(e+=" show"),e},n.prototype.onChange=function(e){this.setState({nextPermissions:e})},n.prototype.onClose=function(e){e.stopPropagation(),this.setState({nextPermissions:null}),this.props.onClose()},n.prototype.hasChanges=function(){return null!==this.state.nextPermissions&&!qt(RT([],this.state.nextPermissions,!0).sort(),RT([],bT(),!0).sort())},n}(i.Component)).displayName="TeamsDialog.TeamList.BasePermissions.BasePermissionsForm",ET)),zT=Yp((function(e){return Zr({title:(0,f.translate)("interactions.delete_team.dialog.title"),description:(0,f.translate)("interactions.delete_team.dialog.description",e.title()),icon:"&#xf00a;",color:"red",confirmButtonTitle:(0,f.translate)("delete"),confirmButtonColor:"red"}).then((function(t){if(!t.dialogCancelled)return function(e){return h.i3.delete("teams/"+e.id()).then((function(){vt.deleteItem(e.id()).then((function(){ot(e.id()),at.clear()}))}))}(e)}))})),WT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),UT=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},HT=(0,a.Z)(((CT=function(e){function t(t){var n=e.call(this,t)||this;return n.save=Yp((function(e){return function(e,t){return h.i3.put("teams/"+e.id(),t).then((function(){vt.updateItem(e.id(),t)}))}(n.props.team,e).catch((function(e){var t=pT(e);if(!t)throw e;n.setState({titleError:t})}))})),n.state={nextTitle:null,nextDescription:null,nextPermissions:null,titleError:void 0},n.onTitleChange=n.onTitleChange.bind(n),n.onDescriptionChange=n.onDescriptionChange.bind(n),n.onPermissionsChange=n.onPermissionsChange.bind(n),n.onSave=n.onSave.bind(n),n.onClose=n.onClose.bind(n),n}return WT(t,e),t.prototype.render=function(){return i.createElement("div",{className:this.className()},i.createElement("div",{className:"scrivito_detail_content"},i.createElement("div",{className:this.titleLabelClassName()},i.createElement("span",null,(0,f.translate)("teams_dialog.edit_team_form.title"))),i.createElement("input",{type:"text",value:this.title(),className:this.titleInputClassName(),onChange:this.onTitleChange}),this.state.titleError&&i.createElement("div",{className:"scrivito_notice scrivito_transparent scrivito_text_red"},i.createElement("div",{className:"scrivito_notice_icon"},i.createElement("i",{className:"scrivito_icon scrivito_icon_error"})),i.createElement("div",{className:"scrivito_notice_body"},this.state.titleError)),i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,(0,f.translate)("teams_dialog.edit_team_form.description"))),i.createElement("input",{type:"text",value:this.description(),className:"scrivito_detail_label",onChange:this.onDescriptionChange}),i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,(0,f.translate)("teams_dialog.edit_team_form.permissions"))),i.createElement(dT,{permissions:this.state.nextPermissions||this.props.team.permissions(),onChange:this.onPermissionsChange}),i.createElement("br",null),i.createElement("a",{className:"edit_team_form_close_button scrivito_button scrivito_right",onClick:this.onClose},this.hasChanges()?(0,f.translate)("cancel"):(0,f.translate)("close")),i.createElement(cT,{title:(0,f.translate)("save"),className:"edit_team_form_save_button",colorClassName:"scrivito_blue",isDisabled:!this.hasChanges(),onClick:this.onSave})))},t.prototype.className=function(){var e="scrivito_list_accordion_content_edit edit_team_form";return this.props.isOpen&&(e+=" show"),e},t.prototype.title=function(){var e=this.state.nextTitle;return e||""===e?e:this.props.team.title()},t.prototype.description=function(){var e=this.state.nextDescription;return e||""===e?e:this.props.team.description()},t.prototype.titleInputClassName=function(){if(this.state.titleError)return"scrivito_error"},t.prototype.titleLabelClassName=function(){var e="edit_team_form_title_label scrivito_detail_label";return this.state.titleError&&(e+=" scrivito_red"),e},t.prototype.onTitleChange=function(e){e.preventDefault(),e.stopPropagation(),this.setState({nextTitle:e.target.value,titleError:void 0})},t.prototype.onDescriptionChange=function(e){e.preventDefault(),e.stopPropagation(),this.setState({nextDescription:e.target.value})},t.prototype.onPermissionsChange=function(e){this.setState({nextPermissions:e})},t.prototype.onSave=function(){var e={};null!==this.state.nextTitle&&(e.title=this.state.nextTitle),null!==this.state.nextDescription&&(e.description=this.state.nextDescription),null!==this.state.nextPermissions&&(e.permissions=this.state.nextPermissions),this.save(e)},t.prototype.onClose=function(e){e.stopPropagation(),e.preventDefault(),this.reset(),this.props.onClose()},t.prototype.reset=function(){this.setState({nextPermissions:null,nextTitle:null,nextDescription:null})},t.prototype.hasChanges=function(){return null!==this.state.nextTitle&&this.state.nextTitle!==this.props.team.title()||null!==this.state.nextDescription&&this.state.nextDescription!==this.props.team.description()||null!==this.state.nextPermissions&&!qt(UT([],this.state.nextPermissions,!0).sort(),UT([],this.props.team.permissions(),!0).sort())},t}(i.Component)).displayName="TeamsDialog.EditTeamForm",CT)),ZT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qT=(0,a.Z)(((ST=function(e){function t(t){var n=e.call(this,t)||this;return n.state={filterBy:null},n.onInputChange=n.onInputChange.bind(n),n.onAdd=n.onAdd.bind(n),n}return ZT(t,e),t.prototype.render=function(){return i.createElement("div",{className:"scrivito_list_accordion_input_autocomplete"},i.createElement("div",{className:"scrivito_list_accordion_autocomplete_choices"},i.createElement("div",{className:"scrivito_list_accordion_input_autocomplete_search"},i.createElement("input",{type:"text",value:this.state.filterBy||"",placeholder:(0,f.translate)("teams_dialog.edit_team_users_form.add_user_autocomplete.placeholder"),onChange:this.onInputChange}))),i.createElement(VT,{filterBy:this.state.filterBy,exclude:this.props.exclude,onClick:this.onAdd}))},t.prototype.onInputChange=function(e){e.preventDefault(),e.stopPropagation(),this.setState({filterBy:e.target.value})},t.prototype.onAdd=function(e){this.props.onAdd(e),this.reset()},t.prototype.reset=function(){this.setState({filterBy:null})},t}(i.Component)).displayName="TeamsDialog.EditTeamUsersForm.AddUserAutocomplete",ST)),VT=(0,a.Z)((xT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ZT(t,e),t.prototype.render=function(){var e=this,t=this.props.filterBy;if(!t)return null;var n=bt.where({filterBy:t}).filter((function(t){return!t.isReadOnly()&&!e.props.exclude.find((function(e){return e.equals(t)}))}));return 0===n.length?null:i.createElement("div",null,i.createElement("ul",{className:"scrivito_list_accordion_input_autocomplete_results show"},n.map((function(t){return i.createElement(KT,{key:t.id(),user:t,onClick:function(){return e.props.onClick(t)}})}))))},t}(i.Component),xT.displayName="TeamsDialog.EditTeamUsersForm.AddUserAutocomplete.UserList",xT)),KT=(0,a.Z)(((OT=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isHovered:!1},n.onMouseOver=n.onMouseOver.bind(n),n.onMouseOut=n.onMouseOut.bind(n),n.onClick=n.onClick.bind(n),n}return ZT(t,e),t.prototype.render=function(){return i.createElement("li",{className:this.className(),onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onClick:this.onClick},i.createElement("div",{className:"scrivito_list_accordion_input_autocomplete_result_label"},this.userName(),i.createElement("span",null,this.props.user.email())))},t.prototype.className=function(){var e="scrivito_list_accordion_input_autocomplete_result";return this.state.isHovered&&(e+=" highlighted"),e},t.prototype.userName=function(){return this.props.user.isPending()?(0,f.translate)("teams_dialog.edit_team_users_form.add_user_autocomplete.is_pending"):this.props.user.name()},t.prototype.onMouseOver=function(){this.setState({isHovered:!0})},t.prototype.onMouseOut=function(){this.setState({isHovered:!1})},t.prototype.onClick=function(e){e.stopPropagation(),this.props.onClick()},t}(i.Component)).displayName="TeamsDialog.EditTeamUsersForm.AddUserAutocomplete.UserItem",OT)),$T=n(61586);function GT(e){return"https://www.gravatar.com/avatar/"+$T(e)+"?d=mp"}var YT,QT,XT,JT,ej,tj,nj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rj=(0,a.Z)(((YT=function(e){function t(t){var n=e.call(this,t)||this;return n.onRemove=n.onRemove.bind(n),n}return nj(t,e),t.prototype.render=function(){return i.createElement("div",{className:"scrivito_list_accordion_content user_item"},i.createElement("div",{className:"scrivito_list_group"},i.createElement("img",{className:"profile-image",src:GT(this.props.user.email())})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:this.topicClassName()},this.topicText()),i.createElement("span",{className:"scrivito_list_meta user_item_email"},i.createElement("span",null,this.props.user.email()))),!this.props.user.isReadOnly()&&i.createElement("div",{className:"scrivito_list_action"},i.createElement("span",{className:"delete_user_button scrivito_button_small scrivito_red",onClick:this.onRemove},i.createElement("i",{className:"scrivito_icon scrivito_icon_trash"}),(0,f.translate)("teams_dialog.edit_team_users_form.user_item.delete"))))},t.prototype.topicText=function(){return this.props.user.isPending()?(0,f.translate)("teams_dialog.edit_team_users_form.user_item.is_pending"):this.props.user.name()},t.prototype.topicClassName=function(){var e="scrivito_list_topic";return this.props.user.isPending()&&(e+=" scrivito_blue"),e},t.prototype.onRemove=function(e){e.stopPropagation(),this.props.onRemove()},t}(i.Component)).displayName="TeamsDialog.EditTeamUsersForm.UserItem",YT)),ij=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oj=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},aj=(0,a.Z)(function(e){function n(n){var r=e.call(this,n)||this;return r.onSave=Yp((function(){return r.state.nextUsers?(e=r.props.team,n=r.state.nextUsers,(0,D.zD)((function(){return e.users()})).then((function(r){return t.s8.all(ut(ut([],n.map((function(t){if(!r.find((function(e){return e.equals(t)})))return ht(t.id(),e).then((function(){return ct(t.id())}))})),!0),r.map((function(t){if(!n.find((function(e){return e.equals(t)})))return mt(t.id(),e).then((function(){return ct(t.id())}))})),!0)).then((function(){return ot(e.id())}))}))).then((function(){return r.reset()})):t.s8.resolve();var e,n})),r.state={nextUsers:null},r.addUser=r.addUser.bind(r),r.onClose=r.onClose.bind(r),r}return ij(n,e),n.prototype.render=function(){var e=this;return i.createElement("div",{className:this.className()},i.createElement("div",{className:"scrivito_detail_content"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,(0,f.translate)("teams_dialog.edit_team_users_form.add_user"))),i.createElement(qT,{exclude:this.users(),onAdd:this.addUser}),this.users().length>0&&i.createElement(i.Fragment,null,i.createElement("div",{className:"scrivito_detail_label users_list_title"},i.createElement("span",null,(0,f.translate)("teams_dialog.edit_team_users_form.users",this.users().length))),i.createElement("div",{className:"scrivito_list_accordion"},this.users().map((function(t){return i.createElement(rj,{key:t.id(),user:t,team:e.props.team,onRemove:function(){return e.removeUser(t)}})}))),i.createElement("br",null)),i.createElement("a",{className:"edit_team_users_form_close_button scrivito_button scrivito_right",onClick:this.onClose},this.hasChanges()?(0,f.translate)("cancel"):(0,f.translate)("close")),i.createElement(cT,{title:(0,f.translate)("save"),className:"edit_team_users_form_save_button",colorClassName:"scrivito_blue",isDisabled:!this.hasChanges(),onClick:this.onSave})))},n.prototype.className=function(){var e="edit_team_users_form scrivito_list_accordion_content_edit";return this.props.isOpen&&(e+=" show"),e},n.prototype.addUser=function(e){this.setState({nextUsers:oj(oj([],this.users(),!0),[e],!1)})},n.prototype.removeUser=function(e){this.setState({nextUsers:this.users().filter((function(t){return!t.equals(e)}))})},n.prototype.users=function(){return this.state.nextUsers||this.props.team.users()},n.prototype.onClose=function(e){e.stopPropagation(),e.preventDefault(),this.reset(),this.props.onClose()},n.prototype.reset=function(){this.setState({nextUsers:null})},n.prototype.hasChanges=function(){return null!==this.state.nextUsers&&!qt(oj([],this.state.nextUsers.map((function(e){return e.id()})),!0).sort(),oj([],this.props.team.users().map((function(e){return e.id()})),!0).sort())},n}(i.Component)),sj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cj=(0,a.Z)(((QT=function(e){function t(t){var n=e.call(this,t)||this;return n.state={activeForm:null},n.onEdit=n.onEdit.bind(n),n.onEditUsers=n.onEditUsers.bind(n),n.onDelete=n.onDelete.bind(n),n.toggleForm=n.toggleForm.bind(n),n.closeForms=n.closeForms.bind(n),n}return sj(t,e),t.prototype.render=function(){return i.createElement("div",{className:"scrivito_list_accordion team_item"},i.createElement("div",{className:"scrivito_list_accordion_content"},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon scrivito_icon_group"})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic team_item_title"},this.props.team.title()),this.props.team.description()&&i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_topic team_item_description"},this.props.team.description())),i.createElement("span",{className:"scrivito_list_meta"},this.props.team.permissions().map((function(e){return i.createElement("span",{key:e,className:"tag"},(0,f.translate)("models.team_permission."+e))})))),i.createElement("div",{className:this.buttonsClassName()},i.createElement("span",{className:this.editButtonClassName(),onClick:this.onEdit},i.createElement("i",{className:"scrivito_icon scrivito_icon_gear"}),(0,f.translate)("teams_dialog.team_item.edit")),i.createElement("span",{className:this.editUsersButtonClassName(),onClick:this.onEditUsers},i.createElement("i",{className:"scrivito_icon scrivito_icon_user"}),(0,f.translate)("teams_dialog.team_item.edit_users")),i.createElement("span",{className:"delete_team_button scrivito_button_small scrivito_red",onClick:this.onDelete},i.createElement("i",{className:"scrivito_icon scrivito_icon_trash"}),(0,f.translate)("teams_dialog.team_item.delete")))),i.createElement(HT,{team:this.props.team,isOpen:"edit"===this.state.activeForm,onClose:this.closeForms}),i.createElement(aj,{team:this.props.team,isOpen:"editUsers"===this.state.activeForm,onClose:this.closeForms}))},t.prototype.buttonsClassName=function(){var e="scrivito_list_action";return null!==this.state.activeForm&&(e+=" active"),e},t.prototype.editButtonClassName=function(){var e="edit_team_button scrivito_button_small";return"edit"===this.state.activeForm&&(e+=" active"),e},t.prototype.editUsersButtonClassName=function(){var e="edit_team_users_button scrivito_button_small";return"editUsers"===this.state.activeForm&&(e+=" active"),e},t.prototype.onEdit=function(e){e.stopPropagation(),this.toggleForm("edit")},t.prototype.onEditUsers=function(e){e.stopPropagation(),this.toggleForm("editUsers")},t.prototype.onDelete=function(e){e.stopPropagation(),zT(this.props.team)},t.prototype.toggleForm=function(e){this.setState({activeForm:this.state.activeForm===e?null:e})},t.prototype.closeForms=function(){this.setState({activeForm:null})},t}(i.Component)).displayName="TeamsDialog.TeamList.TeamItem",QT)),lj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uj=(0,a.Z)((XT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lj(t,e),t.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(FT,null),pt({filterBy:this.props.filterBy}).map((function(e){return i.createElement(cj,{key:e.id(),team:e})})))},t}(i.Component),XT.displayName="TeamsDialog.TeamList",XT)),dj=Yp((function(e){return Zr({title:(0,f.translate)("interactions.delete_member.confirm_dialog.title"),description:(0,f.translate)("interactions.delete_member.confirm_dialog.description",e.email()),icon:"&#xf00a;",color:"red",confirmButtonTitle:(0,f.translate)("delete"),confirmButtonColor:"red"}).then((function(t){if(!t.dialogCancelled)return e.destroy()}))})),fj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pj=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},hj=(0,a.Z)(((JT=function(e){function n(n){var r=e.call(this,n)||this;return r.onSave=Yp((function(){return r.state.nextTeams?r.props.user.updateTeams(r.state.nextTeams).then((function(){return r.reset()})):t.s8.resolve()})),r.state={nextTeams:null},r.onChange=r.onChange.bind(r),r.onClose=r.onClose.bind(r),r}return fj(n,e),n.prototype.render=function(){return i.createElement("div",{className:this.className()},i.createElement("div",{className:"scrivito_detail_content"},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("span",null,(0,f.translate)("teams_dialog.edit_user_form.teams"))),i.createElement(NT,{teams:this.state.nextTeams||this.props.user.teams(),onChange:this.onChange,isReadOnly:this.props.user.isReadOnly()}),i.createElement("a",{className:"edit_user_form_close_button scrivito_button scrivito_right",onClick:this.onClose},this.hasChanges()?(0,f.translate)("cancel"):(0,f.translate)("close")),!this.props.user.isReadOnly()&&i.createElement(cT,{title:(0,f.translate)("save"),className:"edit_user_form_save_button",colorClassName:"scrivito_blue",isDisabled:!this.hasChanges(),onClick:this.onSave})))},n.prototype.className=function(){var e="scrivito_list_accordion_content_edit edit_user_form";return this.props.isOpen&&(e+=" show"),e},n.prototype.onChange=function(e){this.setState({nextTeams:e})},n.prototype.onClose=function(e){e.preventDefault(),e.stopPropagation(),this.reset(),this.props.onClose()},n.prototype.reset=function(){this.setState({nextTeams:null})},n.prototype.hasChanges=function(){return null!==this.state.nextTeams&&!qt(pj([],this.state.nextTeams.map((function(e){return e.id()})),!0).sort(),pj([],this.props.user.teams().map((function(e){return e.id()})),!0).sort())},n}(i.Component)).displayName="TeamsDialog.EditUserForm",JT)),mj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vj=(0,a.Z)(((ej=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isEditFormOpen:!1},n.onEdit=n.onEdit.bind(n),n.onDelete=n.onDelete.bind(n),n.toggleEditForm=n.toggleEditForm.bind(n),n}return mj(t,e),t.prototype.render=function(){return i.createElement("div",{className:"scrivito_list_accordion user_item"},i.createElement("div",{className:"scrivito_list_accordion_content"},i.createElement("div",{className:"scrivito_list_group"},i.createElement("img",{className:"profile-image",src:GT(this.props.user.email())})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:this.topicClassName()},this.topicText()),i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",null,this.props.user.email()),this.props.user.teams().map((function(e){return i.createElement("span",{key:e.id(),className:"tag"},e.title())})))),i.createElement("div",{className:this.buttonsClassName()},i.createElement("span",{className:this.editButtonClassName(),onClick:this.onEdit},i.createElement("i",{className:"scrivito_icon scrivito_icon_gear"}),this.props.user.isReadOnly()?(0,f.translate)("teams_dialog.user_item.show_teams"):(0,f.translate)("teams_dialog.user_item.edit_teams")),!this.props.user.isReadOnly()&&i.createElement("span",{className:"delete_user_button scrivito_button_small scrivito_red",onClick:this.onDelete},i.createElement("i",{className:"scrivito_icon scrivito_icon_trash"}),(0,f.translate)("teams_dialog.user_item.delete")))),i.createElement(hj,{user:this.props.user,isOpen:this.state.isEditFormOpen,onClose:this.toggleEditForm}))},t.prototype.topicText=function(){return this.props.user.isPending()?(0,f.translate)("teams_dialog.user_item.is_pending"):this.props.user.name()},t.prototype.topicClassName=function(){var e="scrivito_list_topic";return this.props.user.isPending()&&(e+=" scrivito_blue"),e},t.prototype.buttonsClassName=function(){var e="scrivito_list_action";return this.state.isEditFormOpen&&(e+=" active"),e},t.prototype.editButtonClassName=function(){var e="edit_user_button scrivito_button_small";return this.state.isEditFormOpen&&(e+=" active"),e},t.prototype.onEdit=function(e){e.stopPropagation(),this.toggleEditForm()},t.prototype.onDelete=function(e){e.stopPropagation(),dj(this.props.user)},t.prototype.toggleEditForm=function(){this.setState({isEditFormOpen:!this.state.isEditFormOpen})},t}(i.Component)).displayName="TeamsDialog.UserList.UserItem",ej)),gj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_j=(0,a.Z)((tj=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gj(t,e),t.prototype.render=function(){var e=bt.where({filterBy:this.props.filterBy});return 0===e.length?null:i.createElement(i.Fragment,null,e.map((function(e){return i.createElement(vj,{key:e.id(),user:e})})))},t}(i.Component),tj.displayName="TeamsDialog.UserList",tj)),bj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yj=function(){return yj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yj.apply(this,arguments)};function wj(){return(0,o.G)((function(e){return i.createElement(kj,yj({},e))}))}var kj=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bj(t,e),t.prototype.render=function(){return i.createElement("div",{className:"teams_dialog scrivito_modal_large scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("h3",null,i.createElement("i",{className:"scrivito_icon"},""),i.createElement("span",null,(0,f.translate)("teams_dialog.title")))),i.createElement(Ej,null),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"teams_dialog_close_button scrivito_button scrivito_cancel",onClick:this.props.cancelDialog},(0,f.translate)("done"))))},t.displayName="TeamsDialog",t}(i.Component),Ej=function(e){function t(t){var n=e.call(this,t)||this;return n.state={filterUsersBy:"",filterTeamsBy:"",isAddTeamFormOpen:!1,isAddUserFormOpen:!1},n.onUserSearch=n.onUserSearch.bind(n),n.onTeamSearch=n.onTeamSearch.bind(n),n.toggleAddTeamForm=n.toggleAddTeamForm.bind(n),n.toggleAddUserForm=n.toggleAddUserForm.bind(n),n}return bj(t,e),t.prototype.render=function(){return i.createElement(pC,{className:"scrivito_tab scrivito_modal_body",tabs:[{id:"users",title:(0,f.translate)("teams_dialog.users"),content:i.createElement("div",{className:"scrivito_detail_content no_border scrivito_tab_users"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-lg-4 col-md-9"},i.createElement("div",{className:"item_content"},i.createElement("div",{className:"input_group_search no-button"},i.createElement("input",{type:"search",value:this.state.filterUsersBy,placeholder:(0,f.translate)("teams_dialog.users_tab.search_placeholder"),onChange:this.onUserSearch})))),i.createElement("div",{className:"col-lg-6 col-md-12"}),i.createElement("div",{className:"col-lg-2 col-md-3"},i.createElement("a",{className:"add_user_button scrivito_button scrivito_blue scrivito_button_block",onClick:this.toggleAddUserForm},(0,f.translate)("teams_dialog.users_tab.add_user")))),i.createElement(MT,{isOpen:this.state.isAddUserFormOpen,onClose:this.toggleAddUserForm}),this.state.isAddUserFormOpen&&i.createElement("br",null),i.createElement(_j,{filterBy:this.state.filterUsersBy}))},{id:"teams",title:(0,f.translate)("teams_dialog.teams"),content:i.createElement("div",{className:"scrivito_detail_content no_border scrivito_tab_teams"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-lg-4 col-md-9"},i.createElement("div",{className:"item_content"},i.createElement("div",{className:"input_group_search no-button"},i.createElement("input",{type:"search",value:this.state.filterTeamsBy,placeholder:(0,f.translate)("teams_dialog.teams_tab.search_placeholder"),onChange:this.onTeamSearch})))),i.createElement("div",{className:"col-lg-6 col-md-12"}),i.createElement("div",{className:"col-lg-2 col-md-3"},i.createElement("a",{className:"add_team_button scrivito_button scrivito_blue scrivito_button_block",onClick:this.toggleAddTeamForm},(0,f.translate)("teams_dialog.teams_tab.add_team")))),i.createElement(vT,{isOpen:this.state.isAddTeamFormOpen,onClose:this.toggleAddTeamForm}),this.state.isAddTeamFormOpen&&i.createElement("br",null),i.createElement(uj,{filterBy:this.state.filterTeamsBy}))}]})},t.prototype.onTeamSearch=function(e){this.setState({filterTeamsBy:e.target.value})},t.prototype.onUserSearch=function(e){this.setState({filterUsersBy:e.target.value})},t.prototype.toggleAddTeamForm=function(){this.setState({isAddTeamFormOpen:!this.state.isAddTeamFormOpen})},t.prototype.toggleAddUserForm=function(){this.setState({isAddUserFormOpen:!this.state.isAddUserFormOpen})},t}(i.Component);function Cj(e){var t=(0,Et.getSessionData)();return!!t&&"always"===t.permissions[e]}var Sj,xj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oj=(0,a.Z)((function(){return i.createElement("div",{className:"scrivito_detail_content"},i.createElement(jj,null),zn(Object.keys(Gn.getCollection()).map((function(e){return new Ln(e,Gn)}))).map((function(e){return i.createElement(Tj,{key:e.id(),category:e})})))})),Tj=(0,a.Z)(((Sj=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=Yp((function(){return n.props.category.isEnabled()?(e=n.props.category,Vn(t=e.id()),h.i3.put("visibility_categories/builtin/"+t+"/disable").then((function(){return Gn.updateItem(t,{enabled:!1})}))):function(e){var t=e.id();return Vn(t),h.i3.put("visibility_categories/builtin/"+t+"/enable").then((function(){return Gn.updateItem(t,{enabled:!0})}))}(n.props.category);var e,t})),n.onChange=n.onChange.bind(n),n}return xj(t,e),t.prototype.render=function(){var e=this.props.category.isEnabled();return i.createElement("div",{className:"scrivito_list_accordion visibility_category_item"},i.createElement("div",{className:"scrivito_list_accordion_content"},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:this.iconClassName()})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},Jn(this.props.category)),i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",null,er(this.props.category)))),i.createElement("div",{className:"scrivito_list_group"},i.createElement("div",{className:"ml-auto"},i.createElement(Yl,{labels:{false:(0,f.translate)("visibility_categories_dialog.builtin_categories_tab.category_item.disabled"),true:(0,f.translate)("visibility_categories_dialog.builtin_categories_tab.category_item.enabled")},onChange:this.onChange,value:e})))))},t.prototype.iconClassName=function(){return"scrivito_icon "+Xn(this.props.category)},t}(i.Component)).displayName="VisibilityCategoriesDialog.BuiltinCategoriesTab.CategoryItem",Sj));function jj(){return i.createElement("div",{className:"scrivito_notice scrivito_blue"},i.createElement("div",{className:"scrivito_notice_icon"},i.createElement("i",{className:"scrivito_icon scrivito_icon_information"})),i.createElement("div",{className:"scrivito_notice_body",dangerouslySetInnerHTML:{__html:(0,f.translate)("visibility_categories_dialog.builtin_categories_tab.description")}}))}var Dj=Yp((function(e){return Zr({icon:"&#xf018;",color:"red",title:(0,f.translate)("interactions.delete_visibility_category.confirm_dialog.title"),description:(0,f.translate)("interactions.delete_visibility_category.confirm_dialog.description",e.title()),confirmButtonTitle:(0,f.translate)("delete"),confirmButtonColor:"red"}).then((function(t){if(!t.dialogCancelled)return function(e){var t=e.id();return Kn(t),h.i3.delete("visibility_categories/"+t).then((function(){Yn.deleteItem(t),Fn()}))}(e)}))}));function Nj(e){var t=e.className;return e.displayError&&(t+=" scrivito_error"),i.createElement("div",{className:t},i.createElement("div",{className:"scrivito_detail_label"},i.createElement("i",{className:"scrivito_icon scrivito_icon_auto"}),i.createElement("span",null,e.title)),e.children,e.displayError&&i.createElement("div",{className:"scrivito_notice scrivito_validation_notice scrivito_error"},i.createElement("div",{className:"scrivito_notice_body"},e.displayError)))}function Pj(e,t){var n=gT(t);if(!n)throw t;var r,i=n.field,o=e+"."+n.code+"."+i;return(0,f.hasTranslationFor)(o)?r=(0,f.translate)(o):(r=n.message,(0,Mp.V)(o+" has no error message")),{field:i,message:r}}var Aj,Ij,Mj=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Lj=(0,a.Z)((function(e){var t,n=i.useState(""),r=n[0],o=n[1];return i.createElement(vf,{allowDeleteFromEmptyInput:!1,allowDragDrop:!1,allowUnique:!1,autocomplete:!1,autofocus:!1,classNames:{activeSuggestion:"active_suggestion",remove:"remove",selected:"selected",suggestions:"suggestions",tag:"string",tagInput:"string_input",tagInputField:"string_input_field",tags:"strings edit_stringlist scrivito_white"},handleAddition:function(t){var n=t.id;return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t,r;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(i){switch(i.label){case 0:return(t=n.replace(/^_+/,""))?[4,(0,D.zD)(a)]:[2];case 1:return(r=i.sent())&&!r[t]||e.onChange(Mj(Mj([],e.groups.filter((function(e){return e!==t})),!0),[t],!1)),[2]}}))}))},handleDelete:function(t){var n=Mj([],e.groups,!0);n.splice(t,1),e.onChange(n)},handleInputChange:function(e){return o(e)},placeholder:(0,f.translate)("visibility_categories_dialog.groups_editor.placeholder"),suggestions:(t=a(),t?Object.keys(t).reduce((function(n,i){if(!e.groups.includes(i)){var o=t[i];if(Ne([i,o],r))return Mj(Mj([],n,!0),[{id:i,text:o}],!1)}return n}),[]):[]),tags:function(){var t=a();return e.groups.map((function(e){return{id:e,text:t&&t[e]||e}}))}()});function a(){if((0,Ic.S)("getAuthGroups"))return En.X.getAuthGroups()}})),Rj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fj=(0,a.Z)((Aj=function(e){function t(t){var n=e.call(this,t)||this;return n.submit=Yp((function(){return(0,D.zD)((function(){return n.collectParams()})).then((function(e){return n.props.onSubmit(e).then((function(){return n.reset()})).catch((function(e){return n.setState({validationError:Pj("visibility_categories_dialog.visibility_category_form",e)})}))}))})),n.state={nextTitle:null,nextDescription:null,nextGroups:null,validationError:void 0},n.onTitleChange=n.onTitleChange.bind(n),n.onDescriptionChange=n.onDescriptionChange.bind(n),n.onGroupsChange=n.onGroupsChange.bind(n),n.onClose=n.onClose.bind(n),n}return Rj(t,e),t.prototype.render=function(){var e,t,n;return i.createElement("div",{className:this.className()},i.createElement("div",{className:"scrivito_detail_content"},this.props.title&&i.createElement("div",{className:"scrivito_detail_label large"},i.createElement("span",null,this.props.title)),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement(Nj,{title:(0,f.translate)("visibility_categories_dialog.visibility_category_form.title"),className:"visibility_category_title_form_section",displayError:this.displayErrorFor("title")},i.createElement("input",{type:"text",value:this.valueOf((null===(e=this.props.category)||void 0===e?void 0:e.title())||"",this.state.nextTitle),onChange:this.onTitleChange})))),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement(Nj,{title:(0,f.translate)("visibility_categories_dialog.visibility_category_form.description"),className:"visibility_category_description_form_section",displayError:this.displayErrorFor("description")},i.createElement("textarea",{value:this.valueOf((null===(t=this.props.category)||void 0===t?void 0:t.description())||"",this.state.nextDescription),onChange:this.onDescriptionChange})))),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement(Nj,{title:(0,f.translate)("visibility_categories_dialog.visibility_category_form.groups"),className:"visibility_category_groups_form_section",displayError:this.displayErrorFor("groups")},i.createElement(Lj,{groups:this.valueOf((null===(n=this.props.category)||void 0===n?void 0:n.groups())||[],this.state.nextGroups),onChange:this.onGroupsChange})))),i.createElement("hr",null),i.createElement("a",{className:"visibility_category_form_cancel_button scrivito_button scrivito_right",onClick:this.onClose},this.hasChanges()?(0,f.translate)("cancel"):(0,f.translate)("close")),i.createElement(cT,{title:this.submitButtonTitle(),className:"visibility_category_form_submit_button",colorClassName:"scrivito_blue",onClick:this.submit,isDisabled:!this.hasChanges()})))},t.prototype.hasChanges=function(){var e=this.props.category;if(!e)return!0;var t=this.state,n=t.nextTitle,r=t.nextDescription,i=t.nextGroups;return null!==n&&n!==e.title()||null!==r&&r!==e.description()||null!==i&&!qt(i,e.groups())},t.prototype.className=function(){var e="visibility_category_form scrivito_list_accordion_content_edit";return this.props.isOpen&&(e+=" show"),e},t.prototype.displayErrorFor=function(e){var t;if((null===(t=this.state.validationError)||void 0===t?void 0:t.field)===e)return this.state.validationError.message},t.prototype.valueOf=function(e,t){return null===t?e:t},t.prototype.submitButtonTitle=function(){return this.props.category?(0,f.translate)("apply"):(0,f.translate)("add")},t.prototype.onTitleChange=function(e){e.preventDefault(),e.stopPropagation(),this.setState({nextTitle:e.target.value,validationError:void 0})},t.prototype.onDescriptionChange=function(e){e.preventDefault(),e.stopPropagation(),this.setState({nextDescription:e.target.value,validationError:void 0})},t.prototype.onGroupsChange=function(e){this.setState({nextGroups:e,validationError:void 0})},t.prototype.collectParams=function(){var e={};return this.state.nextTitle&&(e.title=this.state.nextTitle),null!==this.state.nextDescription&&(e.description=this.state.nextDescription),null!==this.state.nextGroups&&(e.groups=this.state.nextGroups),e},t.prototype.onClose=function(e){e.stopPropagation(),e.preventDefault(),this.reset(),this.props.onClose()},t.prototype.reset=function(){this.setState({nextTitle:null,nextDescription:null,nextGroups:null,validationError:void 0})},t}(i.Component),Aj.displayName="VisibilityCategoriesDialog.VisibilityCategoryForm",Aj)),Bj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zj=function(e){function t(t){var n=e.call(this,t)||this;return n.state={filterBy:"",isAddFormOpen:!1},n.onSearch=n.onSearch.bind(n),n.toggleAddForm=n.toggleAddForm.bind(n),n.createVisibilityCategory=n.createVisibilityCategory.bind(n),n}return Bj(t,e),t.prototype.render=function(){return i.createElement("div",{className:"scrivito_detail_content"},i.createElement(Hj,null),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-lg-4 col-md-9"},i.createElement("div",{className:"item_content"},i.createElement("div",{className:"input_group_search no-button"},i.createElement("input",{type:"search",value:this.state.filterBy,placeholder:(0,f.translate)("visibility_categories_dialog.custom_categories_tab.search_placeholder"),onChange:this.onSearch})))),i.createElement("div",{className:"col-lg-6 col-md-12"}),i.createElement("div",{className:"col-lg-2 col-md-3"},i.createElement("a",{className:"add_visibility_category_button scrivito_button scrivito_blue scrivito_button_block",onClick:this.toggleAddForm},(0,f.translate)("visibility_categories_dialog.custom_categories_tab.add_visibility_category")))),i.createElement(Fj,{title:(0,f.translate)("visibility_categories_dialog.custom_categories_tab.add_visibility_category_form.title"),isOpen:this.state.isAddFormOpen,onSubmit:this.createVisibilityCategory,onClose:this.toggleAddForm}),this.state.isAddFormOpen&&i.createElement("br",null),i.createElement(Wj,{filterBy:this.state.filterBy}))},t.prototype.onSearch=function(e){this.setState({filterBy:e.target.value})},t.prototype.createVisibilityCategory=function(e){var t=this;return function(e){return h.i3.post("visibility_categories",e).then((function(e){var t=e.id,n=Mn(e,["id"]);return Yn.addItem(t,n),Fn(),new Ln(t,Yn)}))}(e).then((function(){return t.setState({isAddFormOpen:!1})}))},t.prototype.toggleAddForm=function(){this.setState({isAddFormOpen:!this.state.isAddFormOpen})},t.displayName="VisibilityCategoriesDialog.CustomCategoriesTab",t}(i.Component),Wj=(0,a.Z)((function(e){var t=e.filterBy;return i.createElement(i.Fragment,null,Rn({filterBy:t}).map((function(e){return i.createElement(Uj,{key:e.id(),category:e})})))})),Uj=(0,a.Z)(((Ij=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isEditFormOpen:!1},n.onEdit=n.onEdit.bind(n),n.onDelete=n.onDelete.bind(n),n.toggleEditForm=n.toggleEditForm.bind(n),n}return Bj(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{className:"scrivito_list_accordion visibility_category_item"},i.createElement("div",{className:"scrivito_list_accordion_content"},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon scrivito_icon_visibility"})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},this.props.category.title()),i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",null,this.props.category.description())),i.createElement("span",{className:"scrivito_list_meta"},this.props.category.groups().map((function(e){return i.createElement("span",{key:e,className:"tag"},function(e){if(!(0,Ic.S)("getAuthGroups"))return e;var t=En.X.getAuthGroups();return t&&t[e]||e}(e))})))),i.createElement("div",{className:this.actionsClassName()},i.createElement("span",{className:this.editButtonClassName(),onClick:this.onEdit},i.createElement("i",{className:"scrivito_icon scrivito_icon_gear"}),(0,f.translate)("edit")),i.createElement("span",{className:"delete_category_button scrivito_button_small scrivito_red",onClick:this.onDelete},i.createElement("i",{className:"scrivito_icon scrivito_icon_trash"}),(0,f.translate)("delete")))),i.createElement(Fj,{category:this.props.category,isOpen:this.state.isEditFormOpen,onSubmit:function(t){return function(e,t){var n=e.id();return Kn(n),h.i3.put("visibility_categories/"+n,t).then((function(){Yn.updateItem(n,t)}))}(e.props.category,t)},onClose:this.toggleEditForm}))},t.prototype.actionsClassName=function(){var e="scrivito_list_action";return this.state.isEditFormOpen&&(e+=" active"),e},t.prototype.editButtonClassName=function(){var e="edit_category_button scrivito_button_small";return this.state.isEditFormOpen&&(e+=" active"),e},t.prototype.onEdit=function(e){e.stopPropagation(),this.toggleEditForm()},t.prototype.onDelete=function(e){e.stopPropagation(),Dj(this.props.category)},t.prototype.toggleEditForm=function(){this.setState({isEditFormOpen:!this.state.isEditFormOpen})},t}(i.Component)).displayName="VisibilityCategoriesDialog.CustomCategoriesTab.CategoryItem",Ij));function Hj(){return i.createElement("div",{className:"scrivito_notice scrivito_blue"},i.createElement("div",{className:"scrivito_notice_icon"},i.createElement("i",{className:"scrivito_icon scrivito_icon_information"})),i.createElement("div",{className:"scrivito_notice_body",dangerouslySetInnerHTML:{__html:(0,f.translate)("visibility_categories_dialog.custom_categories_tab.description")}}))}var Zj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qj=function(){return qj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qj.apply(this,arguments)};function Vj(){return(0,o.G)((function(e){return i.createElement(Kj,qj({},e))}))}var Kj=function(e){function t(t){var n=e.call(this,t)||this;return n.onCancelClick=n.onCancelClick.bind(n),n}return Zj(t,e),t.prototype.render=function(){return i.createElement("div",{className:"visibility_categories_dialog scrivito_modal_large scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("h3",null,i.createElement("i",{className:"scrivito_icon scrivito_icon_visibility"}),i.createElement("span",null,(0,f.translate)("visibility_categories_dialog.title")))),i.createElement($j,null),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"visibility_categories_dialog_close_button scrivito_button scrivito_cancel",onClick:this.onCancelClick},(0,f.translate)("done"))))},t.prototype.onCancelClick=function(e){e.preventDefault(),e.stopPropagation(),this.props.cancelDialog()},t.displayName="VisibilityCategoriesDialog",t}(i.Component),$j=(0,a.Z)((function(){return Cj("manage_custom_visibility_categories")?Cj("manage_builtin_visibility_categories")?i.createElement(pC,{className:"scrivito_tab scrivito_modal_body",tabs:[{id:"builtinCategories",title:(0,f.translate)("visibility_categories_dialog.builtin_categories"),content:i.createElement(Oj,null)},{id:"customCategories",title:(0,f.translate)("visibility_categories_dialog.custom_categories"),content:i.createElement(zj,null)}]}):i.createElement("div",{className:"scrivito_modal_body"},i.createElement(zj,null)):i.createElement("div",{className:"scrivito_modal_body"},i.createElement(Oj,null))}));function Gj(e){return JSON.stringify(e,null,2)}var Yj,Qj,Xj,Jj,eD,tD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nD=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},rD=(0,a.Z)((Yj=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tD(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{className:"item_content workflow_team_list"},i.createElement("ul",{className:"enum_attribute enum_block scrivito_multi workflow_team_list"},pt().map((function(t){return i.createElement(iD,{key:t.id(),team:t,isEnabled:e.props.isEnabled,isSelected:e.isTeamSelected(t),onClick:function(){return e.onTeamClicked(t)}})}))))},t.prototype.isTeamSelected=function(e){return!!this.props.teams.find((function(t){return t.id()===e.id()}))},t.prototype.onTeamClicked=function(e){this.isTeamSelected(e)?this.removeTeam(e):this.addTeam(e)},t.prototype.addTeam=function(e){this.props.onChange(nD(nD([],this.props.teams,!0),[e],!1))},t.prototype.removeTeam=function(e){this.props.onChange(this.props.teams.filter((function(t){return t.id()!==e.id()})))},t}(i.Component),Yj.displayName="WorkflowsDialog.TeamList",Yj)),iD=(0,a.Z)(((Qj=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return tD(t,e),t.prototype.render=function(){return i.createElement("li",{className:this.className(),onClick:this.onClick,title:this.props.team.description()},this.props.team.title())},t.prototype.className=function(){var e="team_item";return this.props.isEnabled||(e+=" read_only"),this.props.isSelected&&(e+=" enum_attribute_active"),e},t.prototype.onClick=function(e){e.stopPropagation(),this.props.isEnabled&&this.props.onClick()},t}(i.Component)).displayName="WorkflowsDialog.TeamList.TeamItem",Qj)),oD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aD=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},sD=(0,a.Z)((Xj=function(e){function t(t){var n=e.call(this,t)||this;return n.submit=Yp((function(){return(0,D.zD)((function(){return n.collectParams()})).then((function(e){return n.props.onSubmit(e).then((function(){return n.reset()})).catch((function(e){return n.setState({validationError:Pj("workflows_dialog",e)})}))}))})),n.state={nextTitle:null,nextDescription:null,nextConstraints:null,nextEditorTeams:null,nextPublisherTeams:null,nextHasReview:null,nextAllowsWidgetLibrary:null,nextHasEditorTeamAll:null,nextHasPublisherTeamAll:null,validationError:void 0},n.onTitleChange=n.onTitleChange.bind(n),n.onDescriptionChange=n.onDescriptionChange.bind(n),n.onConstraintsChange=n.onConstraintsChange.bind(n),n.onSubmit=n.onSubmit.bind(n),n.onClose=n.onClose.bind(n),n}return oD(t,e),t.prototype.render=function(){var e,t,n,r,o,a,s,c=this;return i.createElement("div",{className:this.className()},i.createElement("div",{className:"scrivito_detail_content"},this.props.title&&i.createElement("div",{className:"scrivito_detail_label large"},i.createElement("span",null,this.props.title)),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-6"},i.createElement(Nj,{title:(0,f.translate)("workflows_dialog.workflow_form.title"),className:"workflow_title_form_section",displayError:this.validationErrorFor("title")},i.createElement("input",{type:"text",value:this.valueOf((null===(e=this.props.workflow)||void 0===e?void 0:e.title())||"",this.state.nextTitle),className:this.validationErrorFor("title")&&"scrivito_error",onChange:this.onTitleChange}))),i.createElement("div",{className:"col-md-3"},i.createElement(Nj,{title:(0,f.translate)("workflows_dialog.workflow_form.has_review"),className:"workflow_has_review_form_section"},i.createElement(Yl,{className:"has_review_toggle",labels:{false:(0,f.translate)("workflows_dialog.false"),true:(0,f.translate)("workflows_dialog.true")},value:this.valueOf((null===(t=this.props.workflow)||void 0===t?void 0:t.hasReview())||!1,this.state.nextHasReview),onChange:function(e){return c.setState({nextHasReview:e})}}))),i.createElement("div",{className:"col-md-3"},(0,p.ZG)()&&i.createElement(Nj,{title:(0,f.translate)("workflows_dialog.workflow_form.allows_widget_library"),className:"workflow_allows_widget_library_form_section"},i.createElement(Yl,{className:"allows_widget_library_toggle",labels:{false:(0,f.translate)("workflows_dialog.false"),true:(0,f.translate)("workflows_dialog.true")},value:this.valueOf((null===(n=this.props.workflow)||void 0===n?void 0:n.allowsWidgetLibrary())||!1,this.state.nextAllowsWidgetLibrary),onChange:function(e){return c.setState({nextAllowsWidgetLibrary:e})}})))),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-6"},i.createElement(Nj,{title:(0,f.translate)("workflows_dialog.workflow_form.description"),className:"workflow_description_form_section",displayError:this.validationErrorFor("description")},i.createElement("textarea",{value:this.valueOf((null===(r=this.props.workflow)||void 0===r?void 0:r.description())||"",this.state.nextDescription),onChange:this.onDescriptionChange,className:this.validationErrorFor("description")&&"scrivito_error"}))),i.createElement("div",{className:"col-md-6"},i.createElement(Nj,{title:(0,f.translate)("workflows_dialog.workflow_form.constraints"),className:"workflow_constraints_form_section",displayError:this.validationErrorFor("constraints")},i.createElement("textarea",{value:this.valueOf(Gj((null===(o=this.props.workflow)||void 0===o?void 0:o.constraints())||[]),this.state.nextConstraints),className:this.validationErrorFor("constraints")&&"scrivito_error",onChange:this.onConstraintsChange})),i.createElement("div",{className:"scrivito_notice scrivito_transparent"},i.createElement("div",{className:"scrivito_notice_body constraints_hint"},(0,f.translate)("workflows_dialog.workflow_form.constraints.hint"))))),i.createElement("hr",null),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-6"},i.createElement(Nj,{title:(0,f.translate)("workflows_dialog.workflow_form.editor_teams"),className:"workflow_editor_teams_form_section"},i.createElement(Yl,{disableHighlighting:!0,className:"teams_toggle",labels:{false:(0,f.translate)("workflows_dialog.teams_toggle.all_teams"),true:(0,f.translate)("workflows_dialog.teams_toggle.selected_teams")},value:!this.hasAllEditorTeams(),onChange:function(e){return c.setState({nextHasEditorTeamAll:!e})}}),i.createElement(rD,{teams:this.state.nextEditorTeams||(null===(a=this.props.workflow)||void 0===a?void 0:a.editorTeams())||[],isEnabled:!this.hasAllEditorTeams(),onChange:function(e){return c.setState({nextEditorTeams:e})}}),i.createElement("div",{className:"scrivito_notice scrivito_transparent"},i.createElement("div",{className:"scrivito_notice_body editor_teams_hint"},this.hasAllEditorTeams()?(0,f.translate)("workflows_dialog.workflow_form.has_team_all"):(0,f.translate)("workflows_dialog.workflow_form.has_no_team_all"))))),i.createElement("div",{className:"col-md-6"},i.createElement(Nj,{title:(0,f.translate)("workflows_dialog.workflow_form.publisher_teams"),className:"workflow_publisher_teams_form_section"},i.createElement(Yl,{disableHighlighting:!0,className:"teams_toggle",labels:{false:(0,f.translate)("workflows_dialog.teams_toggle.all_teams"),true:(0,f.translate)("workflows_dialog.teams_toggle.selected_teams")},value:!this.hasAllPublisherTeams(),onChange:function(e){return c.setState({nextHasPublisherTeamAll:!e})}}),i.createElement(rD,{teams:this.state.nextPublisherTeams||(null===(s=this.props.workflow)||void 0===s?void 0:s.publisherTeams())||[],isEnabled:!this.hasAllPublisherTeams(),onChange:function(e){return c.setState({nextPublisherTeams:e})}}),i.createElement("div",{className:"scrivito_notice scrivito_transparent"},i.createElement("div",{className:"scrivito_notice_body publisher_teams_hint"},this.hasAllPublisherTeams()?(0,f.translate)("workflows_dialog.workflow_form.has_team_all"):(0,f.translate)("workflows_dialog.workflow_form.has_no_team_all")))))),i.createElement("hr",null),i.createElement("a",{className:"workflow_form_close_button scrivito_button scrivito_right",onClick:this.onClose},this.hasChanges()?(0,f.translate)("cancel"):(0,f.translate)("close")),i.createElement(cT,{title:this.submitButtonTitle(),className:"workflow_form_save_button",colorClassName:"scrivito_blue",onClick:this.onSubmit,isDisabled:!this.hasChanges()||!!this.state.validationError})))},t.prototype.hasChanges=function(){var e=this.props.workflow;if(!e)return!0;var t=this.state,n=t.nextTitle,r=t.nextDescription,i=t.nextConstraints,o=t.nextEditorTeams,a=t.nextPublisherTeams,s=t.nextHasReview,c=t.nextAllowsWidgetLibrary,l=t.nextHasEditorTeamAll,u=t.nextHasPublisherTeamAll;return null!==n&&n!==e.title()||null!==r&&r!==e.description()||null!==i&&i!==Gj(e.constraints())||null!==s&&s!==e.hasReview()||null!==c&&c!==e.allowsWidgetLibrary()||null!==l&&l!==e.hasAllEditorTeams()||null!==u&&u!==e.hasAllPublisherTeams()||null!==o&&this.areEqualTeams(o,e.editorTeams())||null!==a&&this.areEqualTeams(a,e.publisherTeams())},t.prototype.validationErrorFor=function(e){var t=this.state.validationError;if((null==t?void 0:t.field)===e)return t.message},t.prototype.areEqualTeams=function(e,t){return!qt(aD([],t,!0).sort(),aD([],e,!0).sort())},t.prototype.className=function(){var e="scrivito_list_accordion_content_edit workflow_form";return this.props.isOpen&&(e+=" show"),e},t.prototype.valueOf=function(e,t){return null===t?e:t},t.prototype.hasAllEditorTeams=function(){var e;return this.valueOf((null===(e=this.props.workflow)||void 0===e?void 0:e.hasAllEditorTeams())||!1,this.state.nextHasEditorTeamAll)},t.prototype.hasAllPublisherTeams=function(){var e;return this.valueOf((null===(e=this.props.workflow)||void 0===e?void 0:e.hasAllPublisherTeams())||!1,this.state.nextHasPublisherTeamAll)},t.prototype.submitButtonTitle=function(){return this.props.workflow?(0,f.translate)("apply"):(0,f.translate)("add")},t.prototype.onTitleChange=function(e){e.preventDefault(),e.stopPropagation(),this.setState({nextTitle:e.target.value,validationError:void 0})},t.prototype.onDescriptionChange=function(e){e.preventDefault(),e.stopPropagation(),this.setState({nextDescription:e.target.value,validationError:void 0})},t.prototype.onConstraintsChange=function(e){var t=function(e){try{return{constraints:JSON.parse(e)}}catch(e){if(e instanceof SyntaxError)return{errorMessage:e.message};throw e}}(e.target.value).errorMessage;this.setState({nextConstraints:e.target.value,validationError:t?{field:"constraints",message:(0,f.translate)("workflows_dialog.workflow_form.invalid_constraints_json",t)}:void 0})},t.prototype.onSubmit=function(){var e;"constraints"!==(null===(e=this.state.validationError)||void 0===e?void 0:e.field)&&this.submit()},t.prototype.collectParams=function(){var e={};return this.state.nextTitle&&(e.title=this.state.nextTitle),null!==this.state.nextDescription&&(e.description=this.state.nextDescription),null!==this.state.nextConstraints&&(e.constraints=JSON.parse(this.state.nextConstraints)),null!==this.state.nextEditorTeams&&(e.editorTeams=this.state.nextEditorTeams),null!==this.state.nextHasEditorTeamAll&&(e.editorTeams=this.state.nextHasEditorTeamAll?Gt:this.state.nextEditorTeams||pt()),null!==this.state.nextPublisherTeams&&(e.publisherTeams=this.state.nextPublisherTeams),null!==this.state.nextHasPublisherTeamAll&&(e.publisherTeams=this.state.nextHasPublisherTeamAll?Gt:this.state.nextPublisherTeams||pt()),null!==this.state.nextHasReview&&(e.hasReview=this.state.nextHasReview),null!==this.state.nextAllowsWidgetLibrary&&(e.allowsWidgetLibrary=this.state.nextAllowsWidgetLibrary),e},t.prototype.onClose=function(e){e.stopPropagation(),e.preventDefault(),this.reset(),this.props.onClose()},t.prototype.reset=function(){this.setState({nextTitle:null,nextDescription:null,nextConstraints:null,nextEditorTeams:null,nextPublisherTeams:null,nextHasReview:null,nextAllowsWidgetLibrary:null,nextHasEditorTeamAll:null,nextHasPublisherTeamAll:null,validationError:void 0})},t}(i.Component),Xj.displayName="WorkflowsDialog.WorkflowForm",Xj)),cD=Yp((function(e){return Zr({title:(0,f.translate)("interactions.delete_workflow.dialog.title"),description:(0,f.translate)("interactions.delete_workflow.dialog.description",e.title()),icon:"&#xf018;",color:"red",confirmButtonTitle:(0,f.translate)("delete"),confirmButtonColor:"red"}).then((function(t){if(!t.dialogCancelled)return function(e){return h.i3.delete("workflows/"+e.id()).then((function(){tn.deleteItem(e.id())}))}(e)}))})),lD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uD=(0,a.Z)(((Jj=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isEditFormOpen:!1},n.onEdit=n.onEdit.bind(n),n.onDelete=n.onDelete.bind(n),n.toggleEditForm=n.toggleEditForm.bind(n),n}return lD(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{className:"scrivito_list_accordion workflow_item"},i.createElement("div",{className:"scrivito_list_accordion_content"},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon"},"")),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},this.props.workflow.title()),i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",null,this.props.workflow.description()),this.props.workflow.hasReview()&&i.createElement("span",{className:"tag"},(0,f.translate)("workflows_dialog.workflow_item.has_review")),(0,p.ZG)()&&this.props.workflow.allowsWidgetLibrary()&&i.createElement("span",{className:"tag"},(0,f.translate)("workflows_dialog.workflow_item.allows_widget_library")))),i.createElement("div",{className:"scrivito_list_action "+(this.state.isEditFormOpen&&"active")},i.createElement("span",{className:"edit_workflow_button scrivito_button_small "+(this.state.isEditFormOpen&&"active"),onClick:this.onEdit},i.createElement("i",{className:"scrivito_icon scrivito_icon_gear"}),(0,f.translate)("edit")),i.createElement("span",{className:"delete_workflow_button scrivito_button_small scrivito_red",onClick:this.onDelete},i.createElement("i",{className:"scrivito_icon scrivito_icon_trash"}),(0,f.translate)("delete")))),i.createElement(sD,{workflow:this.props.workflow,isOpen:this.state.isEditFormOpen,onSubmit:function(t){return function(e,t){var n=nn(t);return h.i3.put("workflows/"+e.id(),n).then((function(){tn.updateItem(e.id(),n)}))}(e.props.workflow,t)},onClose:this.toggleEditForm}))},t.prototype.onEdit=function(e){e.stopPropagation(),this.toggleEditForm()},t.prototype.toggleEditForm=function(){this.setState({isEditFormOpen:!this.state.isEditFormOpen})},t.prototype.onDelete=function(e){e.stopPropagation(),cD(this.props.workflow)},t}(i.Component)).displayName="WorkflowsDialog.WorkflowItem",Jj)),dD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fD=(0,a.Z)((eD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dD(t,e),t.prototype.render=function(){var e=Qt({filterBy:this.props.filterBy});return 0===e.length?null:i.createElement(i.Fragment,null,e.map((function(e){return i.createElement(uD,{key:e.id(),workflow:e})})))},t}(i.Component),eD.displayName="WorkflowsDialog.WorkflowList",eD)),pD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hD=function(e){function t(t){var n=e.call(this,t)||this;return n.state={filterBy:"",isAddWorkflowFormOpen:!1},n.onSearch=n.onSearch.bind(n),n.toggleAddWorkflowForm=n.toggleAddWorkflowForm.bind(n),n.createWorkflow=n.createWorkflow.bind(n),n}return pD(t,e),t.prototype.render=function(){return i.createElement("div",{className:"scrivito_modal_body"},i.createElement("div",{className:"scrivito_detail_content no_border"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-lg-4 col-md-9"},i.createElement("div",{className:"item_content"},i.createElement("div",{className:"input_group_search no-button"},i.createElement("input",{type:"search",value:this.state.filterBy,placeholder:(0,f.translate)("workflows_dialog.dialog_body.search_placeholder"),onChange:this.onSearch})))),i.createElement("div",{className:"col-lg-6 col-md-12"}),i.createElement("div",{className:"col-lg-2 col-md-3"},i.createElement("a",{className:"add_workflow_button scrivito_button scrivito_blue scrivito_button_block",onClick:this.toggleAddWorkflowForm},(0,f.translate)("workflows_dialog.dialog_body.add_workflow")))),i.createElement(sD,{title:(0,f.translate)("workflows_dialog.dialog_body.add_workflow_form.title"),isOpen:this.state.isAddWorkflowFormOpen,onSubmit:this.createWorkflow,onClose:this.toggleAddWorkflowForm}),this.state.isAddWorkflowFormOpen&&i.createElement("br",null),i.createElement(fD,{filterBy:this.state.filterBy})))},t.prototype.onSearch=function(e){this.setState({filterBy:e.target.value})},t.prototype.createWorkflow=function(e){var t=this;return function(e){var t=nn(e);return h.i3.post("workflows",t).then((function(e){var t=e.id,n=$t(e,["id"]);return tn.addItem(t,n),new Yt(t)}))}(e).then((function(){return t.setState({isAddWorkflowFormOpen:!1})}))},t.prototype.toggleAddWorkflowForm=function(){this.setState({isAddWorkflowFormOpen:!this.state.isAddWorkflowFormOpen})},t.displayName="WorkflowsDialog.DialogBody",t}(i.Component),mD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vD=function(){return vD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vD.apply(this,arguments)};function gD(){return(0,o.G)((function(e){return i.createElement(_D,vD({},e))}))}var _D=function(e){function t(t){var n=e.call(this,t)||this;return n.onCancelClick=n.onCancelClick.bind(n),n}return mD(t,e),t.prototype.render=function(){return i.createElement("div",{className:"workflows_dialog scrivito_modal_large scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("h3",null,i.createElement("i",{className:"scrivito_icon"},""),i.createElement("span",null,(0,f.translate)("workflows_dialog.title")))),i.createElement(hD,null),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"workflows_dialog_close_button scrivito_button scrivito_cancel",onClick:this.onCancelClick},(0,f.translate)("done"))))},t.prototype.onCancelClick=function(e){e.preventDefault(),e.stopPropagation(),this.props.cancelDialog()},t.displayName="WorkflowsDialog",t}(i.Component);var bD=function(){return bD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},bD.apply(this,arguments)};function yD(){var e=En.X.getMenuPatch();if(!(null==e?void 0:e.insertIds))return[];var t=e.items||{};return e.insertIds.map((function(e){return bD({apiId:e},t[e])}))}var wD=function(){return wD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wD.apply(this,arguments)};function kD(e){var t,n=null===(t=En.X.getMenuPatch())||void 0===t?void 0:t.modifyItems,r=n&&n[e.apiId];return wD(wD({},e),eT(r,"group","position"))}var ED=n(78953),CD=Math.max,SD=Math.min;function xD(e){var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],e.map((function(e){return{apiId:e.apiId,group:e.group}})),!0);return e.forEach((function(e){return function(e,t){var n,r=e.position?e.position.after:void 0,i=e.position?e.position.before:void 0;if(i)n=OD(t,i);else{if(!r)return;n=function(e,t){var n=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=(0,Ie.Z)(n),i=n<0?CD(r+i,0):SD(i,r-1)),(0,ED.Z)(e,(0,ya.Z)(t,3),i,!0)}(e,(function(e){return e.apiId===t||e.group===t}));return-1===n?e.length:n+1}(t,r)}var o=OD(t,e.apiId);t.splice(o,1),n>o&&(n-=1),t.splice(n,0,e)}(e,t)})),t}function OD(e,t){return Math.max(e.findIndex((function(e){return e.apiId===t||e.group===t})),0)}var TD=function(){return TD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},TD.apply(this,arguments)};function jD(){var e,n,r,i,o,a=function(e){var t,n=null===(t=En.X.getMenuPatch())||void 0===t?void 0:t.removeIds;return n?e.filter((function(e){return-1===n.indexOf(e.apiId)})):e}(xD(function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([{group:"system.create",apiId:"system.createPage"},{group:"system.add",apiId:"system.addSubpage"},{group:"system.add",apiId:"system.duplicateObj"},{group:"system.details",apiId:"system.openPageDetails"},{group:"system.details",apiId:"system.sharePage"},{group:"system.clipboard",apiId:"system.saveObjToClipboard"},{group:"system.clipboard",apiId:"system.copyObjFromClipboard"},{group:"system.clipboard",apiId:"system.copyTreeFromClipboard"},{group:"system.clipboard",apiId:"system.moveObjFromClipboard"},{group:"system.modify",apiId:"system.markResolvedObj"},{group:"system.modify",apiId:"system.restoreObj"},{group:"system.modify",apiId:"system.revertObj"},{group:"system.modify",apiId:"system.deleteObj"},{group:"system.manage",apiId:"system.toggleWidgetLibrary"},{group:"system.manage",apiId:"system.manageUsers"},{group:"system.manage",apiId:"system.manageWorkflows"},{group:"system.manage",apiId:"system.manageVisibilityCategories"},{group:"system.help",apiId:"system.openUserGuide"},{group:"system.help",apiId:"system.enableTour"},{group:"system.account",apiId:"system.openDashboard"},{group:"system.account",apiId:"system.logOut"}],yD().map((function(e){return eT(e,"apiId","group","position")})),!0).map(kD)));return e=a,r=function(){var e={"system.createPage":new xe({id:"scrivito.sdk.create_page",title:(0,f.translate)("commands.create_page.title"),icon:["scrivito_icon_inv_plus","className"],present:function(){return void 0!==(0,Ls.l)()},disabled:function(){return gn()||function(){var e=nT().reasonForDisabled;if(e)return e}()},execute:tT}),"system.toggleWidgetLibrary":new xe({id:"scrivito.sdk.toggle_widget_library",title:function(){return(0,f.translate)(yg()?"commands.toggle_widget_library.title_close":"commands.toggle_widget_library.title_open")},icon:["scrivito_icon_widget","className"],feature:"widgetLibrary",present:p.ZG,execute:function(){return yg()?kg():wg()}}),"system.openUserGuide":new xe({id:"scrivito.sdk.open_user_guide",title:(0,f.translate)("commands.open_user_guide.title"),icon:["scrivito_icon_question","className"],execute:function(){return(0,t.xw)("https://scrivito.com/user-guide","blank"),t.s8.resolve()}})};yD().forEach((function(t){var n,r;e[t.apiId]=(n=t.apiId,r=eT(t,"description","enabled","icon","title"),new xe({id:"scrivito.extendMenu."+n,disabled:!1===r.enabled,title:r.title||n,tooltip:r.description,icon:r.icon?[r.icon,"url"]:["scrivito_icon_scrivito","className"],execute:function(){return En.X.executeCustomCommand(n)}}))}));var n=ua();if(!n)return e;var r=n.id();return TD(TD({},e),{"system.addSubpage":jn(r,{title:"commands.add_subpage.current_page.title",tooltip:"commands.add_subpage.current_page.tooltip",parentWithoutPath:"commands.add_subpage.current_page.no_path"}),"system.duplicateObj":VE(r),"system.openPageDetails":KE({objSpaceId:n.objSpaceId(),objId:r}),"system.sharePage":aT(r),"system.saveObjToClipboard":QE(r),"system.copyObjFromClipboard":Ar(r,{title:(0,f.translate)("copy_obj_from_clipboard.current_page.title"),navigateToCreatedObj:!0}),"system.copyTreeFromClipboard":Yr(r,{navigateToCreatedObj:!0}),"system.moveObjFromClipboard":fi(r,{navigateToMovedObj:!0}),"system.markResolvedObj":Hb(r),"system.restoreObj":Zb(r),"system.revertObj":qb(r),"system.deleteObj":Zv(r),"system.openDashboard":new xe({id:"scrivito.sdk.open_dashboard",icon:["scrivito_icon_scrivito","className"],title:(0,f.translate)("commands.open_dashboard.title"),present:function(){return!(0,Bt.t3)()&&!!(0,d.pR)()},execute:function(){var e="https://my.scrivito.com/tenants/"+(0,d.pR)();return(0,t.xw)(e,"blank"),t.s8.resolve()}}),"system.manageUsers":new xe({id:"scrivito.sdk.open_teams_dialog",icon:["scrivito_icon_user","className"],title:(0,f.translate)("commands.open_teams_dialog.title"),present:function(){return Cj("manage_users")},execute:wj}),"system.manageWorkflows":new xe({id:"scrivito.sdk.open_workflows_dialog",icon:["scrivito_icon_workflow","className"],title:(0,f.translate)("commands.open_workflows_dialog.title"),present:function(){return Cj("manage_workflows")},execute:gD}),"system.manageVisibilityCategories":new xe({id:"scrivito.sdk.open_visibility_categories_dialog",icon:["scrivito_icon_visibility","className"],title:(0,f.translate)("commands.open_visibility_categories_dialog.title"),present:function(){return Cj("manage_builtin_visibility_categories")||Cj("manage_custom_visibility_categories")},execute:Vj}),"system.enableTour":new xe({id:"scrivito.sdk.enable_tour",title:(0,f.translate)("commands.enable_tour.title"),icon:["scrivito_icon_tour","className"],disabled:function(){if((0,j_.O8)())return(0,f.translate)("commands.enable_tour.is_disabled")},execute:function(){return(0,j_.i4)(),t.s8.resolve()}})})}(),i=1,o=[],e.forEach((function(e){var t=r[e.apiId];if(t){var a,s=n&&n.group!==e.group;n=e,function(e,t){var n,r=null===(n=En.X.getMenuPatch())||void 0===n?void 0:n.modifyItems,i=r&&r[e];i&&(i.icon&&t.updateParams({icon:[i.icon,"url"]}),i.title&&t.updateParams({title:i.title}))}(e.apiId,t),s&&o.push((a=i++,new Bf({id:"scrivito.sdk.currentPageCommands.separator"+a}))),o.push(t)}})),o}var DD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ND=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n.onContextMenuClosed=n.onContextMenuClosed.bind(n),n.setRef=n.setRef.bind(n),n.state={isContextMenuOpen:!1},n}return DD(t,e),t.prototype.setRef=function(e){(0,j_.Mf)("pageMenu",e),this.ref=e},t.prototype.render=function(){return i.createElement("div",{className:this.className(),title:this.title(),onClick:this.onClick,ref:this.setRef},i.createElement("span",{className:"bar"}),i.createElement("span",{className:"bar"}),i.createElement("span",{className:"bar"}),i.createElement("i",{className:this.iconClassName()}),this.state.isContextMenuOpen&&this.ref&&(e=new fa(this.ref),t=jD(),n=this.onContextMenuClosed,(0,Ri.createPortal)(i.createElement(la,{elementArea:e,close:n,commands:t,customClassName:"scrivito_obj_menu"}),document.getElementById("context_menu"))));var e,t,n},t.prototype.className=function(){var e="scrivito_current_page scrivito_button_bar scrivito_hamburger scrivito_right";return this.state.isContextMenuOpen&&(e+=" active"),e},t.prototype.title=function(){var e="";return this.isCurrentPageRestricted()&&(e=(0,f.translate)("topbar.current_page_menu.title.is_restricted")),this.isCurrentPageModified()&&(e+=(0,f.translate)("topbar.current_page_menu.title.is_"+this.currentPageModification())),e},t.prototype.iconClassName=function(){var e="scrivito_icon";return this.isCurrentPageModified()&&(e+=" scrivito_"+this.currentPageModification()),this.isCurrentPageRestricted()&&(e+=" scrivito_icon_lock"),e},t.prototype.onClick=function(e){e.preventDefault(),e.stopPropagation(),this.state.isContextMenuOpen||this.setState({isContextMenuOpen:!0})},t.prototype.isCurrentPageRestricted=function(){var e=this.getCurrentPage();return e&&e.isRestricted()},t.prototype.isCurrentPageModified=function(){var e=this.getCurrentPage();return e&&e.isModified()},t.prototype.currentPageModification=function(){var e=this.getCurrentPage();return e&&e.modification()},t.prototype.getCurrentPage=function(){try{return ua()}catch(e){if(e instanceof Ft)return null;throw e}},t.prototype.onContextMenuClosed=function(){this.setState({isContextMenuOpen:!1})},t.displayName="Topbar.CurrentPageMenu",t}(i.Component),PD=(0,a.Z)(ND),AD=function(){return AD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},AD.apply(this,arguments)};function ID(e){"published"!==(0,on.tV)()||"editing"!==e?(0,hs.UC)(e):(0,Cr.S)((0,D.zD)((function(){var e=ua();if(e){var t=e.id();return{workspaces:cn.all().filter((function(e){return!ci(t,e)})),workflows:Jt(t)}}return{workspaces:cn.selected.otherWritable(),workflows:Xt()}}))).then(MD).then((function(t){t&&(0,Cr.S)(ab({displayMode:e,workspaceId:t.id}))}))}function MD(e){var t,n,r,i=e.workspaces,o=e.workflows;return 0===i.length&&1===o.length?(0,Cr.S)((t=o[0],(0,D.zD)((function(){return Wt.current})).then((function(e){return cn.createAsync((0,f.translate)("workspace.default_title",e.description),t.id())})).catch((function(e){return(0,Ce.M)(e)})))):Cb(AD(AD({},(n=i.length,r=o.length,n>0&&r>0?{title:(0,f.translate)("select_display_mode.editable_workspace_dialog.title.select_or_create"),description:(0,f.translate)("select_display_mode.editable_workspace_dialog.description.select_or_create")}:n>0&&0===r?{title:(0,f.translate)("select_display_mode.editable_workspace_dialog.title.select"),description:(0,f.translate)("select_display_mode.editable_workspace_dialog.description.select")}:0===n&&r>0?{title:(0,f.translate)("select_display_mode.editable_workspace_dialog.title.create"),description:(0,f.translate)("select_display_mode.editable_workspace_dialog.description.create")}:{title:(0,f.translate)("select_display_mode.editable_workspace_dialog.title.forbidden"),description:(0,f.translate)("select_display_mode.editable_workspace_dialog.description.forbidden")})),{workspaces:i,workflows:o})).then((function(e){if(!e.dialogCancelled)return e.value}))}function LD(){var e=cn.selected;if(!e.isPublished()){if(!e.currentUserCan("write"))return(0,f.translate)(e.isInReviewStage()?"commands.select_editing_display_mode.workspace_in_review":"commands.select_editing_display_mode.cannot_write");var t=ua();return t?ci(t.id(),e):void 0}}var RD,FD,BD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zD=(0,a.Z)(((RD=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return BD(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{className:this.className(),title:this.tooltip(),ref:function(t){return e.registerTourReference(t)},onClick:this.onClick},i.createElement("span",{className:"scrivito_viewmode_icon"}),i.createElement("span",{className:"scrivito_viewmode_label"},this.props.command.title()))},t.prototype.className=function(){var e="scrivito_viewmode_"+this.props.displayMode;return this.isSelected()&&(e+=" scrivito_selected"),this.props.command.isDisabled()&&(e+=" scrivito_disabled"),e},t.prototype.tooltip=function(){return this.props.command.reasonForBeingDisabled()||(this.isSelected()?(0,f.translate)("topbar.display_mode_selector.display_mode_button.is_selected"):void 0)},t.prototype.isSelected=function(){return this.props.displayMode===(0,hs.ol)()},t.prototype.onClick=function(e){e.stopPropagation(),this.isSelected()||this.props.command.execute()},t.prototype.registerTourReference=function(e){this.props.tourStepName&&e&&(0,j_.Mf)(this.props.tourStepName,e)},t}(i.Component)).displayName="Topbar.DisplayModeSelector.DisplayModeButton",RD)),WD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),UD=(0,a.Z)((FD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WD(t,e),t.prototype.render=function(){return i.createElement("div",{className:"scrivito_viewmodes_wrapper"},i.createElement("div",{className:"scrivito_viewmodes scrivito_viewmode_"+(0,hs.ol)()+"_active"},i.createElement("span",{className:"scrivito_viewmode_pill"}),i.createElement(zD,{displayMode:"view",command:new xe({id:"selectViewDisplayMode",title:(0,f.translate)("commands.select_view_display_mode.title"),execute:function(){(0,hs.UC)("view")}})}),i.createElement(zD,{displayMode:"editing",command:new xe({id:"selectEditingDisplayMode",title:(0,f.translate)("commands.select_editing_display_mode.title"),disabled:LD,enabledWhileLoading:!0,execute:function(){return ID("editing")}}),tourStepName:"editMode"}),i.createElement(zD,{displayMode:"diff",command:new xe({id:"selectDiffDisplayMode",title:(0,f.translate)("commands.select_diff_display_mode.title"),execute:function(){return ID("diff")}})})))},t}(i.Component),FD.displayName="Topbar.DisplayModeSelector",FD)),HD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZD=function(e){function t(t){var n=e.call(this,t)||this;return n.state={savingState:null},n.onStartWrite=n.onStartWrite.bind(n),n.onEndWrite=n.onEndWrite.bind(n),n}return HD(t,e),t.prototype.componentDidMount=function(){this.startWriteSubscription=(0,E.sz)("start_write").subscribe(this.onStartWrite),this.endWriteSubscription=(0,E.sz)("end_write").subscribe(this.onEndWrite)},t.prototype.componentWillUnmount=function(){this.startWriteSubscription&&this.startWriteSubscription.unsubscribe(),this.endWriteSubscription&&this.endWriteSubscription.unsubscribe()},t.prototype.render=function(){var e;return"writeStarted"===this.state.savingState&&(e=i.createElement("span",{className:"scrivito_saving_in_progress"},i.createElement("i",{className:"scrivito_icon scrivito_spinning"},""),i.createElement("span",{className:"scrivito_button_label"},i.createElement("span",null,(0,f.translate)("topbar.saving_indicator.write_started"))))),"writeEnded"===this.state.savingState&&(e=i.createElement("span",{className:"scrivito_saving_done"},i.createElement("i",{className:"scrivito_icon"},""),i.createElement("span",{className:"scrivito_button_label"},i.createElement("span",null,(0,f.translate)("topbar.saving_indicator.write_ended"))))),i.createElement("div",{id:"scrivito_menu_bar_saving_indicator"},i.createElement("span",{className:"scrivito_saving_state_bar"},e))},t.prototype.onStartWrite=function(){this.hideTimeout&&(clearTimeout(this.hideTimeout),delete this.hideTimeout),this.setState({savingState:"writeStarted"})},t.prototype.onEndWrite=function(e){var t=this;e?this.setState({savingState:null}):(this.setState({savingState:"writeEnded"}),this.hideTimeout=window.setTimeout((function(){return t.setState({savingState:null})}),3e3))},t.displayName="Topbar.SavingIndicator",t}(i.Component),qD=(0,a.Z)((function(e){var t=e.sinceRevision,n=(0,f.translate)("topbar.revision_item.changes_info_since",$D(t,"MMM yyyy")),r=(0,f.translate)("topbar.revision_item.changes_info_since_title",$D(t,"PPp"));return i.createElement(KD,{topic:t.title(),metaContent:n,metaContentOnHover:r})})),VD=(0,a.Z)((function(e){var t=e.onRevision,n=(0,f.translate)("topbar.revision_item.changes_info_on",$D(t,"PP")),r=(0,f.translate)("topbar.revision_item.changes_info_on_title",$D(t,"PPp"));return i.createElement(KD,{topic:t.title(),metaContent:n,metaContentOnHover:r})}));function KD(e){var t=e.topic,n=e.metaContent,r=e.metaContentOnHover;return i.createElement("div",{className:"scrivito_button_bar working_copy_button"},i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:"scrivito_list_flex_section state_normal"},i.createElement("div",{className:"scrivito_list_item active"},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:"scrivito_icon scrivito_icon_ws diff"})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic",title:t},t),i.createElement("span",{className:"scrivito_list_meta"},i.createElement("span",{className:"scrivito_list_meta_content"},i.createElement("span",{className:"scrivito_badge blue",title:r},n))))))))}function $D(e,t){var n=e.publishedAt();return n?(0,f.localizeDate)(n,t):(0,f.translate)("sidebar.history_panel.unknown_date")}var GD=(0,a.Z)((function(){var e=cn.selected,t=Jk(e),n="scrivito_list_flex_section state_"+t,r="scrivito_icon scrivito_icon_ws";return e.isPublished()&&(r+="_published"),i.createElement("div",{className:"scrivito_button_bar working_copy_button",onClick:function(e){e.stopPropagation(),ZO&&ZO()}},i.createElement("div",{className:"scrivito_list_flex"},i.createElement("div",{className:n},"normal"!==t&&i.createElement("div",{className:"scrivito_list_state"},(0,f.translate)("topbar.selected_workspace.list_type."+t)),i.createElement("div",{className:"scrivito_list_item"},i.createElement("div",{className:"scrivito_list_group"},i.createElement("i",{className:r})),i.createElement("div",{className:"scrivito_list_group"},i.createElement("span",{className:"scrivito_list_topic"},e.titleForEditor),i.createElement(vb,{workspace:e}))))))})),YD=(0,a.Z)((function(){var e=Ds(),n=e[0],r=e[1];if((0,t.fS)(r,(0,on.GD)())){var o=QD(n);if(o)return i.createElement(qD,{sinceRevision:o})}else{var a=QD(r);if(a)return i.createElement(VD,{onRevision:a})}return i.createElement(GD,null)}));function QD(e){var t,n,r=ua();return r?"revision"!==e[0]?null:(t=r.id(),n=e[1],Cp(t).find((function(e){return e.id()===n}))||null):null}var XD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),JD=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return XD(t,e),t.prototype.render=function(){return i.createElement("div",{className:"scrivito_toggle_ui scrivito_icon scrivito_icon_show_ui",title:(0,f.translate)("topbar.show_menubar"),onClick:this.onClick})},t.prototype.onClick=function(e){e.stopPropagation(),this.props.showMenubar()},t.displayName="Topbar.ShowMenubarButton",t}(i.Component),eN=(0,a.Z)((function(e){return i.createElement("div",{className:"scrivito_topbar",ref:function(e){return(0,j_.Mf)("topbar",e)}},i.createElement(JD,{showMenubar:e.showMenubar}),i.createElement("div",{className:"scrivito_first_level"},i.createElement(UD,null),i.createElement("div",{className:"scrivito_button_bar scrivito_app scrivito_no_hover"},i.createElement("span",{className:"scrivito_logo"})),i.createElement(YD,null),i.createElement(tN,null),i.createElement(nN,null),i.createElement(rN,null),i.createElement(iN,null),i.createElement(oN,null),(t=ee(),n=ge(),!!t.find((function(e){return n.includes(e)}))&&i.createElement("a",{className:"scrivito_button_bar compact always_visible feature_manager",onClick:ow},i.createElement("i",{className:"scrivito_icon scrivito_wobble scrivito_animated scrivito_icon_settings"}),i.createElement("span",{className:"scrivito_button_label"},"EXPERIMENTAL FEATURES ON"))),i.createElement(PD,null),i.createElement(ZD,null)));var t,n})),tN=(0,a.Z)((function(){return i.createElement(Fy,{className:"scrivito_button_bar compact always_visible",command:new xe({id:"scrivito.ckeckWorkspace",present:function(){var e=Ct();return!cn.selected.isInReviewStage()||!!e&&cn.selected.isAssignedTo(e)},icon:function(){return XO()?["scrivito_icon_publish","className"]:["scrivito_icon_submit","className"]},title:function(){return(0,f.translate)(XO()?"commands.publish_workspace.title":"commands.submit_workspace.title")},tooltip:function(){return(0,f.translate)(XO()?"commands.publish_workspace.tooltip":"commands.submit_workspace.tooltip")},disabled:function(){return cn.selected.isPublished()?(0,f.translate)("commands.publish_workspace.is_published"):XO()?Ay():Ly()},execute:Ky}),iconClassName:"scrivito_wobble scrivito_animated",tourReferenceName:"publish"})})),nN=(0,a.Z)((function(){return i.createElement(Fy,{className:"scrivito_button_bar compact",command:gO(),iconClassName:"scrivito_icon_return"})})),rN=(0,a.Z)((function(){return i.createElement(Fy,{className:"scrivito_button_bar compact",command:Kx(),iconClassName:"scrivito_icon_assignme"})})),iN=(0,a.Z)((function(){return i.createElement(Fy,{className:"scrivito_button_bar compact",command:vO(),iconClassName:"scrivito_icon_unassignme"})})),oN=(0,a.Z)((function(){return i.createElement(Fy,{className:"scrivito_button_bar compact",command:mO(),iconClassName:"scrivito_icon_return"})})),aN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sN=(0,a.Z)(function(e){function t(t){var n=e.call(this,t)||this;return n.hide=n.hide.bind(n),n.unhide=n.unhide.bind(n),n}return aN(t,e),t.prototype.render=function(){return i.createElement("div",{id:"scrivito_menubar"},i.createElement(eN,{showMenubar:this.unhide}),i.createElement(YO,{hideMenubar:this.hide}))},t.prototype.hide=function(){k("#scrivito_ui").one("transitionend",(function(){return(0,j_.AD)()})),k("#scrivito_ui").addClass("scrivito_hide_ui")},t.prototype.unhide=function(){k("#scrivito_ui").one("transitionend",(function(){return(0,j_.T4)()})),k("#scrivito_ui").removeClass("scrivito_hide_ui"),qO&&qO()},t}(i.Component)),cN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lN=function(){return lN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lN.apply(this,arguments)},uN=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cN(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.disableEscapeHotkey(),this.props.closeOn.then((function(){return e.props.cancelDialog()}))},t.prototype.render=function(){return i.createElement(s.E,{className:"scrivito_modal_prompt scrivito_red scrivito_show"},i.createElement("div",{className:"scrivito_modal_header"},i.createElement("i",{className:"scrivito_icon scrivito_icon_attention"}),i.createElement("h3",{className:"scrivito_title"},(0,f.translate)("not_connected_alert_dialog.title")),i.createElement("p",null,(0,f.translate)("not_connected_alert_dialog.description",this.props.appUrl)),i.createElement("ol",null,i.createElement("li",null,(0,f.translate)("not_connected_alert_dialog.reason_online")),i.createElement("li",null,(0,f.translate)("not_connected_alert_dialog.reason_version",g)),i.createElement("li",null,(0,f.translate)("not_connected_alert_dialog.reason_csp")))),i.createElement("div",{className:"scrivito_modal_body"}),i.createElement("div",{className:"scrivito_modal_footer"},i.createElement("a",{className:"scrivito_button",href:"https://www.scrivito.com/website-not-connected",target:"_blank"},(0,f.translate)("not_connected_alert_dialog.further_details")),i.createElement("a",{className:"scrivito_button",href:window.location.origin},(0,f.translate)("not_connected_alert_dialog.different_url"))))},t}(i.Component),dN=n(65676),fN=n(37685),pN=n(82644);function hN(){var e,t=null===(e=(0,Er.WQ)())||void 0===e?void 0:e.id();if(t){var n=En.X.getUrlFor(t);if(n)return n}return null}var mN=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function vN(){if((0,E.Up)())return(0,f.translate)("warn_before_unloading")}function gN(){return"widgetLibrary"===(0,Cn.LO)()?(0,f.translate)("widget_library_component.title"):En.X.getDocumentTitle()}function _N(e){var n=e?"Scrivito - "+e:"Scrivito";(0,t.Me)().title!==n&&((0,t.Me)().title=n)}function bN(){var n,r,a,s,c,l;(0,t.qw)(),(0,pN.k)(t.k9),h.Jx.init(),(0,on.EX)(e),(0,zu.Md)(es),(0,h.kq)(XMLHttpRequest),h.i3.setAuthProvider(Et),(0,j.Lo)(j.kt),(0,ip.JB)((0,Y_.lX)()),n=window.location.href,r=(0,Ja.k)(n),(0,p.x2)(r.isCloudUi),r.appUrl&&(0,Fo.Fl)(r.appUrl),r.isCloudUi&&(r.tenant?(0,d.wK)(r.tenant):(0,d.vz)()),(0,f.setLocale)($w()||("string"==typeof(l=Yw.get())&&(0,f.isValidLocale)(l)?l:null)||function(e){var t=e.language,n=e.languages;return mN(mN([],n,!0),[t],!1)}(window.navigator).map((function(e){return e&&e.substr(0,2)})).find(f.isValidLocale)||"en"),eb(),(0,fN.o)(),o_(),document.body.innerHTML="",document.body.id="scrivito_ui",(0,d_.XB)(document),k.ajaxPrefilter((function(e,n,r){if(!e.crossDomain){var i=k("meta[name=csrf-token]").attr("content");i?r.setRequestHeader("X-CSRF-Token",i):(0,t.H)("Missing CSRF Token in UI, AJAX may fail!")}})),function(){if((0,on.f$)())(0,hs.dR)()&&(0,hs.UC)("view");else{var e=(0,on.tV)();(0,D.zD)((function(){return cn.getWithoutLoadingError(e)})).then((function(e){e&&e.currentUserCan("read")?(0,hs.dR)()&&!e.currentUserCan("write")&&(0,hs.UC)("view"):ab({displayMode:"view",workspaceId:"published"})}),(function(e){(0,Ce.M)(e)}))}}(),(0,D.DU)((function(){return En.X.getClasses()})),(0,zu.Gf)(E.gX),j.vr.subscribeWrites((function(e){(0,E.gX)(e),e.catch(Ce.M)})),K_((function(){return(0,da.L)(i.createElement(sN,null),k("#menubar"))})),(0,dN.D)(),window._scrivitoPrivateIntegrationTestActive&&(s_=!0),(a=(0,rb.Nw)((0,ip.DX)()))&&Ns(a),window.addEventListener("resize",sa),(0,D.DU)(ua).filter(t.EN).subscribe(ca),(0,p.ZG)()&&((0,Fo.go)()||(cw().length,K_(fw))),(za=k('<div class="scrivito_dnd_cursor"></div>')).hide(),k("body").append(za),(0,qk.Ts)(),"ontouchstart"in window&&(c||document.body).classList.add("touch_device"),s=document,tw(),s.addEventListener("visibilitychange",(function(){return function(e){ew="hidden"===e.visibilityState}(s)})),window.onbeforeunload=vN,function(){if((0,p.ZG)()){var e=(0,Fo.go)();if(e){var n=(0,d_.b2)().then((function(){return(0,t.Dc)(3)})).then((function(){return!0})),r=i_().then((function(){return!1}));t.s8.race([n,r]).then((function(t){t&&(0,o.G)((function(t){return i.createElement(uN,lN({closeOn:i_(),appUrl:e},t))}))}))}}}(),(0,D.DU)((function(){var e;return null===(e=En.X.getCurrentAppLocation())||void 0===e?void 0:e.url})).subscribe((function(e){return e&&(0,ip.DR)(function(e){if(!(0,p.ZG)())return(0,rs.O)(e);var t=(0,Ja.k)((0,ip.DX)()),n=t.screen,r=t.uiHash;return(0,rs.I)({isCloudUi:!0,appUrl:e,screen:n,tenant:(0,d.pR)(),uiHash:r})}(e))})),(0,D.DU)(gN).subscribe(_N),(0,p.ZG)()&&(0,D.DU)(hN).subscribe((function(e){return e&&lw(e)})),null!==ce.get()?ue(K(le(),ne().map((function(e){return e[0]})))):ue(be()),(0,p.ZG)()&&K_((function(){(0,t.VC)().includes("_scrivitoOpenFeatureManager")&&ow()})),(0,ip.vo)(),Kw(),Q_("propertiesDiff")}function yN(){var e;window.__scrivitoIsFetchingActive=h.MD,window.debugUi=G_,bN(),(e=document.createElement("div")).id="scrivito_editing",document.body.appendChild(e),(0,da.L)(i.createElement($_,null),e),function(e){Object.defineProperty(e,"Scrivito",{get:function(){throw new Error("Are you trying to access the Scrivito API? Switch your JavaScript console to the application frame first. See https://scrivito.com/using-browser-console")}})}(window)}f.load("en",{confirm:"Confirm",cancel:"Cancel",save:"Save",welcome:"Welcome",welcome_x:"Welcome $1",accept:"Accept",close:"Close",done:"Done",loading:"Loading...",current_page:"current page",ok:"Ok",edit:"Edit",delete:"Delete",duplicate:"Duplicate",apply:"Apply",add:"Add",unknown:"Unknown",new:"NEW","models.page.name":"page","models.site.name":"site","models.resource.name":"resource","models.widget_template.name":"widget template","models.obj.name.plural":"objects","models.team_permission.access_all_workspaces":"Access all working copies","models.team_permission.access_all_workspaces.description":"The team members can access all working copies, without being the owner.","models.team_permission.manage_users":"Manage users","models.team_permission.manage_users.description":"The team members can manage users and teams.","models.team_permission.manage_workflows":"Manage workflows","models.team_permission.manage_workflows.description":"The team members can create and edit workflows.","models.team_permission.publish_all_content":"Publish all content","models.team_permission.publish_all_content.description":"The team members can publish any working copy, without being the owner, and without following the workflow.","models.team_permission.manage_builtin_visibility_categories":"Manage built-in visibility categories","models.team_permission.manage_builtin_visibility_categories.description":"The team members can activate and deactivate the built-in visibility categories.","models.team_permission.manage_custom_visibility_categories":"Manage custom visibility categories","models.team_permission.manage_custom_visibility_categories.description":"The team members can define custom visibility categories.","models.team_permission.read_all_content":"Access all content","models.team_permission.read_all_content.description":"The team members can access all content, regardless of its visibility.","obj.tooltip.is_new":"This object is new.","obj.tooltip.is_restricted":"The visibility of this page is restricted.\n","obj.tooltip.is_edited":"This object has been modified.","obj.tooltip.is_deleted":"This object has been deleted.","workspace.title_published":"Published content","workspace.empty_title":"<empty title>","workspace.default_title":"$1's working copy","workspace.publish_error.exceeds_obj_limit":"This working copy cannot be published because the maximum number of CMS objects included in the plan for this CMS would be exceeded.","feature.copyTree.title":"NEW: Paste page and its subpages","feature.copyTree.description":"A copied page can now be pasted including its subpages.","feature.propertiesDiff.title":"Which properties have been changed and how?","feature.propertiesDiff.description":"In “Changes” mode, you can now conveniently compare edited page and widget properties with their published content!","feature.widgetLibrary.title":"NEW: The Widget Library","feature.widgetLibrary.description":"You can now add often-used widgets including all their content as templates to your Widget Library. For this, every widget’s menu now includes an “Add widget to library” item.\nTo view the contents of your library, select “Open Widget Library” from the main menu.\nStart extending your widget portfolio today!","feature.sidebarChangesList.title":"NEW: A sidebar for the changes!","feature.sidebarChangesList.description":"The changes made in a working copy can now be accessed via a sidebar panel. From here, you can also revert changes, or move them to a different working copy, restore deleted content, or publish the working copy. Try it out!","feature.sitesPanel.title":"A sidebar for your websites!","feature.sitesPanel.description":"Your sites are now accessible via a dedicated sidebar and no longer via the hierarchy. This helps you keep track of your sites and always have the most recently used ones at your fingertips.","feature.preferredUserSidebarMode.title":"Sticky sidebar","feature.preferredUserSidebarMode.description":"The sidebar now has a sticky mode in which it doesn’t open and close automatically but only after clicking one of its buttons. You can switch between the two modes in your user menu.","feature.testFeature1.title":"Test feature 1 title","feature.testFeature1.description":"Test feature 1 description","feature.testFeature2.title":"Test feature 2 title","feature.testFeature2.description":"Test feature 2 description","feature.testFeature3.title":"Test feature 3 title","feature.testFeature3.description":"Test feature 3 description","cannot_delete.disallowed_by_workflow":"It is not permitted to delete this content.","cannot_delete.obj_has_children":"Pages with subpages cannot be deleted.","cannot_edit.requires_workspace_write_permission":"This working copy cannot be edited.","cannot_edit.workspace_is_published":"Since this is the published content, nothing can be modified.","cannot_edit.workflow_disallows_modification":"You cannot edit this content.","cannot_edit.workflow_disallows_create":"You cannot create pages of this type.","cannot_edit.workspace_missing_workflow":"The content of this working copy cannot be modified.","cannot_change_site.obj_has_path":"The site of this content cannot be changed because it is part of the site hierarchy.","cannot_change_site.workflow_disallows_update":"It is not permitted to change the site this content belongs to.","cannot_change_site.permalink_in_use":" The site of this content cannot be changed because its permalink is already in use.","revision.published_by":"User with ID “$1”","custom_user_data.user_description_not_available":"User with ID “$1”","workspace.title.published":"Published content","workspace.title.blank":"[Empty title]","handle_ui_error.fallback_message":"During your last action, a technical error occurred. Please try again later. If the problem persists, please contact a technician familiar with this website and provide the error details.","handle_ui_error.precondition_not_met.cannot_disable_last_visibility_category":"This visibility category cannot be disabled because it is the only one available.","handle_ui_error.precondition_not_met.conflicts_present":"Content with divergent changes has been published meanwhile.","handle_ui_error.precondition_not_met.visibility_category_in_use":"This visibility category cannot be deleted because it is in use.","handle_ui_error.precondition_not_met.workflow_in_use":"The workflow cannot be deleted because it is assigned to at least one working copy.","handle_ui_error.precondition_not_met.workspace.create.exceeds_limit":"Scrivito cannot create a working copy for you right now because the maximum number of working copies included in the plan for this CMS has been reached.","handle_ui_error.precondition_not_met.team_in_use_by_workflow":"The team “$1” cannot be deleted because it is in use.","handle_ui_error.precondition_not_met.readonly":"The user is read-only and cannot be deleted","handle_ui_error.precondition_not_met.visibility_category_limit_reached":"The maximum number of visibility categories has been reached.","handle_ui_error.precondition_not_met.multi_site_disabled":"The working copy could not be published because at least one CMS object has a site ID. Since support for multiple sites is not enabled, the site ID must not be set.","handle_ui_error.binary.unprocessable.metadata.extract.failed":"Your file could not be read.","handle_ui_error.precondition_not_met.workspace.publish.exceeds_obj_limit":"The working copy cannot be published because too many CMS objects were changed in it.","handle_ui_error.precondition_not_met.workspace_is_readonly":"You are not permitted to change any content in this working copy.","handle_ui_error.precondition_not_met.obj_not_found":"The requested content does not exist.","handle_ui_error.binary_value_count_limit_exceeded":"No more binary content can be added because the maximum has been reached.","handle_ui_error.max_obj_count_reached":"No more CMS objects can be created because the maximum has been reached.","open_content_browser.confirm_dialog.title":"Change content you are not permitted to access?","open_content_browser.confirm_dialog.description":"You cannot access the referenced content. Do you still want to change it?","open_content_browser.confirm_dialog.confirm":"Change","default_inspector_description_for_obj.group_general":"General","default_inspector_description_for_obj.group_backlinks":"Linked by","default_inspector_description_for_obj.group_binary_metadata":"Metadata","default_inspector_description_for_obj.group_system":"System","item_description.system.content_id.title":"Content ID","item_description.system.id.title":"Object ID","item_description.system.obj_class.title":"Object type","item_description.system.path.title":"Path","item_description.system.permalink.title":"Permalink","item_description.system.site_id.title":"Site ID","item_description.system.visibility.title":"Visibility","item_description.system.first_published.title":"First published","item_description.system.first_published_by.title":"First published by","item_description.system.last_published.title":"Last published","item_description.system.last_published_by.title":"Last published by","item_description.system.created_at.title":"Created","item_description.system.created_by.title":"Created by","item_description.system.last_changed.title":"Last changed","item_description.system.last_changed_by.title":"Last changed by","item_description.system.language.title":"Language","item_description.system.site.title":"Site","item_description.not_available":"Not available","item_description.not_yet_published_for_the_first_time":"Not yet published","item_description.user_description_not_available":"User with ID “$1”","backlinks_item_component.no_backlinks_box.message":"No objects link to “$1”.","stringlist_item_component.edit_stringlist.add_placeholder":"Add item","binary_attribute_component.download":"Download","binary_attribute_component.drop_hint":"Drop a file above to replace this content.","binary_attribute_component.rename":"Rename","binary_attribute_component.rename_dialog.title":"Rename “$1”","binary_attribute_component.rename_dialog.description":"New filename:","binary_attribute_component.rename_dialog.ok":"Rename","binary_attribute_component.rename_dialog.invalid_filename":"The filename “$1” is not valid: A filename may only contain letters from A to Z, periods, hyphens and underscores.","binary_attribute_component.upload_title":"Select file to replace this content","binary_attribute_component.upload":"Upload","binary_metadata_item_component.content_type":"Content type","binary_metadata_item_component.content_length":"Size","binary_metadata_item_component.filename":"Filename","binary_metadata_item_component.width":"Width","binary_metadata_item_component.height":"Height","boolean_attribute_component.yes":"Yes","boolean_attribute_component.no":"No","html_attribute.tab.content":"Text","html_attribute.tab.source":"HTML","permalink_item_component.permalink.is_empty":"Not assigned","visibility_category._public.title":"Publicly available","visibility_category._public.description":"This content is visible to everyone.","visibility_category._auth.title":"Available to logged-in users","visibility_category._auth.description":"This content is only visible to editors and logged-in visitors.","widgetlist_attribute_component.is_empty":"No widgets present.","link_item_component.link.title_placeholder":"Title","link_item_component.link.url_placeholder":"URL","link_item_component.link.delete":"Delete link","link_obj_description.internal":"INTERNAL","link_obj_description.restricted":"RESTRICTED","link_obj_description.forbidden":"FORBIDDEN","link_obj_description.deleted":"DELETED","link_obj_description.global":"GLOBAL","link.content_browser":"Open Content Browser","link.new_tab":"Open link in new tab","link.seo_settings":"SEO settings","link.rel.title":"Rel attribute value","link.rel.description1":"Search engines use a link's ","link.rel.description2":" attribute to determine how to handle the linked document or resource.","linklist_item_component.linklist.undefined":"No links specified","site_id_editor.global_option_title":"GLOBAL","site_id_editor.search_placeholder":"Search sites","language_editor.search_placeholder":"Search languages...","add_language_dialog.add":"Save","add_language_dialog.close":"Close","add_language_dialog.description":'Please enter a language code in accordance with <br><a href="https://www.ietf.org/rfc/bcp/bcp47.txt" target="_blank">ISO 639-1</a>, e.g. “fr” or “en-US”.',"add_language_dialog.placeholder":"ISO-639-1 code","add_language_dialog.title":"Add language","add_language_dialog.errors.invalid_language_code":"The format of the language code you entered does not comply with the ISO 639-1 standard.","create_site_version_dialog.title":"Create language version from existing site content","create_site_version_dialog.description":" Please specify the name of the new site and select the source from which the top-level pages should be copied. Subpages will not be included.","create_site_version_dialog.new_site":"Site name","create_site_version_dialog.new_site.placeholder":"Name of the new site?","create_site_version_dialog.initial_content":"Content source","create_site_version_dialog.language":"Language","create_site_version_dialog.create":"Create","create_site_version_dialog.close":"Cancel","create_site_version_dialog.search_placeholder":"Search sites","adjust_language_dialog.title":"Adjust page language?","adjust_language_dialog.description":"The language setting of the page you are about to insert ($source) is different from the target section ($target). Do you want the language of the page to be adjusted accordingly?","adjust_language_dialog.with_many.description":"The language setting of the pages you are about to insert ($source) is different from the target section ($target). Do you want the language of the pages to be adjusted accordingly?","adjust_language_dialog.adjust_language":"Adjust language","adjust_language_dialog.keep_language":"Keep language","adjust_language_dialog.cancel":"Cancel","language.not_specified":"Not specified","language.aa":"Afar","language.ab":"Abkhazian","language.ae":"Avestan","language.af":"Afrikaans","language.ak":"Akan","language.am":"Amharic","language.an":"Aragonese","language.ar":"Arabic","language.as":"Assamese","language.av":"Avaric","language.ay":"Aymara","language.az":"Azerbaijani","language.ba":"Bashkir","language.be":"Belarusian","language.bg":"Bulgarian","language.bh":"Bihari languages","language.bi":"Bislama","language.bm":"Bambara","language.bn":"Bengali","language.bo":"Tibetan","language.br":"Breton","language.bs":"Bosnian","language.ca":"Catalan, Valencian","language.ce":"Chechen","language.ch":"Chamorro","language.co":"Corsican","language.cr":"Cree","language.cs":"Czech","language.cu":"Church Slavic, Old Slavonic, Church Slavonic, Old Bulgarian, Old Church Slavonic","language.cv":"Chuvash","language.cy":"Welsh","language.da":"Danish","language.de":"German","language.dv":"Divehi, Dhivehi, Maldivian","language.dz":"Dzongkha","language.ee":"Ewe","language.el":"Greek, Modern","language.en":"English","language.eo":"Esperanto","language.es":"Spanish, Castilian","language.et":"Estonian","language.eu":"Basque","language.fa":"Persian","language.ff":"Fulah","language.fi":"Finnish","language.fj":"Fijian","language.fo":"Faroese","language.fr":"French","language.fy":"Western Frisian","language.ga":"Irish","language.gd":"Gaelic, Scottish Gaelic","language.gl":"Galician","language.gn":"Guarani","language.gu":"Gujarati","language.gv":"Manx","language.ha":"Hausa","language.he":"Hebrew","language.hi":"Hindi","language.ho":"Hiri Motu","language.hr":"Croatian","language.ht":"Haitian, Haitian Creole","language.hu":"Hungarian","language.hy":"Armenian","language.hz":"Herero","language.ia":"Interlingua (International Auxiliary Language Association)","language.id":"Indonesian","language.ie":"Interlingue, Occidental","language.ig":"Igbo","language.ii":"Sichuan Yi, Nuosu","language.ik":"Inupiaq","language.io":"Ido","language.is":"Icelandic","language.it":"Italian","language.iu":"Inuktitut","language.ja":"Japanese","language.jv":"Javanese","language.ka":"Georgian","language.kg":"Kongo","language.ki":"Kikuyu, Gikuyu","language.kj":"Kuanyama, Kwanyama","language.kk":"Kazakh","language.kl":"Kalaallisut, Greenlandic","language.km":"Central Khmer","language.kn":"Kannada","language.ko":"Korean","language.kr":"Kanuri","language.ks":"Kashmiri","language.ku":"Kurdish","language.kv":"Komi","language.kw":"Cornish","language.ky":"Kirghiz, Kyrgyz","language.la":"Latin","language.lb":"Luxembourgish, Letzeburgesch","language.lg":"Ganda","language.li":"Limburgan, Limburger, Limburgish","language.ln":"Lingala","language.lo":"Lao","language.lt":"Lithuanian","language.lu":"Luba-Katanga","language.lv":"Latvian","language.mg":"Malagasy","language.mh":"Marshallese","language.mi":"Māori","language.mk":"Macedonian","language.ml":"Malayalam","language.mn":"Mongolian","language.mr":"Marathi","language.ms":"Malay","language.mt":"Maltese","language.my":"Burmese","language.na":"Nauru","language.nb":"Norwegian Bokmål","language.nd":"North Ndebele","language.ne":"Nepali","language.ng":"Ndonga","language.nl":"Dutch, Flemish","language.nn":"Norwegian Nynorsk","language.no":"Norwegian","language.nr":"South Ndebele","language.nv":"Navajo, Navaho","language.ny":"Chichewa, Chewa, Nyanja","language.oc":"Occitan","language.oj":"Ojibwa","language.om":"Oromo","language.or":"Oriya","language.os":"Ossetian, Ossetic","language.pa":"Punjabi, Panjabi","language.pi":"Pali","language.pl":"Polish","language.ps":"Pashto, Pushto","language.pt":"Portuguese","language.qu":"Quechua","language.rm":"Romansh","language.rn":"Rundi","language.ro":"Romanian, Moldavian, Moldovan","language.ru":"Russian","language.rw":"Kinyarwanda","language.sa":"Sanskrit","language.sc":"Sardinian","language.sd":"Sindhi","language.se":"Northern Sami","language.sg":"Sango","language.si":"Sinhala, Sinhalese","language.sk":"Slovak","language.sl":"Slovenian","language.sm":"Samoan","language.sn":"Shona","language.so":"Somali","language.sq":"Albanian","language.sr":"Serbian","language.ss":"Swati","language.st":"Southern Sotho","language.su":"Sundanese","language.sv":"Swedish","language.sw":"Swahili","language.ta":"Tamil","language.te":"Telugu","language.tg":"Tajik","language.th":"Thai","language.ti":"Tigrinya","language.tk":"Turkmen","language.tl":"Tagalog","language.tn":"Tswana","language.to":"Tonga (Tonga Islands)","language.tr":"Turkish","language.ts":"Tsonga","language.tt":"Tatar","language.tw":"Twi","language.ty":"Tahitian","language.ug":"Uighur, Uyghur","language.uk":"Ukrainian","language.ur":"Urdu","language.uz":"Uzbek","language.ve":"Venda","language.vi":"Vietnamese","language.vo":"Volapük","language.wa":"Walloon","language.wo":"Wolof","language.xh":"Xhosa","language.yi":"Yiddish","language.yo":"Yoruba","language.za":"Zhuang, Chuang","language.zh":"Chinese","language.zu":"Zulu","number_attribute_component.clear_button.title":"Clear","number_attribute_component.invalid_number":"The value must be a permissible number.","reference_attribute_component.clear_button.title":"Clear","reference_label.restricted":"RESTRICTED","reference_label.forbidden":"FORBIDDEN","reference_label.deleted":"DELETED","reference_label.global":"GLOBAL","site_editing.global":"global","site_editing.global.tooltip":"This content is available on all websites","site_editing.site_title.tooltip":"This content is part of the website “$1”","site_editing.site_id.tooltip":"This content is part of the website with ID “$1”","not_connected_alert_dialog.title":"Website not connected","not_connected_alert_dialog.description":"“$1” did not connect with the Scrivito UI. Please make sure that the following applies:","not_connected_alert_dialog.reason_online":"Is the above URL correct, is the website online and based on Scrivito JS?","not_connected_alert_dialog.reason_version":"Does the website use at least version “$1” of Scrivito?","not_connected_alert_dialog.reason_csp":"Is “https://*.scrivito.com” included in the “frame-ancestors” website header (via CSP)?","not_connected_alert_dialog.different_url":"Use a different URL","not_connected_alert_dialog.further_details":"Further details","obj_restriction_dialog.title":"Adjust page visibility","obj_restriction_dialog.title_when_subtree":"Adjust page visibility","obj_restriction_dialog.copy_page.description":"You are about to copy the “$sourceTitle” page to “$targetTitle”.\nThe visibility of the source page is set to “$sourceVisibility”, whereas the target’s visibility is “$targetVisibility”.\nDo you want the visibility of the copied page to be set to “$targetVisibility” as well?","obj_restriction_dialog.move_page.description":"You are about to move the “$sourceTitle” page to “$targetTitle”.\nThe visibility of the source page is set to “$sourceVisibility”, whereas the target’s visibility is “$targetVisibility”.\nDo you want the visibility of the moved page to be set to “$targetVisibility” as well?","obj_restriction_dialog.move_subtree.description":"You are about to move the “$sourceTitle” page, together with its subpages, to “$targetTitle”.\nThe visibility of the source page is set to “$sourceVisibility”, whereas the target’s visibility is “$targetVisibility”.\nDo you want the visibility of all moved pages to be set to “$targetVisibility” as well?","obj_restriction_dialog.copy_page.select_visibility.description":"You are about to copy the “$sourceTitle” page to “$targetTitle”.\nThe visibility of the source page is set to “$sourceVisibility”, whereas the target’s visibility is “$targetVisibility”.\nPlease select the visibility of the copied page:","obj_restriction_dialog.move_page.select_visibility.description":"You are about to move the “$sourceTitle” page to “$targetTitle”.\nThe visibility of the source page is set to “$sourceVisibility”, whereas the target’s visibility is “$targetVisibility”.\nPlease select the visibility of the moved page:","obj_restriction_dialog.move_subtree.select_visibility.description":"You are about to move the “$sourceTitle” page, together with its subpages, to “$targetTitle”.\nThe visibility of the source page is set to “$sourceVisibility”, whereas the target’s visibility is “$targetVisibility”.\nPlease select the visibility of the moved pages:","obj_restriction_dialog.change_visibility":"Adjust visibility","obj_restriction_dialog.dont_change":"Keep visibility","welcome_ui_dialog.title":"Welcome to Scrivito...","welcome_ui_dialog.what_is_scrivito":"What is Scrivito?","welcome_ui_dialog.which_website":"Which website would you like to edit?","welcome_ui_dialog.last_used_website":"Continue with last used website","welcome_ui_dialog.previously_used_websites":"Choose a previously used website","welcome_ui_dialog.enter_url":"Specify the URL to continue","welcome_ui_dialog.enter_url_placeholder":"Enter URL...","welcome_ui_dialog.footer.proudly":"is proudly made by","welcome_ui_dialog.footer.city":"in Berlin, Germany, and Wrocław, Poland","welcome_ui_dialog.footer.copyright":"All rights reserved","teams_dialog.title":"User management","teams_dialog.teams":"Teams","teams_dialog.users":"Users","teams_dialog.team_validation_error.title_empty":"The title must not be empty","teams_dialog.team_validation_error.title_taken":"A team with this title already exists.","teams_dialog.team_validation_error.title_invalid":"The title of the team is too long or contains invalid characters.","teams_dialog.team_validation_error.limit_reached":"The maximum number of teams has been reached.","teams_dialog.teams_tab.search_placeholder":"Search teams","teams_dialog.teams_tab.add_team":"Add team","teams_dialog.add_team_form.form_title":"Add team","teams_dialog.add_team_form.title":"Title","teams_dialog.add_team_form.description":"Description","teams_dialog.add_team_form.permissions":"Permissions","teams_dialog.team_item.edit":"Properties","teams_dialog.team_item.edit_users":"Users","teams_dialog.team_item.delete":"Delete team","teams_dialog.edit_team_form.title":"Title","teams_dialog.edit_team_form.description":"Description","teams_dialog.edit_team_form.permissions":"Permissions","teams_dialog.edit_team_users_form.add_user":"Add user","teams_dialog.edit_team_users_form.users":"Users ($1)","teams_dialog.edit_team_users_form.add_user_autocomplete.placeholder":"Enter the user's name or email","teams_dialog.edit_team_users_form.add_user_autocomplete.is_pending":"The user has not logged in yet","teams_dialog.edit_team_users_form.user_item.delete":"Remove from team","teams_dialog.edit_team_users_form.user_item.is_pending":"The user has not logged in yet","teams_dialog.users_tab.search_placeholder":"Search users","teams_dialog.users_tab.add_user":"Add user","teams_dialog.add_user_form.title":"Add user","teams_dialog.add_user_form.email":"Email","teams_dialog.add_user_form.email_placeholder":"example@domain.com","teams_dialog.add_user_form.teams":"Teams","teams_dialog.user_item.delete":"Delete user","teams_dialog.user_item.is_pending":"The user has not logged in yet","teams_dialog.user_item.edit_teams":"Edit teams","teams_dialog.user_item.show_teams":"Show teams","teams_dialog.edit_user_form.teams":"Teams","teams_dialog.base_permissions.title":"All editors","visibility_categories_dialog.title":"Manage visibility categories","visibility_categories_dialog.builtin_categories_tab.description":'The visibility categories that are enabled here are offered to editors for selection in the page properties. More about <a href="https://www.scrivito.com/content-visibility" target="_blank">content visibility</a>.',"visibility_categories_dialog.custom_categories_tab.description":'Custom categories are additionally offered to editors for selection in the page properties. More about <a href="https://www.scrivito.com/content-visibility" target="_blank">content visibility</a>.',"visibility_categories_dialog.builtin_categories_tab.category_item.enabled":"Enabled","visibility_categories_dialog.builtin_categories_tab.category_item.disabled":"Disabled","visibility_categories_dialog.custom_categories":"Custom categories","visibility_categories_dialog.builtin_categories":"Built-in categories","visibility_categories_dialog.custom_categories_tab.search_placeholder":"Search categories","visibility_categories_dialog.custom_categories_tab.add_visibility_category":"Add category","visibility_categories_dialog.visibility_category_form.title":"Title","visibility_categories_dialog.visibility_category_form.validation.empty.title":"The title must not be empty.","visibility_categories_dialog.visibility_category_form.validation.invalid_value.title":"The title is too long.","visibility_categories_dialog.visibility_category_form.validation.missing.title":"The title must not be empty.","visibility_categories_dialog.visibility_category_form.validation.taken.title":"A visibility category with this title already exists.","visibility_categories_dialog.visibility_category_form.description":"Description","visibility_categories_dialog.visibility_category_form.validation.invalid_value.description":"The description is too long.","visibility_categories_dialog.visibility_category_form.groups":"Groups","visibility_categories_dialog.visibility_category_form.validation.invalid_value.groups":"The maximum number of groups has been exceeded, or the group names are too long.","visibility_categories_dialog.custom_categories_tab.add_visibility_category_form.title":"Add visibility category","visibility_categories_dialog.groups_editor.placeholder":"Enter group name","workflows_dialog.title":"Manage workflows","workflows_dialog.dialog_body.add_workflow":"Add workflow","workflows_dialog.dialog_body.search_placeholder":"Search workflows","workflows_dialog.dialog_body.add_workflow_form.title":"New workflow","workflows_dialog.workflow_item.has_review":"Includes a review stage","workflows_dialog.workflow_item.allows_widget_library":"Allows Widget Library to be edited","workflows_dialog.workflow_form.title":"Title","workflows_dialog.workflow_form.description":"Description","workflows_dialog.workflow_form.constraints":"Constraints","workflows_dialog.workflow_form.constraints.hint":"Provide constraints in JSON format.","workflows_dialog.workflow_form.editor_teams":"Teams allowed to create working copies with this workflow","workflows_dialog.workflow_form.publisher_teams":"Teams with publishing permission","workflows_dialog.workflow_form.has_team_all":"Applies to all current and future teams","workflows_dialog.workflow_form.has_no_team_all":"Applies to the selected teams only","workflows_dialog.workflow_form.has_review":"Include a review stage","workflows_dialog.workflow_form.allows_widget_library":"Allow Widget Library to be edited","workflows_dialog.workflow_form.invalid_constraints_json":"While parsing the JSON data, an error occurred: $1.","workflows_dialog.validation.missing.title":"The title must not be empty.","workflows_dialog.validation.taken.title":"A workflow with this title already exists.","workflows_dialog.validation.invalid_value.title":"The title is too long.","workflows_dialog.validation.invalid_value.description":"The description is too long.","workflows_dialog.validation.illegal_value.constraints":"The constraints definition is semantically incorrect.","workflows_dialog.true":"Yes","workflows_dialog.false":"No","workflows_dialog.teams_toggle.all_teams":"All teams","workflows_dialog.teams_toggle.selected_teams":"Selected teams","editable_workspace_dialog.select":"Select","editable_workspace_dialog.create":"Create","editable_workspace_dialog.workspace_select.select":"Select a working copy:","editable_workspace_dialog.create_workspace_form.create_workspace":"Create a new working copy:","editable_workspace_dialog.create_workspace_form.or_create_workspace":"Or, create a new one:","editable_workspace_dialog.create_workspace_form.placeholder":"Working copy title","widget_library_component.title":"Widget Library","widget_library_component.close":"Close Widget Library","widget_library_component.description_attribute.title":"Description","widget_library_component.hide_details_button":"Hide details","widget_library_component.show_details_button":"Show details","widget_library_component.empty_state":"No widgets have been added to the library yet.","widget_library_component.marker.widget_class":"Predefined widget","widget_library_component.marker.widget_template":"Widget template","widget_library_component.more_info":"What is the Widget Library?","widget_library_component.thumbnail_attribute.title":"Thumbnail","widget_library_component.title_attribute.title":"Title","widget_preview.sdk_not_supported":"Please update Scrivito to version 1.20.0 or later to see the widget preview.","create_widget_template_dialog.title":"Add widget to library","create_widget_template_dialog.description":"Please enter the title of the new widget template.","create_widget_template_dialog.placeholder":"new title","create_widget_template_dialog.confirm":"Create","create_workspace_dialog.title":"Create working copy","create_workspace_dialog.description":"Please enter the title of the new working copy.","create_workspace_dialog.placeholder":"new title","create_workspace_dialog.workflow_select.title":"Select a workflow","create_workspace_dialog.confirm":"Create","select_display_mode.editable_workspace_dialog.title.select_or_create":"Choose a working copy","select_display_mode.editable_workspace_dialog.title.select":"Select a working copy","select_display_mode.editable_workspace_dialog.title.create":"Create a working copy","select_display_mode.editable_workspace_dialog.title.forbidden":"You are not allowed to edit this page","select_display_mode.editable_workspace_dialog.description.select_or_create":"To add or edit content, select a working copy or create a new one.","select_display_mode.editable_workspace_dialog.description.select":"To add or edit content, select a working copy.","select_display_mode.editable_workspace_dialog.description.create":"To add or edit content, create a new working copy.","select_display_mode.editable_workspace_dialog.description.forbidden":"There are no working copies available in which you could change content. Also, you are not permitted to create a working copy for editing the current page.","interactions.create_member.validation_error.email_missing":"The email must not be empty","interactions.create_member.validation_error.email_taken":"A user with this email already exists","interactions.create_member.validation_error.email_invalid":"The email address has the wrong format","interactions.create_member.precondition_error.user_limit_reached":"The maximum number of users has been reached","interactions.delete_visibility_category.confirm_dialog.title":"Delete visibility category?","interactions.delete_visibility_category.confirm_dialog.description":"The visibility category “$1” will be deleted irrevocably.","interactions.delete_member.confirm_dialog.title":"Delete user?","interactions.delete_member.confirm_dialog.description":"The user whose email is $1 will be deleted irrevocably.","interactions.delete_team.dialog.title":"Delete team?","interactions.delete_team.dialog.description":"The team “$1” will be deleted irrevocably.","interactions.delete_workflow.dialog.title":"Delete workflow?","interactions.delete_workflow.dialog.description":"The workflow “$1” will be deleted irrevocably.","interactions.transfer_changes.dialog.title":"Select or create a target working copy","interactions.transfer_changes.dialog.description":"The changes can be moved to an existing working copy or to a new one.","interactions.transfer_changes.workflow_changed":"You are transferring changes to a working copy with a different workflow. This means, that once transferred, some of the changes could become non-publishable due to new workflow restrictions.","details_dialog.title":"Properties of “$1”","rename_workspace_dialog.title":"Edit title of “$1”","workspace_members_dialog.add_users.one":"Add user","workspace_members_dialog.add_users.many":"Add users","workspace_members_dialog.title":"Collaborators of “$1”","workspace_members_dialog.confirm_delete_user":"Remove","workspace_members_dialog.confirm_delete_user.description":"Do you want to remove $user from the current working copy (“$title”)?","workspace_members_dialog.confirm_delete_user.title":"Remove user?","workspace_members_dialog.delete_user.cannot_delete_current_user.tooltip":"You cannot remove yourself from a working copy.","workspace_members_dialog.users":"Collaborators","workspace_members_dialog.user_description_not_available":"Unknown user","workspace_members_dialog.user_role":"Role","workspace_members_dialog.user_search.placeholder":"Enter a user’s name","workspace_members_dialog.role_description.owner":"Can edit content, delete the working copy, invite and manage users","workspace_members_dialog.role_description.reader":"Can view the content in this working copy","workspace_members_dialog.role_description.writer":"Can edit the content in this working copy","workspace_members_dialog.role_title.owner":"Is owner","workspace_members_dialog.role_title.reader":"Can view","workspace_members_dialog.role_title.writer":"Can edit","workspace_changes_dialog.dialog_header.title":"Changes to “$1”","workspace_changes_dialog.dialog_header.title.is_transfer_mode":"Moving changes of “$1”","workspace_changes_dialog.dialog_header.count_title.one":"($1 object)","workspace_changes_dialog.dialog_header.count_title.many":"($1 objects)","workspace_changes_dialog.dialog_header.count_title.many.has_more":"($1+ objects)","workspace_changes_dialog.dialog_header.count_title.is_transfer_mode.one":"(selected $1 object for moving)","workspace_changes_dialog.dialog_header.count_title.is_transfer_mode.many":"(selected $1 objects for moving)","workspace_changes_dialog.order_toggle.last_changed":"Sort by last change date","workspace_changes_dialog.order_toggle.last_changed.asc":"Oldest change first","workspace_changes_dialog.order_toggle.last_changed.desc":"Most recent change first","workspace_changes_dialog.order_toggle.obj_class":"Sort by object type","workspace_changes_dialog.order_toggle.obj_class.asc":"A to Z (type)","workspace_changes_dialog.order_toggle.obj_class.desc":"Z to A (type)","workspace_changes_dialog.order_toggle.modification":"Sort by modification type","workspace_changes_dialog.order_toggle.modification.desc":"New, edited, deleted","workspace_changes_dialog.order_toggle.modification.asc":"Deleted, edited, new","workspace_changes_dialog.order_toggle.is_disabled":"Currently selected order","workspace_changes_dialog.no_changes_notice":"Nothing was changed in this working copy.","workspace_changes_dialog.change_item.last_changed":"Last change","workspace_changes_dialog.change_item.last_changed_by":"Last changed by","workspace_changes_dialog.change_item.not_available":"Not available","workspace_changes_dialog.change_item.publish_permission":"Publish","workspace_changes_dialog.change_item.new.conflict":"This object is new in this working copy.\nIt cannot be moved because it has been created and published with a different working copy in the meantime.","workspace_changes_dialog.change_item.edited.conflict":"This object has been modified in this working copy.\nIt cannot be moved because it has been changed and published with a different working copy in the meantime.","workspace_changes_dialog.change_item.deleted.conflict":"This object has been deleted in this working copy.\nIt cannot be moved because it has been changed and published with a different working copy in the meantime.","workspace_changes_dialog.publish_permission.is_permitted":"is permitted","workspace_changes_dialog.publish_permission.is_forbidden":"is not permitted","workspace_changes_dialog.enable_transfer_mode_button.title":"Move changes","workspace_changes_dialog.transfer_disabled.cannot_edit":"This option is not available.","workspace_changes_dialog.transfer_disabled.no_changes":"Nothing was changed in this working copy.","workspace_changes_dialog.transfer_changes_button.title":"Select target working copy","workspace_changes_dialog.publish_button.is_forbidden":"The working copy cannot be published.","workspace_changes_dialog.widget_template":"Widget template","most_severe_notification.inadmissible_changes":"Inadmissible changes","most_severe_notification.has_conflicts":"Content with divergent changes has been published meanwhile","notifications_count.errors_and_warnings":"$1 errors and warnings","notifications_count.only_error":"1 error","notifications_count.only_errors":"$1 errors","notifications_count.only_warning":"1 warning","notifications_count.only_warnings":"$1 warnings","workspace_publisher.exceeds_obj_limit":"This working copy cannot be published because the maximum number of CMS objects included in the plan for this CMS would be exceeded.","workspace_publisher.found_validation_errors.title":"This working copy cannot be published.","workspace_publisher.found_validation_errors.body.one":"There is a content error that needs to be corrected prior to publishing. Please refer to the changes list for details.","workspace_publisher.found_validation_errors.body.many":"There are $1 content errors that need to be corrected prior to publishing. Please refer to the changes list for details.","obj_class_dialog.last_used":"Last used","obj_class_dialog.all":"All","obj_class_dialog.search_results":"Search results ($1)","obj_class_dialog.search_placeholder":"Enter search term","obj_class_dialog.no_search_results":"Your search didn't return any results.","preview_sizes.desktop":"Desktop","preview_sizes.laptop":"Laptop","preview_sizes.mobile":"Mobile phone, portrait","preview_sizes.tablet":"Tablet, portrait","loader_error.title":"An error occurred while retrieving the data. Please try again later. If the problem persists, contact a technician familiar with this website.","sidebar.browse_content_button.hint":"Open Content Browser","sidebar.browse_content_button.hint.is_disabled":"The Content Browser is not available while deleted content is being displayed.","sidebar.details_button.hint":"Show page details","sidebar.details_button.hint.active":"Page details","sidebar.sites_button.hint":"Show sites","sidebar.sites_button.hint.active":"Sites","sidebar.hierarchy_button.hint":"Show hierarchy","sidebar.hierarchy_button.hint.active":"Hierarchy","sidebar.hierarchy_panel.show_details_icon.hide":"Hide details","sidebar.hierarchy_panel.show_details_icon.open":"Show details","sidebar.hierarchy_panel.list_entry_details.last_changed":"Last change","sidebar.hierarchy_panel.list_entry_details.last_changed_by":"Last changed by","sidebar.hierarchy_panel.list_entry_details.validation_results.tooltip":"There is invalid content that needs to be corrected prior to publishing.","sidebar.hierarchy_panel.list_entry_details.validation_errors_and_warnings":"$1 errors and warnings","sidebar.hierarchy_panel.list_entry_details.validation_errors.one":"1 error","sidebar.hierarchy_panel.list_entry_details.validation_errors.many":"$1 errors","sidebar.hierarchy_panel.list_entry_details.validation_warnings.one":"1 warning","sidebar.hierarchy_panel.list_entry_details.validation_warnings.many":"$1 warnings","sidebar.page_properties_button.hint":"Show page properties","sidebar.page_properties_button.hint.active":"Page properties","sidebar.search_button.hint":"Show search","sidebar.search_button.hint.active":"Search","sidebar.sites_panel.current_site":"Current site","sidebar.sites_panel.add_site":"Add site","sidebar.sites_panel.recent_sites":"Recently used sites","sidebar.sites_panel.search_placeholder":"Enter search term","sidebar.sites_panel.search_results":"Search results ($1)","sidebar.sites_panel.no_search_results":"Your search didn't return any results.","sidebar.sites_panel.all_sites":"All sites ($count)","sidebar.sites_panel.objs_count":"$1 objects","sites_panel.group.title":"Language versions","sites_panel.group.show":"Show all sites","sidebar.translations_button.hint":"Show page versions","sidebar.translations_button.hint.active":"Page versions","sidebar.workspaces_button.hint":"Show working copies","sidebar.workspaces_button.hint.active":"Working copies","sidebar.workspaces_button.hint.submitted_workspaces.one":"1 publish request","sidebar.workspaces_button.hint.submitted_workspaces.many":"$1 publish requests","sidebar.changes_list_button.hint":"Show changes","sidebar.changes_list_button.hint.active":"Changes","sidebar.changes_list_button.disabled":"The changes list is only available for working copies.","sidebar.preview_sizes_button.hint":"Show preview sizes","sidebar.preview_sizes_button.hint.active":"Preview sizes","sidebar.current_user.logged_in_as":"You are logged in as $userDescription.","sidebar.current_user_menu.signed_is_as":"Signed in as","sidebar.widget_library_button.hint":"Show widgets","sidebar.widget_library_button.hint.active":"Widgets","sidebar.hide_controls_button.hint":"Hide control panel","sidebar.notifications_button.hint":"Show notifications","sidebar.notifications_button.hint.active":"Notifications","sidebar.history_button.hint":"Show history","sidebar.history_button.hint.active":"History","sidebar.reason_for_history_being_disabled":"Select the published content to have the history available.","sidebar.reason_for_widgets_being_disabled":"This sidebar panel is currently not available.","sidebar.workspace_list.list_type.submitted":"Publish requested","sidebar.workspace_list.list_type.in_review":"In review","sidebar.workspace_list.list_type.was_in_review":"Reviewed and rejected","sidebar.workspace_list.workspace_item.hint.is_disabled":"You are not permitted to select this working copy.","sidebar.workspace_list.workspace_item.hint.is_selectable":"Select this working copy","sidebar.workspace_list.workspace_item.hint.is_published":"Select published content","sidebar.workspace_list.workspace_item.hint":"Currently selected working copy","sidebar.workspace_list.workspace_info.changes_count.tooltip":"Changes ($1)","sidebar.workspace_list.workspace_info.validation_results.tooltip":"There is invalid content that needs to be corrected prior to publishing.","sidebar.workspace_list.workspace_info.validation_results.one":"1 content error","sidebar.workspace_list.workspace_info.validation_results.many":"$1 content errors","sidebar.workspaces_panel.general_workspaces_group.title":"Working copies","sidebar.workspaces_panel.current_workspace_group.title":"This working copy","sidebar.workspaces_panel.my_workspaces_group.title":"My working copies","sidebar.workspaces_panel.other_workspaces_group.title":"Other working copies","sidebar.workspaces_panel.in_review_workspaces.title":"Working copies to be published","sidebar.hierarchy_panel.hierarchy":"Hierarchy","sidebar.notifications_panel.validations.error.title":"Invalid content","sidebar.notifications_panel.validations.error.description":"This page includes content that needs to be corrected prior to publishing.","sidebar.notifications_panel.validations.warning.title":"Warnings","sidebar.notifications_panel.validations.info.title":"Information","sidebar.notifications_panel.inadmissible_changes.title":"Inadmissible changes","sidebar.notifications_panel.inadmissible_changes.description":"To this page inadmissible changes have been applied, causing the working copy to be unpublishable.","sidebar.search_panel.results":"Search results","sidebar.search_panel.results.many":"search results ($1)","sidebar.search_panel.input_placeholder":"Enter search term","sidebar.search_panel.no_results":"Your search didn't return any results.","sidebar.search_panel.show_more":"More search results","sidebar.search_panel.search_all_sites":"Search all sites","sidebar.changes_list_panel.title":"Changes ($1)","sidebar.changes_list_panel.order_type.title":"Sort by...","sidebar.changes_list_panel.order_type.last_changed":"Most recent","sidebar.changes_list_panel.order_type.obj_class":"Page type","sidebar.changes_list_panel.order_type.modification":"Change type","sidebar.changes_panel.no_changes":"Nothing was changed in this working copy.","sidebar.changes_list_panel.publish.title":"Publish","sidebar.changes_list_panel.publish.tooltip":"Publish this working copy","sidebar.changes_list_panel.search_placeholder":"Enter search term","sidebar.changes_list_panel.search_no_results":"Your search didn't return any results.","sidebar.changes_list_panel.widget_template":"Widget template","sidebar.changes_list_panel.show_all_changes.info":"$visibleChangesCount of $overallChangesCount changes","sidebar.changes_list_panel.show_all_changes.button_title":"Show all changes","sidebar.translations_panel.current_page_tab.title":"Page","sidebar.translations_panel.current_page_tab.description":"Show language versions of the current page and create new ones.","sidebar.translations_panel.current_page_tab.existing_translations":"Available versions","sidebar.translations_panel.current_page_tab.potential_translations":"Potential versions","sidebar.translations_panel.current_page_tab.potential_translations.state":"Site without this page","sidebar.translations_panel.current_page_tab.existing_translation.unlink":"Unlink page","sidebar.translations_panel.current_page_tab.potential_translations.clipboard_page":"Page on clipboard","sidebar.notifications_panel.conflict.title":"Conflict","sidebar.notifications_panel.conflict.description1":"This page has been changed divergently and published in the meantime. ","sidebar.notifications_panel.conflict.link":"Resolve the conflict","sidebar.notifications_panel.conflict.description2":" to be able to publish this working copy.","sidebar.notifications_panel.potential_conflicts.title":"Multiple edits","sidebar.notifications_panel.potential_conflicts.description":"This page has already been changed in other working copies:","sidebar.notifications_panel.no_notifications":"No notifications at present.","sidebar.preview_sizes_panel.title":"Preview sizes","sidebar.history_panel.title":"History","sidebar.history_panel.obj_history":"This page","sidebar.history_panel.publish_history":"All content","sidebar.history_panel.info_box.text":"Pick an archived version of the published content to open it in a new working copy. Learn more about the ","sidebar.history_panel.info_box.link":"publishing history","sidebar.history_panel.limited_results_box.text":"The maximum number of history items displayed ($1) depends on the plan for this CMS.","sidebar.history_panel.unknown_date":"Unknown date","sidebar.history_panel.revision_list.revision_item.is_most_recent":"This is the currently published content.","sidebar.history_panel.revision_list.revision_item.changes_count.many":"$1 changes","sidebar.history_panel.revision_list.revision_item.changes_count.one":"1 change","sidebar.history_panel.revision_list.revision_item.restore":"Open","sidebar.history_panel.revision_list.revision_item.compare":"Compare","sidebar.history_panel.revision_list.revision_item.changes":"Changes","sidebar.history_panel.revision_list.revision_item.show":"Show","sidebar.widget_library_panel.all":"All","sidebar.widget_library_panel.search_results":"Search results ($1)","sidebar.widget_library_panel.no_search_results":"Your search didn't return any results.","sidebar.widget_library_panel.last_used":"Last used","sidebar.widget_library_panel.title":"Widgets","sidebar.widget_library_panel.drop_to_cancel":"Drop widget here to cancel","sidebar.widget_library_panel.search_placeholder":"Search widgets","sidebar.panel.list_entry.sort_subpages":"Sort subpages","sidebar.list.load_more":"Load more...","confirm_delete_dialog.title":"Delete $type?","confirm_delete_dialog.title.many_objects":"Delete $count $type?","confirm_delete_dialog.is_edited":"The $type “$name” can be restored if required. However, the changes made to it in this working copy cannot be recovered.","confirm_delete_dialog.is_new":"You are in the process of deleting “$name”. This cannot be undone because the $type has been created in this working copy.","confirm_delete_dialog.not_modified":"The $type “$name” can be restored if required.","confirm_delete_dialog.many_objs_to_delete.many_backlinks":"The following objects link to at least one of the $type to be deleted:","confirm_delete_dialog.many_objs_to_delete.one_backlink":"The following object links to at least one of the $type to be deleted: ","confirm_delete_dialog.one_obj_to_delete.many_backlinks":"The following objects link to the $type to be deleted:","confirm_delete_dialog.one_obj_to_delete.one_backlink":"The following object links to the $type to be deleted:","confirm_delete_dialog.confirm.has_backlinks":"Delete anyway","menu_bar.create":"Create","widget_marker.widget_is_new":"Widget is new","widget_marker.widget_is_edited":"Widget has been modified","widget_marker.widget_is_edited_and_dragged_here":"Widget has been modified and dragged here","widget_marker.widget_is_edited_and_dragged_away":"Widget has been modified and dragged away from here","widget_marker.widget_is_deleted":"Widget has been deleted","widget_marker.widget_is_dragged_here":"Widget has been dragged here","widget_marker.widget_is_dragged_away":"Widget has been dragged away from here","transfer_errors_dialog.title":"Errors while moving content changes","transfer_errors_dialog.modified":"Some of the changes could not be moved because the content concerned has also been modified in the target working copy.","transfer_errors_dialog.conflicting":"Some of the changes have not been moved because the respective content in the target working copy is outdated and applying changes to it would cause a conflict. Please make sure that both working copies have been updated and are free of conflicts.","current_page_link_dialog.title":"Share page","current_page_link_dialog.description":"Using the URL below, you can share the current page as part of this working copy. The recipients need to be logged in and have access to the working copy.","error_dialog.title":"An error occurred","error_dialog.details":"Technical details:","copy_obj_from_clipboard.current_page.title":"Paste as subpage","copy_obj_from_clipboard.child_list.title":"Paste page here","duplicate_obj.has_children":"Pages with subpages cannot be duplicated.","duplicate_obj.disabled.workflow_disallows_duplicate":"It is not permitted to duplicate this page.","duplicate_obj.disabled.obj_is_deleted":"A deleted page cannot be duplicated.","duplicate_obj.disabled.unknown_obj_class":"The page cannot be duplicated because its type no longer exists.","commands.create_site_version.title":"Add language","commands.open_obj_in_content_browser.title":"Open in Content Browser","commands.open_obj_in_new_ui_window.title":"Open in new window","commands.open_share_page_dialog.title":"Share page","commands.open_share_page_dialog.is_deleted":"A deleted page cannot be shared because it is inaccessible in preview mode","commands.create_workspace.title":"New","commands.create_workspace.tooltip":"Create a working copy","commands.create_workspace.no_startable_workflows":"You are not permitted to create a working copy.","commands.link_site_version.title":"Link as version to the current site","commands.link_site_version.tooltip":"Link this site as a language version to the currently displayed site.","commands.link_site_version.is_page":"You cannot use a page as a language version of a site.","commands.link_site_version.site_is_already_version":"This site is already a language version of another site.","commands.unlink_page_version.title":"Unlink as language version","commands.unlink_page_version.tooltip":"No longer use this page as a language version.","commands.unlink_page_version.dialog.title":"Unlink this page?","commands.unlink_page_version.dialog.description":"Do you want this page to no longer be used as a language version?","commands.unlink_page_version.dialog.confirm":"Unlink page","commands.unlink_site_version.title":"Unlink site","commands.unlink_site_version.tooltip":"No longer use this site as a language version of the currently displayed site.","commands.unlink_site_version.dialog.title":"Unlink site as language version?","commands.unlink_site_version.dialog.description":"Do you want this site to no longer be used as a language version?","commands.unlink_site_version.dialog.confirm":"Unlink site","commands.link_page_version.title":"Link page","commands.link_page_version.page_is_already_version":"This page is already a language version of another page.","commands.link_page_version.is_site":"You cannot use a site as a language version of a page","commands.create_page_version.title":"Add version","commands.create_page_version.tooltip":"Add a copy of the displayed page to this site.","commands.publish_workspace.title":"Publish","commands.publish_workspace.tooltip":"Publish this working copy","commands.publish_workspace.is_published":"You are viewing the published content","commands.publish_workspace.no_changes":"Nothing to publish","commands.publish_workspace.has_validation_results":"Some edits in this working copy are invalid.","commands.publish_workspace.cannot_publish":"You cannot publish this working copy.","commands.submit_workspace.title":"Request publish","commands.submit_workspace.tooltip":"Have this working copy checked by a reviewer","commands.submit_workspace.no_changes":"Nothing to publish","commands.withdraw_workspace.title":"Cancel publish request","commands.withdraw_workspace.tooltip":"Cancel the publish request for this working copy","commands.withdraw_workspace.is_being_reviewed":"You cannot cancel the publish request because the working copy is already being reviewed.","commands.assign_workspace.title":"Begin review","commands.assign_workspace.tooltip":"Assign me as the reviewer of this working copy","commands.unassign_workspace.title":"Abandon review","commands.unassign_workspace.tooltip":"Unassign me as a reviewer of this working copy","commands.reject_workspace.title":"Reject","commands.reject_workspace.tooltip":"Reject this working copy to have it revised","commands.reject_workspace.is_rejected":"The working copy has already been rejected","commands.open_workspace_changes.title":"Changes","commands.open_workspace_changes.tooltip":"View changes to this working copy","commands.open_transfer_changes_dialog.title":"Move changes","commands.open_transfer_changes_dialog.tooltip":"Move changes to a different working copy","commands.open_workspace_members.title":"Collaborators","commands.open_workspace_members.tooltip":"Manage the collaborators of this working copy and specify their permissions through roles.","commands.open_workspace_members.is_forbidden":"You are not permitted to manage the access permissions for this working copy.","commands.remove_page_from_hierarchy.title":"Remove page from hierarchy","commands.remove_page_from_hierarchy.tooltip":"Remove page from hierarchy","commands.remove_page_from_hierarchy.has_children":"A page with subpages cannot be removed from the hierarchy.","commands.remove_page_from_hierarchy.workflow_disallows_remove":"You are not allowed to remove this page from the hierarchy.","commands.remove_page_from_hierarchy.dialog.title":"Remove page from hierarchy?","commands.remove_page_from_hierarchy.dialog.description":"Do you want this page to no longer be part of the hierarchy?","commands.rename_workspace.title":"Rename","commands.rename_workspace.tooltip":"Edit the title of this working copy","commands.rename_workspace.is_forbidden":"You are not permitted to rename this working copy.","commands.rename_workspace.is_submitted":"This working copy cannot be renamed because a publish has been requested for it.","commands.toggle_widget_library.title_open":"Open Widget Library","commands.toggle_widget_library.title_close":"Close Widget Library","commands.open_dashboard.title":"Open dashboard","commands.open_user_guide.title":"Open help","commands.enable_tour.title":"Start tour","commands.enable_tour.is_disabled":"The tour is currently active","commands.rebase_workspace.title":"Update","commands.rebase_workspace.tooltip":"Update this working copy","commands.rebase_workspace.is_forbidden":"You are not permitted to update this working copy.","commands.rebase_workspace.has_conflicts.title":"Content with divergent changes has been published meanwhile","commands.rebase_workspace.has_conflicts.description":"Your working copy could not be fully updated. Some of its content has also been altered in a different working copy that has been published in the meantime. Please refer to the changes list for details.","commands.rebase_workspace.open_changes_dialog":"Show changes","commands.open_teams_dialog.title":"Manage users","commands.open_workflows_dialog.title":"Manage workflows","commands.open_visibility_categories_dialog.title":"Manage visibility categories","interactions.change_permalink.dialog.title":"Change permalink of “$1”","interactions.change_permalink.dialog.placeholder":"Please enter a new permalink","interactions.change_permalink.dialog.change":"Change","interactions.change_permalink.info.is_taken":"The permalink “$1” is already in use.","interactions.change_permalink.info.is_invalid":"The permalink “$1” is not valid: A permalink may only contain letters from A to Z, digits, periods, hyphens, slashes and underscores.","interactions.change_permalink.info.is_scrivito":"The permalink “$1” is not valid: A permalink must not include a page ID, and must not be “scrivito” or start with “scrivito/”.","commands.restore_workspace.dialog.confirm":"Create","commands.restore_workspace.dialog.description":"This creates a working copy that reflects the archived state of your website after “$1” was published.","commands.restore_workspace.dialog.title":"Create “$1”?","commands.restore_workspace.workspace_title":"Archived: $1","commands.open_page_details.title":"Open page properties","commands.open_page_details.site.title":"Open site properties","commands.open_page_details.dialog.title.editing_mode":"Edit properties of “$1”","commands.open_page_details.dialog.title":"View properties of “$1”","commands.open_page_details.is_disabled":"This page has no properties","commands.save_obj_to_clipboard.title":"Copy or move page","commands.save_obj_to_clipboard.is_deleted":"Deleted pages cannot be copied or moved.","commands.delete_workspace.tooltip":"Delete this working copy","commands.delete_workspace.dialog.title":"Are you sure you want to delete “$1”?","commands.delete_workspace.dialog.description":"A deleted working copy cannot be restored.","commands.delete_obj.title_page":"Delete page","commands.delete_obj.title_widget_template":"Delete template","commands.revert_obj.title":"Discard changes to page","commands.revert_obj.is_new":"This is a new page. To discard the creation of this page, please delete it.","commands.revert_obj.unmodified":"This page has not been modified. Therefore, nothing can be discarded.","commands.revert_obj.dialog.title":"Discard all changes to the page?","commands.revert_obj.dialog.description":"You are about to discard all changes to the page, including any added or modified widgets. The changes cannot be restored after discarding them.","commands.revert_obj.dialog.confirm":"Discard all changes","commands.revert_template.title":"Discard changes to template","commands.revert_template.dialog.title":"Discard the changes to this template?","commands.revert_template.dialog.description":"Discarded changes cannot be restored.","commands.revert_template.dialog.confirm":"Discard","commands.revert_widget.title":"Discard changes to widget","commands.revert_widget.dialog.title":"Discard the changes to this widget?","commands.revert_widget.dialog.description":"The changes cannot be restored after discarding them.","commands.revert_widget.dialog.confirm":"Discard","commands.revert_attribute.title":"Discard","commands.revert_attribute.tooltip":"Discard change","commands.revert_attribute.disabled.workflow_disallows_revert":"You are not permitted to discard this change.","commands.revert_attribute.dialog.title":"Discard change?","commands.revert_attribute.dialog.description":"“$attribute” is reset to its state in the published content. This cannot be undone.","commands.revert_attribute.dialog.confirm":"Discard","commands.restore_widget.title":"Restore widget","commands.restore_obj.title":"Restore page","commands.restore_template.title":"Restore template","commands.mark_resolved_obj.title":"Override concurrent changes to page","commands.mark_resolved_obj.dialog.confirm":"Override changes","commands.mark_resolved_obj.dialog.title":"Are you sure you want to override the changes made by others in the meantime?","commands.mark_resolved_obj.dialog.description":"This page was altered in a different working copy that has been published. Please confirm that you want to keep your changes and discard the ones concurrently made by others.","commands.mark_resolved_template.title":"Override concurrent changes to template","commands.mark_resolved_template.dialog.title":"Are you sure you want to override the changes made by others in the meantime?","commands.mark_resolved_template.dialog.description":"This template was altered in a different working copy that has been published. Please confirm that you want to keep your changes and discard the ones concurrently made by others.","commands.mark_resolved_template.dialog.confirm":"Override changes","commands.duplicate_obj.title":"Duplicate page","commands.duplicate_widget.title":"Duplicate widget","commands.create_site.title":"Create site","commands.create_site.dialog.title":"Select homepage type","commands.delete_site.title":"Delete site","commands.create_page.title":"Create page","commands.create_page.published_workspace":"Use a working copy for creating pages or editing existing content.","commands.create_page.dialog.title":"Select page type","commands.create_page.disabled.workflow_disallows_create":"It is not permitted to create pages.","commands.create_page.disabled.no_suitable_subpages":"There is no page type available for creating a page.","commands.add_subpage.child_list.no_path":"Subpages can only be added to pages that have a path.","commands.add_subpage.child_list.title":"Add page","commands.add_subpage.child_list.tooltip":"Add a page to “$1”","commands.add_subpage.current_page.no_path":"Subpages can only be added to pages that have a path. The current page doesn't have a path.","commands.add_subpage.current_page.title":"Add subpage","commands.add_subpage.current_page.detailed_title":"Add $1","commands.add_subpage.current_page.tooltip":"Add a subpage to “$1”","commands.add_subpage.dialog.title":"Select page type","commands.add_subpage.disabled.workflow_disallows_create":"It is not permitted to create a subpage.","commands.add_subpage.disabled.no_suitable_subpages":"There is no page type available for adding a page here.","commands.add_widget_template_to_library.title":"Add widget to library","commands.add_widget_template_to_library.initial_title":"Untitled $1","widget_template.empty_title":"Untitled template","commands.copy_obj_from_clipboard.disabled.no_path":"Subpages can only be added to pages that have a path.","commands.copy_obj_from_clipboard.disabled.workflow_disallows_create":"It is not permitted to paste the page here.","commands.copy_obj_from_clipboard.disabled.no_site":"It is not permitted to paste the page here.","commands.copy_obj_from_clipboard.paste_forbidden":"Due to its type, the page cannot be pasted here. Only pages of the following types can be inserted here: $1","commands.copy_obj_from_clipboard.tooltip":"Create a copy of “$sourceTitle” and use it as a subpage of “$targetTitle”.","commands.copy_obj_from_clipboard.disabled.target_deleted":"The location to which you are attempting to copy the page no longer exists.","commands.copy_obj_from_clipboard.disabled.obj_not_present":"There is no page on the clipboard","commands.copy_obj_from_clipboard.disabled.disallowed_type":"Due to its type, the page on the clipboard cannot be pasted here.","commands.copy_obj_from_clipboard.disabled.unknown_type":"The page on the clipboard cannot be pasted because its type no longer exists.","commands.move_obj_from_clipboard.confirmation.title":"Move pages?","commands.move_obj_from_clipboard.confirmation.description":"You are about to move the page “$source” including its subpages to “$destination”.","commands.move_obj_from_clipboard.confirmation.confirm":"Move","commands.move_obj_from_clipboard.move_tree_inadmissible.title":"The pages cannot be moved","commands.move_obj_from_clipboard.move_tree_inadmissible.message":"Moving the section “$clipboardObj” to “$destinationObj” would result in an inadmissible change to the page “$restrictedObj”.","commands.move_obj_from_clipboard.forbidden.obj_deleted":"The location to which you are attempting to move the page no longer exists.","commands.move_obj_from_clipboard.forbidden.invalid_class":"Due to its type, the page cannot be moved or pasted here. Only pages of the following types can be inserted here: $1","commands.move_obj_from_clipboard.forbidden.invalid_workspace":"A page can only be moved within its working copy.","commands.move_obj_from_clipboard.forbidden.no_site_id":"Subpages can only be added to pages that are global. The current page is global.","commands.move_obj_from_clipboard.forbidden.no_path":"Subpages can only be added to pages that have a path. The current page doesn't have a path.","commands.move_obj_from_clipboard.forbidden.obj_identity":"A page cannot be moved below itself. The current page is on the clipboard.","commands.move_obj_from_clipboard.forbidden.obj_related":"A page cannot be moved below itself.","commands.move_obj_from_clipboard.forbidden.obj_not_present":"There is no page on the clipboard","commands.move_obj_from_clipboard.forbidden.disallowed_by_workflow":"Moving the page “$1” to “$2” would result in an inadmissible change.","commands.move_obj_from_clipboard.forbidden.disallowed_type":"Due to its type, the page on the clipboard cannot be inserted here.","commands.move_obj_from_clipboard.forbidden.unknown_type":"The page on the clipboard cannot be moved because its type no longer exists.","commands.move_obj_from_clipboard.source_not_found":"The page to move could not be found in the current working copy.","commands.move_obj_from_clipboard.title":"Move page here","commands.move_obj_from_clipboard.title_when_subtree":"Move pages here","commands.move_obj_from_clipboard.tooltip":"Insert “$1” as a subpage of “$2”.","commands.create_tree_from_clipboard.create_tree_inadmissible.title":"The pages cannot be pasted","commands.create_tree_from_clipboard.create_tree_inadmissible.message":"Pasting the section “$root” to “$destination” would result in an inadmissible change to the page “$uncopiableObj”.","commands.create_tree_from_clipboard.forbidden.obj_deleted":"The location to which you are attempting to paste the page no longer exists.","commands.create_tree_from_clipboard.forbidden.invalid_class":"The page to be pasted does not have one of the types supported here: $1","commands.create_tree_from_clipboard.forbidden.disallowed_type":"Due to its type, the page on the clipboard cannot be pasted here.","commands.create_tree_from_clipboard.forbidden.no_site_id":"Subpages can only be added to pages that are global. The current page is global.","commands.create_tree_from_clipboard.forbidden.no_path":"The current page does not support subpages since it doesn't have a path.","commands.create_tree_from_clipboard.forbidden.disallowed_by_workflow":"Pasting the page “$1” to “$2” would result in an inadmissible change.","commands.create_tree_from_clipboard.title":"Paste page and its subpages","commands.create_tree_from_clipboard.tooltip":"Insert “$1” as a subpage of “$2”.","commands.create_tree_from_clipboard.confirmation.title":"Please confirm","commands.create_tree_from_clipboard.confirmation.description":"You are about to copy $1 pages here.","commands.create_tree_from_clipboard.confirmation.confirm":"Copy","commands.create_tree_from_clipboard.clipboard_is_empty":"There is no page on the clipboard","commands.create_tree_from_clipboard.root_has_no_children":"The page which you are attempting to copy has no subpages.","obj_sorting_dialog.title":"Sort pages","commands.sort_items.title":"Sort pages","commands.sort_items.tooltip":"Edit order of pages underneath $1","commands.sort_items.auto_sort":"This navigation is sorted automatically.","commands.sort_items.no_children":"This page has no subpages.","commands.sort_items.too_few_children":"This navigation cannot be sorted because it consists of less than two pages.","commands.create_widget.title_one":"Insert $1","commands.create_widget.title_unspecific":"Insert widget","commands.create_widget.disabled":"You cannot insert any widgets here.","commands.create_widget.dialog.title":"Select widget","commands.widget_details.title":"Widget properties","commands.widget_details.has_no_properties":"This widget has no properties","commands.widget_details.dialog.title":"Properties of “$1”","commands.save_widget_to_clipboard.title":"Copy widget","commands.copy_widget_from_clipboard.title":"Paste widget","commands.copy_widget_from_clipboard.paste_forbidden":"Due to its type, the widget cannot be moved or copied here. Only widgets of the following types can be inserted here: $1.","commands.delete_widget.title":"Delete widget","commands.delete_widget.dialog.title":"Delete this widget?","commands.delete_widget.dialog.description.restorable":"The widget will be removed, but it can still be restored from the published content.","commands.delete_widget.dialog.description.restorable_unchanged":"The widget and the changes made to it will be removed, but the widget can still be restored from the published content.","commands.delete_widget.dialog.description.irreversible":"The widget and the changes made to it will be removed irreversibly.","commands.select_diff_display_mode.title":"Changes","commands.select_view_display_mode.title":"Preview","commands.select_editing_display_mode.title":"Edit","commands.select_editing_display_mode.cannot_write":"You are not permitted to edit content in this working copy.","commands.select_editing_display_mode.workspace_in_review":"The content of this working copy cannot be edited because a publish has been requested for it.","commands.log_out.title":"Log out","commands.toggle_user_language.title":"Deutsch","commands.toggle_sidebar_mode.disable_fixed_mode":"Auto-open sidebar","commands.toggle_sidebar_mode.enable_fixed_mode":"Sticky sidebar","topbar.selected_workspace.list_type.submitted":"Publish requested","topbar.selected_workspace.list_type.in_review":"In review","topbar.selected_workspace.list_type.was_in_review":"Reviewed and rejected","topbar.show_menubar":"Show control panel","topbar.display_mode_selector.display_mode_button.is_selected":"Currently selected display mode","topbar.saving_indicator.write_started":"Saving...","topbar.saving_indicator.write_ended":"Changes saved","topbar.warning.message":"Check JS console","topbar.warning.alert_message":"There are warnings. Please open the JavaScript console for details.","topbar.current_page_menu.title.is_new":"This page is new.","topbar.current_page_menu.title.is_edited":"This page has been modified.","topbar.current_page_menu.title.is_deleted":"This page has been deleted.","topbar.current_page_menu.title.is_restricted":"Page visibility is restricted.\n","topbar.revision_item.unknown_date":"Unknown date","topbar.revision_item.changes_info_since_title":"Changes between working copy and version from $1","topbar.revision_item.changes_info_since":"Changes since $1","topbar.revision_item.changes_info_on_title":"Changes published on $1","topbar.revision_item.changes_info_on":"Changes on $1","interactions.publish_workspace.dialog.confirm":"Publish","interactions.publish_workspace.dialog.title":"Publish “$1”?","interactions.publish_workspace.dialog.description":"You can undo this publishing action using the publishing history.","interactions.publish_workspace.error_dialog.title":"Working copy could not be published","interactions.publish_workspace.error_dialog.description":"Please check the changes list for details.","interactions.publish_workspace.error_dialog.confirm":"Open changes list","interactions.publish_workspace.alert.invalid_certificates":"The working copy could not be published because at least one user is currently modifying content in it.","interactions.publish_workspace.constraint_violated.title":"Working copy cannot be published","interactions.publish_workspace.constraint_violated.description":"Some of the changes made in this working copy are rejected by the underlying workflow.","interactions.publish_workspace.constraint_violated.confirm":"Show changes","handle_missing_current_workspace.working_copy_not_found":"The working copy you are currently using has meanwhile been published or deleted.",ajax_error:"Communication with the CMS failed with error: $1","ajax_error.communication":"Communication with the CMS failed. Please check your network connectivity.","ajax_error.message_for_editor":"During your last action, a technical error occurred. Please try again later. If the problem persists, please contact a technician familiar with this website and provide the error details.",warn_before_unloading:"There are unsaved changes! Are you sure you want to close the page?","test.two_arguments":"$1, $2","test.four_arguments":"$1, $2, $3, $4","image_editor_dialog.dialog_header.title":"Edit image","tour.intro.title":"Welcome to Scrivito!","tour.intro.description1":"Are you new to Scrivito? With just a few clicks, we’ll walk you through the basics so you will be up and running in no time!","tour.intro.description2":"You can start the tour again anytime by clicking “Start tour” in the page menu in the top right corner.","tour.editMode.title":"Edit Mode","tour.editMode.description":"Select the Edit mode to begin editing the content on any page. Widget frames and menu icons will become visible when hovering over editable page content so you always know what you are working on.","tour.editText.title":"Edit Text","tour.editText.description":"Text contained in widgets can be edited after clicking on it directly – go ahead, give it a try! Select text to format it.","tour.addWidget.title":"Add a Widget","tour.addWidget.description":"Click the + icon at the top or bottom middle of a widget to add a new widget above or below it. This opens the widget browser from which you can choose the type of widget to add. If you want to get fancy, you can create your own widgets.","tour.widgetMenu.title":"Widget Menu","tour.widgetMenu.description":"Using the menu in the top right corner, you can edit a widget's properties (if it has any) or copy, duplicate or delete the widget. After copying a widget, it can be pasted to any page - not just the page you are working on. You can grab a widget by its menu icon and drag it to where you want it to be positioned.","tour.pageMenu.title":"Page Menu","tour.pageMenu.description":"This button opens the page menu. Here you can add pages or subpages, duplicate or copy the current page (unless you are on the homepage) and access the page properties. This menu also lets you discard changes, delete the page, access your account and our editor documentation.","tour.hierarchy.title":"Hierarchy Browser","tour.hierarchy.description":"Here, you can browse the page hierarchy of the website. Clicking an item takes you to the corresponding page, e.g. for having a quick look at it. Using an item's menu, you can add a subpage, open the page properties, or delete the page. Click the ⓘ icon at the top right to toggle the display of additional information for every page.","tour.contentBrowser.title":"The Content Browser","tour.contentBrowser.description":"Next up, click the single folder button in the sidebar and have a look at the Content Browser, the tool for managing all your pages, assets like images, etc. The Content Browser helps keep all your stuff in one handy place.","tour.workspaces.title":"Working Copies","tour.workspaces.description":"After activating the Edit mode, you are in a working copy, either one created by Scrivito or by yourself. Using the document file button in the sidebar, you cannot only switch between working copies but also create new ones or delete obsolete ones, or access the publishing history.","tour.publish.title":"Publishing","tour.publish.description":"This button is for publishing the currently selected working copy, optionally after reviewing the changes made to it. Try it out!","tour.outro.title":"Thank you!","tour.outro.description1":"We hope you found this short Scrivito tour useful. If you have any questions, we are here to help. ","tour.outro.description1.link_title":"Just reach out","tour.outro.description2":"Want to learn more? See our extensive ","tour.outro.description2.link_title":" Documentation","tour.outro.description3":" and ","tour.outro.description3.link_title":"Editor’s Guide","tour.outro.description4":"You can always restart this tour by selecting the option from the page menu.","tour.button.end":"End the tour","tour.button.next":"Next","tour.button.prev":"Previous","tour.button.skip":"Not now","tour.button.start":"Start tour","tour.button.back":"Back to tour","added_feature_dialog.close":"Close","added_feature_dialog.more_info":"Learn more","added_feature_popups.close":"Close","added_feature_popups.more_info":"Learn more","create_site_dialog.title":"Add a site","create_site_dialog.description":"Please specify a name for the new site and select the type of its homepage. No content will be copied from an existing site to the new one.","create_site_dialog.site_title":"Site name","create_site_dialog.site_title.tooltip":"Enter site name","create_site_dialog.site_type.title":"Select page type for homepage","create_site_dialog.site_class_name":"Homepage type","create_site_dialog.site_language":"Language","create_site_dialog.confirm":"Create","content_browser.footer.select":"Select","content_browser.footer.select_disabled_reason.single":"Please select an item whose type is one of: $1","content_browser.footer.select_disabled_reason.multi":"Please only select items whose respective type is one of: $1","content_browser.footer.select_disabled_reason.none_available":"No element is selectable.","content_browser.header.selected_items":"Selected: $1 items","content_browser.header.open_selected":"Open in a new tab","content_browser.header.delete_disabled":"Pages with subpages cannot be deleted.","content_browser.table_view.title":"Title","content_browser.table_view.type":"Type","content_browser.table_view.file_type":"File type","content_browser.table_view.file_size":"File size","content_browser.table_view.last_change":"Last change","content_browser.sort.relevance.title":"Sort by relevance","content_browser.sort.relevance.desc_criteria_title":"Relevance","content_browser.sort.name.title":"Sort by title","content_browser.sort.name.asc_criteria_title":"Title: From A to Z","content_browser.sort.name.desc_criteria_title":"Title: From Z to A","content_browser.sort.date.title":"Sort by date","content_browser.sort.date.asc_criteria_title":"Last change: Oldest first","content_browser.sort.date.desc_criteria_title":"Last change: Latest first","content_browser.search_bar.clear_button":"Clear","content_browser.search_bar.search_button":"Search","content_browser.search_bar.search_everywhere":"Search everywhere","content_browser.search_bar.search_filtered":"Search filtered content","content_browser.search_bar.search_in":"Search “$1”","content_browser.search_bar.multi_selection_toggle":"multi-select","content_browser.item.tooltip.is_new":"This object is new. ","content_browser.item.tooltip.is_deleted":"This object has been deleted. ","content_browser.item.tooltip.is_edited":"This object has been modified. ","content_browser.item.tooltip.is_restricted":"The visibility of this page is restricted.","content_browser.last_added.filter_name":"Last added","content_browser.last_added.failed_upload":"Upload failed. Please check your network connection.","content_browser.last_added.failed_upload_counts":"$1 error(s) during upload","content_browser.last_added.title_info":"Display full upload error message","content_browser.last_added.upload_error":"The selected filter options cannot be applied to the file(s) you wanted to upload","content_browser.last_added.preset_error":"#values can not be called on an invalid Preset","content_browser.filter.filters":"Filters","content_browser.filter.sites":"Sites","content_browser.filter.all_sites":"All sites","content_browser.filter.more_filters":"more filters","content_browser.add_item.browse_file":"Browse file to upload","content_browser.add_item.failed":"The selected filter options cannot be applied to the file(s) you wanted to upload. Please select only one of the following options, then try again:","content_browser.add_item.preset_conflict":"The selected filter options cannot be applied to the file(s) you wanted to upload. Please select only one of the following options, then try again:","content_browser.add_item.create_item":"Create object","content_browser.add_item.create_impossible":"Object creation not possible","content_browser.add_item.disabled_filters":"Creation of items matching the selected filters has been disabled.","content_browser.add_item.error_no_obj_class":"Configuration error: No '_obj_class' provided.","content_browser.add_item.prevent_creation":"The selected filter options $1 prevent object creation",update_required:"An update is required","update_required.details":"To edit this page, your application must be updated to Scrivito version $minVersion or later. The Scrivito SDK version currently installed on “$origin” is $clientVersion.","STABLE_SDK.widget_marker.widget_is_new":"Widget is new","STABLE_SDK.widget_marker.widget_is_edited":"Widget has been modified","STABLE_SDK.widget_marker.widget_is_edited_and_dragged_here":"Widget has been modified and dragged here","STABLE_SDK.widget_marker.widget_is_edited_and_dragged_away":"Widget has been modified and dragged away from here","STABLE_SDK.widget_marker.widget_is_deleted":"Widget has been deleted","STABLE_SDK.widget_marker.widget_is_dragged_here":"Widget has been dragged here","STABLE_SDK.widget_marker.widget_is_dragged_away":"Widget has been dragged away from here"}),f.load("de",{confirm:"Bestätigen",cancel:"Abbrechen",save:"Speichern",welcome:"Willkommen",welcome_x:"Willkommen $1",accept:"Übernehmen",close:"Schließen",done:"Fertig",loading:"Lade...",current_page:"Aktuelle Seite",ok:"Ok",edit:"Bearbeiten",delete:"Löschen",duplicate:"Duplizieren",apply:"Anwenden",add:"Hinzufügen",unknown:"Unbekannt",new:"NEU","models.page.name":"Seite","models.site.name":"Website","models.resource.name":"Ressource","models.widget_template.name":"Widget-Vorlage","models.obj.name.plural":"Objekte","models.team_permission.access_all_workspaces":"Auf alle Arbeitskopien zugreifen, ohne ihr Besitzer zu sein","models.team_permission.access_all_workspaces.description":"Die Team-Mitglieder haben Zugriff auf alle Arbeitskopien","models.team_permission.manage_users":"Benutzer verwalten","models.team_permission.manage_users.description":"Die Team-Mitglieder können Benutzer und Teams verwalten.","models.team_permission.manage_workflows":"Workflows verwalten","models.team_permission.manage_workflows.description":"Die Team-Mitglieder können Workflows anlegen und bearbeiten.","models.team_permission.publish_all_content":"Sämtliche Inhalte veröffentlichen","models.team_permission.publish_all_content.description":"Die Team-Mitglieder können jede Arbeitskopie veröffentlichen, ohne ihr Besitzer zu sein und ohne den Workflow zu beachten.","models.team_permission.manage_builtin_visibility_categories":"Integrierte Sichtbarkeitskategorien verwalten","models.team_permission.manage_builtin_visibility_categories.description":"Die Team-Mitglieder können die integrierten Sichtbarkeitskategorien aktivieren und deaktivieren.","models.team_permission.manage_custom_visibility_categories":"Benutzerdefinierte Sichtbarkeitskategorien verwalten","models.team_permission.manage_custom_visibility_categories.description":"Die Team-Mitglieder können Sichtbarkeitskategorien definieren.","models.team_permission.read_all_content":"Zugriff auf alle Inhalte","models.team_permission.read_all_content.description":"Die Team-Mitglieder haben Zugriff auf alle Inhalte, unabhängig von deren Sichtbarkeit.","obj.tooltip.is_new":"Dieses Objekt ist neu.","obj.tooltip.is_edited":"Dieses Objekt wurde geändert.","obj.tooltip.is_restricted":"Die Sichtbarkeit dieser Seite ist eingeschränkt.\n","obj.tooltip.is_deleted":"Dieses Objekt wurde gelöscht.","workspace.title_published":"Veröffentlichte Inhalte","workspace.empty_title":"<leerer Titel>","workspace.default_title":"Arbeitskopie von $1","workspace.publish_error.exceeds_obj_limit":"Diese Arbeitskopie kann nicht veröffentlicht werden, da hierdurch die im Plan für dieses CMS festgelegte maximale Anzahl an CMS-Objekten überschritten würde.","feature.copyTree.title":"NEU: Seite mit Unterseiten einfügen","feature.copyTree.description":"Eine kopierte Seite kann jetzt einschließlich ihrer Unterseiten eingefügt werden.","feature.propertiesDiff.title":"Welche Eigenschaften wurden wie geändert?","feature.propertiesDiff.description":"Sie können jetzt bearbeitete Seiten- und Widget-Eigenschaften im Modus „Änderungen“ mit ihren veröffentlichten Inhalten bequem vergleichen!","feature.widgetLibrary.title":"NEU: Die Widget-Bibliothek","feature.widgetLibrary.description":"Häufig verwendete Widgets können Sie jetzt mitsamt ihrer Inhalte als Vorlagen zu Ihrer Widget-Bibliothek hinzufügen. Hierfür gibt es im Menü eines jeden Widgets nun den Punkt „Widget in Bibliothek aufnehmen“.\nUm Ihren Widget-Bestand zu sehen, wählen Sie „Widget-Bibliothek öffnen“ aus dem Hauptmenü.\nProbieren Sie es aus, und erweitern Sie gleich Ihr Widget-Portfolio!","feature.sidebarChangesList.title":"NEU: Eine Seitenleiste für die Änderungen!","feature.sidebarChangesList.description":"Die Änderungen in einer Arbeitskopie können Sie jetzt über die Seitenleiste erreichen. Von hier aus können Sie auch Änderungen zurücknehmen, sie in eine andere Arbeitskopie verschieben, gelöschte Inhalte wiederherstellen oder die Arbeitskopie veröffentlichen. Probieren Sie es aus!","feature.sitesPanel.title":"Eine Seitenleiste für Ihre Websites!","feature.sitesPanel.description":"Ihre Websites sind jetzt über eine eigene Seitenleiste zugänglich und nicht mehr über die Hierarchie. So behalten Sie den Überblick über Ihre Websites und haben immer die zuletzt verwendeten in Reichweite.","feature.preferredUserSidebarMode.title":"Seitenleiste anheften","feature.preferredUserSidebarMode.description":"Die Seitenleiste hat jetzt einen Modus, in dem sie angeheftet wird, d.h. sich nicht automatisch öffnet und schließt, sondern erst, wenn man auf eine ihrer Schaltflächen klickt. In Ihrem Benutzer-Menü können Sie zwischen den beiden Modi umschalten.","feature.testFeature1.title":"Test feature 1 Titel","feature.testFeature1.description":"Test feature 1 Beschreibung","feature.testFeature2.title":"Test feature 2 Titel","feature.testFeature2.description":"Test feature 2 Beschreibung","feature.testFeature3.title":"Test feature 3 Titel","feature.testFeature3.description":"Test feature 3 Beschreibung","cannot_delete.disallowed_by_workflow":"Es ist nicht gestattet, diesen Inhalt zu löschen.","cannot_delete.obj_has_children":"Seiten mit Unterseiten können nicht gelöscht werden.","cannot_edit.requires_workspace_write_permission":"Diese Arbeitskopie kann nicht bearbeitet werden.","cannot_edit.workspace_is_published":"Die veröffentlichten Inhalte können nicht direkt geändert werden.","cannot_edit.workflow_disallows_modification":"Sie können diesen Inhalt nicht bearbeiten.","cannot_edit.workflow_disallows_create":"Sie können Seiten dieses Typs nicht anlegen.","cannot_edit.workspace_missing_workflow":"Die Inhalte dieser Arbeitskopie können nicht geändert werden.","cannot_change_site.obj_has_path":"Die Website dieses Inhalts kann nicht geändert werden, weil sein Permalink bereits vergeben ist.","cannot_change_site.workflow_disallows_update":"Es ist nicht gestattet, die Website zu ändern, zu der dieser Inhalt gehört.","cannot_change_site.permalink_in_use":"Die Website dieses Inhalts kann nicht geändert werden, weil sein Permalink bereits vergeben ist.","revision.published_by":"Benutzer mit der ID „$1“","custom_user_data.user_description_not_available":"Benutzer mit der ID „$1“","workspace.title.published":"Veröffentlichte Inhalte","workspace.title.blank":"[Leerer Titel]","handle_ui_error.fallback_message":"Bei Ihrer letzten Aktion ist ein technischer Fehler aufgetreten. Bitte versuchen Sie es später noch einmal. Falls das Problem bestehen bleibt, wenden Sie sich bitte an Ihren technischen Ansprechpartner für diese Website und geben Sie bitte die technischen Details an.","handle_ui_error.precondition_not_met.cannot_disable_last_visibility_category":"Diese Sichtbarkeitskategorie kann nicht deaktiviert werden, da sie die einzige ist.","handle_ui_error.precondition_not_met.conflicts_present":"Inhalte mit abweichenden Änderungen wurden in der Zwischenzeit veröffentlicht.","handle_ui_error.precondition_not_met.visibility_category_in_use":"Diese Sichtbarkeitskategorie kann nicht gelöscht werden, weil sie in Gebrauch ist.","handle_ui_error.precondition_not_met.workspace.create.exceeds_limit":"Scrivito kann derzeit keine Arbeitskopie für Sie anlegen, weil die im Plan für dieses CMS enthaltene Anzahl erreicht wurde.","handle_ui_error.precondition_not_met.workflow_in_use":"Der Workflow kann nicht gelöscht werden, weil er mindestens einer Arbeitskopie zugewiesen ist.","handle_ui_error.precondition_not_met.team_in_use_by_workflow":"Das Team „$1“ kann nicht gelöscht werden, weil es in Gebrauch ist.","handle_ui_error.precondition_not_met.readonly":"Der Benutzer kann nicht gelöscht werden, weil auf ihn nur lesend zugegriffen werden kann","handle_ui_error.precondition_not_met.visibility_category_limit_reached":"Die maximale Anzahl Sichtbarkeitskategorien wurde erreicht.","handle_ui_error.precondition_not_met.multi_site_disabled":"Die Arbeitskopie konnte nicht veröffentlicht werden, weil mindestens ein CMS-Objekt eine Website-ID hat. Da die Unterstützung für mehrere Websites nicht aktiviert ist, darf die Website-ID nicht gesetzt sein.","handle_ui_error.binary.unprocessable.metadata.extract.failed":"Ihre Datei konnte nicht gelesen werden.","handle_ui_error.precondition_not_met.workspace.publish.exceeds_obj_limit":"Die Arbeitskopie kann nicht veröffentlicht werden, weil darin zu viele CMS-Objekte geändert wurden.","handle_ui_error.precondition_not_met.workspace_is_readonly":"Sie sind nicht dazu berechtigt, Inhalte in dieser Arbeitskopie zu ändern.","handle_ui_error.precondition_not_met.obj_not_found":"Der angeforderte Inhalt existiert nicht.","handle_ui_error.binary_value_count_limit_exceeded":"Es können keine weiteren binären Inhalte eingestellt werden, weil das Maximum erreicht wurde.","handle_ui_error.max_obj_count_reached":"Es können keine weiteren CMS-Objekte erstellt werden, weil das Maximum erreicht wurde.","open_content_browser.confirm_dialog.title":"Nicht zugreifbare Inhalte ändern?","open_content_browser.confirm_dialog.description":"Sie können auf den referenzierten Inhalt nicht zugreifen. Möchten Sie ihn dennoch ändern?","open_content_browser.confirm_dialog.confirm":"Ändern","default_inspector_description_for_obj.group_general":"Allgemein","default_inspector_description_for_obj.group_backlinks":"Verlinkt von","default_inspector_description_for_obj.group_binary_metadata":"Metadaten","default_inspector_description_for_obj.group_system":"System","item_description.system.content_id.title":"Content-ID","item_description.system.id.title":"Objekt-ID","item_description.system.obj_class.title":"Objekttyp","item_description.system.path.title":"Pfad","item_description.system.permalink.title":"Permalink","item_description.system.site_id.title":"Website-ID","item_description.system.visibility.title":"Sichtbarkeit","item_description.system.first_published.title":"Zuerst veröffentlicht","item_description.system.first_published_by.title":"Zuerst veröffentlicht von","item_description.system.last_published.title":"Zuletzt veröffentlicht","item_description.system.last_published_by.title":"Zuletzt veröffentlicht von","item_description.system.created_at.title":"Erstellt","item_description.system.created_by.title":"Erstellt von","item_description.system.last_changed.title":"Zuletzt geändert","item_description.system.last_changed_by.title":"Zuletzt geändert von","item_description.system.language.title":"Sprache","item_description.system.site.title":"Website","item_description.not_available":"Nicht verfügbar","item_description.not_yet_published_for_the_first_time":"Noch nicht veröffentlicht","item_description.user_description_not_available":"Benutzer mit der ID „$1“","backlinks_item_component.no_backlinks_box.message":"Keine Objekte verlinken „$1“.","stringlist_item_component.edit_stringlist.add_placeholder":"Element hinzufügen","binary_attribute_component.download":"Herunterladen","binary_attribute_component.drop_hint":"Lassen Sie oben eine Datei fallen, um den Inhalt zu ersetzen.","binary_attribute_component.rename":"Umbenennen","binary_attribute_component.rename_dialog.title":"„$1“ umbenennen","binary_attribute_component.rename_dialog.description":"Neuer Dateiname:","binary_attribute_component.rename_dialog.ok":"Umbenennen","binary_attribute_component.rename_dialog.invalid_filename":"Der Dateiname „$1“ ist nicht zulässig: Der Dateiname darf nur die Buchstaben von A bis Z, Punkte, Trenn- und Unterstriche enthalten.","binary_attribute_component.upload_title":"Datei auswählen, um diesen Inhalt zu ersetzen","binary_attribute_component.upload":"Hochladen","binary_metadata_item_component.content_type":"Content type","binary_metadata_item_component.content_length":"Dateigröße","binary_metadata_item_component.filename":"Dateiname","binary_metadata_item_component.width":"Breite","binary_metadata_item_component.height":"Höhe","boolean_attribute_component.yes":"Ja","boolean_attribute_component.no":"Nein","html_attribute.tab.content":"Text","html_attribute.tab.source":"HTML","permalink_item_component.permalink.is_empty":"Nicht zugewiesen","visibility_category._public.title":"Öffentlich verfügbar","visibility_category._public.description":"Jeder kann diesen Inhalt sehen.","visibility_category._auth.title":"Verfügbar für angemeldete Benutzer","visibility_category._auth.description":"Nur Redakteure und angemeldete Besucher können diesen Inhalt sehen.","widgetlist_attribute_component.is_empty":"Keine Widgets vorhanden.","link_item_component.link.title_placeholder":"Titel","link_item_component.link.url_placeholder":"URL","link_item_component.link.delete":"Link löschen","link_obj_description.internal":"INTERN","link_obj_description.restricted":"EINGESCHRÄNKT","link_obj_description.forbidden":"VERBOTEN","link_obj_description.deleted":"GELÖSCHT","link_obj_description.global":"GLOBAL","link.content_browser":"Content Browser öffnen","link.new_tab":"Link in neuem Tab öffnen","link.seo_settings":"SEO-Einstellungen","link.rel.title":"Wert des rel-Attributs","link.rel.description1":"Suchmaschinen verwenden das ","link.rel.description2":"-Attribut eines Links, um zu bestimmen, wie das verlinkte Dokument oder die Ressource gehandhabt werden soll.","linklist_item_component.linklist.undefined":"Keine Links gesetzt","site_id_editor.global_option_title":"GLOBAL","site_id_editor.search_placeholder":"Website suchen","language_editor.search_placeholder":"Sprache suchen...","add_language_dialog.add":"Hinzufügen","add_language_dialog.close":"Schließen","add_language_dialog.description":'Bitte geben Sie den Code für eine Sprache nach <br><a href="https://www.ietf.org/rfc/bcp/bcp47.txt" target="_blank">ISO-639-1</a> ein, z.B. „fr“ oder „en-US“.',"add_language_dialog.placeholder":"Code nach ISO-639-1","add_language_dialog.title":"Sprache hinzufügen","add_language_dialog.errors.invalid_language_code":"Das Format des von Ihnen eingegebenen Sprachcodes entspricht nicht dem ISO-639-1-Standard","create_site_version_dialog.title":"Neue Sprachversion aus bestehenden Website-Inhalten erstellen","create_site_version_dialog.description":"Bitte geben Sie den Namen der neuen Website an und wählen Sie die Quelle, von der die Seiten auf oberster Ebene kopiert werden sollen. Unterseiten werden nicht einbezogen.","create_site_version_dialog.new_site":"Name der Website","create_site_version_dialog.new_site.placeholder":"Name der neuen Website?","create_site_version_dialog.initial_content":"Quelle der Inhalte","create_site_version_dialog.language":"Sprache","create_site_version_dialog.create":"Erstellen","create_site_version_dialog.close":"Abbrechen","create_site_version_dialog.search_placeholder":"Website suchen","adjust_language_dialog.title":"Seitensprache anpassen?","adjust_language_dialog.description":"Die Spracheinstellung der zu kopierenden Seite ($source) unterscheidet sich von derjenigen des Zielbereichs ($target). Möchten Sie, dass die Sprache der Seite entsprechend angepasst wird?","adjust_language_dialog.with_many.description":"Die Spracheinstellung der zu kopierenden Seiten ($source) unterscheidet sich von derjenigen des Zielbereichs ($target). Möchten Sie, dass die Sprache der Seiten entsprechend angepasst wird?","adjust_language_dialog.adjust_language":"Sprache anpassen","adjust_language_dialog.keep_language":"Sprache behalten","adjust_language_dialog.cancel":"Abbrechen","language.not_specified":"Nicht festgelegt","language.aa":"Afar","language.ab":"Abchasisch","language.ae":"Avestisch","language.af":"Afrikaans","language.ak":"Akan","language.am":"Amharisch","language.an":"Aragonesisch","language.ar":"Arabisch","language.as":"Assamesisch","language.av":"Avarisch","language.ay":"Aymara","language.az":"Aserbaidschanisch","language.ba":"Baschkirisch","language.be":"Weißrussisch","language.bg":"Bulgarisch","language.bh":"Bihari","language.bi":"Bislama","language.bm":"Bambara","language.bn":"Bengalisch","language.bo":"Tibetisch","language.br":"Bretonisch","language.bs":"Bosnisch","language.ca":"Katalanisch, Valencianisch","language.ce":"Tschetschenisch","language.ch":"Chamorro","language.co":"Korsisch","language.cr":"Cree","language.cs":"Tschechisch","language.cu":"Kirchenslawisch, Altkirchenslawisch","language.cv":"Tschuwaschisch","language.cy":"Walisisch","language.da":"Dänisch","language.de":"Deutsch","language.dv":"Dhivehi","language.dz":"Dzongkha","language.ee":"Ewe","language.el":"Griechisch","language.en":"Englisch","language.eo":"Esperanto","language.es":"Spanisch, Kastilisch","language.et":"Estnisch","language.eu":"Baskisch","language.fa":"Persisch","language.ff":"Fulfulde","language.fi":"Finnisch","language.fj":"Fidschi","language.fo":"Färöisch","language.fr":"Französisch","language.fy":"Westfriesisch","language.ga":"Irisch","language.gd":"Schottisch-gälisch","language.gl":"Galicisch, Galegisch","language.gn":"Guaraní","language.gu":"Gujarati","language.gv":"Manx, Manx-Gälisch","language.ha":"Hausa","language.he":"Hebräisch","language.hi":"Hindi","language.ho":"Hiri Motu","language.hr":"Kroatisch","language.ht":"Haitianisch","language.hu":"Ungarisch","language.hy":"Armenisch","language.hz":"Otjiherero","language.ia":"Interlingua","language.id":"Indonesisch","language.ie":"Interlingue","language.ig":"Igbo","language.ii":"Yi","language.ik":"Inupiaq","language.io":"Ido","language.is":"Isländisch","language.it":"Italienisch","language.iu":"Inuktitut","language.ja":"Japanisch","language.jv":"Javanisch","language.ka":"Georgisch","language.kg":"Kikongo","language.ki":"Kikuyu","language.kj":"oshiKwanyama","language.kk":"Kasachisch","language.kl":"Grönländisch, Kalaallisut","language.km":"Khmer","language.kn":"Kannada","language.ko":"Koreanisch","language.kr":"Kanuri","language.ks":"Kashmiri","language.ku":"Kurdisch","language.kv":"Komi","language.kw":"Kornisch","language.ky":"Kirgisisch","language.la":"Latein","language.lb":"Luxemburgisch","language.lg":"Luganda","language.li":"Limburgisch, Südniederfränkisch","language.ln":"Lingála","language.lo":"Laotisch","language.lt":"Litauisch","language.lu":"Kiluba","language.lv":"Lettisch","language.mg":"Malagasy, Malagassi","language.mh":"Marshallesisch","language.mi":"Maori","language.mk":"Mazedonisch","language.ml":"Malayalam","language.mn":"Mongolisch","language.mr":"Marathi","language.ms":"Malaiisch","language.mt":"Maltesisch","language.my":"Birmanisch","language.na":"Nauruisch","language.nb":"Bokmål","language.nd":"Nord-Ndebele","language.ne":"Nepali","language.ng":"Ndonga","language.nl":"Niederländisch, Belgisches Niederländisch","language.nn":"Nynorsk","language.no":"Norwegisch","language.nr":"Süd-Ndebele","language.nv":"Navajo","language.ny":"Chichewa","language.oc":"Okzitanisch","language.oj":"Ojibwe","language.om":"Oromo","language.or":"Oriya","language.os":"Ossetisch","language.pa":"Panjabi, Pandschabi","language.pi":"Pali","language.pl":"Polnisch","language.ps":"Paschtunisch","language.pt":"Portugiesisch","language.qu":"Quechua","language.rm":"Bündnerromanisch, Romanisch","language.rn":"Kirundi","language.ro":"Rumänisch","language.ru":"Russisch","language.rw":"Kinyarwanda, Ruandisch","language.sa":"Sanskrit","language.sc":"Sardisch","language.sd":"Sindhi","language.se":"Nordsamisch","language.sg":"Sango","language.si":"Singhalesisch","language.sk":"Slowakisch","language.sl":"Slowenisch","language.sm":"Samoanisch","language.sn":"Shona","language.so":"Somali","language.sq":"Albanisch","language.sr":"Serbisch","language.ss":"Siswati","language.st":"Sesotho, Süd-Sotho","language.su":"Sundanesisch","language.sv":"Schwedisch","language.sw":"Swahili","language.ta":"Tamil","language.te":"Telugu","language.tg":"Tadschikisch","language.th":"Thai","language.ti":"Tigrinya","language.tk":"Turkmenisch","language.tl":"Tagalog","language.tn":"Setswana","language.to":"Tongaisch","language.tr":"Türkisch","language.ts":"Xitsonga","language.tt":"Tatarisch","language.tw":"Twi","language.ty":"Tahitianisch, Tahitisch","language.ug":"Uigurisch","language.uk":"Ukrainisch","language.ur":"Urdu","language.uz":"Usbekisch","language.ve":"Tshivenda","language.vi":"Vietnamesisch","language.vo":"Volapük","language.wa":"Wallonisch","language.wo":"Wolof","language.xh":"isiXhosa","language.yi":"Jiddisch","language.yo":"Yoruba","language.za":"Zhuang","language.zh":"Chinesisch","language.zu":"isiZulu","number_attribute_component.clear_button.title":"Löschen","number_attribute_component.invalid_number":"Der Wert muss eine zulässige Zahl sein.","reference_attribute_component.clear_button.title":"Löschen","reference_label.restricted":"EINGESCHRÄNKT","reference_label.forbidden":"VERBOTEN","reference_label.deleted":"GELÖSCHT","reference_label.global":"GLOBAL","site_editing.global":"global","site_editing.site_title.tooltip":"Dieser Inhalt gehört zur Website „$1“","site_editing.site_id.tooltip":"Dieser Inhalt gehört zur Website mit der ID „$1“","site_editing.global.tooltip":"Dieser Inhalt ist auf allen Websites verfügbar","not_connected_alert_dialog.title":"Website nicht verbunden","not_connected_alert_dialog.description":"„$1“ hat sich nicht mit der Scrivito-Oberfläche verbunden. Bitte stellen Sie folgendes sicher:","not_connected_alert_dialog.reason_online":"Stimmt die oben genannte URL, ist die Website online und basiert sie auf Scrivito JS?","not_connected_alert_dialog.reason_version":"Verwendet die Website mindestens die Scrivito-Version „$1“?","not_connected_alert_dialog.reason_csp":"Ist „https://*.scrivito.com“ im Website-Header „frame-ancestors“ enthalten (mittels CSP)?","not_connected_alert_dialog.different_url":"Andere URL verwenden","not_connected_alert_dialog.further_details":"Weitere Details","obj_restriction_dialog.title":"Sichtbarkeit der Seite anpassen","obj_restriction_dialog.title_when_subtree":"Sichtbarkeit der Seiten anpassen","obj_restriction_dialog.copy_page.description":"Sie sind im Begriff, die Seite „$sourceTitle“ nach „$targetTitle“ zu kopieren.\nBei der Quelle ist die Sichtbarkeit „$sourceVisibility“ eingestellt, beim Ziel dagegen „$targetVisibility“.\nMöchten Sie, dass bei der kopierten Seite die Sichtbarkeit ebenfalls auf „$targetVisibility“ gesetzt wird?","obj_restriction_dialog.move_page.description":"Sie sind im Begriff, die Seite „$sourceTitle“ nach „$targetTitle“ zu verschieben.\nBei der Quelle ist die Sichtbarkeit „$sourceVisibility“ eingestellt, beim Ziel dagegen „$targetVisibility“.\nMöchten Sie, dass bei der verschobenen Seite die Sichtbarkeit ebenfalls auf „$targetVisibility“ gesetzt wird?","obj_restriction_dialog.move_subtree.description":"Sie sind im Begriff, die Seite „$sourceTitle“ zusammen mit ihren Unterseiten nach „$targetTitle“ zu verschieben.\nBei der Quelle ist die Sichtbarkeit „$sourceVisibility“ eingestellt, beim Ziel dagegen „$targetVisibility“.\nMöchten Sie, dass bei den verschobenen Seiten die Sichtbarkeit ebenfalls auf „$targetVisibility“ gesetzt wird?","obj_restriction_dialog.copy_page.select_visibility.description":"Sie sind im Begriff, die Seite „$sourceTitle“ nach „$targetTitle“ zu kopieren.\nBei der Quelle ist die Sichtbarkeit „$sourceVisibility“ eingestellt, beim Ziel dagegen „$targetVisibility“.\nBitte wählen Sie die Sichtbarkeit der kopierten Seite:","obj_restriction_dialog.move_page.select_visibility.description":"Sie sind im Begriff, die Seite „$sourceTitle“ nach „$targetTitle“ zu verschieben.\nBei der Quelle ist die Sichtbarkeit „$sourceVisibility“ eingestellt, beim Ziel dagegen „$targetVisibility“.\nBitte wählen Sie die Sichtbarkeit der verschobenen Seite:","obj_restriction_dialog.move_subtree.select_visibility.description":"Sie sind im Begriff, die Seite „$sourceTitle“ zusammen mit ihren Unterseiten nach „$targetTitle“ zu verschieben.\nBei der Quelle ist die Sichtbarkeit „$sourceVisibility“ eingestellt, beim Ziel dagegen „$targetVisibility“.\nBitte wählen Sie die Sichtbarkeit der verschobenen Seiten:","obj_restriction_dialog.change_visibility":"Sichtbarkeit anpassen","obj_restriction_dialog.dont_change":"Sichtbarkeit beibehalten","welcome_ui_dialog.title":"Willkommen bei Scrivito...","welcome_ui_dialog.what_is_scrivito":"Was ist Scrivito?","welcome_ui_dialog.which_website":"Welche Website möchten Sie bearbeiten?","welcome_ui_dialog.last_used_website":"Mit letzter Website fortfahren","welcome_ui_dialog.previously_used_websites":"Eine vorherige Website auswählen","welcome_ui_dialog.enter_url":"Die URL angeben, um fortzufahren","welcome_ui_dialog.enter_url_placeholder":"URL eingeben...","welcome_ui_dialog.footer.proudly":"wird von der","welcome_ui_dialog.footer.city":"mit viel Erfahrung und Leidenschaft in Berlin und in Breslau, Polen, entwickelt","welcome_ui_dialog.footer.copyright":"Alle Rechte vorbehalten","teams_dialog.title":"Benutzerverwaltung","teams_dialog.teams":"Teams","teams_dialog.users":"Benutzer","teams_dialog.team_validation_error.title_empty":"Der Titel darf nicht leer sein","teams_dialog.team_validation_error.title_taken":"Es gibt bereits ein Team mit diesem Titel.","teams_dialog.team_validation_error.title_invalid":"Der Titel des Teams ist zu lang oder enthält ungültige Zeichen","teams_dialog.team_validation_error.limit_reached":"Die maximale Anzahl Teams wurde erreicht.","teams_dialog.teams_tab.search_placeholder":"Teams suchen","teams_dialog.teams_tab.add_team":"Team hinzufügen","teams_dialog.users_tab.search_placeholder":"Benutzer suchen","teams_dialog.users_tab.add_user":"Benutzer hinzufügen","teams_dialog.add_team_form.form_title":"Team hinzufügen","teams_dialog.add_team_form.title":"Titel","teams_dialog.add_team_form.description":"Beschreibung","teams_dialog.add_team_form.permissions":"Berechtigungen","teams_dialog.team_item.edit":"Eigenschaften","teams_dialog.team_item.edit_users":"Benutzer","teams_dialog.team_item.delete":"Team löschen","teams_dialog.edit_team_form.title":"Titel","teams_dialog.edit_team_form.description":"Beschreibung","teams_dialog.edit_team_form.permissions":"Berechtigungen","teams_dialog.edit_team_users_form.add_user":"Benutzer hinzufügen","teams_dialog.edit_team_users_form.users":"Benutzer ($1)","teams_dialog.edit_team_users_form.add_user_autocomplete.placeholder":"Name oder E-Mail des Benutzers","teams_dialog.edit_team_users_form.add_user_autocomplete.is_pending":"Der Benutzer hat sich noch nicht angemeldet","teams_dialog.edit_team_users_form.user_item.delete":"Aus dem Team entfernen","teams_dialog.edit_team_users_form.user_item.is_pending":"Der Benutzer hat sich noch nicht angemeldet","teams_dialog.add_user_form.title":"Benutzer hinzufügen","teams_dialog.add_user_form.email":"E-Mail","teams_dialog.add_user_form.email_placeholder":"example@domain.com","teams_dialog.add_user_form.teams":"Teams","teams_dialog.user_item.delete":"Benutzer löschen","teams_dialog.user_item.is_pending":"Der Benutzer hat sich noch nicht angemeldet","teams_dialog.user_item.edit_teams":"Teams bearbeiten","teams_dialog.user_item.show_teams":"Teams anzeigen","teams_dialog.edit_user_form.teams":"Teams","teams_dialog.base_permissions.title":"Alle Benutzer","interactions.create_member.validation_error.email_missing":"E-Mail darf nicht leer sein","visibility_categories_dialog.title":"Sichtbarkeitskategorien verwalten","visibility_categories_dialog.builtin_categories_tab.description":'Die hier aktivierten Sichtbarkeitskategorien werden Redakteuren in den Seiteneigenschaften zur Auswahl angeboten. Mehr über die <a href="https://www.scrivito.com/content-visibility" target="_blank">Sichtbarkeit von Inhalten</a>.',"visibility_categories_dialog.custom_categories_tab.description":'Die benutzerdefinierten Kategorien werden Redakteuren ebenfalls in den Seiteneigenschaften zur Auswahl angeboten. Mehr über die <a href="https://www.scrivito.com/content-visibility" target="_blank">Sichtbarkeit von Inhalten</a>.',"visibility_categories_dialog.builtin_categories_tab.category_item.enabled":"Aktiviert","visibility_categories_dialog.builtin_categories_tab.category_item.disabled":"Deaktiviert","visibility_categories_dialog.custom_categories":"Benutzerdefinierte Kategorien","visibility_categories_dialog.builtin_categories":"Integrierte Kategorien","visibility_categories_dialog.custom_categories_tab.search_placeholder":"Kategorien suchen","visibility_categories_dialog.custom_categories_tab.add_visibility_category":"Kategorie hinzufügen","visibility_categories_dialog.visibility_category_form.title":"Titel","visibility_categories_dialog.visibility_category_form.validation.empty.title":"Der Titel darf nicht leer sein.","visibility_categories_dialog.visibility_category_form.validation.invalid_value.title":"Der Titel ist zu lang.","visibility_categories_dialog.visibility_category_form.validation.missing.title":"Der Titel darf nicht leer sein.","visibility_categories_dialog.visibility_category_form.validation.taken.title":"Es gibt bereits eine Sichtbarkeitskategorie mit diesem Titel.","visibility_categories_dialog.visibility_category_form.description":"Beschreibung","visibility_categories_dialog.visibility_category_form.validation.invalid_value.description":"Die Beschreibung ist zu lang.","visibility_categories_dialog.visibility_category_form.groups":"Gruppen","visibility_categories_dialog.visibility_category_form.validation.invalid_value.groups":"Die maximale Anzahl an Gruppen wurde überschritten, oder die Namen sind zu lang.","visibility_categories_dialog.custom_categories_tab.add_visibility_category_form.title":"Neue Sichtbarkeitskategorie","visibility_categories_dialog.groups_editor.placeholder":"Gruppe eingeben","workflows_dialog.title":"Workflows verwalten","workflows_dialog.dialog_body.add_workflow":"Workflow hinzufügen","workflows_dialog.dialog_body.search_placeholder":"Workflows suchen","workflows_dialog.dialog_body.add_workflow_form.title":"Neuer Workflow","workflows_dialog.workflow_item.has_review":"Beinhaltet eine Review-Phase","workflows_dialog.workflow_item.allows_widget_library":"Lässt Bearbeitung der Widget-Bibliothek zu","workflows_dialog.workflow_form.title":"Titel","workflows_dialog.workflow_form.description":"Beschreibung","workflows_dialog.workflow_form.constraints":"Restriktionen","workflows_dialog.workflow_form.constraints.hint":"Geben Sie Restriktionen im JSON-Format an.","workflows_dialog.workflow_form.editor_teams":"Teams, die Arbeitskopien mit diesem Workflow anlegen dürfen","workflows_dialog.workflow_form.publisher_teams":"Teams mit Veröffentlichungsrecht","workflows_dialog.workflow_form.has_team_all":"Gilt für alle derzeitigen und künftigen Teams","workflows_dialog.workflow_form.has_no_team_all":"Gilt nur für die ausgewählten Teams","workflows_dialog.workflow_form.has_review":"Schließt eine Review-Phase ein","workflows_dialog.workflow_form.allows_widget_library":"Bearbeitung der Widget-Bibliothek zulassen","workflows_dialog.workflow_form.invalid_constraints_json":"Bei der Verarbeitung der JSON-Daten ist ein Fehler aufgetreten: $1","workflows_dialog.validation.missing.title":"Der Titel darf nicht leer sein.","workflows_dialog.validation.taken.title":"Es gibt bereits einen Workflow mit diesem Titel.","workflows_dialog.validation.invalid_value.title":"Der Titel ist zu lang.","workflows_dialog.validation.invalid_value.description":"Die Beschreibung ist zu lang.","workflows_dialog.validation.illegal_value.constraints":"Die Definition der Restriktionen ist semantisch fehlerhaft.","workflows_dialog.true":"Ja","workflows_dialog.false":"Nein","workflows_dialog.teams_toggle.all_teams":"Alle Teams","workflows_dialog.teams_toggle.selected_teams":"Ausgewählte Teams","editable_workspace_dialog.select":"Auswählen","editable_workspace_dialog.create":"Anlegen","editable_workspace_dialog.workspace_select.select":"Wählen Sie eine Arbeitskopie aus:","editable_workspace_dialog.create_workspace_form.create_workspace":"Legen Sie eine neue Arbeitskopie an:","editable_workspace_dialog.create_workspace_form.or_create_workspace":"Oder legen Sie eine neue an:","editable_workspace_dialog.create_workspace_form.placeholder":"Title der neuen Arbeitskopie","widget_library_component.title":"Widget-Bibliothek","widget_library_component.close":"Widget-Bibliothek schließen","widget_library_component.description_attribute.title":"Beschreibung","widget_library_component.hide_details_button":"Details ausblenden","widget_library_component.show_details_button":"Details einblenden","widget_library_component.empty_state":"Es wurden noch keine Widgets zur Bibliothek hinzugefügt.","widget_library_component.marker.widget_class":"Vorgegebenes Widget","widget_library_component.marker.widget_template":"Widget-Vorlage","widget_library_component.more_info":"Was ist die Widget-Bibliothek?","widget_library_component.thumbnail_attribute.title":"Miniaturbild","widget_library_component.title_attribute.title":"Titel","widget_preview.sdk_not_supported":"Bitte aktualisieren Sie Scrivito auf Version 1.20.0 oder neuer, um die Widget-Vorschau zu sehen.","create_widget_template_dialog.title":"Widget in Bibliothek aufnehmen","create_widget_template_dialog.description":"Bitte geben Sie den Titel der neuen Widget-Vorlage ein.","create_widget_template_dialog.placeholder":"Neuer Titel","create_widget_template_dialog.confirm":"Anlegen","create_workspace_dialog.title":"Arbeitskopie anlegen","create_workspace_dialog.description":"Bitte geben Sie den Titel der neuen Arbeitskopie ein.","create_workspace_dialog.placeholder":"Neuer Titel","create_workspace_dialog.workflow_select.title":"Workflow auswählen","create_workspace_dialog.confirm":"Anlegen","select_display_mode.editable_workspace_dialog.title.select_or_create":"Arbeitskopie wählen","select_display_mode.editable_workspace_dialog.title.select":"Arbeitskopie auswählen","select_display_mode.editable_workspace_dialog.title.create":"Arbeitskopie anlegen","select_display_mode.editable_workspace_dialog.title.forbidden":"Sie können diese Seite nicht bearbeiten","select_display_mode.editable_workspace_dialog.description.select_or_create":"Wählen Sie eine Arbeitskopie aus oder legen Sie eine neue an, um Inhalte zu bearbeiten.","select_display_mode.editable_workspace_dialog.description.select":"Wählen Sie eine Arbeitskopie aus, um Inhalte zu bearbeiten.","select_display_mode.editable_workspace_dialog.description.create":"Legen Sie eine neue Arbeitskopie an, um Inhalte zu bearbeiten.","select_display_mode.editable_workspace_dialog.description.forbidden":"Es gibt keine Arbeitskopien, deren Inhalte Sie bearbeiten können. Ferner sind Sie nicht berechtigt, eine Arbeitskopie zur Bearbeitung der aktuellen Seite anzulegen.","interactions.create_member.validation_error.email_taken":"Es gibt bereits einen Benutzer mit dieser E-Mail-Adresse","interactions.create_member.validation_error.email_invalid":"Die E-Mail-Adresse hat das falsche Format","interactions.create_member.precondition_error.user_limit_reached":"Die maximale Anzahl Benutzer wurde erreicht","interactions.delete_visibility_category.confirm_dialog.title":"Sichtbarkeitskategorie löschen?","interactions.delete_visibility_category.confirm_dialog.description":"Die Sichtbarkeitskategorie „$1“ wird unwiderruflich gelöscht.","interactions.delete_member.confirm_dialog.title":"Benutzer löschen?","interactions.delete_member.confirm_dialog.description":"Der Benutzer mit der E-Mail-Adresse $1 wird unwiderruflich gelöscht.","interactions.delete_team.dialog.title":"Team löschen?","interactions.delete_team.dialog.description":"Das Team „$1“ wird unwiderruflich gelöscht.","interactions.delete_workflow.dialog.title":"Workflow löschen?","interactions.delete_workflow.dialog.description":"Der Workflow „$1“ wird unwiderruflich gelöscht.","details_dialog.title":"Eigenschaften von „$1“","rename_workspace_dialog.title":"Titel von „$1“ bearbeiten","workspace_members_dialog.add_users.one":"Benutzer hinzufügen","workspace_members_dialog.add_users.many":"Benutzer hinzufügen","workspace_members_dialog.title":"Mitarbeiter von „$1“","workspace_members_dialog.confirm_delete_user":"Entfernen","workspace_members_dialog.confirm_delete_user.description":"Möchten Sie $user aus der aktuellen Arbeitskopie („$title“) entfernen?","workspace_members_dialog.confirm_delete_user.title":"Benutzer entfernen?","workspace_members_dialog.delete_user.cannot_delete_current_user.tooltip":"Sie können sich selbst nicht aus einer Arbeitskopie entfernen.","workspace_members_dialog.users":"Mitarbeiter","workspace_members_dialog.user_role":"Rolle","workspace_members_dialog.user_search.placeholder":"Namen eines Benutzers eingeben","workspace_members_dialog.user_description_not_available":"Unbekannter Benutzer","workspace_members_dialog.role_description.owner":"Darf Inhalte bearbeiten, die Arbeitskopie löschen, Benutzer einladen und verwalten","workspace_members_dialog.role_description.reader":"Darf Inhalte dieser Arbeitskopie ansehen","workspace_members_dialog.role_description.writer":"Darf Inhalte dieser Arbeitskopie bearbeiten","workspace_members_dialog.role_title.owner":"Ist Besitzer","workspace_members_dialog.role_title.reader":"Darf ansehen","workspace_members_dialog.role_title.writer":"Darf bearbeiten","workspace_changes_dialog.dialog_header.title":"Änderungen von „$1“","workspace_changes_dialog.dialog_header.title.is_transfer_mode":"Änderungen verschieben von „$1“","workspace_changes_dialog.dialog_header.count_title.one":"($1 Objekt)","workspace_changes_dialog.dialog_header.count_title.many":"($1 Objekte)","workspace_changes_dialog.dialog_header.count_title.many.has_more":"($1+ Objekte)","workspace_changes_dialog.dialog_header.count_title.is_transfer_mode.one":"($1 Objekt zum verschieben)","workspace_changes_dialog.dialog_header.count_title.is_transfer_mode.many":"($1 Objekte zum verschieben)","workspace_changes_dialog.order_toggle.last_changed":"Nach Änderungsdatum sortieren","workspace_changes_dialog.order_toggle.last_changed.asc":"Älteste Änderung zuerst","workspace_changes_dialog.order_toggle.last_changed.desc":"Jüngste Änderung zuerst","workspace_changes_dialog.order_toggle.obj_class":"Nach Objekttyp sortieren","workspace_changes_dialog.order_toggle.obj_class.asc":"A bis Z (Typ)","workspace_changes_dialog.order_toggle.obj_class.desc":"Z bis A (Typ)","workspace_changes_dialog.order_toggle.modification":"Nach Art der Änderung sortieren","workspace_changes_dialog.order_toggle.modification.desc":"Neu, bearbeitet, gelöscht","workspace_changes_dialog.order_toggle.modification.asc":"Gelöscht, bearbeitet, neu","workspace_changes_dialog.order_toggle.is_disabled":"Aktuell ausgewählte Sortierung","workspace_changes_dialog.no_changes_notice":"In dieser Arbeitskopie wurde nichts geändert.","workspace_changes_dialog.change_item.last_changed":"Letzte Änderung","workspace_changes_dialog.change_item.last_changed_by":"Zuletzt geändert von","workspace_changes_dialog.change_item.not_available":"Nicht verfügbar","workspace_changes_dialog.change_item.publish_permission":"Veröffentlichung","workspace_changes_dialog.change_item.new.conflict":"Dieses Objekt ist neu in dieser Arbeitskopie.\nEs kann nicht verschoben werden, da es gleichzeitig in einer anderen Arbeitskopie angelegt und bereits veröffentlicht wurde.","workspace_changes_dialog.change_item.edited.conflict":"Dieses Objekt wurde in dieser Arbeitskopie geändert.\nEs kann nicht verschoben werden, da es inzwischen auch bereits mit abweichenden Änderungen veröffentlicht wurde.","workspace_changes_dialog.change_item.deleted.conflict":"Dieses Objekt wurde in dieser Arbeitskopie gelöscht.\nEs kann nicht verschoben werden, da es inzwischen auch bereits mit abweichenden Änderungen veröffentlicht wurde.","workspace_changes_dialog.publish_permission.is_permitted":"ist erlaubt","workspace_changes_dialog.publish_permission.is_forbidden":"ist nicht erlaubt","workspace_changes_dialog.enable_transfer_mode_button.title":"Änderungen verschieben","workspace_changes_dialog.transfer_disabled.cannot_edit":"Diese Option ist nicht verfügbar.","workspace_changes_dialog.transfer_disabled.no_changes":"In dieser Arbeitskopie wurde nichts geändert.","workspace_changes_dialog.transfer_changes_button.title":"Ziel-Arbeitskopie auswählen","workspace_changes_dialog.publish_button.is_forbidden":"Die Arbeitskopie kann nicht veröffentlicht werden.","workspace_changes_dialog.widget_template":"Widget-Vorlage","most_severe_notification.inadmissible_changes":"Unzulässige Änderungen","most_severe_notification.has_conflicts":"Inhalte mit abweichenden Änderungen wurden in der Zwischenzeit veröffentlicht","notifications_count.errors_and_warnings":"$1 Fehler und Warnungen","notifications_count.only_error":"1 Fehler","notifications_count.only_errors":"$1 Fehler","notifications_count.only_warning":"1 Warnung","notifications_count.only_warnings":"$1 Warnungen","workspace_publisher.exceeds_obj_limit":"Diese Arbeitskopie kann nicht veröffentlicht werden, da hierdurch die im Plan für dieses CMS festgelegte maximale Anzahl an CMS-Objekten überschritten würde.","workspace_publisher.found_validation_errors.title":"Diese Arbeitskopie kann nicht veröffentlicht werden.","workspace_publisher.found_validation_errors.body.one":"Es gibt einen inhaltlichen Fehler, der vor der Veröffentlichung korrigiert werden muss. Bitte entnehmen Sie die Details der Liste der Änderungen.","workspace_publisher.found_validation_errors.body.many":"Es gibt $1 inhaltliche Fehler, die vor der Veröffentlichung korrigiert werden müssen. Bitte entnehmen Sie die Details der Liste der Änderungen.","obj_class_dialog.last_used":"Zuletzt verwendet","obj_class_dialog.all":"Alle","obj_class_dialog.search_results":"Suchergebnisse ($1)","obj_class_dialog.search_placeholder":"Suchbegriff eingeben","obj_class_dialog.no_search_results":"Ihre Suche hat keine Ergebnisse geliefert.","preview_sizes.desktop":"Desktop","preview_sizes.laptop":"Laptop","preview_sizes.mobile":"Mobiltelefon im Hochformat","preview_sizes.tablet":"Tablet im Hochformat","loader_error.title":"Beim Laden der Daten ist ein Fehler aufgetreten. Bitte versuchen Sie es später erneut. Falls das Problem bestehen bleibt, wenden Sie sich bitte an Ihren technischen Ansprechpartner für diese Website.","sidebar.browse_content_button.hint":"Content Browser öffnen","sidebar.browse_content_button.hint.is_disabled":"Der Content Browser ist nicht verfügbar, während gelöschte Inhalte angezeigt werden.","sidebar.details_button.hint":"Seiteneigenschaften anzeigen","sidebar.details_button.hint.active":"Seiteneigenschaften","sidebar.hierarchy_button.hint":"Hierarchie anzeigen","sidebar.hierarchy_button.hint.active":"Hierarchie","sidebar.hierarchy_panel.show_details_icon.hide":"Details verstecken","sidebar.hierarchy_panel.show_details_icon.open":"Details anzeigen","sidebar.hierarchy_panel.list_entry_details.last_changed":"Letzte Änderung","sidebar.hierarchy_panel.list_entry_details.last_changed_by":"Zuletzt geändert von","sidebar.hierarchy_panel.list_entry_details.validation_results.tooltip":"Einige Inhalte enthalten Fehler und müssen vor der Veröffentlichung berichtigt werden.","sidebar.hierarchy_panel.list_entry_details.validation_errors_and_warnings":"$1 Fehler und Warnungen","sidebar.hierarchy_panel.list_entry_details.validation_errors.one":"1 Fehler","sidebar.hierarchy_panel.list_entry_details.validation_errors.many":"$1 Fehler","sidebar.hierarchy_panel.list_entry_details.validation_warnings.one":"1 Warnung","sidebar.hierarchy_panel.list_entry_details.validation_warnings.many":"$1 Warnungen","sidebar.page_properties_button.hint":"Seiteneigenschaften anzeigen","sidebar.page_properties_button.hint.active":"Seiteneigenschaften","sidebar.sites_button.hint":"Websites anzeigen","sidebar.sites_button.hint.active":"Websites","sidebar.search_button.hint":"Suche anzeigen","sidebar.search_button.hint.active":"Suche","sidebar.sites_panel.current_site":"Aktuelle Website","sidebar.sites_panel.add_site":"Website hinzufügen","sidebar.sites_panel.recent_sites":"Zuletzt verwendete Websites","sidebar.sites_panel.search_placeholder":"Suchbegriff eingeben","sidebar.sites_panel.search_results":"Suchergebnisse ($1)","sidebar.sites_panel.no_search_results":"Ihre Suche hat keine Ergebnisse geliefert.","sidebar.sites_panel.all_sites":"Alle Websites ($count)","sidebar.sites_panel.objs_count":"$1 Objekte","sites_panel.group.title":"Sprachversionen","sites_panel.group.show":"Alle Websites anzeigen","sidebar.translations_button.hint":"Sprachversionen anzeigen","sidebar.translations_button.hint.active":"Sprachversionen","sidebar.workspaces_button.hint":"Arbeitskopien anzeigen","sidebar.workspaces_button.hint.active":"Arbeitskopien","sidebar.workspaces_button.hint.submitted_workspaces.one":"1 Veröffentlichungsanfrage","sidebar.workspaces_button.hint.submitted_workspaces.many":"$1 Veröffentlichungsanfragen","sidebar.changes_list_button.hint":"Änderungen anzeigen","sidebar.changes_list_button.hint.active":"Änderungen","sidebar.changes_list_button.disabled":"Die Liste der Änderungen ist nur bei Arbeitskopien verfügbar.","sidebar.preview_sizes_button.hint":"Vorschaugrößen anzeigen","sidebar.preview_sizes_button.hint.active":"Vorschaugrößen","sidebar.current_user.logged_in_as":"Sie sind als $userDescription angemeldet.","sidebar.current_user_menu.signed_is_as":"Angemeldet als","sidebar.widget_library_button.hint":"Widgets anzeigen","sidebar.widget_library_button.hint.active":"Widgets","sidebar.hide_controls_button.hint":"Bedienleiste verstecken","sidebar.notifications_button.hint":"Benachrichtigungen anzeigen","sidebar.notifications_button.hint.active":"Benachrichtigungen","sidebar.history_button.hint":"Verlauf anzeigen","sidebar.history_button.hint.active":"Verlauf","sidebar.reason_for_history_being_disabled":"Wechseln Sie zu den veröffentlichten Inhalten, um den Verlauf öffnen zu können.","sidebar.reason_for_widgets_being_disabled":"Dieser Bereich der Seitenleiste ist derzeit nicht verfügbar.","sidebar.workspace_list.list_type.submitted":"Zur Veröffentlichung vorgelegt","sidebar.workspace_list.list_type.in_review":"Wird überprüft","sidebar.workspace_list.list_type.was_in_review":"Überprüft und zurückgewiesen","sidebar.workspace_list.workspace_item.hint.is_disabled":"Sie sind nicht dazu berechtigt, diese Arbeitskopie auszuwählen.","sidebar.workspace_list.workspace_item.hint.is_selectable":"Diese Arbeitskopie auswählen","sidebar.workspace_list.workspace_item.hint.is_published":"Veröffentlichte Inhalte auswählen","sidebar.workspace_list.workspace_item.hint":"Ausgewählte Arbeitskopie","sidebar.workspace_list.workspace_info.changes_count.tooltip":"Änderungen ($1)","sidebar.workspace_list.workspace_info.validation_results.tooltip":"Einige Inhalte enthalten Fehler und müssen vor der Veröffentlichung berichtigt werden.","sidebar.workspace_list.workspace_info.validation_results.one":"1 Fehler in Inhalten","sidebar.workspace_list.workspace_info.validation_results.many":"$1 Fehler in Inhalten","sidebar.hierarchy_panel.hierarchy":"Hierarchie","sidebar.search_panel.results":"Suchergebnisse","sidebar.search_panel.results.many":"Suchergebnisse ($1)","sidebar.search_panel.input_placeholder":"Suchbegriff eingeben","sidebar.search_panel.no_results":"Ihre Suche hat keine Ergebnisse geliefert.","sidebar.search_panel.show_more":"Weitere Suchergebnisse","sidebar.search_panel.search_all_sites":"In allen Websites suchen","sidebar.changes_list_panel.title":"Änderungen ($1)","sidebar.changes_list_panel.order_type.title":"Sortieren nach...","sidebar.changes_list_panel.order_type.last_changed":"Änderungsdatum","sidebar.changes_list_panel.order_type.obj_class":"Seitentyp","sidebar.changes_list_panel.order_type.modification":"Änderungsart","sidebar.changes_panel.no_changes":"In dieser Arbeitskopie wurde nichts geändert.","sidebar.changes_list_panel.publish.title":"Veröffentlichen","sidebar.changes_list_panel.publish.tooltip":"Diese Arbeitskopie veröffentlichten","sidebar.changes_list_panel.search_placeholder":"Suchbegriff eingeben","sidebar.changes_list_panel.search_no_results":"Ihre Suche hat keine Ergebnisse geliefert.","sidebar.changes_list_panel.widget_template":"Widget-Vorlage","sidebar.changes_list_panel.show_all_changes.info":"$visibleChangesCount von $overallChangesCount Änderungen","sidebar.changes_list_panel.show_all_changes.button_title":"Alle Änderungen anzeigen","sidebar.workspaces_panel.general_workspaces_group.title":"Arbeitskopien","sidebar.workspaces_panel.current_workspace_group.title":"Diese Arbeitskopie","sidebar.workspaces_panel.my_workspaces_group.title":"Meine Arbeitskopien","sidebar.workspaces_panel.other_workspaces_group.title":"Andere Arbeitskopien","sidebar.workspaces_panel.in_review_workspaces.title":"Zu veröffentlichen","sidebar.translations_panel.current_page_tab.title":"Seite","sidebar.translations_panel.current_page_tab.description":"Sprachversionen der aktuellen Seite anzeigen und neue anlegen.","sidebar.translations_panel.current_page_tab.existing_translations":"Verfügbare Versionen","sidebar.translations_panel.current_page_tab.potential_translations":"Potenzielle Versionen","sidebar.translations_panel.current_page_tab.potential_translations.state":"Website ohne diese Seite","sidebar.translations_panel.current_page_tab.existing_translation.unlink":"Zuordnung aufheben","sidebar.translations_panel.current_page_tab.potential_translations.clipboard_page":"Seite in Zwischenablage","sidebar.notifications_panel.validations.error.title":"Ungültige Inhalte","sidebar.notifications_panel.validations.error.description":"Auf dieser Seite gibt es Inhalte, die vor der Veröffentlichung berichtigt werden müssen.","sidebar.notifications_panel.validations.warning.title":"Warnungen","sidebar.notifications_panel.validations.info.title":"Hinweise","sidebar.notifications_panel.inadmissible_changes.title":"Unzulässige Änderungen","sidebar.notifications_panel.inadmissible_changes.description":"An dieser Seite wurden unzulässige Änderungen vorgenommen, aufgrund derer die Arbeitskopie nicht veröffentlichbar ist.","sidebar.notifications_panel.conflict.title":"Konflikt","sidebar.notifications_panel.conflict.description1":"An dieser Seite wurden abweichende Änderungen vorgenommen und veröffentlicht. ","sidebar.notifications_panel.conflict.link":"Lösen Sie den Konflikt","sidebar.notifications_panel.conflict.description2":", um diese Arbeitskopie veröffentlichen zu können.","sidebar.notifications_panel.potential_conflicts.title":"Mehrere Bearbeitungen","sidebar.notifications_panel.potential_conflicts.description":"Diese Seite wurde bereits in anderen Arbeitskopien geändert:","sidebar.notifications_panel.no_notifications":"Derzeit keine Benachrichtigungen.","sidebar.preview_sizes_panel.title":"Vorschaugrößen","sidebar.history_panel.title":"Verlauf","sidebar.history_panel.obj_history":"Diese Seite","sidebar.history_panel.publish_history":"Alle Inhalte","sidebar.history_panel.info_box.text":"Wählen Sie eine archivierte Version der veröffentlichten Inhalte, um sie in einer neuen Arbeitskopie zu öffnen. Erfahren Sie mehr über den ","sidebar.history_panel.info_box.link":"Veröffentlichungsverlauf","sidebar.history_panel.limited_results_box.text":"Die Zahl der maximal angezeigten Verlaufseinträge ($1) hängt vom Plan für dieses CMS ab.","sidebar.history_panel.unknown_date":"Zeit unbekannt","sidebar.history_panel.revision_list.revision_item.is_most_recent":"Dies sind die aktuell veröffentlichten Inhalte.","sidebar.history_panel.revision_list.revision_item.changes_count.many":"$1 Änderungen","sidebar.history_panel.revision_list.revision_item.changes_count.one":"1 Änderung","sidebar.history_panel.revision_list.revision_item.restore":"Öffnen","sidebar.history_panel.revision_list.revision_item.compare":"Vergleichen","sidebar.history_panel.revision_list.revision_item.changes":"Änderungen","sidebar.history_panel.revision_list.revision_item.show":"Anzeigen","sidebar.widget_library_panel.all":"Alle","sidebar.widget_library_panel.search_results":"Suchergebnisse ($1)","sidebar.widget_library_panel.no_search_results":"Ihre Suche hat keine Ergebnisse geliefert.","sidebar.widget_library_panel.last_used":"Zuletzt verwendet","sidebar.widget_library_panel.title":"Widgets","sidebar.widget_library_panel.drop_to_cancel":"Widget hier fallen lassen, um abzubrechen","sidebar.widget_library_panel.search_placeholder":"Widgets suchen","sidebar.panel.list_entry.sort_subpages":"Unterseiten sortieren","sidebar.list.load_more":"Mehr laden...","menu_bar.create":"Anlegen","widget_marker.widget_is_new":"Widget ist neu","widget_marker.widget_is_edited":"Widget wurde geändert","widget_marker.widget_is_edited_and_dragged_here":"Widget wurde geändert und hierher gezogen","widget_marker.widget_is_edited_and_dragged_away":"Widget wurde geändert und von hier weggezogen","widget_marker.widget_is_deleted":"Widget wurde gelöscht","widget_marker.widget_is_dragged_here":"Widget wurde hierher gezogen","widget_marker.widget_is_dragged_away":"Widget wurde von hier weggezogen","transfer_errors_dialog.title":"Fehler beim Verschieben von Änderungen","transfer_errors_dialog.modified":"Einige der Änderungen konnten nicht verschoben werden, weil die betreffenden Inhalte auch in der Ziel-Arbeitskopie modifiziert wurden.","transfer_errors_dialog.conflicting":"Einige der Änderungen wurden nicht verschoben, weil die betreffenden Inhalte in der Ziel-Arbeitskopie nicht aktuell sind. Die Änderungen auf diese Inhalte anzuwenden, würde zu einem Konflikt führen. Bitte stellen Sie sicher, dass beide Arbeitskopien aktualisiert wurden und konfliktfrei sind.","current_page_link_dialog.title":"Seite teilen","current_page_link_dialog.description":"Mit dieser URL können Sie die aktuelle Seite als Teil dieser Arbeitskopie teilen. Die Empfänger müssen angemeldet sein und Zugriff auf die Arbeitskopie haben.","error_dialog.title":"Ein Fehler ist aufgetreten","error_dialog.details":"Technische Details:","copy_obj_from_clipboard.current_page.title":"Als Unterseite einfügen","copy_obj_from_clipboard.child_list.title":"Seite hier einfügen","duplicate_obj.has_children":"Seiten mit Unterseiten können nicht dupliziert werden.","duplicate_obj.disabled.workflow_disallows_duplicate":"Es ist nicht gestattet, diese Seite zu duplizieren.","duplicate_obj.disabled.obj_is_deleted":"Eine gelöschte Seite kann nicht dupliziert werden.","duplicate_obj.disabled.unknown_obj_class":"Die Seite kann nicht dupliziert werden, weil es ihren Typ nicht mehr gibt.","commands.create_site_version.title":"Sprache hinzufügen","commands.open_obj_in_content_browser.title":"Im Content Browser öffnen","commands.open_obj_in_new_ui_window.title":"In einem neuen Fenster öffnen","commands.open_share_page_dialog.title":"Seite teilen","commands.open_share_page_dialog.is_deleted":"Eine gelöschte Seite kann nicht geteilt werden, weil sie in der Vorschau nicht zugänglich ist","commands.create_workspace.title":"Neu","commands.create_workspace.tooltip":"Eine Arbeitskopie anlegen","commands.create_workspace.no_startable_workflows":"Sie sind nicht berechtigt, eine Arbeitskopie anzulegen.","commands.link_site_version.title":"Der aktuellen Website als Version zuordnen","commands.link_site_version.tooltip":"Diese Website als eine Sprachversion der aktuell angezeigten Website verwenden.","commands.link_site_version.is_page":"Eine Seite kann nicht als Sprachversion einer Website verwendet werden.","commands.link_site_version.site_is_already_version":"Diese Website is bereits eine Sprachversion einer anderen Website.","commands.unlink_page_version.title":"Nicht mehr als Sprachversion zuordnen","commands.unlink_page_version.tooltip":"Diese Seite nicht mehr als eine Sprachversion verwenden.","commands.unlink_page_version.dialog.title":"Zuordnung als Sprachversion aufheben?","commands.unlink_page_version.dialog.description":"Möchten Sie die Zuordnung dieser Seite als Sprachversion aufheben?","commands.unlink_page_version.dialog.confirm":"Zuordnung aufheben","commands.unlink_site_version.title":"Zuordnung als Sprachversion aufheben","commands.unlink_site_version.tooltip":"Diese Website nicht mehr als eine Sprachversion der aktuell angezeigten Website verwenden.","commands.unlink_site_version.dialog.title":"Zuordnung als Sprachversion aufheben?","commands.unlink_site_version.dialog.description":"Möchten Sie die Zuordnung dieser Website als Sprachversion der angezeigten Website aufheben?","commands.unlink_site_version.dialog.confirm":"Zuordnung aufheben","commands.link_page_version.title":"Seite zuordnen","commands.link_page_version.page_is_already_version":"Diese Seite ist bereits als Sprachversion einer anderen Seite zugeordnet.","commands.link_page_version.is_site":"Eine Website kann nicht als Sprachversion einer Seite verwendet werden.","commands.create_page_version.title":"Version hinzufügen","commands.create_page_version.tooltip":"Eine Kopie der angezeigten Seite zu dieser Website hinzufügen.","commands.publish_workspace.title":"Veröffent­lichen","commands.publish_workspace.tooltip":"Diese Arbeitskopie veröffentlichten","commands.publish_workspace.is_published":"Sie sehen die veröffentlichten Inhalte","commands.publish_workspace.no_changes":"Keine Änderungen zu veröffentlichen","commands.publish_workspace.has_validation_results":"Einige bearbeitete Inhalte in dieser Arbeitskopie enthalten Fehler.","commands.publish_workspace.cannot_publish":"Sie können diese Arbeitskopie nicht veröffentlichen.","commands.submit_workspace.title":"Veröffentlichung anfragen","commands.submit_workspace.tooltip":"Diese Arbeitskopie prüfen lassen","commands.submit_workspace.no_changes":"Keine Änderungen zu veröffentlichen","commands.withdraw_workspace.title":"Anfrage zurücknehmen","commands.withdraw_workspace.tooltip":"Die Anfrage zur Veröffentlichung dieser Arbeitskopie zurücknehmen","commands.withdraw_workspace.is_being_reviewed":"Die Veröffentlichungsanfrage kann nicht zurückgenommen werden, weil die Arbeitskopie bereits überprüft wird.","commands.assign_workspace.title":"Review beginnen","commands.assign_workspace.tooltip":"Mich als Prüfer dieser Arbeitskopie zuweisen","commands.unassign_workspace.title":"Review verlassen","commands.unassign_workspace.tooltip":"Mich als Prüfer dieser Arbeitskopie entfernen","commands.reject_workspace.title":"Zurückgeben","commands.reject_workspace.tooltip":"Diese Arbeitskopie zurückweisen und überarbeiten lassen","commands.reject_workspace.is_rejected":"Die Arbeitskopie wurde bereits zurückgewiesen","commands.open_workspace_changes.title":"Änderungen","commands.open_workspace_changes.tooltip":"Änderungen in dieser Arbeitskopie anzeigen","commands.open_transfer_changes_dialog.title":"Änderungen verschieben","commands.open_transfer_changes_dialog.tooltip":"Änderungen in eine andere Arbeitskopie verschieben","commands.open_workspace_members.title":"Mitarbeiter","commands.open_workspace_members.tooltip":"Die Mitarbeiter dieser Arbeitskopie verwalten und ihre Zugriffsrechte mittels Rollen festlegen.","commands.open_workspace_members.is_forbidden":"Sie sind nicht berechtigt, die Rechte für den Zugriff auf diese Arbeitskopie zu bearbeiten.","commands.remove_page_from_hierarchy.title":"Seite aus Hierarchie entfernen","commands.remove_page_from_hierarchy.tooltip":"Seite aus Hierarchie entfernen","commands.remove_page_from_hierarchy.has_children":"Eine Seite mit Unterseiten kann nicht aus der Hierarchie entfernt werden.","commands.remove_page_from_hierarchy.workflow_disallows_remove":"Es ist Ihnen nicht gestattet, diese Seite aus der Hierarchie zu entfernen.","commands.remove_page_from_hierarchy.dialog.title":"Seite aus Hierarchie entfernen?","commands.remove_page_from_hierarchy.dialog.description":"Möchten Sie, dass diese Seite nicht mehr Teil der Hierarchie ist?","commands.rename_workspace.title":"Umbenennen","commands.rename_workspace.tooltip":"Den Titel dieser Arbeitskopie bearbeiten","commands.rename_workspace.is_forbidden":"Sie sind nicht berechtigt, diese Arbeitskopie umzubennen.","commands.rename_workspace.is_submitted":"Diese Arbeitskopie kann nicht umbenannt werden, weil sie zur Veröffentlichung vorgelegt wurde.","commands.toggle_widget_library.title_open":"Widget-Bibliothek öffnen","commands.toggle_widget_library.title_close":"Widget-Bibliothek schließen","commands.open_dashboard.title":"Dashboard öffnen","commands.open_user_guide.title":"Hilfe öffnen","commands.enable_tour.title":"Tour beginnen","commands.enable_tour.is_disabled":"Die Tour ist gerade aktiv","commands.rebase_workspace.title":"Aktualisieren","commands.rebase_workspace.tooltip":"Diese Arbeitskopie aktualisieren","commands.rebase_workspace.is_forbidden":"Sie sind nicht berechtigt, diese Arbeitskopie zu aktualisieren.","commands.rebase_workspace.has_conflicts.title":"Inhalte mit abweichenden Änderungen wurden in der Zwischenzeit veröffentlicht","commands.rebase_workspace.has_conflicts.description":"Ihre Arbeitskopie konnte nicht vollständig aktualisiert werden. Einige Inhalte wurden auch in einer anderen Arbeitskopie geändert, die inzwischen veröffentlicht wurde. Bitte entnehmen Sie die Details der Liste der Änderungen.","commands.rebase_workspace.open_changes_dialog":"Änderungen anzeigen","commands.open_teams_dialog.title":"Benutzerverwaltung","commands.open_workflows_dialog.title":"Workflows verwalten","commands.open_visibility_categories_dialog.title":"Sichtbarkeitskategorien verwalten","interactions.change_permalink.dialog.title":"Permalink von „$1“ ändern","interactions.change_permalink.dialog.placeholder":"Bitte geben Sie einen neuen Permalink ein.","interactions.change_permalink.dialog.change":"Ändern","interactions.change_permalink.info.is_taken":"Der Permalink „$1“ wird bereits verwendet.","interactions.change_permalink.info.is_invalid":"Der Permalink „$1“ ist nicht zulässig: Ein Permalink darf nur die Buchstaben A bis Z, Ziffern, Punkte, Schrägstriche, Trenn- und Unterstriche enthalten.","interactions.change_permalink.info.is_scrivito":"Der Permalink „$1“ ist ungültig: Ein Permalink darf keine Seiten-ID enthalten und nicht „scrivito“ lauten oder mit „scrivito/“ beginnen.","commands.restore_workspace.dialog.confirm":"Anlegen","commands.restore_workspace.dialog.description":"Dies legt eine Arbeitskopie an, die den archivierten Stand Ihrer Website enthält, nachdem „$1“ veröffentlicht wurde.","commands.restore_workspace.dialog.title":"„$1“ anlegen?","commands.restore_workspace.workspace_title":"Archiviert: $1","commands.open_page_details.title":"Seiteneigenschaften öffnen","commands.open_page_details.site.title":"Website-Eigenschaften öffnen","commands.open_page_details.dialog.title.editing_mode":"Eigenschaften von „$1“ bearbeiten","commands.open_page_details.dialog.title":"Eigenschaften von „$1“ anzeigen","commands.open_page_details.is_disabled":"Diese Seite hat keine Eigenschaften","commands.save_obj_to_clipboard.title":"Seite kopieren oder verschieben","commands.save_obj_to_clipboard.is_deleted":"Gelöschte Seiten können nicht verschoben oder kopiert werden.","commands.log_out.title":"Abmelden","commands.toggle_user_language.title":"English","commands.toggle_sidebar_mode.disable_fixed_mode":"Seitenleiste automatisch öffnen","commands.toggle_sidebar_mode.enable_fixed_mode":"Seitenleiste anheften","confirm_delete_dialog.title":"$type löschen?","confirm_delete_dialog.title.many_objects":"$count $type löschen?","confirm_delete_dialog.is_edited":"Die $type „$name“ kann bei Bedarf später wiederhergestellt werden, jedoch ohne die Änderungen, die in der aktuellen Arbeitskopie an ihr vorgenommen wurden.","confirm_delete_dialog.is_new":"Sie sind im Begriff, die $type „$name“ zu löschen. Dies kann nicht rückgängig gemacht werden, da die $type in dieser Arbeitskopie angelegt wurde.","confirm_delete_dialog.not_modified":"Die $type „$name“ kann bei Bedarf später wiederhergestellt werden.","confirm_delete_dialog.many_objs_to_delete.many_backlinks":"Die folgenden Objekte verlinken mindestens eines der zu löschenden $type:","confirm_delete_dialog.many_objs_to_delete.one_backlink":"Das folgende Objekt verlinkt mindestens eines der zu löschenden $type:","confirm_delete_dialog.one_obj_to_delete.many_backlinks":"Die folgenden Objekte verlinken die zu löschende $type:","confirm_delete_dialog.one_obj_to_delete.one_backlink":"Das folgende Objekt verlinkt die zu löschende $type:","confirm_delete_dialog.confirm.has_backlinks":"Trotzdem löschen","commands.delete_workspace.tooltip":"Diese Arbeitskopie löschen","commands.delete_workspace.dialog.title":"Wirklich „$1“ löschen?","commands.delete_workspace.dialog.description":"Eine gelöschte Arbeitskopie kann nicht wiederhergestellt werden.","commands.delete_obj.title_page":"Seite löschen","commands.delete_obj.title_widget_template":"Vorlage löschen","commands.revert_obj.title":"Änderungen an Seite verwerfen","commands.revert_obj.is_new":"Dies ist eine neue Seite. Um die Erstellung dieser Seite rückgängig zu machen, löschen Sie sie bitte.","commands.revert_obj.unmodified":"Diese Seite wurde nicht geändert. Daher gibt es nichts zu verwerfen.","commands.revert_obj.dialog.title":"Alle Änderungen an der Seite verwerfen?","commands.revert_obj.dialog.description":"Sie sind im Begriff, sämtliche Änderungen an der Seite einschließlich eingefügter und geänderter Widgets zu verwerfen. Die verworfenen Änderungen können danach nicht wiederhergestellt werden.","commands.revert_obj.dialog.confirm":"Alle Änderungen verwerfen","commands.revert_template.title":"Änderungen an Vorlage verwerfen","commands.revert_template.dialog.title":"Änderungen an dieser Vorlage verwerfen?","commands.revert_template.dialog.description":"Verworfene Änderungen können nicht wiederhergestellt werden.","commands.revert_template.dialog.confirm":"Verwerfen","commands.revert_widget.title":"Änderungen am Widget verwerfen","commands.revert_widget.dialog.title":"Änderungen an diesem Widget verwerfen?","commands.revert_widget.dialog.description":"Die verworfenen Änderungen können nicht wiederhergestellt werden.","commands.revert_widget.dialog.confirm":"Verwerfen","commands.revert_attribute.title":"Verwerfen","commands.revert_attribute.tooltip":"Änderung verwerfen","commands.revert_attribute.disabled.workflow_disallows_revert":"Sie sind nicht dazu berechtigt, diese Änderung zu verwerfen.","commands.revert_attribute.dialog.title":"Änderung verwerfen?","commands.revert_attribute.dialog.description":"„$attribute“ wird auf seinen Stand in den veröffentlichten Inhalten zurückgesetzt. Dies kann nicht rückgängig gemacht werden.","commands.revert_attribute.dialog.confirm":"Verwerfen","commands.restore_widget.title":"Widget wiederherstellen","commands.restore_obj.title":"Seite wiederherstellen","commands.restore_template.title":"Vorlage wiederherstellen","commands.mark_resolved_obj.title":"Parallele Änderungen an der Seite überschreiben","commands.mark_resolved_obj.dialog.title":"Wirklich parallele Änderungen an der Seite überschreiben?","commands.mark_resolved_obj.dialog.description":"Diese Seite wurde in einer anderen, inzwischen veröffentlichten Arbeitskopie geändert. Bitte bestätigen Sie, dass Ihre Änderungen erhalten und die parallel durchgeführten Änderungen verworfen werden.","commands.mark_resolved_obj.dialog.confirm":"Änderungen überschreiben","commands.mark_resolved_template.title":"Parallele Änderungen an der Vorlage überschreiben","commands.mark_resolved_template.dialog.title":"Wirklich parallele Änderungen an der Vorlage überschreiben?","commands.mark_resolved_template.dialog.description":"Diese Vorlage wurde in einer anderen, inzwischen veröffentlichten Arbeitskopie geändert. Bitte bestätigen Sie, dass Ihre Änderungen erhalten und die parallel durchgeführten Änderungen verworfen werden.","commands.mark_resolved_template.dialog.confirm":"Änderungen überschreiben","commands.duplicate_obj.title":"Seite duplizieren","commands.duplicate_widget.title":"Widget duplizieren","commands.create_site.title":"Neue Website","commands.create_site.dialog.title":"Seitenvorlage für Homepage auswählen","commands.delete_site.title":"Website löschen","commands.create_page.title":"Neue Seite","commands.create_page.published_workspace":"Verwenden Sie eine Arbeitskopie, um Seiten anzulegen oder bestehende Inhalte zu ändern.","commands.create_page.dialog.title":"Seitenvorlage auswählen","commands.create_page.disabled.workflow_disallows_create":"Es ist nicht zulässig, Seiten anzulegen.","commands.create_page.disabled.no_suitable_subpages":"Für eine neue Seite steht kein Seitentyp zur Verfügung.","commands.add_subpage.child_list.no_path":"Unterseiten können nur zu Seiten hinzugefügt werden, die einen Pfad haben.","commands.add_subpage.child_list.title":"Seite hinzufügen","commands.add_subpage.child_list.tooltip":"Eine Seite zu „$1“ hinzufügen","commands.add_subpage.current_page.no_path":"Unterseiten können nur zu Seiten hinzugefügt werden, die einen Pfad haben. Die aktuelle Seite hat keinen Pfad.","commands.add_subpage.current_page.title":"Unterseite hinzufügen","commands.add_subpage.current_page.detailed_title":"$1 hinzufügen","commands.add_subpage.current_page.tooltip":"Eine Unterseite zu „$1“ hinzufügen","commands.add_subpage.dialog.title":"Seitenvorlage auswählen","commands.add_subpage.disabled.workflow_disallows_create":"Eine Seite dieses Typs kann nicht angelegt werden.","commands.add_subpage.disabled.no_suitable_subpages":"Für eine neue Seite an dieser Stelle ist kein geeigneter Seitentyp verfügbar.","commands.add_widget_template_to_library.title":"Widget in Bibliothek aufnehmen","commands.add_widget_template_to_library.initial_title":"$1 ohne Titel","widget_template.empty_title":"Vorlage ohne Title","commands.copy_obj_from_clipboard.disabled.no_path":"Unterseiten können nur zu Seiten hinzugefügt werden, die einen Pfad haben.","commands.copy_obj_from_clipboard.disabled.workflow_disallows_create":"Es ist nicht gestattet, die Seite hier einzufügen.","commands.copy_obj_from_clipboard.disabled.no_site":"Es ist nicht gestattet, die Seite hier einzufügen.","commands.copy_obj_from_clipboard.paste_forbidden":"Aufgrund ihres Typs kann die Seite hier nicht eingefügt werden. Nur Seiten der folgenden Typen können hierher kopiert werden: $1","commands.copy_obj_from_clipboard.tooltip":"Erstelle eine Kopie von „$sourceTitle“ und verwende sie als eine Unterseite von „$targetTitle“.","commands.copy_obj_from_clipboard.disabled.target_deleted":"Die Stelle, an die Sie die Seite kopieren möchten, existiert nicht mehr.","commands.copy_obj_from_clipboard.disabled.obj_not_present":"Es befindet sich keine Seite in der Zwischenablage","commands.copy_obj_from_clipboard.disabled.disallowed_type":"Aufgrund ihres Typs kann die Seite in der Zwischenablage hier nicht eingefügt werden.","commands.copy_obj_from_clipboard.disabled.unknown_type":"Die Seite in der Zwischenablage kann nicht eingefügt werden, weil es ihren Typ nicht mehr gibt.","commands.move_obj_from_clipboard.confirmation.title":"Seiten verschieben?","commands.move_obj_from_clipboard.confirmation.description":"Sie sind im Begriff, die Seite „$source“ einschließlich ihrer Unterseiten nach „$destination“ zu verschieben.","commands.move_obj_from_clipboard.confirmation.confirm":"Verschieben","commands.move_obj_from_clipboard.move_tree_inadmissible.title":"Die Seiten können nicht verschoben werden","commands.move_obj_from_clipboard.move_tree_inadmissible.message":"Den Bereich „$clipboardObj“ nach „$destinationObj“ zu verschieben, würde zu einer unzulässigen Änderung der Seite „$restrictedObj“ führen.","commands.move_obj_from_clipboard.forbidden.obj_deleted":"Die Stelle, an die Sie die Seite verschieben möchten, existiert nicht mehr.","commands.move_obj_from_clipboard.forbidden.invalid_class":"Aufgrund ihres Typs kann die Seite hier nicht eingefügt werden. Nur Seiten der folgenden Typen können hierher verschoben oder hier eingefügt werden: $1","commands.move_obj_from_clipboard.forbidden.invalid_workspace":"Eine Seite kann nur innerhalb ihrer Arbeitskopie verschoben werden.","commands.move_obj_from_clipboard.forbidden.no_site_id":"Unterseiten können nur zu Seiten hinzugefügt werden, die zu keiner Website gehören. Die aktuelle Seite gehört zu keiner Website.","commands.move_obj_from_clipboard.forbidden.no_path":"Unterseiten können nur zu Seiten hinzugefügt werden, die einen Pfad haben. Die aktuelle Seite hat keinen Pfad.","commands.move_obj_from_clipboard.forbidden.obj_identity":"Eine Seite kann nicht unter sich selbst verschoben werden. Die aktuelle Seite liegt in der Zwischenablage.","commands.move_obj_from_clipboard.forbidden.obj_related":"Eine Seite kann nicht unter sich selbst verschoben werden.","commands.move_obj_from_clipboard.forbidden.obj_not_present":"Es befindet sich keine Seite in der Zwischenablage","commands.move_obj_from_clipboard.forbidden.disallowed_by_workflow":"Die Seite „$1“ nach „$2“ zu verschieben, würde zu einer unzulässigen Änderung führen.","commands.move_obj_from_clipboard.forbidden.disallowed_type":"Die Seite in der Zwischenablage kann aufgrund ihres Typs hier nicht eingefügt werden.","commands.move_obj_from_clipboard.forbidden.unknown_type":"Die Seite in der Zwischenablage kann nicht verschoben werden, weil es ihren Typ nicht mehr gibt.","commands.move_obj_from_clipboard.source_not_found":"Die zu verschiebende Seite konnte in der aktuellen Arbeitskopie nicht gefunden werden.","commands.move_obj_from_clipboard.title":"Seite hierher verschieben","commands.move_obj_from_clipboard.title_when_subtree":"Seiten hierher verschieben","commands.move_obj_from_clipboard.tooltip":"„$1“ als Unterseite von „$2“ einfügen.","commands.create_tree_from_clipboard.create_tree_inadmissible.title":"Diese Seiten können hier nicht eingefügt werden","commands.create_tree_from_clipboard.create_tree_inadmissible.message":"Den Bereich „$root“ nach „$destination“ zu kopieren, würde zu einer unzulässigen Änderung der Seite „$restrictedObj“ führen.","commands.create_tree_from_clipboard.forbidden.obj_deleted":"Die Stelle, an die Sie die Seite verschieben möchten, existiert nicht mehr.","commands.create_tree_from_clipboard.forbidden.invalid_class":"Der Typ der einzufügenden Seite entspricht keinem der hier unterstützten Typen: $1","commands.create_tree_from_clipboard.forbidden.disallowed_type":"Aufgrund ihres Typs kann die Seite in der Zwischenablage hier nicht eingefügt werden.","commands.create_tree_from_clipboard.forbidden.no_site_id":"Unterseiten können nur zu einer Website hinzugefügt werden. Die aktuelle Seite gehört zu keiner Website.","commands.create_tree_from_clipboard.forbidden.no_path":"Zur aktuellen Seite können keine Unterseiten hinzugefügt werden, da sie keinen Pfad hat.","commands.create_tree_from_clipboard.forbidden.disallowed_by_workflow":"Es ist nicht erlaubt, die Seite „$1“ nach „$2“ zu verschieben.","commands.create_tree_from_clipboard.title":"Seite mit Unterseiten einfügen","commands.create_tree_from_clipboard.tooltip":"Website-Bereich „$1“ unterhalb von „$2“ einfügen.","commands.create_tree_from_clipboard.confirmation.title":"Bitte bestätigen","commands.create_tree_from_clipboard.confirmation.description":"Sie sind im Begriff, $1 Seiten hierher zu kopieren.","commands.create_tree_from_clipboard.confirmation.confirm":"Kopieren","commands.create_tree_from_clipboard.clipboard_is_empty":"Es befindet sich keine Seite in der Zwischenablage","commands.create_tree_from_clipboard.root_has_no_children":"Die Seite, die Sie kopieren möchten, besitzt keine Unterseiten.","obj_sorting_dialog.title":"Seiten sortieren","commands.sort_items.title":"Seiten sortieren","commands.sort_items.tooltip":"Reihenfolge der Seiten unterhalb $1 bearbeiten","commands.sort_items.auto_sort":"Diese Navigation wird automatisch sortiert.","commands.sort_items.no_children":"Diese Seite hat keine Unterseiten.","commands.sort_items.too_few_children":"Die Navigation kann nicht sortiert werden, weil sie weniger als zwei Seiten enthält.","commands.create_widget.title_one":"$1 einfügen","commands.create_widget.title_unspecific":"Widget hinzufügen","commands.create_widget.disabled":"Sie können hier keine Widgets einfügen.","commands.create_widget.dialog.title":"Widget auswählen","commands.widget_details.title":"Widget-Eigenschaften","commands.widget_details.has_no_properties":"Dieses Widget hat keine Eigenschaften","commands.widget_details.dialog.title":"Eigenschaften von „$1“","commands.save_widget_to_clipboard.title":"Widget kopieren","commands.copy_widget_from_clipboard.title":"Widget einfügen","commands.copy_widget_from_clipboard.paste_forbidden":"Aufgrund seines Typs kann das Widget hier nicht eingefügt werden. Nur Widgets der folgenden Typen können hierher verschoben oder kopiert werden: $1.","commands.delete_widget.title":"Widget löschen","commands.delete_widget.dialog.title":"Dieses Widget löschen?","commands.delete_widget.dialog.description.restorable":"Das Widget wird gelöscht, es kann jedoch aus den veröffentlichten Inhalten wiederherstellt werden.","commands.delete_widget.dialog.description.restorable_unchanged":"Das Widget wird mit seinen Änderungen gelöscht, es kann jedoch aus den veröffentlichten Inhalten wiederherstellt werden.","commands.delete_widget.dialog.description.irreversible":"Das Widget wird unwiederbringlich gelöscht.","commands.select_editing_display_mode.title":"Bearbeiten","commands.select_editing_display_mode.cannot_write":"Sie sind nicht berechtigt, Inhalte in dieser Arbeitskopie zu ändern.","commands.select_editing_display_mode.workspace_in_review":"Die Inhalte dieser Arbeitskopie können nicht geändert werden, weil sie zur Veröffentlichung vorgelegt wurde.","commands.select_diff_display_mode.title":"Änderungen","commands.select_view_display_mode.title":"Vorschau","topbar.selected_workspace.list_type.submitted":"Zur Veröffentlichung vorgelegt","topbar.selected_workspace.list_type.in_review":"Wird überprüft","topbar.selected_workspace.list_type.was_in_review":"Überprüft und zurückgewiesen","topbar.show_menubar":"Bedienleiste einblenden","topbar.display_mode_selector.display_mode_button.is_selected":"Aktuell ausgewählter Anzeigemodus","topbar.saving_indicator.write_started":"Wird gespeichert...","topbar.saving_indicator.write_ended":"Änderungen gespeichert","topbar.warning.message":"Bitte die JS-Konsole prüfen","topbar.warning.alert_message":"Es gab Warnungen. Für Details, schauen Sie bitte in die JavaScript-Konsole.","topbar.current_page_menu.title.is_new":"Diese Seite ist neu.","topbar.current_page_menu.title.is_edited":"Diese Seite wurde geändert.","topbar.current_page_menu.title.is_deleted":"Diese Seite wurde gelöscht.","topbar.current_page_menu.title.is_restricted":"Die Sichtbarkeit dieser Seite ist eingeschränkt.\n","topbar.revision_item.unknown_date":"Zeit unbekannt","topbar.revision_item.changes_info_since_title":"Änderungen in dieser Arbeitskopie seit Version vom $1","topbar.revision_item.changes_info_since":"Änderungen seit $1","topbar.revision_item.changes_info_on_title":"Änderungen veröffentlicht am $1","topbar.revision_item.changes_info_on":"Änderungen am $1","interactions.publish_workspace.dialog.confirm":"Veröffentlichen","interactions.publish_workspace.dialog.title":"„$1“ veröffentlichen?","interactions.publish_workspace.dialog.description":"Sie können diese Veröffentlichung mit Hilfe des Veröffentlichungsverlaufs rückgängig machen.","interactions.publish_workspace.error_dialog.title":"Arbeitskopie konnte nicht veröffentlicht werden","interactions.publish_workspace.error_dialog.description":"Bitte entnehmen Sie die Details der Liste der Änderungen.","interactions.publish_workspace.error_dialog.confirm":"Liste der Änderungen","interactions.publish_workspace.alert.invalid_certificates":"Die Arbeitskopie konnte nicht veröffentlicht werden, weil mindestens ein Benutzer gerade Inhalte darin ändert.","interactions.publish_workspace.constraint_violated.title":"Arbeitskopie kann nicht veröffentlicht werden","interactions.publish_workspace.constraint_violated.description":"Einige der Änderungen in dieser Arbeitskopie werden vom zugrundeliegenden Workflow zurückgewiesen.","interactions.publish_workspace.constraint_violated.confirm":"Änderungen anzeigen","interactions.transfer_changes.dialog.title":"Ziel-Arbeitskopie auswählen","interactions.transfer_changes.dialog.description":"Die Änderungen können in eine bestehende oder in eine neue Arbeitskopie verschoben werden.","interactions.transfer_changes.workflow_changed":"Sie sind dabei, Änderungen in eine Arbeitskopie zu verschieben, deren Workflow sich von dem der aktuellen Arbeitskopie unterscheidet. Das bedeutet, dass sobald die Änderungen verschoben worden sind, es vorkommen kann, dass die verschobenen Änderungen nicht veröffentlicht werden können, da dies das Workflow der Zielarbeitskopie nicht zulässt.","handle_missing_current_workspace.working_copy_not_found":"Die Arbeitskopie, die Sie gerade verwenden, wurde inzwischen veröffentlicht oder gelöscht.",ajax_error:"Die Kommunikation mit dem CMS ist aufgrund eines Fehlers fehlgeschlagen: $1","ajax_error.communication":"Die Kommunikation mit dem CMS ist fehlgeschlagen. Bitte überprüfen Sie Ihre Netzwerkverbindung.","ajax_error.message_for_editor":"Bei Ihrer letzten Aktion ist ein technischer Fehler aufgetreten. Bitte versuchen Sie es später noch einmal. Falls das Problem bestehen bleibt, wenden Sie sich bitte an Ihren technischen Ansprechpartner für diese Website und geben Sie bitte die technischen Details an.",warn_before_unloading:"Es gibt nicht gespeicherte Änderungen! Möchten Sie das Browserfenster trotzdem schließen?","test.two_arguments":"$1, $2","test.four_arguments":"$1, $2, $3, $4","image_editor_dialog.dialog_header.title":"Bild bearbeiten","tour.intro.title":"Willkommen bei Scrivito!","tour.intro.description1":"Sind Sie ein neuer Scrivito-Nutzer? Dann nehmen Sie sich doch ein paar Augenblicke Zeit für unsere kurze Tour zu den Grundlagen, damit Sie schnell loslegen können!","tour.intro.description2":"Sie können die Tour jederzeit erneut starten, indem Sie „Tour beginnen“ aus dem Seitenmenü rechts oben wählen.","tour.editMode.title":"Bearbeitungsmodus","tour.editMode.description":"Aktivieren Sie den Bearbeitungsmodus, um die Inhalte auf beliebigen Seiten ändern zu können. Die Widget-Rahmen und Menü-Icons werden sichtbar, wenn sich Ihr Mauszeiger darüber befindet. So erkennen Sie stets, woran Sie arbeiten.","tour.editText.title":"Text bearbeiten","tour.editText.description":"Klicken Sie in den Text in einem Widget, um ihn direkt bearbeiten zu können – probieren Sie es aus! Markieren Sie Text, um ihn zu formatieren.","tour.addWidget.title":"Widget hinzufügen","tour.addWidget.description":"Klicken Sie auf das „+“-Icon in der Mitte des oberen oder unteren Randes eines Widgets, um ein weiteres Widget darüber bzw. darunter einzufügen. Dadurch öffnet sich der Widget-Browser, mit dem Sie den Typ des einzufügenden Widgets auswählen können. Es gibt bereits viele Widget-Typen – zusätzlich können Sie selber welche entwickeln.","tour.widgetMenu.title":"Widget-Menü","tour.widgetMenu.description":"Über das Menü rechts oben können Sie die Eigenschaften eines Widgets bearbeiten (sofern es welche hat) oder das Widget kopieren, duplizieren oder löschen. Nachdem Sie ein Widget kopiert haben, können Sie es auf jeder beliebigen Seite einfügen, nicht nur auf der Seite, an der Sie gerade arbeiten. Sie können ein Widget an seinem Menü-Icon greifen und zu der Stelle ziehen, an der es positioniert sein soll.","tour.pageMenu.title":"Seitenmenü","tour.pageMenu.description":"Der Button in der rechten oberen Ecke öffnet das Seitenmenü. Hier können Sie Seiten und Unterseiten anlegen, die aktuelle Seite kopieren oder duplizieren (außer auf der Homepage) und auf die Seiteneigenschaften zugreifen. Dieses Menü enthält auch Punkte, mit denen sich Änderungen verwerfen, die Seite löschen sowie Ihr Account und die Anleitung für Redakteure (in englischer Sprache) öffnen lassen.","tour.hierarchy.title":"Hierarchie","tour.hierarchy.description":"Hier können Sie die Seitenstruktur Ihrer Website überblicken. Mit einem Klick auf einen Eintrag gelangen Sie zu der betreffenden Seite, beispielsweise um sie zu überfliegen. Über das Menü eines Eintrags können Sie eine Unterseite anlegen, die Seiteneigenschaften öffnen oder die Seite löschen. Klicken Sie auf ⓘ oben rechts, um zusätzliche Informationen zu jeder Seite ein- oder auszublenden.","tour.contentBrowser.title":"Der Content Browser","tour.contentBrowser.description":"Klicken Sie als Nächstes doch einmal auf den Seitenleisten-Button mit dem einzelnen Ordner und werfen Sie einen Blick auf den Content Browser! Mit diesem Tool lässt sich der gesamte Bestand an Seiten, Bildern usw. einer Site überblicken und verwalten.","tour.workspaces.title":"Arbeitskopien","tour.workspaces.description":"Sobald Sie den Bearbeitungsmodus aktivieren, sind Sie in einer von Scrivito oder von Ihnen selbst angelegten Arbeitskopie. Über den Aktenordner-Button in der Seitenleiste können Sie nicht nur zwischen Arbeitskopien wechseln, sondern auch neue anlegen, nicht benötigte löschen sowie den Veröffentlichungsverlauf nutzen.","tour.publish.title":"Veröffentlichen","tour.publish.description":"Mit diesem Button können Sie die aktuell ausgewählte Arbeitskopie veröffentlichen, optional nachdem Sie die vorgenommenen Änderungen geprüft haben. Probieren Sie es aus!","tour.outro.title":"Danke!","tour.outro.description1":"Wir hoffen, dass Sie diese kurze Scrivito-Einführung nützlich fanden. Wenn Sie Fragen haben, sind wir für Sie da – wenden Sie sich einfach an unseren ","tour.outro.description1.link_title":"Support","tour.outro.description2":"Und wenn Sie mehr wissen möchten, empfehlen wir unsere ausführliche ","tour.outro.description2.link_title":"Dokumentation","tour.outro.description3":" und die ","tour.outro.description3.link_title":"Anleitung für Redakteure","tour.outro.description4":"Diese Tour kann jederzeit erneut aufgerufen werden; wählen Sie dafür einfach den entsprechenden Punkt im Seitenmenü.","tour.button.end":"Tour beenden","tour.button.next":"Weiter","tour.button.prev":"Zurück","tour.button.skip":"Nicht jetzt","tour.button.start":"Tour beginnen","tour.button.back":"Zurück zur Tour","added_feature_dialog.close":"Schließen","added_feature_dialog.more_info":"Mehr erfahren","added_feature_popups.close":"Schließen","added_feature_popups.more_info":"Mehr erfahren","create_site_dialog.title":"Website anlegen","create_site_dialog.description":"Bitte geben den Namen der neuen Website an und wählen Sie den Typ der Homepage aus. Es werden keine Inhalte von einer bestehenden Website zu der neuen kopiert.","create_site_dialog.site_title":"Name der Website","create_site_dialog.site_title.tooltip":"Geben Sie den Namen der Website ein","create_site_dialog.site_type.title":"Seitentyp für Homepage wählen","create_site_dialog.site_class_name":"Typ der Homepage","create_site_dialog.site_language":"Sprache","create_site_dialog.confirm":"Anlegen","content_browser.footer.select":"Auswählen","content_browser.footer.select_disabled_reason.single":"Bitte wählen Sie ein Element der folgenden Typen aus: $1","content_browser.footer.select_disabled_reason.multi":"Bitte wählen Sie nur Elemente der folgenden Typen aus: $1","content_browser.footer.select_disabled_reason.none_available":"Es ist kein Element auswählbar.","content_browser.header.selected_items":"Ausgewählt: $1 Elemente","content_browser.header.open_selected":"In neuem Tab öffnen","content_browser.header.delete_disabled":"Seiten mit Unterseiten können nicht gelöscht werden.","content_browser.table_view.title":"Titel","content_browser.table_view.type":"Typ","content_browser.table_view.file_type":"Dateityp","content_browser.table_view.file_size":"Dateigröße","content_browser.table_view.last_change":"Letzte Änderung","content_browser.sort.relevance.title":"Nach Relevanz sortieren","content_browser.sort.relevance.desc_criteria_title":"Relevanz","content_browser.sort.name.title":"Nach Titel sortieren","content_browser.sort.name.asc_criteria_title":"Titel: Von A bis Z","content_browser.sort.name.desc_criteria_title":"Titel: Von Z bis A","content_browser.sort.date.title":"Nach Datum sortieren","content_browser.sort.date.asc_criteria_title":"Letzte Änderung: Älteste zuerst","content_browser.sort.date.desc_criteria_title":"Letzte Änderung: Neueste zuerst","content_browser.search_bar.clear_button":"Löschen","content_browser.search_bar.search_button":"Suchen","content_browser.search_bar.search_everywhere":"Alles durchsuchen","content_browser.search_bar.search_filtered":"Gefilterte Inhalte durchsuchen","content_browser.search_bar.search_in":"„$1“ durchsuchen","content_browser.search_bar.multi_selection_toggle":"Mehrfachauswahl","content_browser.item.tooltip.is_new":"Dieses Objekt ist neu. ","content_browser.item.tooltip.is_deleted":"Dieses Objekt wurde gelöscht. ","content_browser.item.tooltip.is_edited":"Dieses Objekt wurde geändert. ","content_browser.item.tooltip.is_restricted":"Die Sichtbarkeit dieser Seite ist eingeschränkt.","content_browser.last_added.filter_name":"Zuletzt hinzugefügt","content_browser.last_added.failed_upload":"Fehler beim Hochladen. Bitte prüfen Sie Ihre Netzwerkverbindung","content_browser.last_added.failed_upload_counts":"$1 Fehler beim Hochladen","content_browser.last_added.title_info":"Vollständige Fehlermeldung anzeigen","content_browser.last_added.upload_error":"Die ausgewählten Filteroptionen können nicht auf die Datei(en) angewendet werden, die Sie hochladen wollten.","content_browser.last_added.preset_error":"#values kann nicht auf einer ungültigen Vorbelegung aufgerufen werden.","content_browser.filter.filters":"Filter","content_browser.filter.sites":"Websites","content_browser.filter.all_sites":"Alle Websites","content_browser.filter.more_filters":"Weitere Filter","content_browser.add_item.browse_file":"Datei zum Hochladen auswählen","content_browser.add_item.failed":"Die ausgewählten Filteroptionen können nicht auf die Datei(en) angewendet werden, die Sie hochladen wollten. Bitte versuchen Sie es mit nur einer der folgenden Optionen erneut:","content_browser.add_item.preset_conflict":"Die ausgewählten Filteroptionen können nicht auf die Datei(en) angewendet werden, die Sie hochladen wollten. Bitte versuchen Sie es mit nur einer der folgenden Optionen erneut","content_browser.add_item.create_item":"Objekt anlegen","content_browser.add_item.create_impossible":"Es kann kein Objekt angelegt werden","content_browser.add_item.disabled_filters":"Es ist nicht möglich, zu den Filtern passende Objekte anzulegen.","content_browser.add_item.error_no_obj_class":"Konfigurationsfehler: „_obj_class“ wurde nicht angegeben.","content_browser.add_item.prevent_creation":"Objekte können aufgrund der ausgewählten Filteroptionen $1 nicht angelegt werden.",update_required:"Update erforderlich","update_required.details":"Um die Bearbeitung der aktuellen Seite zu ermöglichen, muss Scrivito auf Version $minVersion oder höher aktualisiert werden. Derzeit ist unter „$origin“ das Scrivito SDK $clientVersion installiert.","STABLE_SDK.widget_marker.widget_is_new":"Widget ist neu","STABLE_SDK.widget_marker.widget_is_edited":"Widget wurde geändert","STABLE_SDK.widget_marker.widget_is_edited_and_dragged_here":"Widget wurde geändert und hierher gezogen","STABLE_SDK.widget_marker.widget_is_edited_and_dragged_away":"Widget wurde geändert und von hier weggezogen","STABLE_SDK.widget_marker.widget_is_deleted":"Widget wurde gelöscht","STABLE_SDK.widget_marker.widget_is_dragged_here":"Widget wurde hierher gezogen","STABLE_SDK.widget_marker.widget_is_dragged_away":"Widget wurde von hier weggezogen"}),"loading"===document.readyState?window.addEventListener("DOMContentLoaded",yN):yN()}()}();